!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Phaser",[],e):"object"==typeof exports?exports.Phaser=e():t.Phaser=e()}(window,(function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1390)}([function(t,e){function i(t,e,i){var a=i?t[e]:Object.getOwnPropertyDescriptor(t,e);return!i&&a.value&&"object"==typeof a.value&&(a=a.value),!(!a||!
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}(a))&&(void 0===a.enumerable&&(a.enumerable=!0),void 0===a.configurable&&(a.configurable=!0),a)}function a(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function n(t,e,n,s){for(var o in e)if(e.hasOwnProperty(o)){var l=i(e,o,n);if(!1!==l){if(a((s||t).prototype,o)){if(r.ignoreFinals)continue;throw new Error("cannot override final property '"+o+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,o,l)}else t.prototype[o]=e[o]}}function s(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)n(t,e[i].prototype||e[i])}}function r(t){var e,i;if(t||(t={}),t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var a=t.Extends;e=function(){a.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var r=null;return t.Mixins&&(r=t.Mixins,delete t.Mixins),s(e,r),n(e,t,!0,i),e}r.extend=n,r.mixin=s,r.ignoreFinals=!1,t.exports=r},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,i){var a=typeof t;return t&&"number"!==a&&"string"!==a&&t.hasOwnProperty(e)&&void 0!==t[e]?t[e]:i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(106),s=new a({initialize:function(t,e){this.x=0,this.y=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0):(void 0===e&&(e=t),this.x=t||0,this.y=e||0)},clone:function(){return new s(this.x,this.y)},copy:function(t){return this.x=t.x||0,this.y=t.y||0,this},setFromObject:function(t){return this.x=t.x||0,this.y=t.y||0,this},set:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setTo:function(t,e){return this.set(t,e)},setToPolar:function(t,e){return null==e&&(e=1),this.x=Math.cos(t)*e,this.y=Math.sin(t)*e,this},equals:function(t){return this.x===t.x&&this.y===t.y},fuzzyEquals:function(t,e){return n(this.x,t.x,e)&&n(this.y,t.y,e)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},setAngle:function(t){return this.setToPolar(t,this.length())},add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},length:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},setLength:function(t){return this.normalize().scale(t)},lengthSq:function(){var t=this.x,e=this.y;return t*t+e*e},normalize:function(){var t=this.x,e=this.y,i=t*t+e*e;return i>0&&(i=1/Math.sqrt(i),this.x=t*i,this.y=e*i),this},normalizeRightHand:function(){var t=this.x;return this.x=-1*this.y,this.y=t,this},normalizeLeftHand:function(){var t=this.x;return this.x=this.y,this.y=-1*t,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,a=this.y;return this.x=i+e*(t.x-i),this.y=a+e*(t.y-a),this},transformMat3:function(t){var e=this.x,i=this.y,a=t.val;return this.x=a[0]*e+a[3]*i+a[6],this.y=a[1]*e+a[4]*i+a[7],this},transformMat4:function(t){var e=this.x,i=this.y,a=t.val;return this.x=a[0]*e+a[4]*i+a[12],this.y=a[1]*e+a[5]*i+a[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(t){var e=this.length();return e&&e>t&&this.scale(t/e),this},reflect:function(t){return t=t.clone().normalize(),this.subtract(t.scale(2*this.dot(t)))},mirror:function(t){return this.reflect(t).negate()},rotate:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e*this.x-i*this.y,i*this.x+e*this.y)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(47),s=new a({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.type=n.POINT,this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(23),s=i(22),r=new a({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});r.register=function(t,e){r.prototype.hasOwnProperty(t)||(r.prototype[t]=e)},r.remove=function(t){r.prototype.hasOwnProperty(t)&&delete r.prototype[t]},n.register("GameObjectFactory",r,"add"),t.exports=r},function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var a=e.split("."),n=t,s=i,r=0;r<a.length;r++){if(!n.hasOwnProperty(a[r])){s=i;break}s=n[a[r]],n=n[a[r]]}return s}return i}return i}},function(t,e){t.exports=function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={},a={install:function(t){for(var e in i)t[e]=i[e]},register:function(t,e){i[t]=e},destroy:function(){i={}}};t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={getTintFromFloats:function(t,e,i,a){return((255&(255*a|0))<<24|(255&(255*t|0))<<16|(255&(255*e|0))<<8|255&(255*i|0))>>>0},getTintAppendFloatAlpha:function(t,e){return((255&(255*e|0))<<24|t)>>>0},getTintAppendFloatAlphaAndSwap:function(t,e){return((255&(255*e|0))<<24|(255&(0|t))<<16|(255&(t>>8|0))<<8|255&(t>>16|0))>>>0},getFloatsFromUintRGB:function(t){return[(255&(t>>16|0))/255,(255&(t>>8|0))/255,(255&(0|t))/255]},getComponentCount:function(t,e){for(var i=0,a=0;a<t.length;++a){var n=t[a];n.type===e.FLOAT?i+=n.size:i+=1}return i}}},function(t,e,i){"use strict";var a=Object.prototype.hasOwnProperty,n="~";function s(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,i,a,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var o=new r(i,a||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],o]:t._events[l].push(o):(t._events[l]=o,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function h(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(n=!1)),h.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)a.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},h.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,s=i.length,r=new Array(s);a<s;a++)r[a]=i[a].fn;return r},h.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},h.prototype.emit=function(t,e,i,a,s,r){var o=n?n+t:t;if(!this._events[o])return!1;var l,h,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,a),!0;case 5:return u.fn.call(u.context,e,i,a,s),!0;case 6:return u.fn.call(u.context,e,i,a,s,r),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var d,p=u.length;for(h=0;h<p;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,i);break;case 4:u[h].fn.call(u[h].context,e,i,a);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];u[h].fn.apply(u[h].context,l)}}return!0},h.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},h.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},h.prototype.removeListener=function(t,e,i,a){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return l(this,s),this;var r=this._events[s];if(r.fn)r.fn!==e||a&&!r.once||i&&r.context!==i||l(this,s);else{for(var o=0,h=[],u=r.length;o<u;o++)(r[o].fn!==e||a&&!r[o].once||i&&r[o].context!==i)&&h.push(r[o]);h.length?this._events[s]=1===h.length?h[0]:h:l(this,s)}return this},h.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&l(this,e)):(this._events=new s,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(48),s=i(152),r=i(274),o=i(47),l=i(56),h=i(155),u=new a({initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),this.type=o.RECTANGLE,this.x=t,this.y=e,this.width=i,this.height=a},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,a){return this.x=t,this.y=e,this.width=i,this.height=a,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(t){return void 0===t&&(t=new l),t.setTo(this.x,this.y,this.right,this.y),t},getLineB:function(t){return void 0===t&&(t=new l),t.setTo(this.right,this.y,this.right,this.bottom),t},getLineC:function(t){return void 0===t&&(t=new l),t.setTo(this.right,this.bottom,this.x,this.bottom),t},getLineD:function(t){return void 0===t&&(t=new l),t.setTo(this.x,this.bottom,this.x,this.y),t},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?this.height=0:this.height=this.bottom-t,this.y=t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Alpha:i(532),AlphaSingle:i(269),Animation:i(503),BlendMode:i(272),ComputedSize:i(551),Crop:i(552),Depth:i(273),Flip:i(553),GetBounds:i(554),Mask:i(277),Origin:i(571),PathFollower:i(572),Pipeline:i(156),ScrollFactor:i(280),Size:i(573),Texture:i(574),TextureCrop:i(575),Tint:i(576),ToJSON:i(281),Transform:i(282),TransformMatrix:i(29),Visible:i(283)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(281),s=i(113),r=i(10),o=i(90),l=new a({Extends:r,initialize:function(t,e){r.call(this),this.scene=t,this.type=e,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,t.sys.queueDepthSort()},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setState:function(t){return this.state=t,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(t,e){return this.data||(this.data=new s(this)),this.data.set(t,e),this},incData:function(t,e){return this.data||(this.data=new s(this)),this.data.inc(t,e),this},toggleData:function(t){return this.data||(this.data=new s(this)),this.data.toggle(t),this},getData:function(t){return this.data||(this.data=new s(this)),this.data.get(t)},setInteractive:function(t,e,i){return this.scene.sys.input.enable(this,t,e,i),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},update:function(){},toJSON:function(){return n(this)},willRender:function(t){return!(l.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},getIndexList:function(){for(var t=this,e=this.parentContainer,i=[];e&&(i.unshift(e.getIndex(t)),t=e,e.parentContainer);)e=e.parentContainer;return i.unshift(this.scene.sys.displayList.getIndex(t)),i},destroy:function(t){if(void 0===t&&(t=!1),this.scene&&!this.ignoreDestroy){this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this);var e=this.scene.sys;t||(e.displayList.remove(this),e.updateList.remove(this)),this.input&&(e.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),t||e.queueDepthSort(),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0,this.removeAllListeners()}}});l.RENDER_MASK=15,t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(170),n=i(6);t.exports=function(t,e,i){var s=n(t,e,null);if(null===s)return i;if(Array.isArray(s))return a.RND.pick(s);if("object"==typeof s){if(s.hasOwnProperty("randInt"))return a.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return a.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"==typeof s)return s(e);return s}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(23),s=i(22),r=new a({initialize:function(t){this.scene=t,this.systems=t.sys,this.displayList,this.updateList,t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.displayList=null,this.updateList=null}});r.register=function(t,e){r.prototype.hasOwnProperty(t)||(r.prototype[t]=e)},r.remove=function(t){r.prototype.hasOwnProperty(t)&&delete r.prototype[t]},n.register("GameObjectCreator",r,"make"),t.exports=r},function(t,e){t.exports={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(7),n=function(){var t,e,i,s,r,o,l=arguments[0]||{},h=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},h=2),u===h&&(l=this,--h);h<u;h++)if(null!=(t=arguments[h]))for(e in t)i=l[e],l!==(s=t[e])&&(c&&s&&(a(s)||(r=Array.isArray(s)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&a(i)?i:{},l[e]=n(c,o,s)):void 0!==s&&(l[e]=s));return l};t.exports=n},function(t,e){t.exports=function(t,e,i){return Math.max(e,Math.min(i,t))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BLUR:i(555),BOOT:i(556),CONTEXT_LOST:i(557),CONTEXT_RESTORED:i(558),DESTROY:i(559),FOCUS:i(560),HIDDEN:i(561),PAUSE:i(562),POST_RENDER:i(563),POST_STEP:i(564),PRE_RENDER:i(565),PRE_STEP:i(566),READY:i(567),RESUME:i(568),STEP:i(569),VISIBLE:i(570)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(82),r=i(2),o=i(138),l=i(215),h=i(454),u=i(139),c=new a({initialize:function(t,e){this.loader=t,this.cache=r(e,"cache",!1),this.type=r(e,"type",!1),this.key=r(e,"key",!1);var i=this.key;if(t.prefix&&""!==t.prefix&&(this.key=t.prefix+i),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=r(e,"url"),void 0===this.url?this.url=t.path+i+"."+r(e,"extension",""):"function"!=typeof this.url&&0!==this.url.indexOf("blob:")&&0!==this.url.indexOf("data:")&&(this.url=t.path+this.url),this.src="",this.xhrSettings=u(r(e,"responseType",void 0)),r(e,"xhrSettings",!1)&&(this.xhrSettings=l(this.xhrSettings,r(e,"xhrSettings",{}))),this.xhrLoader=null,this.state="function"==typeof this.url?n.FILE_POPULATED:n.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(e,"config",{}),this.multiFile,this.linkFile},setLink:function(t){this.linkFile=t,t.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===n.FILE_POPULATED?this.loader.nextFile(this,!0):(this.src=o(this,this.loader.baseURL),0===this.src.indexOf("data:")?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(t,e){var i=t.responseURL&&0===t.responseURL.indexOf("file://")&&0===e.target.status,a=!(e.target&&200!==e.target.status)||i;4===t.readyState&&t.status>=400&&t.status<=599&&(a=!1),this.resetXHR(),this.loader.nextFile(this,a)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=n.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=n.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=n.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(t){void 0===t&&(t=this.data);var e=this.key,i=this.type;this.loader.emit(s.FILE_COMPLETE,e,i,t),this.loader.emit(s.FILE_KEY_COMPLETE+i+"-"+e,e,i,t),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(t,e,i){if("function"==typeof URL)t.src=URL.createObjectURL(e);else{var a=new FileReader;a.onload=function(){t.removeAttribute("crossOrigin"),t.src="data:"+(e.type||i)+";base64,"+a.result.split(",")[1]},a.onerror=t.onerror,a.readAsDataURL(e)}},c.revokeObjectURL=function(t){"function"==typeof URL&&URL.revokeObjectURL(t.src)},t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BOOT:i(708),CREATE:i(709),DESTROY:i(710),PAUSE:i(711),POST_UPDATE:i(712),PRE_UPDATE:i(713),READY:i(714),RENDER:i(715),RESUME:i(716),SHUTDOWN:i(717),SLEEP:i(718),START:i(719),TRANSITION_COMPLETE:i(720),TRANSITION_INIT:i(721),TRANSITION_OUT:i(722),TRANSITION_START:i(723),TRANSITION_WAKE:i(724),UPDATE:i(725),WAKE:i(726)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={},a={},n={register:function(t,e,a,n){void 0===n&&(n=!1),i[t]={plugin:e,mapping:a,custom:n}},registerCustom:function(t,e,i,n){a[t]={plugin:e,mapping:i,data:n}},hasCore:function(t){return i.hasOwnProperty(t)},hasCustom:function(t){return a.hasOwnProperty(t)},getCore:function(t){return i[t]},getCustom:function(t){return a[t]},getCustomClass:function(t){return a.hasOwnProperty(t)?a[t].plugin:null},remove:function(t){i.hasOwnProperty(t)&&delete i[t]},removeCustom:function(t){a.hasOwnProperty(t)&&delete a[t]},destroyCorePlugins:function(){for(var t in i)i.hasOwnProperty(t)&&delete i[t]},destroyCustomPlugins:function(){for(var t in a)a.hasOwnProperty(t)&&delete a[t]}};t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2);t.exports=function(t,e,i,n,s,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=r.width),void 0===n&&(n=r.height);var o=a(s,"isNotEmpty",!1),l=a(s,"isColliding",!1),h=a(s,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(n+=e,e=0),t+i>r.width&&(i=Math.max(r.width-t,0)),e+n>r.height&&(n=Math.max(r.height-e,0));for(var u=[],c=e;c<e+n;c++)for(var d=t;d<t+i;d++){var p=r.data[c][d];if(null!==p){if(o&&-1===p.index)continue;if(l&&!p.collides)continue;if(h&&!p.hasInterestingFace)continue;u.push(p)}}return u}},function(t,e){t.exports=function(t,e,i,a,n,s){var r;void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s=1);var o=0,l=t.length;if(1===s)for(r=n;r<l;r++)t[r][e]=i+o*a,o++;else for(r=n;r>=0;r--)t[r][e]=i+o*a,o++;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a,n,s,r=i(33),o=i(167),l=[],h=!1;t.exports=(s=function(){var t=0;return l.forEach((function(e){e.parent&&t++})),t},{create2D:function(t,e,i){return a(t,e,i,r.CANVAS)},create:a=function(t,e,i,a,s){var u;void 0===e&&(e=1),void 0===i&&(i=1),void 0===a&&(a=r.CANVAS),void 0===s&&(s=!1);var c=n(a);return null===c?(c={parent:t,canvas:document.createElement("canvas"),type:a},a===r.CANVAS&&l.push(c),u=c.canvas):(c.parent=t,u=c.canvas),s&&(c.parent=u),u.width=e,u.height=i,h&&a===r.CANVAS&&o.disable(u.getContext("2d")),u},createWebGL:function(t,e,i){return a(t,e,i,r.WEBGL)},disableSmoothing:function(){h=!0},enableSmoothing:function(){h=!1},first:n=function(t){if(void 0===t&&(t=r.CANVAS),t===r.WEBGL)return null;for(var e=0;e<l.length;e++){var i=l[e];if(!i.parent&&i.type===t)return i}return null},free:function(){return l.length-s()},pool:l,remove:function(t){var e=t instanceof HTMLCanvasElement;l.forEach((function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)}))},total:s})},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n=i(14);t.exports=function(t,e,i){e.x=n(i,"x",0),e.y=n(i,"y",0),e.depth=n(i,"depth",0),e.flipX=n(i,"flipX",!1),e.flipY=n(i,"flipY",!1);var s=n(i,"scale",null);"number"==typeof s?e.setScale(s):null!==s&&(e.scaleX=n(s,"x",1),e.scaleY=n(s,"y",1));var r=n(i,"scrollFactor",null);"number"==typeof r?e.setScrollFactor(r):null!==r&&(e.scrollFactorX=n(r,"x",1),e.scrollFactorY=n(r,"y",1)),e.rotation=n(i,"rotation",0);var o=n(i,"angle",null);null!==o&&(e.angle=o),e.alpha=n(i,"alpha",1);var l=n(i,"origin",null);if("number"==typeof l)e.setOrigin(l);else if(null!==l){var h=n(l,"x",.5),u=n(l,"y",.5);e.setOrigin(h,u)}return e.blendMode=n(i,"blendMode",a.NORMAL),e.visible=n(i,"visible",!0),n(i,"add",!0)&&t.sys.displayList.add(e),e.preUpdate&&t.sys.updateList.add(e),e}},function(t,e){t.exports=function(t,e,i,a,n){var s=a.alpha*i.alpha;if(s<=0)return!1;var r=t._tempMatrix1.copyFromArray(a.matrix.matrix),o=t._tempMatrix2.applyITRS(i.x,i.y,i.rotation,i.scaleX,i.scaleY),l=t._tempMatrix3;return n?(r.multiplyWithOffset(n,-a.scrollX*i.scrollFactorX,-a.scrollY*i.scrollFactorY),o.e=i.x,o.f=i.y,r.multiply(o,l)):(o.e-=a.scrollX*i.scrollFactorX,o.f-=a.scrollY*i.scrollFactorY,r.multiply(o,l)),e.globalCompositeOperation=t.blendModes[i.blendMode],e.globalAlpha=s,e.save(),l.setToContext(e),e.imageSmoothingEnabled=!(!t.antialias||i.frame&&i.frame.source.scaleMode),!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(15),s=i(3),r=new a({initialize:function(t,e,i,a,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=1),void 0===n&&(n=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,e,i,a,n,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(t){this.matrix[0]=t}},b:{get:function(){return this.matrix[1]},set:function(t){this.matrix[1]=t}},c:{get:function(){return this.matrix[2]},set:function(t){this.matrix[2]=t}},d:{get:function(){return this.matrix[3]},set:function(t){this.matrix[3]=t}},e:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},f:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},tx:{get:function(){return this.matrix[4]},set:function(t){this.matrix[4]=t}},ty:{get:function(){return this.matrix[5]},set:function(t){this.matrix[5]=t}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var t=this.matrix,e=t[0],i=t[1],a=t[2],s=t[3];return e||i?i>0?Math.acos(e/this.scaleX):-Math.acos(e/this.scaleX):a||s?n.TAU-(s>0?Math.acos(-a/this.scaleY):-Math.acos(a/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t),a=this.matrix,n=a[0],s=a[1],r=a[2],o=a[3];return a[0]=n*i+r*e,a[1]=s*i+o*e,a[2]=n*-e+r*i,a[3]=s*-e+o*i,this},multiply:function(t,e){var i=this.matrix,a=t.matrix,n=i[0],s=i[1],r=i[2],o=i[3],l=i[4],h=i[5],u=a[0],c=a[1],d=a[2],p=a[3],f=a[4],m=a[5],g=void 0===e?this:e;return g.a=u*n+c*r,g.b=u*s+c*o,g.c=d*n+p*r,g.d=d*s+p*o,g.e=f*n+m*r+l,g.f=f*s+m*o+h,g},multiplyWithOffset:function(t,e,i){var a=this.matrix,n=t.matrix,s=a[0],r=a[1],o=a[2],l=a[3],h=e*s+i*o+a[4],u=e*r+i*l+a[5],c=n[0],d=n[1],p=n[2],f=n[3],m=n[4],g=n[5];return a[0]=c*s+d*o,a[1]=c*r+d*l,a[2]=p*s+f*o,a[3]=p*r+f*l,a[4]=m*s+g*o+h,a[5]=m*r+g*l+u,this},transform:function(t,e,i,a,n,s){var r=this.matrix,o=r[0],l=r[1],h=r[2],u=r[3],c=r[4],d=r[5];return r[0]=t*o+e*h,r[1]=t*l+e*u,r[2]=i*o+a*h,r[3]=i*l+a*u,r[4]=n*o+s*h+c,r[5]=n*l+s*u+d,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var a=this.matrix,n=a[0],s=a[1],r=a[2],o=a[3],l=a[4],h=a[5];return i.x=t*n+e*r+l,i.y=t*s+e*o+h,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=e*n-i*a;return t[0]=n/o,t[1]=-i/o,t[2]=-a/o,t[3]=e/o,t[4]=(a*r-n*s)/o,t[5]=-(e*r-i*s)/o,this},copyFrom:function(t){var e=this.matrix;return e[0]=t.a,e[1]=t.b,e[2]=t.c,e[3]=t.d,e[4]=t.e,e[5]=t.f,this},copyFromArray:function(t){var e=this.matrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},copyToContext:function(t){var e=this.matrix;return t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t},setToContext:function(t){var e=this.matrix;return t.setTransform(e[0],e[1],e[2],e[3],e[4],e[5]),t},copyToArray:function(t){var e=this.matrix;return void 0===t?t=[e[0],e[1],e[2],e[3],e[4],e[5]]:(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]),t},setTransform:function(t,e,i,a,n,s){var r=this.matrix;return r[0]=t,r[1]=e,r[2]=i,r[3]=a,r[4]=n,r[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],a=e[1],n=e[2],s=e[3],r=i*s-a*n;if(t.translateX=e[4],t.translateY=e[5],i||a){var o=Math.sqrt(i*i+a*a);t.rotation=a>0?Math.acos(i/o):-Math.acos(i/o),t.scaleX=o,t.scaleY=r/o}else if(n||s){var l=Math.sqrt(n*n+s*s);t.rotation=.5*Math.PI-(s>0?Math.acos(-n/l):-Math.acos(n/l)),t.scaleX=r/l,t.scaleY=l}else t.rotation=0,t.scaleX=0,t.scaleY=0;return t},applyITRS:function(t,e,i,a,n){var s=this.matrix,r=Math.sin(i),o=Math.cos(i);return s[4]=t,s[5]=e,s[0]=o*a,s[1]=r*a,s[2]=-r*n,s[3]=o*n,this},applyInverse:function(t,e,i){void 0===i&&(i=new s);var a=this.matrix,n=a[0],r=a[1],o=a[2],l=a[3],h=a[4],u=a[5],c=1/(n*l+o*-r);return i.x=l*c*t+-o*c*e+(u*o-h*l)*c,i.y=n*c*e+-r*c*t+(-u*n+h*r)*c,i},getX:function(t,e){return t*this.a+e*this.c+this.e},getY:function(t,e){return t*this.b+e*this.d+this.f},getCSSMatrix:function(){var t=this.matrix;return"matrix("+t[0]+","+t[1]+","+t[2]+","+t[3]+","+t[4]+","+t[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(56),o=new a({Extends:s,Mixins:[n.AlphaSingle,n.BlendMode,n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Transform,n.Visible],initialize:function(t,e,i){void 0===e&&(e="Shape"),s.call(this,t,e),this.geom=i,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new r,this.initPipeline()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.isFilled=!1:(this.fillColor=t,this.fillAlpha=e,this.isFilled=!0),this},setStrokeStyle:function(t,e,i){return void 0===i&&(i=1),void 0===t?this.isStroked=!1:(this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this.isStroked=!0),this},setClosePath:function(t){return this.closePath=t,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(165),s=i(295),r=i(166),o=i(296),l=new a({initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,a)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(t,e,i,a,n){return void 0===a&&(a=255),void 0===n&&(n=!0),this._locked=!0,this.red=t,this.green=e,this.blue=i,this.alpha=a,this._locked=!1,this.update(n)},setGLTo:function(t,e,i,a){return void 0===a&&(a=1),this._locked=!0,this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=a,this._locked=!1,this.update(!0)},setFromRGB:function(t){return this._locked=!0,this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this._locked=!1,this.update(!0)},setFromHSV:function(t,e,i){return r(t,e,i,this)},update:function(t){if(void 0===t&&(t=!1),this._locked)return this;var e=this.r,i=this.g,a=this.b,r=this.a;return this._color=n(e,i,a),this._color32=s(e,i,a,r),this._rgba="rgba("+e+","+i+","+a+","+r/255+")",t&&o(e,i,a,this),this},updateHSV:function(){var t=this.r,e=this.g,i=this.b;return o(t,e,i,this),this},clone:function(){return new l(this.r,this.g,this.b,this.a)},gray:function(t){return this.setTo(t,t,t)},random:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t)),a=Math.floor(t+Math.random()*(e-t)),n=Math.floor(t+Math.random()*(e-t));return this.setTo(i,a,n)},randomGray:function(t,e){void 0===t&&(t=0),void 0===e&&(e=255);var i=Math.floor(t+Math.random()*(e-t));return this.setTo(i,i,i)},saturate:function(t){return this.s+=t/100,this},desaturate:function(t){return this.s-=t/100,this},lighten:function(t){return this.v+=t/100,this},darken:function(t){return this.v-=t/100,this},brighten:function(t){var e=this.r,i=this.g,a=this.b;return e=Math.max(0,Math.min(255,e-Math.round(-t/100*255))),i=Math.max(0,Math.min(255,i-Math.round(-t/100*255))),a=Math.max(0,Math.min(255,a-Math.round(-t/100*255))),this.setTo(e,i,a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update(!0)}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}},h:{get:function(){return this._h},set:function(t){this._h=t,r(t,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(t){this._s=t,r(this._h,t,this._v,this)}},v:{get:function(){return this._v},set:function(t){this._v=t,r(this._h,this._s,t,this)}}});t.exports=l},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a={VERSION:"3.23.0",BlendModes:i(52),ScaleModes:i(234),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=a},function(t,e){t.exports=function(t,e,i,a,n,s){var r;void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s=1);var o=0,l=t.length;if(1===s)for(r=n;r<l;r++)t[r][e]+=i+o*a,o++;else for(r=n;r>=0;r--)t[r][e]+=i+o*a,o++;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15);t.exports=function(t){return t*a.DEG_TO_RAD}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={DESTROY:i(646),FADE_IN_COMPLETE:i(647),FADE_IN_START:i(648),FADE_OUT_COMPLETE:i(649),FADE_OUT_START:i(650),FLASH_COMPLETE:i(651),FLASH_START:i(652),PAN_COMPLETE:i(653),PAN_START:i(654),POST_RENDER:i(655),PRE_RENDER:i(656),ROTATE_COMPLETE:i(657),ROTATE_START:i(658),SHAKE_COMPLETE:i(659),SHAKE_START:i(660),ZOOM_COMPLETE:i(661),ZOOM_START:i(662)}},function(t,e){t.exports=function(t,e,i,a){var n=i||e.fillColor,s=a||e.fillAlpha,r=(16711680&n)>>>16,o=(65280&n)>>>8,l=255&n;t.fillStyle="rgba("+r+","+o+","+l+","+s+")"}},function(t,e){var i={};t.exports=i,function(){i._nextId=0,i._seed=0,i._nowStartTime=+new Date,i.extend=function(t,e){var a,n;"boolean"==typeof e?(a=2,n=e):(a=1,n=!0);for(var s=a;s<arguments.length;s++){var r=arguments[s];if(r)for(var o in r)n&&r[o]&&r[o].constructor===Object?t[o]&&t[o].constructor!==Object?t[o]=r[o]:(t[o]=t[o]||{},i.extend(t[o],n,r[o])):t[o]=r[o]}return t},i.clone=function(t,e){return i.extend({},e,t)},i.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},i.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),a=0;a<i.length;a++)e.push(t[i[a]]);return e}for(var n in t)e.push(t[n]);return e},i.get=function(t,e,i,a){e=e.split(".").slice(i,a);for(var n=0;n<e.length;n+=1)t=t[e[n]];return t},i.set=function(t,e,a,n,s){var r=e.split(".").slice(n,s);return i.get(t,e,0,-1)[r[r.length-1]]=a,a},i.shuffle=function(t){for(var e=t.length-1;e>0;e--){var a=Math.floor(i.random()*(e+1)),n=t[e];t[e]=t[a],t[a]=n}return t},i.choose=function(t){return t[Math.floor(i.random()*t.length)]},i.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return"function"==typeof t},i.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},i.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},i.clamp=function(t,e,i){return t<e?e:t>i?i:t},i.sign=function(t){return t<0?-1:1},i.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-i._nowStartTime},i.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return i._seed=(9301*i._seed+49297)%233280,i._seed/233280};i.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},i.logLevel=1,i.log=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.info=function(){console&&i.logLevel>0&&i.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.warn=function(){console&&i.logLevel>0&&i.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},i.nextId=function(){return i._nextId++},i.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.map=function(t,e){if(t.map)return t.map(e);for(var i=[],a=0;a<t.length;a+=1)i.push(e(t[a]));return i},i.topologicalSort=function(t){var e=[],a=[],n=[];for(var s in t)a[s]||n[s]||i._topologicalSort(s,a,n,t,e);return e},i._topologicalSort=function(t,e,a,n,s){var r=n[t]||[];a[t]=!0;for(var o=0;o<r.length;o+=1){var l=r[o];a[l]||(e[l]||i._topologicalSort(l,e,a,n,s))}a[t]=!1,e[t]=!0,s.push(t)},i.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var a=function(){for(var e,i=new Array(arguments.length),a=0,n=arguments.length;a<n;a++)i[a]=arguments[a];for(a=0;a<t.length;a+=1){var s=t[a].apply(e,i);void 0!==s&&(e=s)}return e};return a._chained=t,a},i.chainPathBefore=function(t,e,a){return i.set(t,e,i.chain(a,i.get(t,e)))},i.chainPathAfter=function(t,e,a){return i.set(t,e,i.chain(i.get(t,e),a))}}()},function(t,e){t.exports=function(t){return t.y+t.height-t.height*t.originY}},function(t,e){t.exports=function(t,e){return t.y=e+t.height*t.originY,t}},function(t,e){t.exports=function(t){return t.x-t.width*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e+t.width*t.originX,t}},function(t,e){t.exports=function(t){return t.x+t.width-t.width*t.originX}},function(t,e){t.exports=function(t,e){return t.x=e-t.width+t.width*t.originX,t}},function(t,e){t.exports=function(t,e){return t.y=e-t.height+t.height*t.originY,t}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY}},function(t,e){t.exports={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6}},function(t,e){t.exports=function(t,e,i){return!(t.width<=0||t.height<=0)&&(t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i)}},function(t,e){t.exports=function(t,e,i,a){var n=i||e.strokeColor,s=a||e.strokeAlpha,r=(16711680&n)>>>16,o=(65280&n)>>>8,l=255&n;t.strokeStyle="rgba("+r+","+o+","+l+","+s+")",t.lineWidth=e.lineWidth}},function(t,e){t.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(142),n=i(24);t.exports=function(t,e,i,s,r){for(var o=null,l=null,h=null,u=null,c=n(t,e,i,s,null,r),d=0;d<c.length;d++){var p=c[d];p&&(p.collides?(o=a(p.x,p.y-1,!0,r),l=a(p.x,p.y+1,!0,r),h=a(p.x-1,p.y,!0,r),u=a(p.x+1,p.y,!0,r),p.faceTop=!o||!o.collides,p.faceBottom=!l||!l.collides,p.faceLeft=!h||!h.collides,p.faceRight=!u||!u.collides):p.resetFaces())}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(t,e){t.exports=function(t,e,i,a){var n=t-i,s=e-a;return Math.sqrt(n*n+s*s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BOOT:i(821),DESTROY:i(822),DRAG_END:i(823),DRAG_ENTER:i(824),DRAG:i(825),DRAG_LEAVE:i(826),DRAG_OVER:i(827),DRAG_START:i(828),DROP:i(829),GAME_OUT:i(830),GAME_OVER:i(831),GAMEOBJECT_DOWN:i(832),GAMEOBJECT_DRAG_END:i(833),GAMEOBJECT_DRAG_ENTER:i(834),GAMEOBJECT_DRAG:i(835),GAMEOBJECT_DRAG_LEAVE:i(836),GAMEOBJECT_DRAG_OVER:i(837),GAMEOBJECT_DRAG_START:i(838),GAMEOBJECT_DROP:i(839),GAMEOBJECT_MOVE:i(840),GAMEOBJECT_OUT:i(841),GAMEOBJECT_OVER:i(842),GAMEOBJECT_POINTER_DOWN:i(843),GAMEOBJECT_POINTER_MOVE:i(844),GAMEOBJECT_POINTER_OUT:i(845),GAMEOBJECT_POINTER_OVER:i(846),GAMEOBJECT_POINTER_UP:i(847),GAMEOBJECT_POINTER_WHEEL:i(848),GAMEOBJECT_UP:i(849),GAMEOBJECT_WHEEL:i(850),MANAGER_BOOT:i(851),MANAGER_PROCESS:i(852),MANAGER_UPDATE:i(853),POINTER_DOWN:i(854),POINTER_DOWN_OUTSIDE:i(855),POINTER_MOVE:i(856),POINTER_OUT:i(857),POINTER_OVER:i(858),POINTER_UP:i(859),POINTER_UP_OUTSIDE:i(860),POINTER_WHEEL:i(861),POINTERLOCK_CHANGE:i(862),PRE_UPDATE:i(863),SHUTDOWN:i(864),START:i(865),UPDATE:i(866)}},function(t,e){t.exports=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(275),s=i(153),r=i(47),o=i(154),l=i(3),h=new a({initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),this.type=r.LINE,this.x1=t,this.y1=e,this.x2=i,this.y2=a},getPoint:function(t,e){return n(this,t,e)},getPoints:function(t,e,i){return s(this,t,e,i)},getRandomPoint:function(t){return o(this,t)},setTo:function(t,e,i,a){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),this.x1=t,this.y1=e,this.x2=i,this.y2=a,this},getPointA:function(t){return void 0===t&&(t=new l),t.set(this.x1,this.y1),t},getPointB:function(t){return void 0===t&&(t=new l),t.set(this.x2,this.y2),t},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=h},function(t,e){t.exports=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))}},function(t,e){t.exports=function(t,e,i){var a=i-e;return e+((t-e)%a+a)%a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={COMPLETE:i(889),DECODED:i(890),DECODED_ALL:i(891),DESTROY:i(892),DETUNE:i(893),GLOBAL_DETUNE:i(894),GLOBAL_MUTE:i(895),GLOBAL_RATE:i(896),GLOBAL_VOLUME:i(897),LOOP:i(898),LOOPED:i(899),MUTE:i(900),PAUSE_ALL:i(901),PAUSE:i(902),PLAY:i(903),RATE:i(904),RESUME_ALL:i(905),RESUME:i(906),SEEK:i(907),STOP_ALL:i(908),STOP:i(909),UNLOCKED:i(910),VOLUME:i(911)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(6),h=i(7),u=new a({Extends:s,initialize:function(t,e,i,a,r){var u="json";if(h(e)){var c=e;e=o(c,"key"),i=o(c,"url"),a=o(c,"xhrSettings"),u=o(c,"extension",u),r=o(c,"dataKey",r)}var d={type:"json",cache:t.cacheManager.json,extension:u,responseType:"text",key:e,url:i,xhrSettings:a,config:r};s.call(this,t,d),h(i)&&(this.data=r?l(i,r):i,this.state=n.FILE_POPULATED)},onProcess:function(){if(this.state!==n.FILE_POPULATED){this.state=n.FILE_PROCESSING;var t=JSON.parse(this.xhrLoader.responseText),e=this.config;this.data="string"==typeof e?l(t,e,t):t}this.onProcessComplete()}});r.register("json",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,a,i));return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a){this.loader=t,this.type=e,this.key=i,this.multiKeyIndex=t.multiKeyIndex++,this.files=a,this.complete=!1,this.pending=a.length,this.failed=0,this.config={},this.baseURL=t.baseURL,this.path=t.path,this.prefix=t.prefix;for(var n=0;n<a.length;n++)a[n].multiFile=this},isReadyToProcess:function(){return 0===this.pending&&0===this.failed&&!this.complete},addToMultiFile:function(t){return this.files.push(t),t.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(t){-1!==this.files.indexOf(t)&&this.pending--},onFileFailed:function(t){-1!==this.files.indexOf(t)&&this.failed++}});t.exports=a},function(t,e,i){var a={};t.exports=a;var n=i(86),s=i(99),r=i(239),o=i(38),l=i(100),h=i(512);!function(){a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a.create=function(e){var i={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=n.centre(e.vertices):e.hasOwnProperty("vertices")||(i.vertices=n.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var a=o.extend(i,e);return t(a,e),a.setOnCollideWith=function(t,e){return e?this.onCollideWith[t.id]=e:delete this.onCollideWith[t.id],this},a},a.nextGroup=function(t){return t?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var t=function(t,e){e=e||{},a.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t});var i=t.bounds;if(n.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),l.update(i,t.vertices,t.velocity),a.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia}),1===t.parts.length){var r=t.centerOfMass,o=t.centerOffset,u=i.max.x-i.min.x,c=i.max.y-i.min.y;r.x=-(i.min.x-t.position.x)/u,r.y=-(i.min.y-t.position.y)/c,o.x=u*r.x,o.y=c*r.y}};a.set=function(t,e,i){var n;for(n in"string"==typeof e&&(n=e,(e={})[n]=i),e)if(Object.prototype.hasOwnProperty.call(e,n))switch(i=e[n],n){case"isStatic":a.setStatic(t,i);break;case"isSleeping":r.set(t,i);break;case"mass":a.setMass(t,i);break;case"density":a.setDensity(t,i);break;case"inertia":a.setInertia(t,i);break;case"vertices":a.setVertices(t,i);break;case"position":a.setPosition(t,i);break;case"angle":a.setAngle(t,i);break;case"velocity":a.setVelocity(t,i);break;case"angularVelocity":a.setAngularVelocity(t,i);break;case"parts":a.setParts(t,i);break;case"centre":a.setCentre(t,i);break;default:t[n]=i}},a.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var a=t.parts[i];a.isStatic=e,e?(a._original={restitution:a.restitution,friction:a.friction,mass:a.mass,inertia:a.inertia,density:a.density,inverseMass:a.inverseMass,inverseInertia:a.inverseInertia},a.restitution=0,a.friction=1,a.mass=a.inertia=a.density=1/0,a.inverseMass=a.inverseInertia=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.angularVelocity=0,a.speed=0,a.angularSpeed=0,a.motion=0):a._original&&(a.restitution=a._original.restitution,a.friction=a._original.friction,a.mass=a._original.mass,a.inertia=a._original.inertia,a.density=a._original.density,a.inverseMass=a._original.inverseMass,a.inverseInertia=a._original.inverseInertia,a._original=null)}},a.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},a.setDensity=function(t,e){a.setMass(t,e*t.area),t.density=e},a.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},a.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=n.create(e,t),t.axes=h.fromVertices(t.vertices),t.area=n.area(t.vertices),a.setMass(t,t.density*t.area);var i=n.centre(t.vertices);n.translate(t.vertices,i,-1),a.setInertia(t,a._inertiaScale*n.inertia(t.vertices,t.mass)),n.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},a.setParts=function(t,e,i){var s;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,s=0;s<e.length;s++){var r=e[s];r!==t&&(r.parent=t,t.parts.push(r))}if(1!==t.parts.length){if(i=void 0===i||i){var o=[];for(s=0;s<e.length;s++)o=o.concat(e[s].vertices);n.clockwiseSort(o);var h=n.hull(o),u=n.centre(h);a.setVertices(t,h),n.translate(t.vertices,u)}var c=a._totalProperties(t),d=c.centre.x,p=c.centre.y,f=t.bounds,m=t.centerOfMass,g=t.centerOffset;l.update(f,t.vertices,t.velocity),m.x=-(f.min.x-d)/(f.max.x-f.min.x),m.y=-(f.min.y-p)/(f.max.y-f.min.y),g.x=d,g.y=p,t.area=c.area,t.parent=t,t.position.x=d,t.position.y=p,t.positionPrev.x=d,t.positionPrev.y=p,a.setMass(t,c.mass),a.setInertia(t,c.inertia),a.setPosition(t,c.centre)}},a.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},a.setPosition=function(t,e){var i=s.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var a=0;a<t.parts.length;a++){var r=t.parts[a];r.position.x+=i.x,r.position.y+=i.y,n.translate(r.vertices,i),l.update(r.bounds,r.vertices,t.velocity)}},a.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var a=0;a<t.parts.length;a++){var r=t.parts[a];r.angle+=i,n.rotate(r.vertices,i,t.position),h.rotate(r.axes,i),l.update(r.bounds,r.vertices,t.velocity),a>0&&s.rotateAbout(r.position,i,t.position,r.position)}},a.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=s.magnitude(t.velocity)},a.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},a.translate=function(t,e){a.setPosition(t,s.add(t.position,e))},a.rotate=function(t,e,i){if(i){var n=Math.cos(e),s=Math.sin(e),r=t.position.x-i.x,o=t.position.y-i.y;a.setPosition(t,{x:i.x+(r*n-o*s),y:i.y+(r*s+o*n)}),a.setAngle(t,t.angle+e)}else a.setAngle(t,t.angle+e)},a.scale=function(t,e,i,s){var r=0,o=0;s=s||t.position;for(var u=0;u<t.parts.length;u++){var c=t.parts[u];c.scale.x=e,c.scale.y=i,n.scale(c.vertices,e,i,s),c.axes=h.fromVertices(c.vertices),c.area=n.area(c.vertices),a.setMass(c,t.density*c.area),n.translate(c.vertices,{x:-c.position.x,y:-c.position.y}),a.setInertia(c,a._inertiaScale*n.inertia(c.vertices,c.mass)),n.translate(c.vertices,{x:c.position.x,y:c.position.y}),u>0&&(r+=c.area,o+=c.inertia),c.position.x=s.x+(c.position.x-s.x)*e,c.position.y=s.y+(c.position.y-s.y)*i,l.update(c.bounds,c.vertices,t.velocity)}t.parts.length>1&&(t.area=r,t.isStatic||(a.setMass(t,t.density*r),a.setInertia(t,o))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},a.update=function(t,e,i,a){var r=Math.pow(e*i*t.timeScale,2),o=1-t.frictionAir*i*t.timeScale,u=t.position.x-t.positionPrev.x,c=t.position.y-t.positionPrev.y;t.velocity.x=u*o*a+t.force.x/t.mass*r,t.velocity.y=c*o*a+t.force.y/t.mass*r,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*o*a+t.torque/t.inertia*r,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=s.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var d=0;d<t.parts.length;d++){var p=t.parts[d];n.translate(p.vertices,t.velocity),d>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(n.rotate(p.vertices,t.angularVelocity,t.position),h.rotate(p.axes,t.angularVelocity),d>0&&s.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),l.update(p.bounds,p.vertices,t.velocity)}},a.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var a=e.x-t.position.x,n=e.y-t.position.y;t.torque+=a*i.y-n*i.x},a._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var a=t.parts[i],n=a.mass!==1/0?a.mass:1;e.mass+=n,e.area+=a.area,e.inertia+=a.inertia,e.centre=s.add(e.centre,s.mult(a.position,n))}return e.centre=s.div(e.centre,e.mass),e}}()},function(t,e){t.exports=function(t,e,i,a){void 0===e&&(e=!0);var n=a.baseTileWidth,s=a.tilemapLayer;return s&&(void 0===i&&(i=s.scene.cameras.main),t-=s.x+i.scrollX*(1-s.scrollFactorX),n*=s.scaleX),e?Math.floor(t/n):t/n}},function(t,e){t.exports=function(t,e,i,a){void 0===e&&(e=!0);var n=a.baseTileHeight,s=a.tilemapLayer;return s&&(void 0===i&&(i=s.scene.cameras.main),t-=s.y+i.scrollY*(1-s.scrollFactorY),n*=s.scaleY),e?Math.floor(t/n):t/n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(55),s=i(266),r=i(267),o=i(47),l=i(150),h=new a({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.type=o.CIRCLE,this.x=t,this.y=e,this._radius=i,this._diameter=2*i},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=h},function(t,e,i){"use strict";
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function a(t,e,i){i=i||2;var a,o,l,h,u,p,m,g=e&&e.length,y=g?e[0]*i:t.length,k=n(t,0,y,i,!0),v=[];if(!k||k.next===k.prev)return v;if(g&&(k=function(t,e,i,a){var r,o,l,h=[];for(r=0,o=e.length;r<o;r++)(l=n(t,e[r]*a,r<o-1?e[r+1]*a:t.length,a,!1))===l.next&&(l.steiner=!0),h.push(f(l));for(h.sort(c),r=0;r<h.length;r++)d(h[r],i),i=s(i,i.next);return i}(t,e,k,i)),t.length>80*i){a=l=t[0],o=h=t[1];for(var b=i;b<y;b+=i)(u=t[b])<a&&(a=u),(p=t[b+1])<o&&(o=p),u>l&&(l=u),p>h&&(h=p);m=0!==(m=Math.max(l-a,h-o))?1/m:0}return r(k,v,i,a,o,m),v}function n(t,e,i,a,n){var s,r;if(n===A(t,e,i,a)>0)for(s=e;s<i;s+=a)r=S(s,t[s],t[s+1],r);else for(s=i-a;s>=e;s-=a)r=S(s,t[s],t[s+1],r);return r&&k(r,r.next)&&(x(r),r=r.next),r}function s(t,e){if(!t)return t;e||(e=t);var i,a=t;do{if(i=!1,a.steiner||!k(a,a.next)&&0!==y(a.prev,a,a.next))a=a.next;else{if(x(a),(a=e=a.prev)===a.next)break;i=!0}}while(i||a!==e);return e}function r(t,e,i,a,n,c,d){if(t){!d&&c&&function(t,e,i,a){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,a)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,a,n,s,r,o,l,h=1;do{for(i=t,t=null,s=null,r=0;i;){for(r++,a=i,o=0,e=0;e<h&&(o++,a=a.nextZ);e++);for(l=h;o>0||l>0&&a;)0!==o&&(0===l||!a||i.z<=a.z)?(n=i,i=i.nextZ,o--):(n=a,a=a.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=a}s.nextZ=null,h*=2}while(r>1)}(n)}(t,a,n,c);for(var f,m,g=t;t.prev!==t.next;)if(f=t.prev,m=t.next,c?l(t,a,n,c):o(t))e.push(f.i/i),e.push(t.i/i),e.push(m.i/i),x(t),t=m.next,g=m.next;else if((t=m)===g){d?1===d?r(t=h(t,e,i),e,i,a,n,c,2):2===d&&u(t,e,i,a,n,c):r(s(t),e,i,a,n,c,1);break}}}function o(t){var e=t.prev,i=t,a=t.next;if(y(e,i,a)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(m(e.x,e.y,i.x,i.y,a.x,a.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function l(t,e,i,a){var n=t.prev,s=t,r=t.next;if(y(n,s,r)>=0)return!1;for(var o=n.x<s.x?n.x<r.x?n.x:r.x:s.x<r.x?s.x:r.x,l=n.y<s.y?n.y<r.y?n.y:r.y:s.y<r.y?s.y:r.y,h=n.x>s.x?n.x>r.x?n.x:r.x:s.x>r.x?s.x:r.x,u=n.y>s.y?n.y>r.y?n.y:r.y:s.y>r.y?s.y:r.y,c=p(o,l,e,i,a),d=p(h,u,e,i,a),f=t.prevZ,g=t.nextZ;f&&f.z>=c&&g&&g.z<=d;){if(f!==t.prev&&f!==t.next&&m(n.x,n.y,s.x,s.y,r.x,r.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,g!==t.prev&&g!==t.next&&m(n.x,n.y,s.x,s.y,r.x,r.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&m(n.x,n.y,s.x,s.y,r.x,r.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=d;){if(g!==t.prev&&g!==t.next&&m(n.x,n.y,s.x,s.y,r.x,r.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function h(t,e,i){var a=t;do{var n=a.prev,s=a.next.next;!k(n,s)&&v(n,a,a.next,s)&&b(n,s)&&b(s,n)&&(e.push(n.i/i),e.push(a.i/i),e.push(s.i/i),x(a),x(a.next),a=t=s),a=a.next}while(a!==t);return a}function u(t,e,i,a,n,o){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&g(l,h)){var u=w(l,h);return l=s(l,l.next),u=s(u,u.next),r(l,e,i,a,n,o),void r(u,e,i,a,n,o)}h=h.next}l=l.next}while(l!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,a=e,n=t.x,s=t.y,r=-1/0;do{if(s<=a.y&&s>=a.next.y&&a.next.y!==a.y){var o=a.x+(s-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(o<=n&&o>r){if(r=o,o===n){if(s===a.y)return a;if(s===a.next.y)return a.next}i=a.x<a.next.x?a:a.next}}a=a.next}while(a!==e);if(!i)return null;if(n===r)return i.prev;var l,h=i,u=i.x,c=i.y,d=1/0;a=i.next;for(;a!==h;)n>=a.x&&a.x>=u&&n!==a.x&&m(s<c?n:r,s,u,c,s<c?r:n,s,a.x,a.y)&&((l=Math.abs(s-a.y)/(n-a.x))<d||l===d&&a.x>i.x)&&b(a,t)&&(i=a,d=l),a=a.next;return i}(t,e)){var i=w(e,t);s(i,i.next)}}function p(t,e,i,a,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-a)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function m(t,e,i,a,n,s,r,o){return(n-r)*(e-o)-(t-r)*(s-o)>=0&&(t-r)*(a-o)-(i-r)*(e-o)>=0&&(i-r)*(s-o)-(n-r)*(a-o)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&v(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&b(t,e)&&b(e,t)&&function(t,e){var i=t,a=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(a=!a),i=i.next}while(i!==t);return a}(t,e)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function k(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,i,a){return!!(k(t,e)&&k(i,a)||k(t,a)&&k(i,e))||y(t,e,i)>0!=y(t,e,a)>0&&y(i,a,t)>0!=y(i,a,e)>0}function b(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function w(t,e){var i=new T(t.i,t.x,t.y),a=new T(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,a.next=i,i.prev=a,s.next=a,a.prev=s,a}function S(t,e,i,a){var n=new T(t,e,i);return a?(n.next=a.next,n.prev=a,a.next.prev=n,a.next=n):(n.prev=n,n.next=n),n}function x(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function T(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,i,a){for(var n=0,s=e,r=i-a;s<i;s+=a)n+=(t[r]-t[s])*(t[s+1]+t[r+1]),r=s;return n}t.exports=a,a.deviation=function(t,e,i,a){var n=e&&e.length,s=n?e[0]*i:t.length,r=Math.abs(A(t,0,s,i));if(n)for(var o=0,l=e.length;o<l;o++){var h=e[o]*i,u=o<l-1?e[o+1]*i:t.length;r-=Math.abs(A(t,h,u,i))}var c=0;for(o=0;o<a.length;o+=3){var d=a[o]*i,p=a[o+1]*i,f=a[o+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===r&&0===c?0:Math.abs((c-r)/r)},a.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},a=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var r=0;r<e;r++)i.vertices.push(t[n][s][r]);n>0&&(a+=t[n-1].length,i.holes.push(a))}return i}},function(t,e){t.exports=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e}},function(t,e){t.exports=function(t,e,i,a){var n=t.length;if(e<0||e>n||e>=i||i>n||e+i>n){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(115),n=i(181);t.exports=function(t,e){var i=a.Power0;if("string"==typeof t)if(a.hasOwnProperty(t))i=a[t];else{var s="";t.indexOf(".")&&("in"===(s=t.substr(t.indexOf(".")+1)).toLowerCase()?s="easeIn":"out"===s.toLowerCase()?s="easeOut":"inout"===s.toLowerCase()&&(s="easeInOut")),t=n(t.substr(0,t.indexOf(".")+1)+s),a.hasOwnProperty(t)&&(i=a[t])}else"function"==typeof t?i=t:Array.isArray(t)&&t.length;if(!e)return i;var r=e.slice(0);return r.unshift(0),function(t){return r[0]=t,i.apply(this,r)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=t.strokeTint,o=a.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*i);r.TL=o,r.TR=o,r.BL=o,r.BR=o;var l=e.pathData,h=l.length-1,u=e.lineWidth,c=u/2,d=l[0]-n,p=l[1]-s;e.closePath||(h-=2);for(var f=2;f<h;f+=2){var m=l[f]-n,g=l[f+1]-s;t.setTexture2D(),t.batchLine(d,p,m,g,c,c,u,f-2,!!e.closePath&&f===h-1),d=m,p=g}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(83),s=i(424),r=i(425),o=i(47),l=i(56),h=i(158),u=new a({initialize:function(t,e,i,a,n,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s=0),this.type=o.TRIANGLE,this.x1=t,this.y1=e,this.x2=i,this.y2=a,this.x3=n,this.y3=s},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return h(this,t)},setTo:function(t,e,i,a,n,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=a,this.x3=n,this.y3=s,this},getLineA:function(t){return void 0===t&&(t=new l),t.setTo(this.x1,this.y1,this.x2,this.y2),t},getLineB:function(t){return void 0===t&&(t=new l),t.setTo(this.x2,this.y2,this.x3,this.y3),t},getLineC:function(t){return void 0===t&&(t=new l),t.setTo(this.x3,this.y3,this.x1,this.y1),t},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function t(e,i,a,n,r){var h,u="png";if(l(i)){var c=i;i=o(c,"key"),a=o(c,"url"),h=o(c,"normalMap"),n=o(c,"xhrSettings"),u=o(c,"extension",u),r=o(c,"frameConfig")}Array.isArray(a)&&(h=a[1],a=a[0]);var d={type:"image",cache:e.textureManager,extension:u,responseType:"blob",key:i,url:a,xhrSettings:n,config:r};if(s.call(this,e,d),h){var p=new t(e,this.key,h,n,r);p.type="normalMap",this.setLink(p),e.addFile(p)}},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var t=this;this.data.onload=function(){s.revokeObjectURL(t.data),t.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(t.data),t.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var t,e=this.linkFile;e&&e.state===n.FILE_COMPLETE?(t="image"===this.type?this.cache.addImage(this.key,this.data,e.data):this.cache.addImage(e.key,e.data,this.data),this.pendingDestroy(t),e.pendingDestroy(t)):e||(t=this.cache.addImage(this.key,this.data),this.pendingDestroy(t))}});r.register("image",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e){t.exports=function(t,e){e?t.setCollision(!0,!0,!0,!0,!1):t.resetCollision(!1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(443),r=new a({Mixins:[n.Alpha,n.Flip,n.Visible],initialize:function(t,e,i,a,n,s,r,o){this.layer=t,this.index=e,this.x=i,this.y=a,this.width=n,this.height=s,this.baseWidth=void 0!==r?r:n,this.baseHeight=void 0!==o?o:s,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=null,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(t,e){return!(t<this.pixelX||e<this.pixelY||t>this.right||e>this.bottom)},copy:function(t){return this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.visible=t.visible,this.setFlip(t.flipX,t.flipY),this.tint=t.tint,this.rotation=t.rotation,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(t){var e=this.tilemapLayer;return e?e.tileToWorldX(this.x,t):this.x*this.baseWidth},getRight:function(t){var e=this.tilemapLayer;return e?this.getLeft(t)+this.width*e.scaleX:this.getLeft(t)+this.width},getTop:function(t){var e=this.tilemapLayer;return e?e.tileToWorldY(this.y,t)-(this.height-this.baseHeight)*e.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(t){var e=this.tilemapLayer;return e?this.getTop(t)+this.height*e.scaleY:this.getTop(t)+this.height},getBounds:function(t,e){return void 0===e&&(e=new s),e.x=this.getLeft(),e.y=this.getTop(),e.width=this.getRight()-e.x,e.height=this.getBottom()-e.y,e},getCenterX:function(t){return(this.getLeft(t)+this.getRight(t))/2},getCenterY:function(t){return(this.getTop(t)+this.getBottom(t))/2},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},intersects:function(t,e,i,a){return!(i<=this.pixelX||a<=this.pixelY||t>=this.right||e>=this.bottom)},isInteresting:function(t,e){return t&&e?this.canCollide||this.hasInterestingFace:t?this.collides:!!e&&this.hasInterestingFace},resetCollision:function(t){(void 0===t&&(t=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,t)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(t,e,i,a,n){(void 0===e&&(e=t),void 0===i&&(i=t),void 0===a&&(a=t),void 0===n&&(n=!0),this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=a,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=a,n)&&(this.tilemapLayer&&this.tilemapLayer.calculateFacesAt(this.x,this.y));return this},setCollisionCallback:function(t,e){return null===t?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=t,this.collisionCallbackContext=e),this},setSize:function(t,e,i,a){return void 0!==t&&(this.width=t),void 0!==e&&(this.height=e),void 0!==i&&(this.baseWidth=i),void 0!==a&&(this.baseHeight=a),this.updatePixelXY(),this},updatePixelXY:function(){return this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight,this},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var t=this.layer.tilemapLayer;if(t){var e=t.gidMap[this.index];if(e)return e}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var t=this.tilemapLayer;return t?t.tilemap:null}}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(965),o=new a({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,r],initialize:function(t,e,i,a,r){s.call(this,t,"Sprite"),this._crop=this.resetCropObject(),this.anims=new n.Animation(this),this.setTexture(a,r),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e,i){return this.anims.play(t,e,i),this},toJSON:function(){return n.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});t.exports=o},function(t,e){t.exports=function(t){return t.x-t.width*t.originX+.5*t.width}},function(t,e){t.exports=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t}},function(t,e){t.exports=function(t){return t.y-t.height*t.originY+.5*t.height}},function(t,e){t.exports=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t}},function(t,e){t.exports=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,a=t[e],n=e;n<i;n++)t[n]=t[n+1];return t.length=i,a}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(176),s=i(11),r=i(3),o=new a({initialize:function(t){this.type=t,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new r,this._tmpVec2B=new r},draw:function(t,e){return void 0===e&&(e=32),t.strokePoints(this.getPoints(e))},getBounds:function(t,e){t||(t=new s),void 0===e&&(e=16);var i=this.getLength();e>i&&(e=i/2);var a=Math.max(1,Math.round(i/e));return n(this.getSpacedPoints(a),t)},getDistancePoints:function(t){var e=this.getLength(),i=Math.max(1,e/t);return this.getSpacedPoints(i)},getEndPoint:function(t){return void 0===t&&(t=new r),this.getPointAt(1,t)},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i=[],a=this.getPoint(0,this._tmpVec2A),n=0;i.push(0);for(var s=1;s<=t;s++)n+=(e=this.getPoint(s/t,this._tmpVec2B)).distance(a),i.push(n),a.copy(e);return this.cacheArcLengths=i,i},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var a=0;a<=t;a++)i.push(this.getPoint(a/t));return i},getRandomPoint:function(t){return void 0===t&&(t=new r),this.getPoint(Math.random(),t)},getSpacedPoints:function(t,e,i){void 0===i&&(i=[]),t||(t=e?this.getLength()/e:this.defaultDivisions);for(var a=0;a<=t;a++){var n=this.getUtoTmapping(a/t,null,t);i.push(this.getPoint(n))}return i},getStartPoint:function(t){return void 0===t&&(t=new r),this.getPointAt(0,t)},getTangent:function(t,e){void 0===e&&(e=new r);var i=1e-4,a=t-i,n=t+i;return a<0&&(a=0),n>1&&(n=1),this.getPoint(a,this._tmpVec2A),this.getPoint(n,e),e.subtract(this._tmpVec2A).normalize()},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},getTFromDistance:function(t,e){return t<=0?0:this.getUtoTmapping(0,t,e)},getUtoTmapping:function(t,e,i){var a,n=this.getLengths(i),s=0,r=n.length;a=e?Math.min(e,n[r-1]):t*n[r-1];for(var o,l=0,h=r-1;l<=h;)if((o=n[s=Math.floor(l+(h-l)/2)]-a)<0)l=s+1;else{if(!(o>0)){h=s;break}h=s-1}if(n[s=h]===a)return s/(r-1);var u=n[s];return(s+(a-u)/(n[s+1]-u))/(r-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADD:i(868),COMPLETE:i(869),FILE_COMPLETE:i(870),FILE_KEY_COMPLETE:i(871),FILE_LOAD_ERROR:i(872),FILE_LOAD:i(873),FILE_PROGRESS:i(874),POST_PROCESS:i(875),PROGRESS:i(876),START:i(877)}},function(t,e){t.exports=function(t,e,i){var a=t.x3-t.x1,n=t.y3-t.y1,s=t.x2-t.x1,r=t.y2-t.y1,o=e-t.x1,l=i-t.y1,h=a*a+n*n,u=a*s+n*r,c=a*o+n*l,d=s*s+r*r,p=s*o+r*l,f=h*d-u*u,m=0===f?0:1/f,g=(d*c-u*p)*m,y=(h*p-u*c)*m;return g>=0&&y>=0&&g+y<1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){void 0===i&&(i=new a);var n=t.x1,s=t.y1,r=t.x2,o=t.y2,l=e.x1,h=e.y1,u=e.x2,c=e.y2,d=(c-h)*(r-n)-(u-l)*(o-s);if(0===d)return!1;var p=((u-l)*(s-h)-(c-h)*(n-l))/d,f=((r-n)*(s-h)-(o-s)*(n-l))/d;return p>=0&&p<=1&&f>=0&&f<=1&&(i.x=n+p*(r-n),i.y=s+p*(o-s),!0)}},function(t,e){t.exports=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)}},function(t,e,i){var a={};t.exports=a;var n=i(99),s=i(38);a.create=function(t,e){for(var i=[],a=0;a<t.length;a++){var n=t[a],s={x:n.x,y:n.y,index:a,body:e,isInternal:!1,contact:null,offset:null};s.contact={vertex:s,normalImpulse:0,tangentImpulse:0},i.push(s)}return i},a.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,a){i.push({x:parseFloat(e),y:parseFloat(a)})})),a.create(i,e)},a.centre=function(t){for(var e,i,s,r=a.area(t,!0),o={x:0,y:0},l=0;l<t.length;l++)s=(l+1)%t.length,e=n.cross(t[l],t[s]),i=n.mult(n.add(t[l],t[s]),e),o=n.add(o,i);return n.div(o,6*r)},a.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return n.div(e,t.length)},a.area=function(t,e){for(var i=0,a=t.length-1,n=0;n<t.length;n++)i+=(t[a].x-t[n].x)*(t[a].y+t[n].y),a=n;return e?i/2:Math.abs(i)/2},a.inertia=function(t,e){for(var i,a,s=0,r=0,o=t,l=0;l<o.length;l++)a=(l+1)%o.length,s+=(i=Math.abs(n.cross(o[a],o[l])))*(n.dot(o[a],o[a])+n.dot(o[a],o[l])+n.dot(o[l],o[l])),r+=i;return e/6*(s/r)},a.translate=function(t,e,i){var a;if(i)for(a=0;a<t.length;a++)t[a].x+=e.x*i,t[a].y+=e.y*i;else for(a=0;a<t.length;a++)t[a].x+=e.x,t[a].y+=e.y;return t},a.rotate=function(t,e,i){if(0!==e){for(var a=Math.cos(e),n=Math.sin(e),s=0;s<t.length;s++){var r=t[s],o=r.x-i.x,l=r.y-i.y;r.x=i.x+(o*a-l*n),r.y=i.y+(o*n+l*a)}return t}},a.contains=function(t,e){for(var i=0;i<t.length;i++){var a=t[i],n=t[(i+1)%t.length];if((e.x-a.x)*(n.y-a.y)+(e.y-a.y)*(a.x-n.x)>0)return!1}return!0},a.scale=function(t,e,i,s){if(1===e&&1===i)return t;var r,o;s=s||a.centre(t);for(var l=0;l<t.length;l++)r=t[l],o=n.sub(r,s),t[l].x=s.x+o.x*e,t[l].y=s.y+o.y*i;return t},a.chamfer=function(t,e,i,a,r){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,a=a||2,r=r||14;for(var o=[],l=0;l<t.length;l++){var h=t[l-1>=0?l-1:t.length-1],u=t[l],c=t[(l+1)%t.length],d=e[l<e.length?l:e.length-1];if(0!==d){var p=n.normalise({x:u.y-h.y,y:h.x-u.x}),f=n.normalise({x:c.y-u.y,y:u.x-c.x}),m=Math.sqrt(2*Math.pow(d,2)),g=n.mult(s.clone(p),d),y=n.normalise(n.mult(n.add(p,f),.5)),k=n.sub(u,n.mult(y,m)),v=i;-1===i&&(v=1.75*Math.pow(d,.32)),(v=s.clamp(v,a,r))%2==1&&(v+=1);for(var b=Math.acos(n.dot(p,f))/v,w=0;w<v;w++)o.push(n.add(n.rotate(g,b*w),k))}else o.push(u)}return o},a.clockwiseSort=function(t){var e=a.mean(t);return t.sort((function(t,i){return n.angle(e,t)-n.angle(e,i)})),t},a.isConvex=function(t){var e,i,a,n,s=0,r=t.length;if(r<3)return null;for(e=0;e<r;e++)if(a=(e+2)%r,n=(t[i=(e+1)%r].x-t[e].x)*(t[a].y-t[i].y),(n-=(t[i].y-t[e].y)*(t[a].x-t[i].x))<0?s|=1:n>0&&(s|=2),3===s)return!1;return 0!==s||null},a.hull=function(t){var e,i,a=[],s=[];for((t=t.slice(0)).sort((function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y})),i=0;i<t.length;i+=1){for(e=t[i];s.length>=2&&n.cross3(s[s.length-2],s[s.length-1],e)<=0;)s.pop();s.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];a.length>=2&&n.cross3(a[a.length-2],a[a.length-1],e)<=0;)a.pop();a.push(e)}return a.pop(),s.pop(),a.concat(s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19);t.exports=function(t,e,i){return(i-e)*(t=a(t,0,1))}},function(t,e){t.exports=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}},function(t,e){t.exports={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={DESTROY:i(581),VIDEO_COMPLETE:i(582),VIDEO_CREATED:i(583),VIDEO_ERROR:i(584),VIDEO_LOOP:i(585),VIDEO_PLAY:i(586),VIDEO_SEEKED:i(587),VIDEO_SEEKING:i(588),VIDEO_STOP:i(589),VIDEO_TIMEOUT:i(590),VIDEO_UNLOCKED:i(591)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(35),r=i(10),o=i(36),l=i(11),h=i(29),u=i(164),c=i(3),d=new a({Extends:r,Mixins:[n.Alpha,n.Visible],initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),r.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.resolution=1,this.roundPixels=!1,this.useBounds=!1,this.worldView=new l,this.dirty=!0,this._x=t,this._y=e,this._cx=0,this._cy=0,this._cw=0,this._ch=0,this._width=i,this._height=a,this._bounds=new l,this._scrollX=0,this._scrollY=0,this._zoom=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=u("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(i/2,a/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this},getScroll:function(t,e,i){void 0===i&&(i=new c);var a=.5*this.width,n=.5*this.height;return i.x=t-a,i.y=e-n,this.useBounds&&(i.x=this.clampX(i.x),i.y=this.clampY(i.y)),i},centerOnX:function(t){var e=.5*this.width;return this.midPoint.x=t,this.scrollX=t-e,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(t){var e=.5*this.height;return this.midPoint.y=t,this.scrollY=t-e,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(t,e){return this.centerOnX(t),this.centerOnY(e),this},centerToBounds:function(){if(this.useBounds){var t=this._bounds,e=.5*this.width,i=.5*this.height;this.midPoint.set(t.centerX,t.centerY),this.scrollX=t.centerX-e,this.scrollY=t.centerY-i}return this},centerToSize:function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this},cull:function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],a=e[1],n=e[2],s=e[3],r=i*s-a*n;if(!r)return t;var o=e[4],l=e[5],h=this.scrollX,u=this.scrollY,c=this.width,d=this.height,p=this.culledObjects,f=t.length;r=1/r,p.length=0;for(var m=0;m<f;++m){var g=t[m];if(g.hasOwnProperty("width")&&!g.parentContainer){var y=g.width,k=g.height,v=g.x-h*g.scrollFactorX-y*g.originX,b=g.y-u*g.scrollFactorY-k*g.originY,w=v*i+b*n+o,S=v*a+b*s+l,x=(v+y)*i+(b+k)*n+o,T=(v+y)*a+(b+k)*s+l,A=this.y,E=A+d,C=this.x;x>C&&w<C+c&&T>A&&S<E&&p.push(g)}else p.push(g)}return p},getWorldPoint:function(t,e,i){void 0===i&&(i=new c);var a=this.matrix.matrix,n=a[0],s=a[1],r=a[2],o=a[3],l=a[4],h=a[5],u=n*o-s*r;if(!u)return i.x=t,i.y=e,i;var d=o*(u=1/u),p=-s*u,f=-r*u,m=n*u,g=(r*h-o*l)*u,y=(s*l-n*h)*u,k=Math.cos(this.rotation),v=Math.sin(this.rotation),b=this.zoom,w=this.resolution,S=this.scrollX,x=this.scrollY,T=t+(S*k-x*v)*b,A=e+(S*v+x*k)*b;return i.x=(T*d+A*f)*w+g,i.y=(T*p+A*m)*w+y,i},ignore:function(t){var e=this.id;Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?this.ignore(a):a.isParent?this.ignore(a.getChildren()):a.cameraFilter|=e}return this},preRender:function(t){var e=this.width,i=this.height,a=.5*e,n=.5*i,s=this.zoom*t,r=this.matrix,o=e*this.originX,l=i*this.originY,h=this.scrollX,u=this.scrollY;this.useBounds&&(h=this.clampX(h),u=this.clampY(u)),this.roundPixels&&(o=Math.round(o),l=Math.round(l)),this.scrollX=h,this.scrollY=u;var c=h+a,d=u+n;this.midPoint.set(c,d);var p=e/s,f=i/s;this.worldView.setTo(c-p/2,d-f/2,p,f),r.applyITRS(this.x+o,this.y+l,this.rotation,s,s),r.translate(-o,-l)},clampX:function(t){var e=this._bounds,i=this.displayWidth,a=e.x+(i-this.width)/2,n=Math.max(a,a+e.width-i);return t<a?t=a:t>n&&(t=n),t},clampY:function(t){var e=this._bounds,i=this.displayHeight,a=e.y+(i-this.height)/2,n=Math.max(a,a+e.height-i);return t<a?t=a:t>n&&(t=n),t},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(t){return void 0===t&&(t=0),this.rotation=s(t),this},setBackgroundColor:function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=u(t),this.transparent=0===this.backgroundColor.alpha,this},setBounds:function(t,e,i,a,n){return void 0===n&&(n=!1),this._bounds.setTo(t,e,i,a),this.dirty=!0,this.useBounds=!0,n?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(t){void 0===t&&(t=new l);var e=this._bounds;return t.setTo(e.x,e.y,e.width,e.height),t},setName:function(t){return void 0===t&&(t=""),this.name=t,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setRoundPixels:function(t){return this.roundPixels=t,this},setScene:function(t){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=t;var e=t.sys;this.sceneManager=e.game.scene,this.scaleManager=e.scale,this.cameraManager=e.cameras;var i=this.scaleManager.resolution;return this.resolution=i,this._cx=this._x*i,this._cy=this._y*i,this._cw=this._width*i,this._ch=this._height*i,this.updateSystem(),this},setScroll:function(t,e){return void 0===e&&(e=t),this.scrollX=t,this.scrollY=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},setViewport:function(t,e,i,a){return this.x=t,this.y=e,this.width=i,this.height=a,this},setZoom:function(t){return void 0===t&&(t=1),0===t&&(t=.001),this.zoom=t,this},setMask:function(t,e){return void 0===e&&(e=!0),this.mask=t,this._maskCamera=e?this.cameraManager.default:this,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t},update:function(){},updateSystem:function(){if(this.scaleManager){var t=0!==this._x||0!==this._y||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,e=this.sceneManager;t&&!this._customViewport?e.customViewports++:!t&&this._customViewport&&e.customViewports--,this.dirty=!0,this._customViewport=t}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(t){this._x=t,this._cx=t*this.resolution,this.updateSystem()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._cy=t*this.resolution,this.updateSystem()}},width:{get:function(){return this._width},set:function(t){this._width=t,this._cw=t*this.resolution,this.updateSystem()}},height:{get:function(){return this._height},set:function(t){this._height=t,this._ch=t*this.resolution,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(t){this._scrollX=t,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(t){this._scrollY=t,this.dirty=!0}},zoom:{get:function(){return this._zoom},set:function(t){this._zoom=t,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoom}},displayHeight:{get:function(){return this.height/this.zoom}}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ENTER_FULLSCREEN:i(702),FULLSCREEN_FAILED:i(703),FULLSCREEN_UNSUPPORTED:i(704),LEAVE_FULLSCREEN:i(705),ORIENTATION_CHANGE:i(706),RESIZE:i(707)}},function(t,e){t.exports=function(t,e,i,a){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),a?(i+t)/e:i+t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(19),s=i(18),r=new a({initialize:function(t,e,i,a,n,s,r){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(s,r,a,n)},setSize:function(t,e,i,a){void 0===i&&(i=0),void 0===a&&(a=0),this.cutX=i,this.cutY=a,this.cutWidth=t,this.cutHeight=e,this.width=t,this.height=e,this.halfWidth=Math.floor(.5*t),this.halfHeight=Math.floor(.5*e),this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2);var n=this.data,s=n.cut;s.x=i,s.y=a,s.w=t,s.h=e,s.r=i+t,s.b=a+e,n.sourceSize.w=t,n.sourceSize.h=e,n.spriteSourceSize.w=t,n.spriteSourceSize.h=e,n.radius=.5*Math.sqrt(t*t+e*e);var r=n.drawImage;return r.x=i,r.y=a,r.width=t,r.height=e,this.updateUVs()},setTrim:function(t,e,i,a,n,s){var r=this.data,o=r.spriteSourceSize;return r.trim=!0,r.sourceSize.w=t,r.sourceSize.h=e,o.x=i,o.y=a,o.w=n,o.h=s,o.r=i+n,o.b=a+s,this.x=i,this.y=a,this.width=n,this.height=s,this.halfWidth=.5*n,this.halfHeight=.5*s,this.centerX=Math.floor(n/2),this.centerY=Math.floor(s/2),this.updateUVs()},setCropUVs:function(t,e,i,a,s,r,o){var l=this.cutX,h=this.cutY,u=this.cutWidth,c=this.cutHeight,d=this.realWidth,p=this.realHeight,f=l+(e=n(e,0,d)),m=h+(i=n(i,0,p)),g=a=n(a,0,d-e),y=s=n(s,0,p-i),k=this.data;if(k.trim){var v=k.spriteSourceSize,b=e+(a=n(a,0,u-e)),w=i+(s=n(s,0,c-i));if(!(v.r<e||v.b<i||v.x>b||v.y>w)){var S=Math.max(v.x,e),x=Math.max(v.y,i),T=Math.min(v.r,b)-S,A=Math.min(v.b,w)-x;g=T,y=A,f=r?l+(u-(S-v.x)-T):l+(S-v.x),m=o?h+(c-(x-v.y)-A):h+(x-v.y),e=S,i=x,a=T,s=A}else f=0,m=0,g=0,y=0}else r&&(f=l+(u-e-a)),o&&(m=h+(c-i-s));var E=this.source.width,C=this.source.height;return t.u0=Math.max(0,f/E),t.v0=Math.max(0,m/C),t.u1=Math.min(1,(f+g)/E),t.v1=Math.min(1,(m+y)/C),t.x=e,t.y=i,t.cx=f,t.cy=m,t.cw=g,t.ch=y,t.width=a,t.height=s,t.flipX=r,t.flipY=o,t},updateCropUVs:function(t,e,i){return this.setCropUVs(t,t.x,t.y,t.width,t.height,e,i)},updateUVs:function(){var t=this.cutX,e=this.cutY,i=this.cutWidth,a=this.cutHeight,n=this.data.drawImage;n.width=i,n.height=a;var s=this.source.width,r=this.source.height;return this.u0=t/s,this.v0=e/r,this.u1=(t+i)/s,this.v1=(e+a)/r,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height;return this.u0=(this.cutX+this.cutHeight)/t,this.v0=this.cutY/e,this.u1=this.cutX/t,this.v1=(this.cutY+this.cutWidth)/e,this},clone:function(){var t=new r(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.halfWidth=this.halfWidth,t.halfHeight=this.halfHeight,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=s(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(96),s=i(397),r=i(398),o=i(47),l=i(157),h=new a({initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),this.type=o.ELLIPSE,this.x=t,this.y=e,this.width=i,this.height=a},contains:function(t,e){return n(this,t,e)},getPoint:function(t,e){return s(this,t,e)},getPoints:function(t,e,i){return r(this,t,e,i)},getRandomPoint:function(t){return l(this,t)},setTo:function(t,e,i,a){return this.x=t,this.y=e,this.width=i,this.height=a,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(t){this.x=t+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(t){this.y=t+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=h},function(t,e){t.exports=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var a=(e-t.x)/t.width,n=(i-t.y)/t.height;return(a*=a)+(n*=n)<.25}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(241),n=i(0),s=i(90),r=i(2),o=i(6),l=i(7),h=i(391),u=i(133),c=i(75),d=new n({initialize:function(t,e,i){i?e&&!Array.isArray(e)&&(e=[e]):Array.isArray(e)?l(e[0])&&(i=e,e=null):l(e)&&(i=e,e=null),this.scene=t,this.children=new u(e),this.isParent=!0,this.type="Group",this.classType=r(i,"classType",c),this.name=r(i,"name",""),this.active=r(i,"active",!0),this.maxSize=r(i,"maxSize",-1),this.defaultKey=r(i,"defaultKey",null),this.defaultFrame=r(i,"defaultFrame",null),this.runChildUpdate=r(i,"runChildUpdate",!1),this.createCallback=r(i,"createCallback",null),this.removeCallback=r(i,"removeCallback",null),this.createMultipleCallback=r(i,"createMultipleCallback",null),this.internalCreateCallback=r(i,"internalCreateCallback",null),this.internalRemoveCallback=r(i,"internalRemoveCallback",null),i&&this.createMultiple(i)},create:function(t,e,i,a,n,s){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.defaultKey),void 0===a&&(a=this.defaultFrame),void 0===n&&(n=!0),void 0===s&&(s=!0),this.isFull())return null;var r=new this.classType(this.scene,t,e,i,a);return this.scene.sys.displayList.add(r),r.preUpdate&&this.scene.sys.updateList.add(r),r.visible=n,r.setActive(s),this.add(r),r},createMultiple:function(t){if(this.isFull())return[];Array.isArray(t)||(t=[t]);var e=[];if(t[0].key)for(var i=0;i<t.length;i++){var a=this.createFromConfig(t[i]);e=e.concat(a)}return e},createFromConfig:function(t){if(this.isFull())return[];this.classType=r(t,"classType",this.classType);var e=r(t,"key",void 0),i=r(t,"frame",null),n=r(t,"visible",!0),s=r(t,"active",!0),l=[];if(void 0===e)return l;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var u=r(t,"repeat",0),c=r(t,"randomKey",!1),d=r(t,"randomFrame",!1),p=r(t,"yoyo",!1),f=r(t,"quantity",!1),m=r(t,"frameQuantity",1),g=r(t,"max",0),y=h(e,i,{max:g,qty:f||m,random:c,randomB:d,repeat:u,yoyo:p});t.createCallback&&(this.createCallback=t.createCallback),t.removeCallback&&(this.removeCallback=t.removeCallback);for(var k=0;k<y.length;k++){var v=this.create(0,0,y[k].a,y[k].b,n,s);if(!v)break;l.push(v)}var b=o(t,"setXY.x",0),w=o(t,"setXY.y",0),S=o(t,"setXY.stepX",0),x=o(t,"setXY.stepY",0);a.SetXY(l,b,w,S,x);var T=o(t,"setRotation.value",0),A=o(t,"setRotation.step",0);a.SetRotation(l,T,A);var E=o(t,"setScale.x",1),C=o(t,"setScale.y",E),M=o(t,"setScale.stepX",0),_=o(t,"setScale.stepY",0);a.SetScale(l,E,C,M,_);var B=o(t,"setAlpha.value",1),I=o(t,"setAlpha.step",0);a.SetAlpha(l,B,I);var D=o(t,"setDepth.value",0),P=o(t,"setDepth.step",0);a.SetDepth(l,D,P);var L=o(t,"setScrollFactor.x",1),O=o(t,"setScrollFactor.y",L),N=o(t,"setScrollFactor.stepX",0),G=o(t,"setScrollFactor.stepY",0);a.SetScrollFactor(l,L,O,N,G);var R=r(t,"hitArea",null),F=r(t,"hitAreaCallback",null);R&&a.SetHitArea(l,R,F);var Q=r(t,"gridAlign",!1);return Q&&a.GridAlign(l,Q),this.createMultipleCallback&&this.createMultipleCallback.call(this,l),l},preUpdate:function(t,e){if(this.runChildUpdate&&0!==this.children.size)for(var i=this.children.entries.slice(),a=0;a<i.length;a++){var n=i[a];n.active&&n.update(t,e)}},add:function(t,e){return void 0===e&&(e=!1),this.isFull()||(this.children.set(t),this.internalCreateCallback&&this.internalCreateCallback.call(this,t),this.createCallback&&this.createCallback.call(this,t),e&&(this.scene.sys.displayList.add(t),t.preUpdate&&this.scene.sys.updateList.add(t)),t.on(s.DESTROY,this.remove,this)),this},addMultiple:function(t,e){if(void 0===e&&(e=!1),Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return this},remove:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),this.children.contains(t)?(this.children.delete(t),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,t),this.removeCallback&&this.removeCallback.call(this,t),t.off(s.DESTROY,this.remove,this),i?t.destroy():e&&(t.scene.sys.displayList.remove(t),t.preUpdate&&t.scene.sys.updateList.remove(t)),this):this},clear:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);for(var i=this.children,a=0;a<i.size;a++){var n=i.entries[a];n.off(s.DESTROY,this.remove,this),e?n.destroy():t&&(n.scene.sys.displayList.remove(n),n.preUpdate&&n.scene.sys.updateList.remove(n))}return this.children.clear(),this},contains:function(t){return this.children.contains(t)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(t,e,i,a,n,s,r){return this.getHandler(!0,1,t,e,i,a,n,s,r)},getFirstNth:function(t,e,i,a,n,s,r,o){return this.getHandler(!0,t,e,i,a,n,s,r,o)},getLast:function(t,e,i,a,n,s,r){return this.getHandler(!1,1,t,e,i,a,n,s,r)},getLastNth:function(t,e,i,a,n,s,r,o){return this.getHandler(!1,t,e,i,a,n,s,r,o)},getHandler:function(t,e,i,a,n,s,r,o,l){var h,u;void 0===i&&(i=!1),void 0===a&&(a=!1);var c=0,d=this.children.entries;if(t)for(u=0;u<d.length;u++)if((h=d[u]).active===i){if(++c===e)break}else h=null;else for(u=d.length-1;u>=0;u--)if((h=d[u]).active===i){if(++c===e)break}else h=null;return h?("number"==typeof n&&(h.x=n),"number"==typeof s&&(h.y=s),h):a?this.create(n,s,r,o,l):null},get:function(t,e,i,a,n){return this.getFirst(!1,!0,t,e,i,a,n)},getFirstAlive:function(t,e,i,a,n,s){return this.getFirst(!0,t,e,i,a,n,s)},getFirstDead:function(t,e,i,a,n,s){return this.getFirst(!1,t,e,i,a,n,s)},playAnimation:function(t,e){return a.PlayAnimation(this.children.entries,t,e),this},isFull:function(){return-1!==this.maxSize&&this.children.size>=this.maxSize},countActive:function(t){void 0===t&&(t=!0);for(var e=0,i=0;i<this.children.size;i++)this.children.entries[i].active===t&&e++;return e},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},propertyValueSet:function(t,e,i,n,s){return a.PropertyValueSet(this.children.entries,t,e,i,n,s),this},propertyValueInc:function(t,e,i,n,s){return a.PropertyValueInc(this.children.entries,t,e,i,n,s),this},setX:function(t,e){return a.SetX(this.children.entries,t,e),this},setY:function(t,e){return a.SetY(this.children.entries,t,e),this},setXY:function(t,e,i,n){return a.SetXY(this.children.entries,t,e,i,n),this},incX:function(t,e){return a.IncX(this.children.entries,t,e),this},incY:function(t,e){return a.IncY(this.children.entries,t,e),this},incXY:function(t,e,i,n){return a.IncXY(this.children.entries,t,e,i,n),this},shiftPosition:function(t,e,i){return a.ShiftPosition(this.children.entries,t,e,i),this},angle:function(t,e){return a.Angle(this.children.entries,t,e),this},rotate:function(t,e){return a.Rotate(this.children.entries,t,e),this},rotateAround:function(t,e){return a.RotateAround(this.children.entries,t,e),this},rotateAroundDistance:function(t,e,i){return a.RotateAroundDistance(this.children.entries,t,e,i),this},setAlpha:function(t,e){return a.SetAlpha(this.children.entries,t,e),this},setTint:function(t,e,i,n){return a.SetTint(this.children.entries,t,e,i,n),this},setOrigin:function(t,e,i,n){return a.SetOrigin(this.children.entries,t,e,i,n),this},scaleX:function(t,e){return a.ScaleX(this.children.entries,t,e),this},scaleY:function(t,e){return a.ScaleY(this.children.entries,t,e),this},scaleXY:function(t,e,i,n){return a.ScaleXY(this.children.entries,t,e,i,n),this},setDepth:function(t,e){return a.SetDepth(this.children.entries,t,e),this},setBlendMode:function(t){return a.SetBlendMode(this.children.entries,t),this},setHitArea:function(t,e){return a.SetHitArea(this.children.entries,t,e),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(t){this.children.contains(t)&&t.setActive(!1)},killAndHide:function(t){this.children.contains(t)&&(t.setActive(!1),t.setVisible(!1))},setVisible:function(t,e,i){return a.SetVisible(this.children.entries,t,e,i),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.scene&&!this.ignoreDestroy&&(this.clear(!1,t),!1===e&&(this.scene=void 0,this.children=void 0))}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s,r){for(var o=a.getTintAppendFloatAlphaAndSwap(i.fillColor,i.fillAlpha*n),l=i.pathData,h=i.pathIndexes,u=0;u<h.length;u+=3){var c=2*h[u],d=2*h[u+1],p=2*h[u+2],f=l[c+0]-s,m=l[c+1]-r,g=l[d+0]-s,y=l[d+1]-r,k=l[p+0]-s,v=l[p+1]-r,b=e.getX(f,m),w=e.getY(f,m),S=e.getX(g,y),x=e.getY(g,y),T=e.getX(k,v),A=e.getY(k,v);t.setTexture2D(),t.batchTri(b,w,S,x,T,A,0,0,1,1,o,o,o,t.tintEffect)}}},function(t,e){var i={};t.exports=i,i.create=function(t,e){return{x:t||0,y:e||0}},i.clone=function(t){return{x:t.x,y:t.y}},i.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},i.rotate=function(t,e,i){var a=Math.cos(e),n=Math.sin(e);i||(i={});var s=t.x*a-t.y*n;return i.y=t.x*n+t.y*a,i.x=s,i},i.rotateAbout=function(t,e,i,a){var n=Math.cos(e),s=Math.sin(e);a||(a={});var r=i.x+((t.x-i.x)*n-(t.y-i.y)*s);return a.y=i.y+((t.x-i.x)*s+(t.y-i.y)*n),a.x=r,a},i.normalise=function(t){var e=i.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.cross=function(t,e){return t.x*e.y-t.y*e.x},i.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},i.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},i.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},i.mult=function(t,e){return{x:t.x*e,y:t.y*e}},i.div=function(t,e){return{x:t.x/e,y:t.y/e}},i.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},i.neg=function(t){return{x:-t.x,y:-t.y}},i.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},function(t,e){var i={};t.exports=i,i.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&i.update(e,t),e},i.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var a=0;a<e.length;a++){var n=e[a];n.x>t.max.x&&(t.max.x=n.x),n.x<t.min.x&&(t.min.x=n.x),n.y>t.max.y&&(t.max.y=n.y),n.y<t.min.y&&(t.min.y=n.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},i.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},i.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},i.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},i.shift=function(t,e){var i=t.max.x-t.min.x,a=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+a}},function(t,e){t.exports=function(t,e,i){return t>=0&&t<i.width&&e>=0&&e<i.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=new a({initialize:function(t){void 0===t&&(t={}),this.name=n(t,"name","layer"),this.x=n(t,"x",0),this.y=n(t,"y",0),this.width=n(t,"width",0),this.height=n(t,"height",0),this.tileWidth=n(t,"tileWidth",0),this.tileHeight=n(t,"tileHeight",0),this.baseTileWidth=n(t,"baseTileWidth",this.tileWidth),this.baseTileHeight=n(t,"baseTileHeight",this.tileHeight),this.widthInPixels=n(t,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=n(t,"heightInPixels",this.height*this.baseTileHeight),this.alpha=n(t,"alpha",1),this.visible=n(t,"visible",!0),this.properties=n(t,"properties",[]),this.indexes=n(t,"indexes",[]),this.collideIndexes=n(t,"collideIndexes",[]),this.callbacks=n(t,"callbacks",[]),this.bodies=n(t,"bodies",[]),this.data=n(t,"data",[]),this.tilemapLayer=n(t,"tilemapLayer",null)}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=new a({initialize:function(t){void 0===t&&(t={}),this.name=n(t,"name","map"),this.width=n(t,"width",0),this.height=n(t,"height",0),this.infinite=n(t,"infinite",!1),this.tileWidth=n(t,"tileWidth",0),this.tileHeight=n(t,"tileHeight",0),this.widthInPixels=n(t,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=n(t,"heightInPixels",this.height*this.tileHeight),this.format=n(t,"format",null),this.orientation=n(t,"orientation","orthogonal"),this.renderOrder=n(t,"renderOrder","right-down"),this.version=n(t,"version","1"),this.properties=n(t,"properties",{}),this.layers=n(t,"layers",[]),this.images=n(t,"images",[]),this.objects=n(t,"objects",{}),this.collision=n(t,"collision",{}),this.tilesets=n(t,"tilesets",[]),this.imageCollections=n(t,"imageCollections",[]),this.tiles=n(t,"tiles",[])}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a,n,s,r,o){(void 0===i||i<=0)&&(i=32),(void 0===a||a<=0)&&(a=32),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r={}),void 0===o&&(o={}),this.name=t,this.firstgid=e,this.tileWidth=i,this.tileHeight=a,this.tileMargin=n,this.tileSpacing=s,this.tileProperties=r,this.tileData=o,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(t){return this.containsTileIndex(t)?this.tileProperties[t-this.firstgid]:null},getTileData:function(t){return this.containsTileIndex(t)?this.tileData[t-this.firstgid]:null},getTileCollisionGroup:function(t){var e=this.getTileData(t);return e&&e.objectgroup?e.objectgroup:null},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},getTileTextureCoordinates:function(t){return this.containsTileIndex(t)?this.texCoordinates[t-this.firstgid]:null},setImage:function(t){return this.image=t,this.glTexture=t.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(t,e){return void 0!==t&&(this.tileWidth=t),void 0!==e&&(this.tileHeight=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(t,e){return void 0!==t&&(this.tileMargin=t),void 0!==e&&(this.tileSpacing=e),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),a=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&a%1==0||console.warn("Image tile area not tile size multiple in: "+this.name),i=Math.floor(i),a=Math.floor(a),this.rows=i,this.columns=a,this.total=i*a,this.texCoordinates.length=0;for(var n=this.tileMargin,s=this.tileMargin,r=0;r<this.rows;r++){for(var o=0;o<this.columns;o++)this.texCoordinates.push({x:n,y:s}),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,s+=this.tileHeight+this.tileSpacing}return this}});t.exports=a},function(t,e){t.exports={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(968),o=new a({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Size,n.TextureCrop,n.Tint,n.Transform,n.Visible,r],initialize:function(t,e,i,a,n){s.call(this,t,"Image"),this._crop=this.resetCropObject(),this.setTexture(a,n),this.setPosition(e,i),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});t.exports=o},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,i){var a={};t.exports=a;var n=i(86),s=i(38),r=i(62),o=i(100),l=i(99),h=i(1383);a.rectangle=function(t,e,i,a,o){o=o||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:n.fromPath("L 0 0 L "+i+" 0 L "+i+" "+a+" L 0 "+a)};if(o.chamfer){var h=o.chamfer;l.vertices=n.chamfer(l.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete o.chamfer}return r.create(s.extend({},l,o))},a.trapezoid=function(t,e,i,a,o,l){l=l||{};var h,u=i*(o*=.5),c=u+(1-2*o)*i,d=c+u;h=o<.5?"L 0 0 L "+u+" "+-a+" L "+c+" "+-a+" L "+d+" 0":"L 0 0 L "+c+" "+-a+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:n.fromPath(h)};if(l.chamfer){var f=l.chamfer;p.vertices=n.chamfer(p.vertices,f.radius,f.quality,f.qualityMin,f.qualityMax),delete l.chamfer}return r.create(s.extend({},p,l))},a.circle=function(t,e,i,n,r){n=n||{};var o={label:"Circle Body",circleRadius:i};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,i)));return l%2==1&&(l+=1),a.polygon(t,e,l,i,s.extend({},o,n))},a.polygon=function(t,e,i,o,l){if(l=l||{},i<3)return a.circle(t,e,o,l);for(var h=2*Math.PI/i,u="",c=.5*h,d=0;d<i;d+=1){var p=c+d*h,f=Math.cos(p)*o,m=Math.sin(p)*o;u+="L "+f.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:t,y:e},vertices:n.fromPath(u)};if(l.chamfer){var y=l.chamfer;g.vertices=n.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return r.create(s.extend({},g,l))},a.fromVertices=function(t,e,i,o,l,u,c){var d,p,f,m,g,y;for(o=o||{},p=[],l=void 0!==l&&l,u=void 0!==u?u:.01,c=void 0!==c?c:10,h||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(i[0])||(i=[i]),y=0;y<i.length;y+=1)if(m=i[y],(f=n.isConvex(m))||!h)m=f?n.clockwiseSort(m):n.hull(m),p.push({position:{x:t,y:e},vertices:m});else{var k=m.map((function(t){return[t.x,t.y]}));h.makeCCW(k),!1!==u&&h.removeCollinearPoints(k,u);var v=h.quickDecomp(k);for(g=0;g<v.length;g++){var b=v[g].map((function(t){return{x:t[0],y:t[1]}}));c>0&&n.area(b)<c||p.push({position:n.centre(b),vertices:b})}}for(g=0;g<p.length;g++)p[g]=r.create(s.extend(p[g],o));return l&&a.flagCoincidentParts(p,5),p.length>1?(d=r.create(s.extend({parts:p.slice(0)},o)),r.setPosition(d,{x:t,y:e}),d):p[0]},a.flagCoincidentParts=function(t,e){void 0===e&&(e=5);for(var i=0;i<t.length;i++)for(var a=t[i],n=i+1;n<t.length;n++){var s=t[n];if(o.overlaps(a.bounds,s.bounds))for(var r=a.vertices,h=s.vertices,u=0;u<a.vertices.length;u++)for(var c=0;c<s.vertices.length;c++){var d=l.magnitudeSquared(l.sub(r[(u+1)%r.length],h[c])),p=l.magnitudeSquared(l.sub(r[u],h[(c+1)%h.length]));d<e&&p<e&&(r[u].isInternal=!0,h[c].isInternal=!0)}}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n=i(65),s=i(55),r=i(0),o=i(12),l=i(13),h=i(11),u=i(48),c=new r({Extends:l,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(t,e,i,n,s){void 0===n&&(n=1),void 0===s&&(s=n),l.call(this,t,"Zone"),this.setPosition(e,i),this.width=n,this.height=s,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e,i){void 0===i&&(i=!0),this.width=t,this.height=e,this.updateDisplayOrigin();var a=this.input;return i&&a&&!a.customHitArea&&(a.hitArea.width=t,a.hitArea.height=e),this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this},setCircleDropZone:function(t){return this.setDropZone(new n(0,0,t),s)},setRectangleDropZone:function(t,e){return this.setDropZone(new h(0,0,t,e),u)},setDropZone:function(t,e){return void 0===t?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(t,e,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(){},renderWebGL:function(){}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADD_ANIMATION:i(533),ANIMATION_COMPLETE:i(534),ANIMATION_REPEAT:i(535),ANIMATION_RESTART:i(536),ANIMATION_START:i(537),PAUSE_ALL:i(538),REMOVE_ANIMATION:i(539),RESUME_ALL:i(540),SPRITE_ANIMATION_COMPLETE:i(541),SPRITE_ANIMATION_KEY_COMPLETE:i(542),SPRITE_ANIMATION_KEY_REPEAT:i(543),SPRITE_ANIMATION_KEY_RESTART:i(544),SPRITE_ANIMATION_KEY_START:i(545),SPRITE_ANIMATION_KEY_UPDATE:i(546),SPRITE_ANIMATION_REPEAT:i(547),SPRITE_ANIMATION_RESTART:i(548),SPRITE_ANIMATION_START:i(549),SPRITE_ANIMATION_UPDATE:i(550)}},function(t,e){t.exports=function(t){return 2*(t.width+t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(284),s=new a({initialize:function(t,e){this.parent=t,this.events=e,e||(this.events=t.events?t.events:t),this.list={},this.values={},this._frozen=!1,!t.hasOwnProperty("sys")&&this.events&&this.events.once("destroy",this.destroy,this)},get:function(t){var e=this.list;if(Array.isArray(t)){for(var i=[],a=0;a<t.length;a++)i.push(e[t[a]]);return i}return e[t]},getAll:function(){var t={};for(var e in this.list)this.list.hasOwnProperty(e)&&(t[e]=this.list[e]);return t},query:function(t){var e={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;if("string"==typeof t)return this.setValue(t,e);for(var i in t)this.setValue(i,t[i]);return this},inc:function(t,e){if(this._frozen)return this;void 0===e&&(e=1);var i=this.get(t);return void 0===i&&(i=0),this.set(t,i+e),this},toggle:function(t){return this._frozen||this.set(t,!this.get(t)),this},setValue:function(t,e){if(this._frozen)return this;if(this.has(t))this.values[t]=e;else{var i=this,a=this.list,s=this.events,r=this.parent;Object.defineProperty(this.values,t,{enumerable:!0,configurable:!0,get:function(){return a[t]},set:function(e){if(!i._frozen){var o=a[t];a[t]=e,s.emit(n.CHANGE_DATA,r,t,e,o),s.emit(n.CHANGE_DATA_KEY+t,r,e,o)}}}),a[t]=e,s.emit(n.SET_DATA,r,t,e)}return this},each:function(t,e){for(var i=[this.parent,null,void 0],a=1;a<arguments.length;a++)i.push(arguments[a]);for(var n in this.list)i[1]=n,i[2]=this.list[n],t.apply(e,i);return this},merge:function(t,e){for(var i in void 0===e&&(e=!0),t)t.hasOwnProperty(i)&&(e||!e&&!this.has(i))&&this.setValue(i,t[i]);return this},remove:function(t){if(this._frozen)return this;if(!Array.isArray(t))return this.removeValue(t);for(var e=0;e<t.length;e++)this.removeValue(t[e]);return this},removeValue:function(t){if(this.has(t)){var e=this.list[t];delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)}return this},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],delete this.values[t],this.events.emit(n.REMOVE_DATA,this.parent,t,e)),e},has:function(t){return this.list.hasOwnProperty(t)},setFreeze:function(t){return this._frozen=t,this},reset:function(){for(var t in this.list)delete this.list[t],delete this.values[t];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(n.CHANGE_DATA),this.events.off(n.SET_DATA),this.events.off(n.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=s},function(t,e){t.exports=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),a=t[e];t[e]=t[i],t[i]=a}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(302),n=i(303),s=i(304),r=i(305),o=i(306),l=i(307),h=i(308),u=i(309),c=i(310),d=i(311),p=i(312),f=i(313);t.exports={Power0:h,Power1:u.Out,Power2:r.Out,Power3:c.Out,Power4:d.Out,Linear:h,Quad:u.Out,Cubic:r.Out,Quart:c.Out,Quint:d.Out,Sine:p.Out,Expo:l.Out,Circ:s.Out,Elastic:o.Out,Back:a.Out,Bounce:n.Out,Stepped:f,"Quad.easeIn":u.In,"Cubic.easeIn":r.In,"Quart.easeIn":c.In,"Quint.easeIn":d.In,"Sine.easeIn":p.In,"Expo.easeIn":l.In,"Circ.easeIn":s.In,"Elastic.easeIn":o.In,"Back.easeIn":a.In,"Bounce.easeIn":n.In,"Quad.easeOut":u.Out,"Cubic.easeOut":r.Out,"Quart.easeOut":c.Out,"Quint.easeOut":d.Out,"Sine.easeOut":p.Out,"Expo.easeOut":l.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":o.Out,"Back.easeOut":a.Out,"Bounce.easeOut":n.Out,"Quad.easeInOut":u.InOut,"Cubic.easeInOut":r.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":d.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":l.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":n.InOut}},function(t,e){t.exports=function(t,e,i){return(e-t)*i+t}},function(t,e,i){(function(e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};t.exports=function(){var t=navigator.userAgent;/Windows/.test(t)?i.windows=!0:/Mac OS/.test(t)&&!/like Mac OS/.test(t)?i.macOS=!0:/Android/.test(t)?i.android=!0:/Linux/.test(t)?i.linux=!0:/iP[ao]d|iPhone/i.test(t)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10),i.iPhone=-1!==t.toLowerCase().indexOf("iphone"),i.iPad=-1!==t.toLowerCase().indexOf("ipad")):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?i.kindle=!0:/CrOS/.test(t)&&(i.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var a=/Silk/.test(t);return(i.windows||i.macOS||i.linux&&!a||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),void 0!==window.cordova&&(i.cordova=!0),void 0!==e&&e.versions&&e.versions.node&&(i.node=!0),i.node&&"object"==typeof e.versions&&(i.nodeWebkit=!!e.versions["node-webkit"],i.electron=!!e.versions.electron),void 0!==window.ejecta&&(i.ejecta=!0),/Crosswalk/.test(t)&&(i.crosswalk=!0),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(this,i(728))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a,n=i(117),s={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};t.exports=(a=navigator.userAgent,/Edge\/\d+/.test(a)?s.edge=!0:/Chrome\/(\d+)/.test(a)&&!n.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&n.iOS?s.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?s.opera=!0:/Safari/.test(a)&&!n.windowsPhone?s.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(s.silk=!0),s)},function(t,e){t.exports=function(t,e){return Math.random()*(e-t)+t}},function(t,e){t.exports=function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADD:i(780),ERROR:i(781),LOAD:i(782),READY:i(783),REMOVE:i(784)}},function(t,e){t.exports=function(t,e){var i;if(e)"string"==typeof e?i=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(i=e);else if(t.parentElement)return t;return i||(i=document.body),i.appendChild(t),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(80);t.exports=function(t,e,i,n){var s;if(void 0===n&&(n=t),!Array.isArray(e))return-1!==(s=t.indexOf(e))?(a(t,s),i&&i.call(n,e),e):null;for(var r=e.length-1;r>=0;){var o=e[r];-1!==(s=t.indexOf(o))?(a(t,s),i&&i.call(n,o)):e.pop(),r--}return e}},function(t,e){t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175}},function(t,e){t.exports={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(67);t.exports=function(t,e){var i=a(t);for(var n in e)i.hasOwnProperty(n)||(i[n]=e[n]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(67),s=i(10),r=i(59),o=i(20),l=i(1),h=i(381),u=i(382),c=new a({Extends:s,initialize:function(t){s.call(this),this.game=t,this.jsonCache=t.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,t.events.on(o.BLUR,this.onGameBlur,this),t.events.on(o.FOCUS,this.onGameFocus,this),t.events.on(o.PRE_STEP,this.update,this),t.events.once(o.DESTROY,this.destroy,this)},add:l,addAudioSprite:function(t,e){void 0===e&&(e={});var i=this.add(t,e);for(var a in i.spritemap=this.jsonCache.get(t).spritemap,i.spritemap)if(i.spritemap.hasOwnProperty(a)){var s=n(e),r=i.spritemap[a];s.loop=!!r.hasOwnProperty("loop")&&r.loop,i.addMarker({name:a,start:r.start,duration:r.end-r.start,config:s})}return i},get:function(t){return u(this.sounds,"key",t)},getAll:function(t){return h(this.sounds,"key",t)},play:function(t,e){var i=this.add(t);return i.once(r.COMPLETE,i.destroy,i),e?e.name?(i.addMarker(e),i.play(e.name)):i.play(e):i.play()},playAudioSprite:function(t,e,i){var a=this.addAudioSprite(t);return a.once(r.COMPLETE,a.destroy,a),a.play(e,i)},remove:function(t){var e=this.sounds.indexOf(t);return-1!==e&&(t.destroy(),this.sounds.splice(e,1),!0)},removeAll:function(){this.sounds.forEach((function(t){t.destroy()})),this.sounds.length=0},removeByKey:function(t){for(var e=0,i=this.sounds.length-1;i>=0;i--){var a=this.sounds[i];a.key===t&&(a.destroy(),this.sounds.splice(i,1),e++)}return e},pauseAll:function(){this.forEachActiveSound((function(t){t.pause()})),this.emit(r.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound((function(t){t.resume()})),this.emit(r.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound((function(t){t.stop()})),this.emit(r.STOP_ALL,this)},stopByKey:function(t){var e=0;return this.getAll(t).forEach((function(t){t.stop()&&e++})),e},unlock:l,onBlur:l,onFocus:l,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(t,e){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(r.UNLOCKED,this));for(var i=this.sounds.length-1;i>=0;i--)this.sounds[i].pendingRemove&&this.sounds.splice(i,1);this.sounds.forEach((function(i){i.update(t,e)}))},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(t,e){var i=this;this.sounds.forEach((function(a,n){a&&!a.pendingRemove&&t.call(e||i,a,n,i.sounds)}))},setRate:function(t){return this.rate=t,this},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.forEachActiveSound((function(t){t.calculateRate()})),this.emit(r.GLOBAL_RATE,this,t)}},setDetune:function(t){return this.detune=t,this},detune:{get:function(){return this._detune},set:function(t){this._detune=t,this.forEachActiveSound((function(t){t.calculateRate()})),this.emit(r.GLOBAL_DETUNE,this,t)}}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(59),r=i(18),o=i(1),l=new a({Extends:n,initialize:function(t,e,i){n.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},this.currentConfig=this.config,this.config=r(this.config,i),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(console.error("addMarker "+t.name+" already exists in Sound"),!1):(t=r(!0,{name:"",start:0,duration:this.totalDuration-(t.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0}},t),this.markers[t.name]=t,!0))},updateMarker:function(t){return!(!t||!t.name||"string"!=typeof t.name)&&(this.markers[t.name]?(this.markers[t.name]=r(!0,this.markers[t.name],t),!0):(console.warn("Audio Marker: "+t.name+" missing in Sound: "+this.key),!1))},removeMarker:function(t){var e=this.markers[t];return e?(this.markers[t]=null,e):null},play:function(t,e){if(void 0===t&&(t=""),"object"==typeof t&&(e=t,t=""),"string"!=typeof t)return!1;if(t){if(!this.markers[t])return console.warn("Marker: "+t+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[t],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}else this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;return this.resetConfig(),this.currentConfig=r(this.currentConfig,e),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return!(this.isPaused||!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!(!this.isPaused||this.isPlaying)&&(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!(!this.isPaused&&!this.isPlaying)&&(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var t=this.currentConfig.detune+this.manager.detune,e=Math.pow(1.0005777895065548,t);this.totalRate=this.currentConfig.rate*this.manager.rate*e},destroy:function(){this.pendingRemove||(this.emit(s.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(183),n=i(0),s=i(1),r=i(131),o=new n({initialize:function(t){this.parent=t,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(t,e){return e?a.Add(this.list,t):a.Add(this.list,t,0,this.addCallback,this)},addAt:function(t,e,i){return i?a.AddAt(this.list,t,e):a.AddAt(this.list,t,e,0,this.addCallback,this)},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),r.inplace(this.list,e),this):this},getByName:function(t){return a.GetFirst(this.list,"name",t)},getRandom:function(t,e){return a.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return a.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return a.GetAll(this.list,t,e,i,n)},count:function(t,e){return a.CountAllMatching(this.list,t,e)},swap:function(t,e){a.Swap(this.list,t,e)},moveTo:function(t,e){return a.MoveTo(this.list,t,e)},remove:function(t,e){return e?a.Remove(this.list,t):a.Remove(this.list,t,this.removeCallback,this)},removeAt:function(t,e){return e?a.RemoveAt(this.list,t):a.RemoveAt(this.list,t,this.removeCallback,this)},removeBetween:function(t,e,i){return i?a.RemoveBetween(this.list,t,e):a.RemoveBetween(this.list,t,e,this.removeCallback,this)},removeAll:function(t){for(var e=this.list.length;e--;)this.remove(this.list[e],t);return this},bringToTop:function(t){return a.BringToTop(this.list,t)},sendToBack:function(t){return a.SendToBack(this.list,t)},moveUp:function(t){return a.MoveUp(this.list,t),t},moveDown:function(t){return a.MoveDown(this.list,t),t},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(t,e){return a.Replace(this.list,t,e)},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return a.SetAll(this.list,t,e,i,n),this},each:function(t,e){for(var i=[null],a=2;a<arguments.length;a++)i.push(arguments[a]);for(a=0;a<this.list.length;a++)i[0]=this.list[a],t.apply(e,i)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(184),n=i(389);t.exports=function(t,e){if(void 0===e&&(e=90),!a(t))return null;if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)(t=n(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t.reverse(),t=n(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t.reverse()}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
//! stable.js 0.1.6, https://github.com/Two-Screen/stable
//!  2017 Angry Bytes and contributors. MIT licensed.
!function(){var e=function(t,e){return i(t.slice(),e)};function i(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var i=t.length;if(i<=1)return t;for(var n=new Array(i),s=1;s<i;s*=2){a(t,e,s,n);var r=t;t=n,n=r}return t}e.inplace=function(t,e){var n=i(t,e);return n!==t&&a(n,null,t.length,t),t};var a=function(t,e,i,a){var n,s,r,o,l,h=t.length,u=0,c=2*i;for(n=0;n<h;n+=c)for(r=(s=n+i)+i,s>h&&(s=h),r>h&&(r=h),o=n,l=s;;)if(o<s&&l<r)e(t[o],t[l])<=0?a[u++]=t[o++]:a[u++]=t[l++];else if(o<s)a[u++]=t[o++];else{if(!(l<r))break;a[u++]=t[l++]}};t.exports=e}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(943),o=i(944),l=i(187),h=i(945),u=new a({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Texture,n.Tint,n.Transform,n.Visible,h],initialize:function(t,e,i,a,n,o,l){void 0===n&&(n=""),void 0===l&&(l=0),s.call(this,t,"BitmapText"),this.font=a;var h=this.scene.sys.cache.bitmapFont.get(a);this.fontData=h.data,this._text="",this._fontSize=o||this.fontData.size,this._letterSpacing=0,this._align=l,this._bounds=r(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.setTexture(h.texture,h.frame),this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.setText(n)},setLeftAlign:function(){return this._align=u.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=u.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=u.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(t){return this._fontSize=t,this._dirty=!0,this},setLetterSpacing:function(t){return void 0===t&&(t=0),this._letterSpacing=t,this._dirty=!0,this},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this._text=t.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},getTextBounds:function(t){var e=this._bounds;return(this._dirty||this.scaleX!==e.scaleX||this.scaleY!==e.scaleY)&&(r(this,t,e),this._dirty=!1,this.updateDisplayOrigin()),e},setFont:function(t,e,i){if(void 0===e&&(e=this._fontSize),void 0===i&&(i=this._align),t!==this.font){var a=this.scene.sys.cache.bitmapFont.get(t);a&&(this.font=t,this.fontData=a.data,this._fontSize=e,this._align=i,this.setTexture(a.texture,a.frame),r(this,!1,this._bounds))}return this},setMaxWidth:function(t,e){return this._maxWidth=t,this._dirty=!0,void 0!==e&&(this.wordWrapCharCode=e),this},align:{set:function(t){this._align=t,this._dirty=!0},get:function(){return this._align}},text:{set:function(t){this.setText(t)},get:function(){return this._text}},fontSize:{set:function(t){this._fontSize=t,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(t){this._letterSpacing=t,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(t){this._maxWidth=t,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=n.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return t.data=e,t}});u.ALIGN_LEFT=0,u.ALIGN_CENTER=1,u.ALIGN_RIGHT=2,u.ParseFromAtlas=o,u.ParseXMLBitmapFont=l,t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var a=this.entries[i];if(a[t]===e)return a}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t,e){var i,a=this.entries.slice(),n=a.length;if(e)for(i=0;i<n&&!1!==t.call(e,a[i],i);i++);else for(i=0;i<n&&!1!==t(a[i],i);i++);return this},iterate:function(t,e){var i,a=this.entries.length;if(e)for(i=0;i<a&&!1!==t.call(e,this.entries[i],i);i++);else for(i=0;i<a&&!1!==t(this.entries[i],i);i++);return this},iterateLocal:function(t){var e,i=[];for(e=1;e<arguments.length;e++)i.push(arguments[e]);var a=this.entries.length;for(e=0;e<a;e++){var n=this.entries[e];n[t].apply(n,i)}return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new a;return t.entries.forEach((function(t){e.set(t)})),this.entries.forEach((function(t){e.set(t)})),e},intersect:function(t){var e=new a;return this.entries.forEach((function(i){t.contains(i)&&e.set(i)})),e},difference:function(t){var e=new a;return this.entries.forEach((function(i){t.contains(i)||e.set(i)})),e},size:{get:function(){return this.entries.length},set:function(t){return t<this.entries.length?this.entries.length=t:this.entries.length}}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(1075),o=i(1),l=new a({Extends:s,Mixins:[n.BlendMode,n.Depth,n.Mask,n.Pipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,r],initialize:function(t,e,i,a,n,r,o,l,h){if(s.call(this,t,"Mesh"),a.length!==n.length)throw new Error("Mesh Vertex count must match UV count");var u,c=a.length/2|0;if(r.length>0&&r.length<c)throw new Error("Mesh Color count must match Vertex count");if(o.length>0&&o.length<c)throw new Error("Mesh Alpha count must match Vertex count");if(0===r.length)for(u=0;u<c;++u)r[u]=16777215;if(0===o.length)for(u=0;u<c;++u)o[u]=1;this.vertices=new Float32Array(a),this.uv=new Float32Array(n),this.colors=new Uint32Array(r),this.alphas=new Float32Array(o),this.tintFill=!1,this.setTexture(l,h),this.setPosition(e,i),this.setSizeToFrame(),this.initPipeline()},setAlpha:o});t.exports=l},function(t,e){t.exports=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6),n={},s={register:function(t,e,i,a,s){n[t]={plugin:e,mapping:i,settingsKey:a,configKey:s}},getPlugin:function(t){return n[t]},install:function(t){var e=t.scene.sys,i=e.settings.input,s=e.game.config;for(var r in n){var o=n[r].plugin,l=n[r].mapping,h=n[r].settingsKey,u=n[r].configKey;a(i,h,s[u])&&(t[l]=new o(t))}},remove:function(t){n.hasOwnProperty(t)&&delete n[t]}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ANY_KEY_DOWN:i(1215),ANY_KEY_UP:i(1216),COMBO_MATCH:i(1217),DOWN:i(1218),KEY_DOWN:i(1219),KEY_UP:i(1220),UP:i(1221)}},function(t,e){t.exports=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)}},function(t,e){t.exports=function(t,e,i,a,n,s){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===a&&(a=""),void 0===n&&(n=0),void 0===s&&(s=!1),{responseType:t,async:e,user:i,password:a,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(217),s=i(75),r=new a({Extends:s,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Size,n.Velocity],initialize:function(t,e,i,a,n){s.call(this,t,e,i,a,n),this.body=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CalculateFacesAt:i(220),CalculateFacesWithin:i(51),Copy:i(1311),CreateFromTiles:i(1312),CullTiles:i(1313),Fill:i(1314),FilterTiles:i(1315),FindByIndex:i(1316),FindTile:i(1317),ForEachTile:i(1318),GetTileAt:i(142),GetTileAtWorldXY:i(1319),GetTilesWithin:i(24),GetTilesWithinShape:i(1320),GetTilesWithinWorldXY:i(1321),HasTileAt:i(475),HasTileAtWorldXY:i(1322),IsInLayerBounds:i(101),PutTileAt:i(221),PutTileAtWorldXY:i(1323),PutTilesAt:i(1324),Randomize:i(1325),RemoveTileAt:i(476),RemoveTileAtWorldXY:i(1326),RenderDebug:i(1327),ReplaceByIndex:i(474),SetCollision:i(1328),SetCollisionBetween:i(1329),SetCollisionByExclusion:i(1330),SetCollisionByProperty:i(1331),SetCollisionFromCollisionGroup:i(1332),SetTileIndexCallback:i(1333),SetTileLocationCallback:i(1334),Shuffle:i(1335),SwapByIndex:i(1336),TileToWorldX:i(143),TileToWorldXY:i(1337),TileToWorldY:i(144),WeightedRandomize:i(1338),WorldToTileX:i(63),WorldToTileXY:i(1339),WorldToTileY:i(64)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(101);t.exports=function(t,e,i,n){if(void 0===i&&(i=!1),a(t,e,n)){var s=n.data[e][t]||null;return null===s?null:-1===s.index?i?s:null:s}return null}},function(t,e){t.exports=function(t,e,i){var a=i.baseTileWidth,n=i.tilemapLayer,s=0;return n&&(void 0===e&&(e=n.scene.cameras.main),s=n.x+e.scrollX*(1-n.scrollFactorX),a*=n.scaleX),s+t*a}},function(t,e){t.exports=function(t,e,i){var a=i.baseTileHeight,n=i.tilemapLayer,s=0;return n&&(void 0===e&&(e=n.scene.cameras.main),s=n.y+e.scrollY*(1-n.scrollFactorY),a*=n.scaleY),s+t*a}},function(t,e){t.exports=function(t,e,i){var a;t.hasOwnProperty(e)?a="function"===typeof t[e]?function(i,a,n,s,r,o){return t[e](i,a,n,s,r,o)}:function(){return t[e]}:a="function"==typeof i?i:function(){return i};return a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(230),n=i(14),s=i(88),r=i(69),o=i(145),l=i(497),h=i(228),u=i(6),c=i(229),d=i(231),p=i(233);t.exports=function(t,e,i){void 0===i&&(i=a);for(var f=i.targets?i.targets:h(e),m=l(e),g=o(e,"delay",i.delay),y=o(e,"duration",i.duration),k=u(e,"easeParams",i.easeParams),v=r(u(e,"ease",i.ease),k),b=o(e,"hold",i.hold),w=o(e,"repeat",i.repeat),S=o(e,"repeatDelay",i.repeatDelay),x=s(e,"yoyo",i.yoyo),T=s(e,"flipX",i.flipX),A=s(e,"flipY",i.flipY),E=[],C=0;C<m.length;C++)for(var M=m[C].key,_=m[C].value,B=0;B<f.length;B++){var I=c(M,_),D=p(f[B],B,M,I.getEnd,I.getStart,I.getActive,r(u(_,"ease",v),k),o(_,"delay",g),o(_,"duration",y),s(_,"yoyo",x),o(_,"hold",b),o(_,"repeat",w),o(_,"repeatDelay",S),s(_,"flipX",T),s(_,"flipY",A));E.push(D)}var P=new d(t,E,f);P.offset=n(e,"offset",null),P.completeDelay=n(e,"completeDelay",0),P.loop=Math.round(n(e,"loop",0)),P.loopDelay=Math.round(n(e,"loopDelay",0)),P.paused=s(e,"paused",!1),P.useFrames=s(e,"useFrames",!1);for(var L=u(e,"callbackScope",P),O=[P,null],N=d.TYPES,G=0;G<N.length;G++){var R=N[G],F=u(e,R,!1);if(F){var Q=u(e,R+"Scope",L),U=u(e,R+"Params",[]);P.setCallback(R,F,O.concat(U),Q)}}return P}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(9),s=new a({initialize:function(t){this.name="WebGLPipeline",this.game=t.game,this.view=t.game.canvas,this.resolution=1,this.width=0,this.height=0,this.gl=t.gl,this.vertexCount=0,this.vertexCapacity=t.vertexCapacity,this.renderer=t.renderer,this.vertexData=t.vertices?t.vertices:new ArrayBuffer(t.vertexCapacity*t.vertexSize),this.vertexBuffer=this.renderer.createVertexBuffer(t.vertices?t.vertices:this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=this.renderer.createProgram(t.vertShader,t.fragShader),this.attributes=t.attributes,this.vertexSize=t.vertexSize,this.topology=t.topology,this.bytes=new Uint8Array(this.vertexData),this.vertexComponentCount=n.getComponentCount(t.attributes,this.gl),this.flushLocked=!1,this.active=!1},boot:function(){},addAttribute:function(t,e,i,a,s){return this.attributes.push({name:t,size:e,type:this.renderer.glFormats[i],normalized:a,offset:s}),this.vertexComponentCount=n.getComponentCount(this.attributes,this.gl),this},shouldFlush:function(){return this.vertexCount>=this.vertexCapacity},resize:function(t,e,i){return this.width=t*i,this.height=e*i,this.resolution=i,this},bind:function(){var t=this.gl,e=this.vertexBuffer,i=this.attributes,a=this.program,n=this.renderer,s=this.vertexSize;n.setProgram(a),n.setVertexBuffer(e);for(var r=0;r<i.length;++r){var o=i[r],l=t.getAttribLocation(a,o.name);l>=0?(t.enableVertexAttribArray(l),t.vertexAttribPointer(l,o.size,o.type,o.normalized,s,o.offset)):-1!==l&&t.disableVertexAttribArray(l)}return this},onBind:function(){return this},onPreRender:function(){return this},onRender:function(){return this},onPostRender:function(){return this},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t=this.gl,e=this.vertexCount,i=this.topology,a=this.vertexSize;if(0!==e)return t.bufferSubData(t.ARRAY_BUFFER,0,this.bytes.subarray(0,e*a)),t.drawArrays(i,0,e),this.vertexCount=0,this.flushLocked=!1,this;this.flushLocked=!1},destroy:function(){var t=this.gl;return t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),delete this.program,delete this.vertexBuffer,delete this.gl,this},setFloat1:function(t,e){return this.renderer.setFloat1(this.program,t,e),this},setFloat2:function(t,e,i){return this.renderer.setFloat2(this.program,t,e,i),this},setFloat3:function(t,e,i,a){return this.renderer.setFloat3(this.program,t,e,i,a),this},setFloat4:function(t,e,i,a,n){return this.renderer.setFloat4(this.program,t,e,i,a,n),this},setFloat1v:function(t,e){return this.renderer.setFloat1v(this.program,t,e),this},setFloat2v:function(t,e){return this.renderer.setFloat2v(this.program,t,e),this},setFloat3v:function(t,e){return this.renderer.setFloat3v(this.program,t,e),this},setFloat4v:function(t,e){return this.renderer.setFloat4v(this.program,t,e),this},setInt1:function(t,e){return this.renderer.setInt1(this.program,t,e),this},setInt2:function(t,e,i){return this.renderer.setInt2(this.program,t,e,i),this},setInt3:function(t,e,i,a){return this.renderer.setInt3(this.program,t,e,i,a),this},setInt4:function(t,e,i,a,n){return this.renderer.setInt4(this.program,t,e,i,a,n),this},setMatrix2:function(t,e,i){return this.renderer.setMatrix2(this.program,t,e,i),this},setMatrix3:function(t,e,i){return this.renderer.setMatrix3(this.program,t,e,i),this},setMatrix4:function(t,e,i){return this.renderer.setMatrix4(this.program,t,e,i),this}});t.exports=s},function(t,e,i){var a={};t.exports=a;var n=i(240),s=i(38),r=i(100),o=i(62);a.create=function(t){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},a.setModified=function(t,e,i,s){if(n.trigger(t,"compositeModified",t),t.isModified=e,i&&t.parent&&a.setModified(t.parent,e,i,s),s)for(var r=0;r<t.composites.length;r++){var o=t.composites[r];a.setModified(o,e,i,s)}},a.add=function(t,e){var i=[].concat(e);n.trigger(t,"beforeAdd",{object:e});for(var r=0;r<i.length;r++){var o=i[r];switch(o.type){case"body":if(o.parent!==o){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(t,o);break;case"constraint":a.addConstraint(t,o);break;case"composite":a.addComposite(t,o);break;case"mouseConstraint":a.addConstraint(t,o.constraint)}}return n.trigger(t,"afterAdd",{object:e}),t},a.remove=function(t,e,i){var s=[].concat(e);n.trigger(t,"beforeRemove",{object:e});for(var r=0;r<s.length;r++){var o=s[r];switch(o.type){case"body":a.removeBody(t,o,i);break;case"constraint":a.removeConstraint(t,o,i);break;case"composite":a.removeComposite(t,o,i);break;case"mouseConstraint":a.removeConstraint(t,o.constraint)}}return n.trigger(t,"afterRemove",{object:e}),t},a.addComposite=function(t,e){return t.composites.push(e),e.parent=t,a.setModified(t,!0,!0,!1),t},a.removeComposite=function(t,e,i){var n=t.composites.indexOf(e);if(-1!==n&&(a.removeCompositeAt(t,n),a.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)a.removeComposite(t.composites[s],e,!0);return t},a.removeCompositeAt=function(t,e){return t.composites.splice(e,1),a.setModified(t,!0,!0,!1),t},a.addBody=function(t,e){return t.bodies.push(e),a.setModified(t,!0,!0,!1),t},a.removeBody=function(t,e,i){var n=t.bodies.indexOf(e);if(-1!==n&&(a.removeBodyAt(t,n),a.setModified(t,!0,!0,!1)),i)for(var s=0;s<t.composites.length;s++)a.removeBody(t.composites[s],e,!0);return t},a.removeBodyAt=function(t,e){return t.bodies.splice(e,1),a.setModified(t,!0,!0,!1),t},a.addConstraint=function(t,e){return t.constraints.push(e),a.setModified(t,!0,!0,!1),t},a.removeConstraint=function(t,e,i){var n=t.constraints.indexOf(e);if(-1!==n&&a.removeConstraintAt(t,n),i)for(var s=0;s<t.composites.length;s++)a.removeConstraint(t.composites[s],e,!0);return t},a.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),a.setModified(t,!0,!0,!1),t},a.clear=function(t,e,i){if(i)for(var n=0;n<t.composites.length;n++)a.clear(t.composites[n],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,a.setModified(t,!0,!0,!1),t},a.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(a.allBodies(t.composites[i]));return e},a.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(a.allConstraints(t.composites[i]));return e},a.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(a.allComposites(t.composites[i]));return e},a.get=function(t,e,i){var n,s;switch(i){case"body":n=a.allBodies(t);break;case"constraint":n=a.allConstraints(t);break;case"composite":n=a.allComposites(t).concat(t)}return n?0===(s=n.filter((function(t){return t.id.toString()===e.toString()}))).length?null:s[0]:null},a.move=function(t,e,i){return a.remove(t,e),a.add(i,e),t},a.rebase=function(t){for(var e=a.allBodies(t).concat(a.allConstraints(t)).concat(a.allComposites(t)),i=0;i<e.length;i++)e[i].id=s.nextId();return a.setModified(t,!0,!0,!1),t},a.translate=function(t,e,i){for(var n=i?a.allBodies(t):t.bodies,s=0;s<n.length;s++)o.translate(n[s],e);return a.setModified(t,!0,!0,!1),t},a.rotate=function(t,e,i,n){for(var s=Math.cos(e),r=Math.sin(e),l=n?a.allBodies(t):t.bodies,h=0;h<l.length;h++){var u=l[h],c=u.position.x-i.x,d=u.position.y-i.y;o.setPosition(u,{x:i.x+(c*s-d*r),y:i.y+(c*r+d*s)}),o.rotate(u,e)}return a.setModified(t,!0,!0,!1),t},a.scale=function(t,e,i,n,s){for(var r=s?a.allBodies(t):t.bodies,l=0;l<r.length;l++){var h=r[l],u=h.position.x-n.x,c=h.position.y-n.y;o.setPosition(h,{x:n.x+u*e,y:n.y+c*i}),o.scale(h,e,i)}return a.setModified(t,!0,!0,!1),t},a.bounds=function(t){for(var e=a.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return r.create(i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){return void 0===i&&(i=new a),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){void 0===e&&(e=new a);var i=2*Math.PI*Math.random(),n=Math.random()+Math.random(),s=n>1?2-n:n,r=s*Math.cos(i),o=s*Math.sin(i);return e.x=t.x+r*t.radius,e.y=t.y+o*t.radius,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(10),r=i(111),o=i(270),l=i(271),h=i(6),u=new n({Extends:s,initialize:function(t,e,i){s.call(this),this.manager=t,this.key=e,this.type="frame",this.frames=this.getFrames(t.textureManager,h(i,"frames",[]),h(i,"defaultTextureKey",null)),this.frameRate=h(i,"frameRate",null),this.duration=h(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length*1e3):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/(this.duration/1e3):this.duration=this.frames.length/this.frameRate*1e3,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=h(i,"skipMissedFrames",!0),this.delay=h(i,"delay",0),this.repeat=h(i,"repeat",0),this.repeatDelay=h(i,"repeatDelay",0),this.yoyo=h(i,"yoyo",!1),this.showOnStart=h(i,"showOnStart",!1),this.hideOnComplete=h(i,"hideOnComplete",!1),this.paused=!1,this.manager.on(r.PAUSE_ALL,this.pause,this),this.manager.on(r.RESUME_ALL,this.resume,this)},addFrame:function(t){return this.addFrameAt(this.frames.length,t)},addFrameAt:function(t,e){var i=this.getFrames(this.manager.textureManager,e);if(i.length>0){if(0===t)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var a=this.frames.slice(0,t),n=this.frames.slice(t);this.frames=a.concat(i,n)}this.updateFrameSequence()}return this},checkFrame:function(t){return t>=0&&t<this.frames.length},completeAnimation:function(t){this.hideOnComplete&&(t.parent.visible=!1),t.stop()},getFirstTick:function(t,e){void 0===e&&(e=!0),t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration,e&&(t.nextTick+=t._delay)},getFrameAt:function(t){return this.frames[t]},getFrames:function(t,e,i){var a,n,s,r,o=[],u=1;if("string"==typeof e){r=e;var c=t.get(r).getFrameNames();e=[],c.forEach((function(t,i){e.push({key:r,frame:i})}))}if(!Array.isArray(e)||0===e.length)return o;for(s=0;s<e.length;s++){var d=e[s],p=h(d,"key",i);if(p){var f=h(d,"frame",0),m=t.getFrame(p,f);(n=new l(p,f,u,m)).duration=h(d,"duration",0),n.isFirst=!a,a&&(a.nextFrame=n,n.prevFrame=a),o.push(n),a=n,u++}}if(o.length>0){n.isLast=!0,n.nextFrame=o[0],o[0].prevFrame=n;var g=1/(o.length-1);for(s=0;s<o.length;s++)o[s].progress=s*g}return o},getNextTick:function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration},load:function(t,e){e>=this.frames.length&&(e=0),t.currentAnim!==this&&(t.currentAnim=this,t.frameRate=this.frameRate,t.duration=this.duration,t.msPerFrame=this.msPerFrame,t.skipMissedFrames=this.skipMissedFrames,t._delay=this.delay,t._repeat=this.repeat,t._repeatDelay=this.repeatDelay,t._yoyo=this.yoyo);var i=this.frames[e];0!==e||t.forward||(i=this.getLastFrame()),t.updateFrame(i)},getFrameByProgress:function(t){return t=a(t,0,1),o(t,this.frames,"progress")},nextFrame:function(t){var e=t.currentFrame;e.isLast?t._yoyo?this.handleYoyoFrame(t,!1):t.repeatCounter>0?t._reverse&&t.forward?t.forward=!1:this.repeatAnimation(t):this.completeAnimation(t):this.updateAndGetNextTick(t,e.nextFrame)},handleYoyoFrame:function(t,e){if(e||(e=!1),t._reverse===!e&&t.repeatCounter>0)return t._repeatDelay&&!t.pendingRepeat||(t.forward=e),void this.repeatAnimation(t);if(t._reverse===e||0!==t.repeatCounter){t.forward=e;var i=e?t.currentFrame.nextFrame:t.currentFrame.prevFrame;this.updateAndGetNextTick(t,i)}else this.completeAnimation(t)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(t){var e=t.currentFrame;e.isFirst?t._yoyo?this.handleYoyoFrame(t,!0):t.repeatCounter>0?t._reverse&&!t.forward?(t.currentFrame=this.getLastFrame(),this.repeatAnimation(t)):(t.forward=!0,this.repeatAnimation(t)):this.completeAnimation(t):this.updateAndGetNextTick(t,e.prevFrame)},updateAndGetNextTick:function(t,e){t.updateFrame(e),this.getNextTick(t)},removeFrame:function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this},removeFrameAt:function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this},repeatAnimation:function(t){if(2===t._pendingStop)return this.completeAnimation(t);if(t._repeatDelay>0&&!1===t.pendingRepeat)t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=t._repeatDelay;else if(t.repeatCounter--,t.updateFrame(t.currentFrame[t.forward?"nextFrame":"prevFrame"]),t.isPlaying){this.getNextTick(t),t.pendingRepeat=!1;var e=t.currentFrame,i=t.parent;this.emit(r.ANIMATION_REPEAT,this,e),i.emit(r.SPRITE_ANIMATION_KEY_REPEAT+this.key,this,e,t.repeatCounter,i),i.emit(r.SPRITE_ANIMATION_REPEAT,this,e,t.repeatCounter,i)}},setFrame:function(t){t.forward?this.nextFrame(t):this.previousFrame(t)},toJSON:function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach((function(e){t.frames.push(e.toJSON())})),t},updateFrameSequence:function(){for(var t,e=this.frames.length,i=1/(e-1),a=0;a<e;a++)(t=this.frames[a]).index=a+1,t.isFirst=!1,t.isLast=!1,t.progress=a*i,0===a?(t.isFirst=!0,1===e?(t.isLast=!0,t.nextFrame=t,t.prevFrame=t):(t.isLast=!1,t.prevFrame=this.frames[e-1],t.nextFrame=this.frames[a+1])):a===e-1&&e>1?(t.isLast=!0,t.prevFrame=this.frames[e-2],t.nextFrame=this.frames[0]):e>1&&(t.prevFrame=this.frames[a-1],t.nextFrame=this.frames[a+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.removeAllListeners(),this.manager.off(r.PAUSE_ALL,this.pause,this),this.manager.off(r.RESUME_ALL,this.resume,this),this.manager.remove(this.key);for(var t=0;t<this.frames.length;t++)this.frames[t].destroy();this.frames=[],this.manager=null}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(112),n=i(4);t.exports=function(t,e,i){if(void 0===i&&(i=new n),e<=0||e>=1)return i.x=t.x,i.y=t.y,i;var s=a(t)*e;return e>.5?(s-=t.width+t.height)<=t.width?(i.x=t.right-s,i.y=t.bottom):(i.x=t.x,i.y=t.bottom-(s-t.width)):s<=t.width?(i.x=t.x+s,i.y=t.y):(i.x=t.right,i.y=t.y+(s-t.width)),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57),n=i(4);t.exports=function(t,e,i,s){void 0===s&&(s=[]),!e&&i>0&&(e=a(t)/i);for(var r=t.x1,o=t.y1,l=t.x2,h=t.y2,u=0;u<e;u++){var c=u/e,d=r+(l-r)*c,p=o+(h-o)*c;s.push(new n(d,p))}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){void 0===e&&(e=new a);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={defaultPipeline:null,pipeline:null,initPipeline:function(t){void 0===t&&(t="TextureTintPipeline");var e=this.scene.sys.game.renderer;return!!(e&&e.gl&&e.hasPipeline(t))&&(this.defaultPipeline=e.getPipeline(t),this.pipeline=this.defaultPipeline,!0)},setPipeline:function(t){var e=this.scene.sys.game.renderer;return e&&e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t)),this},resetPipeline:function(){return this.pipeline=this.defaultPipeline,null!==this.pipeline},getPipelineName:function(){return this.pipeline.name}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){void 0===e&&(e=new a);var i=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return e.x=t.x+n*Math.cos(i)*t.width/2,e.y=t.y+n*Math.sin(i)*t.height/2,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){void 0===e&&(e=new a);var i=t.x2-t.x1,n=t.y2-t.y1,s=t.x3-t.x1,r=t.y3-t.y1,o=Math.random(),l=Math.random();return o+l>=1&&(o=1-o,l=1-l),e.x=t.x1+(i*o+s*l),e.y=t.y1+(n*o+r*l),e}},function(t,e){t.exports=function(t,e,i,a,n){var s=a+Math.atan2(t.y-i,t.x-e);return t.x=e+n*Math.cos(s),t.y=i+n*Math.sin(s),t}},function(t,e){t.exports=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)}},function(t,e){t.exports=function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||this.size++,this.entries[t]=e,this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach((function(t){delete this.entries[t]}),this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;for(var e in console.group("Map"),t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,a=t.entries;for(var n in a)i.hasOwnProperty(n)&&e?i[n]=a[n]:this.set(n,a[n]);return this}});t.exports=a},function(t,e){t.exports=function(t,e,i,a){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===a&&(a=3);var n=0;if(e+1>=(t=t.toString()).length)switch(a){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((n=e-t.length)/2);t=new Array(n-s+1).join(i)+t+new Array(s+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(294),n=i(297),s=i(299),r=i(300);t.exports=function(t){switch(typeof t){case"string":return"rgb"===t.substr(0,3).toLowerCase()?r(t):a(t);case"number":return n(t);case"object":return s(t)}}},function(t,e){t.exports=function(t,e,i){return t<<16|e<<8|i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(165);t.exports=function(t,e,i,n){void 0===e&&(e=1),void 0===i&&(i=1);var s=Math.floor(6*t),r=6*t-s,o=Math.floor(i*(1-e)*255),l=Math.floor(i*(1-r*e)*255),h=Math.floor(i*(1-(1-r)*e)*255),u=i=Math.floor(i*=255),c=i,d=i,p=s%6;return 0===p?(c=h,d=o):1===p?(u=l,d=o):2===p?(u=o,d=h):3===p?(u=o,c=l):4===p?(u=h,c=o):5===p&&(c=o,d=l),n?n.setTo?n.setTo(u,c,d,n.alpha,!1):(n.r=u,n.g=c,n.b=d,n.color=a(u,c,d),n):{r:u,g:c,b:d,color:a(u,c,d)}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i,a="";t.exports={disable:function(t){return""===a&&(a=i(t)),a&&(t[a]=!1),t},enable:function(t){return""===a&&(a=i(t)),a&&(t[a]=!0),t},getPrefix:i=function(t){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var a=e[i]+"mageSmoothingEnabled";if(a in t)return a}return null},isEnabled:function(t){return null!==a?t[a]:null}}},function(t,e){t.exports=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(117),n=i(118),s=i(26),r={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};t.exports=function(){r.canvas=!!window.CanvasRenderingContext2D;try{r.localStorage=!!localStorage.getItem}catch(t){r.localStorage=!1}r.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),r.fileSystem=!!window.requestFileSystem;var t,e,i,o=!1;return r.webGL=function(){if(window.WebGLRenderingContext)try{var t=s.createWebGL(this),e=t.getContext("webgl")||t.getContext("experimental-webgl"),i=s.create2D(this),a=i.getContext("2d").createImageData(1,1);return o=a.data instanceof Uint8ClampedArray,s.remove(t),s.remove(i),!!e}catch(t){return!1}return!1}(),r.worker=!!window.Worker,r.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,r.getUserMedia=r.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,n.firefox&&n.firefoxVersion<21&&(r.getUserMedia=!1),!a.iOS&&(n.ie||n.firefox||n.chrome)&&(r.canvasBitBltShift=!0),(n.safari||n.mobileSafari)&&(r.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(r.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(r.littleEndian=(t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t),e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null)),r.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==r.littleEndian&&o,r}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(18),s={Angle:i(733),Distance:i(743),Easing:i(748),Fuzzy:i(749),Interpolation:i(752),Pow2:i(757),Snap:i(759),RandomDataGenerator:i(761),Average:i(762),Bernstein:i(323),Between:i(172),CatmullRom:i(171),CeilTo:i(763),Clamp:i(19),DegToRad:i(35),Difference:i(764),Factorial:i(324),FloatBetween:i(119),FloorTo:i(765),FromPercent:i(87),GetSpeed:i(766),IsEven:i(767),IsEvenStrict:i(768),Linear:i(116),MaxAdd:i(769),MinSub:i(770),Percent:i(771),RadToDeg:i(173),RandomXY:i(772),RandomXYZ:i(773),RandomXYZW:i(774),Rotate:i(330),RotateAround:i(276),RotateAroundDistance:i(159),RoundAwayFromZero:i(331),RoundTo:i(775),SinCosTableGenerator:i(776),SmootherStep:i(160),SmoothStep:i(161),ToXY:i(777),TransformXY:i(332),Within:i(778),Wrap:i(58),Vector2:i(3),Vector3:i(174),Vector4:i(333),Matrix3:i(334),Matrix4:i(335),Quaternion:i(336),RotateVec3:i(779)};s=n(!1,s,a),t.exports=s},function(t,e){t.exports=function(t,e,i,a,n){var s=.5*(a-e),r=.5*(n-i),o=t*t;return(2*i-2*a+s+r)*(t*o)+(-3*i+3*a-2*s-r)*o+s*t+i}},function(t,e){t.exports=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15);t.exports=function(t){return t*a.RAD_TO_DEG}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i){this.x=0,this.y=0,this.z=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},clone:function(){return new a(this.x,this.y,this.z)},crossVectors:function(t,e){var i=t.x,a=t.y,n=t.z,s=e.x,r=e.y,o=e.z;return this.x=a*o-n*r,this.y=n*s-i*o,this.z=i*r-a*s,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this},set:function(t,e,i){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):(this.x=t||0,this.y=e||0,this.z=i||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this},scale:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,a=t.z-this.z||0;return Math.sqrt(e*e+i*i+a*a)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,a=t.z-this.z||0;return e*e+i*i+a*a},length:function(){var t=this.x,e=this.y,i=this.z;return Math.sqrt(t*t+e*e+i*i)},lengthSq:function(){var t=this.x,e=this.y,i=this.z;return t*t+e*e+i*i},normalize:function(){var t=this.x,e=this.y,i=this.z,a=t*t+e*e+i*i;return a>0&&(a=1/Math.sqrt(a),this.x=t*a,this.y=e*a,this.z=i*a),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},cross:function(t){var e=this.x,i=this.y,a=this.z,n=t.x,s=t.y,r=t.z;return this.x=i*r-a*s,this.y=a*n-e*r,this.z=e*s-i*n,this},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,a=this.y,n=this.z;return this.x=i+e*(t.x-i),this.y=a+e*(t.y-a),this.z=n+e*(t.z-n),this},transformMat3:function(t){var e=this.x,i=this.y,a=this.z,n=t.val;return this.x=e*n[0]+i*n[3]+a*n[6],this.y=e*n[1]+i*n[4]+a*n[7],this.z=e*n[2]+i*n[5]+a*n[8],this},transformMat4:function(t){var e=this.x,i=this.y,a=this.z,n=t.val;return this.x=n[0]*e+n[4]*i+n[8]*a+n[12],this.y=n[1]*e+n[5]*i+n[9]*a+n[13],this.z=n[2]*e+n[6]*i+n[10]*a+n[14],this},transformCoordinates:function(t){var e=this.x,i=this.y,a=this.z,n=t.val,s=e*n[0]+i*n[4]+a*n[8]+n[12],r=e*n[1]+i*n[5]+a*n[9]+n[13],o=e*n[2]+i*n[6]+a*n[10]+n[14],l=e*n[3]+i*n[7]+a*n[11]+n[15];return this.x=s/l,this.y=r/l,this.z=o/l,this},transformQuat:function(t){var e=this.x,i=this.y,a=this.z,n=t.x,s=t.y,r=t.z,o=t.w,l=o*e+s*a-r*i,h=o*i+r*e-n*a,u=o*a+n*i-s*e,c=-n*e-s*i-r*a;return this.x=l*o+c*-n+h*-r-u*-s,this.y=h*o+c*-s+u*-n-l*-r,this.z=u*o+c*-r+l*-s-h*-n,this},project:function(t){var e=this.x,i=this.y,a=this.z,n=t.val,s=n[0],r=n[1],o=n[2],l=n[3],h=n[4],u=n[5],c=n[6],d=n[7],p=n[8],f=n[9],m=n[10],g=n[11],y=n[12],k=n[13],v=n[14],b=1/(e*l+i*d+a*g+n[15]);return this.x=(e*s+i*h+a*p+y)*b,this.y=(e*r+i*u+a*f+k)*b,this.z=(e*o+i*c+a*m+v)*b,this},unproject:function(t,e){var i=t.x,a=t.y,n=t.z,s=t.w,r=this.x-i,o=s-this.y-1-a,l=this.z;return this.x=2*r/n-1,this.y=2*o/s-1,this.z=2*l-1,this.project(e)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});a.ZERO=new a,a.RIGHT=new a(1,0,0),a.LEFT=new a(-1,0,0),a.UP=new a(0,-1,0),a.DOWN=new a(0,1,0),a.FORWARD=new a(0,0,1),a.BACK=new a(0,0,-1),a.ONE=new a(1,1,1),t.exports=a},function(t,e,i){t.exports={Global:["game","anims","cache","plugins","registry","scale","sound","textures"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11),n=i(15);t.exports=function(t,e){if(void 0===e&&(e=new a),0===t.length)return e;for(var i,s,r,o=Number.MAX_VALUE,l=Number.MAX_VALUE,h=n.MIN_SAFE_INTEGER,u=n.MIN_SAFE_INTEGER,c=0;c<t.length;c++)i=t[c],Array.isArray(i)?(s=i[0],r=i[1]):(s=i.x,r=i.y),o=Math.min(o,s),l=Math.min(l,r),h=Math.max(h,s),u=Math.max(u,r);return e.x=o,e.y=l,e.width=h-o,e.height=u-l,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a={CENTER:i(358),ORIENTATION:i(359),SCALE_MODE:i(360),ZOOM:i(361)};t.exports=a},function(t,e){t.exports=function(t){t.parentNode&&t.parentNode.removeChild(t)}},function(t,e){t.exports={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(125),s=i(175),r=i(22),o=i(878),l=i(879),h=i(1),u=i(374),c=new a({initialize:function(t,e){this.scene=t,this.game,this.renderer,this.config=e,this.settings=u.create(e),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(t){this.settings.status=n.INIT,this.sceneUpdate=h,this.game=t,this.renderer=t.renderer,this.canvas=t.canvas,this.context=t.context;var e=t.plugins;this.plugins=e,e.addToScene(this,s.Global,[s.CoreScene,l(this),o(this)]),this.events.emit(r.BOOT,this),this.settings.isBooted=!0},install:function(t){Array.isArray(t)||(t=[t]),this.plugins.installLocal(this,t)},step:function(t,e){this.events.emit(r.PRE_UPDATE,t,e),this.events.emit(r.UPDATE,t,e),this.sceneUpdate.call(this.scene,t,e),this.events.emit(r.POST_UPDATE,t,e)},render:function(t){var e=this.displayList;e.depthSort(),this.cameras.render(t,e),this.events.emit(r.RENDER,t)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(t){return this.settings.active&&(this.settings.status=n.PAUSED,this.settings.active=!1,this.events.emit(r.PAUSE,this,t)),this},resume:function(t){return this.settings.active||(this.settings.status=n.RUNNING,this.settings.active=!0,this.events.emit(r.RESUME,this,t)),this},sleep:function(t){return this.settings.status=n.SLEEPING,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.SLEEP,this,t),this},wake:function(t){var e=this.settings;return e.status=n.RUNNING,e.active=!0,e.visible=!0,this.events.emit(r.WAKE,this,t),e.isTransition&&this.events.emit(r.TRANSITION_WAKE,e.transitionFrom,e.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===n.SLEEPING},isActive:function(){return this.settings.status===n.RUNNING},isPaused:function(){return this.settings.status===n.PAUSED},isTransitioning:function(){return this.settings.isTransition||null!==this.scenePlugin._target},isTransitionOut:function(){return null!==this.scenePlugin._target&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(t){return this.settings.visible=t,this},setActive:function(t,e){return t?this.resume(e):this.pause(e)},start:function(t){t&&(this.settings.data=t),this.settings.status=n.START,this.settings.active=!0,this.settings.visible=!0,this.events.emit(r.START,this),this.events.emit(r.READY,this,t)},shutdown:function(t){this.events.off(r.TRANSITION_INIT),this.events.off(r.TRANSITION_START),this.events.off(r.TRANSITION_COMPLETE),this.events.off(r.TRANSITION_OUT),this.settings.status=n.SHUTDOWN,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.SHUTDOWN,this,t)},destroy:function(){this.settings.status=n.DESTROYED,this.settings.active=!1,this.settings.visible=!1,this.events.emit(r.DESTROY,this),this.events.removeAllListeners();for(var t=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],e=0;e<t.length;e++)this[t[e]]=null}});t.exports=c},function(t,e){t.exports=function(t){return t&&t[0].toUpperCase()+t.slice(1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(94),s=i(377),r="Texture.frame missing: ",o=new a({initialize:function(t,e,i,a,n){Array.isArray(i)||(i=[i]),this.manager=t,this.key=e,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var r=0;r<i.length;r++)this.source.push(new s(this,i[r],a,n))},add:function(t,e,i,a,s,r){if(this.has(t))return null;var o=new n(this,t,e,i,a,s,r);return this.frames[t]=o,"__BASE"===this.firstFrame&&(this.firstFrame=t),this.frameTotal++,o},remove:function(t){return!!this.has(t)&&(this.get(t).destroy(),delete this.frames[t],!0)},has:function(t){return this.frames[t]},get:function(t){t||(t=this.firstFrame);var e=this.frames[t];return e||(console.warn(r+t),e=this.frames[this.firstFrame]),e},getTextureSourceIndex:function(t){for(var e=0;e<this.source.length;e++)if(this.source[e]===t)return e;return-1},getFramesFromTextureSource:function(t,e){void 0===e&&(e=!1);var i=[];for(var a in this.frames)if("__BASE"!==a||e){var n=this.frames[a];n.sourceIndex===t&&i.push(n)}return i},getFrameNames:function(t){void 0===t&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");-1!==i&&e.splice(i,1)}return e},getSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:(console.warn(r+t),this.frames.__BASE.source.image)},getDataSourceImage:function(t){null!=t&&1!==this.frameTotal||(t="__BASE");var e,i=this.frames[t];return i?e=i.sourceIndex:(console.warn(r+t),e=this.frames.__BASE.sourceIndex),this.dataSource[e].image},setDataSource:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=this.source[e];this.dataSource.push(new s(this,t[e],i.width,i.height))}},setFilter:function(t){var e;for(e=0;e<this.source.length;e++)this.source[e].setFilter(t);for(e=0;e<this.dataSource.length;e++)this.dataSource[e].setFilter(t)},destroy:function(){var t;for(t=0;t<this.source.length;t++)this.source[t].destroy();for(t=0;t<this.dataSource.length;t++)this.dataSource[t].destroy();for(var e in this.frames){this.frames[e].destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Matrix:i(914),Add:i(921),AddAt:i(922),BringToTop:i(923),CountAllMatching:i(924),Each:i(925),EachInRange:i(926),FindClosestInSorted:i(270),GetAll:i(381),GetFirst:i(382),GetRandom:i(185),MoveDown:i(927),MoveTo:i(928),MoveUp:i(929),NumberArray:i(930),NumberArrayStep:i(931),QuickSelect:i(390),Range:i(391),Remove:i(123),RemoveAt:i(932),RemoveBetween:i(933),RemoveRandomElement:i(934),Replace:i(935),RotateLeft:i(286),RotateRight:i(287),SafeRange:i(68),SendToBack:i(936),SetAll:i(937),Shuffle:i(114),SpliceOne:i(80),StableSort:i(131),Swap:i(938)}},function(t,e){t.exports=function(t){if(!Array.isArray(t)||t.length<2||!Array.isArray(t[0]))return!1;for(var e=t[0].length,i=1;i<t.length;i++)if(t[i].length!==e)return!1;return!0}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var a=e+Math.floor(Math.random()*i);return void 0===t[a]?null:t[a]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(940),r=new a({Extends:n,initialize:function(){n.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},add:function(t){return this._pending.push(t),this._toProcess++,t},remove:function(t){return this._destroy.push(t),this._toProcess++,t},removeAll:function(){for(var t=this._active,e=this._destroy,i=t.length;i--;)e.push(t[i]),this._toProcess++;return this},update:function(){if(0===this._toProcess)return this._active;var t,e,i=this._destroy,a=this._active;for(t=0;t<i.length;t++){e=i[t];var n=a.indexOf(e);-1!==n&&(a.splice(n,1),this.emit(s.REMOVE,e))}for(i.length=0,i=this._pending,t=0;t<i.length;t++)e=i[t],this._active.push(e),this.emit(s.ADD,e);return i.length=0,this._toProcess=0,this._active},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function i(t,e){return parseInt(t.getAttribute(e),10)}t.exports=function(t,e,a,n){void 0===e&&(e=0),void 0===a&&(a=0);var s={},r=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0];s.font=r.getAttribute("face"),s.size=i(r,"size"),s.lineHeight=i(o,"lineHeight")+a,s.chars={};var l=t.getElementsByTagName("char"),h=void 0!==n&&n.trimmed;if(h)var u=n.height,c=n.width;for(var d=0;d<l.length;d++){var p=l[d],f=i(p,"id"),m=i(p,"x"),g=i(p,"y"),y=i(p,"width"),k=i(p,"height");h&&(m<c&&(c=m),g<u&&(u=g)),s.chars[f]={x:m,y:g,width:y,height:k,centerX:Math.floor(y/2),centerY:Math.floor(k/2),xOffset:i(p,"xoffset"),yOffset:i(p,"yoffset"),xAdvance:i(p,"xadvance")+e,data:{},kerning:{}}}if(h&&0!==u&&0!==c)for(var v in s.chars){var b=s.chars[v];b.x-=n.x,b.y-=n.y}var w=t.getElementsByTagName("kerning");for(d=0;d<w.length;d++){var S=w[d],x=i(S,"first"),T=i(S,"second"),A=i(S,"amount");s.chars[T].kerning[x]=A}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(948),n=i(951),s=i(0),r=i(12),o=i(94),l=i(13),h=i(129),u=new s({Extends:l,Mixins:[r.Alpha,r.BlendMode,r.Depth,r.Mask,r.Pipeline,r.ScrollFactor,r.Size,r.Texture,r.Transform,r.Visible,a],initialize:function(t,e,i,a,n){l.call(this,t,"Blitter"),this.setTexture(a,n),this.setPosition(e,i),this.initPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(t,e,i,a,s){void 0===a&&(a=!0),void 0===s&&(s=this.children.length),void 0===i?i=this.frame:i instanceof o||(i=this.texture.get(i));var r=new n(this,t,e,i,a);return this.children.addAt(r,s,!1),this.dirty=!0,r},createFromCallback:function(t,e,i,a){for(var n=this.createMultiple(e,i,a),s=0;s<n.length;s++){var r=n[s];t.call(this,r,s)}return n},createMultiple:function(t,e,i){void 0===e&&(e=this.frame.name),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);var a=[],n=this;return e.forEach((function(e){for(var s=0;s<t;s++)a.push(n.create(0,0,e,i))})),a},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(183),n=i(52),s=i(0),r=i(12),o=i(90),l=i(13),h=i(11),u=i(952),c=i(393),d=i(3),p=new s({Extends:l,Mixins:[r.AlphaSingle,r.BlendMode,r.ComputedSize,r.Depth,r.Mask,r.Transform,r.Visible,u],initialize:function(t,e,i,a){l.call(this,t,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new r.TransformMatrix,this.tempTransformMatrix=new r.TransformMatrix,this._displayList=t.sys.displayList,this._sortKey="",this._sysEvents=t.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.setPosition(e,i),this.clearAlpha(),this.setBlendMode(n.SKIP_CHECK),a&&this.add(a)},originX:{get:function(){return.5}},originY:{get:function(){return.5}},displayOriginX:{get:function(){return.5*this.width}},displayOriginY:{get:function(){return.5*this.height}},setExclusive:function(t){return void 0===t&&(t=!0),this.exclusive=t,this},getBounds:function(t){if(void 0===t&&(t=new h),t.setTo(this.x,this.y,0,0),this.parentContainer){var e=this.parentContainer.getBoundsTransformMatrix().transformPoint(this.x,this.y);t.setTo(e.x,e.y,0,0)}if(this.list.length>0){var i=this.list,a=new h,n=i[0].getBounds();t.setTo(n.x,n.y,n.width,n.height);for(var s=1;s<i.length;s++){var r=i[s];r.getBounds&&(r.getBounds(a),c(a,t,t))}}return t},addHandler:function(t){t.once(o.DESTROY,this.remove,this),this.exclusive&&(this._displayList.remove(t),t.parentContainer&&t.parentContainer.remove(t),t.parentContainer=this)},removeHandler:function(t){t.off(o.DESTROY,this.remove),this.exclusive&&(t.parentContainer=null)},pointToContainer:function(t,e){void 0===e&&(e=new d),this.parentContainer?this.parentContainer.pointToContainer(t,e):e=new d(t.x,t.y);var i=this.tempTransformMatrix;return i.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),i.invert(),i.transformPoint(t.x,t.y,e),e},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(t){return a.Add(this.list,t,this.maxSize,this.addHandler,this),this},addAt:function(t,e){return a.AddAt(this.list,t,e,this.maxSize,this.addHandler,this),this},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sort:function(t,e){return t?(void 0===e&&(e=function(e,i){return e[t]-i[t]}),a.StableSort.inplace(this.list,e),this):this},getByName:function(t){return a.GetFirst(this.list,"name",t)},getRandom:function(t,e){return a.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return a.GetFirst(this.list,t,e,i,n)},getAll:function(t,e,i,n){return a.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return a.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return a.Swap(this.list,t,e),this},moveTo:function(t,e){return a.MoveTo(this.list,t,e),this},remove:function(t,e){var i=a.Remove(this.list,t,this.removeHandler,this);if(e&&i){Array.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++)i[n].destroy()}return this},removeAt:function(t,e){var i=a.RemoveAt(this.list,t,this.removeHandler,this);return e&&i&&i.destroy(),this},removeBetween:function(t,e,i){var n=a.RemoveBetween(this.list,t,e,this.removeHandler,this);if(i)for(var s=0;s<n.length;s++)n[s].destroy();return this},removeAll:function(t){var e=a.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(t)for(var i=0;i<e.length;i++)e[i].destroy();return this},bringToTop:function(t){return a.BringToTop(this.list,t),this},sendToBack:function(t){return a.SendToBack(this.list,t),this},moveUp:function(t){return a.MoveUp(this.list,t),this},moveDown:function(t){return a.MoveDown(this.list,t),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(t,e,i){return a.Replace(this.list,t,e)&&(this.addHandler(e),this.removeHandler(t),i&&t.destroy()),this},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e,i,n){return a.SetAll(this.list,t,e,i,n),this},each:function(t,e){var i,a=[null],n=this.list.slice(),s=n.length;for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;i<s;i++)a[0]=n[i],t.apply(e,a);return this},iterate:function(t,e){var i,a=[null];for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;i<this.list.length;i++)a[0]=this.list[i],t.apply(e,a);return this},setScrollFactor:function(t,e,i){return void 0===e&&(e=t),void 0===i&&(i=!1),this.scrollFactorX=t,this.scrollFactorY=e,i&&(a.SetAll(this.list,"scrollFactorX",t),a.SetAll(this.list,"scrollFactorY",e)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[],this._displayList=null}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(132),n=i(0),s=i(957),r=new n({Extends:a,Mixins:[s],initialize:function(t,e,i,n,s,r,o){a.call(this,t,e,i,n,s,r,o),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(91),n=i(0),s=i(192),r=i(269),o=i(272),l=i(273),h=i(277),u=i(156),c=i(282),d=i(283),p=i(280),f=i(29),m=i(95),g=i(13),y=i(2),k=i(6),v=i(15),b=i(963),w=new n({Extends:g,Mixins:[r,o,l,h,u,c,d,p,b],initialize:function(t,e){var i=k(e,"x",0),a=k(e,"y",0);g.call(this,t,"Graphics"),this.setPosition(i,a),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.setDefaultStyles(e)},setDefaultStyles:function(t){return k(t,"lineStyle",null)&&(this.defaultStrokeWidth=k(t,"lineStyle.width",1),this.defaultStrokeColor=k(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=k(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),k(t,"fillStyle",null)&&(this.defaultFillColor=k(t,"fillStyle.color",16777215),this.defaultFillAlpha=k(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return void 0===i&&(i=1),this.commandBuffer.push(s.LINE_STYLE,t,e,i),this._lineWidth=t,this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(s.FILL_STYLE,t,e),this},fillGradientStyle:function(t,e,i,a,n){return void 0===n&&(n=1),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,n,t,e,i,a),this},lineGradientStyle:function(t,e,i,a,n,r){return void 0===r&&(r=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,t,r,e,i,a,n),this},setTexture:function(t,e,i){if(void 0===i&&(i=0),void 0===t)this.commandBuffer.push(s.CLEAR_TEXTURE);else{var a=this.scene.sys.textures.getFrame(t,e);a&&(2===i&&(i=3),this.commandBuffer.push(s.SET_TEXTURE,a,i))}return this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,v.PI2),this.fillPath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,v.PI2),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,a){return this.commandBuffer.push(s.FILL_RECT,t,e,i,a),this},strokeRect:function(t,e,i,a){var n=this._lineWidth/2,s=t-n,r=t+n;return this.beginPath(),this.moveTo(t,e),this.lineTo(t,e+a),this.strokePath(),this.beginPath(),this.moveTo(t+i,e),this.lineTo(t+i,e+a),this.strokePath(),this.beginPath(),this.moveTo(s,e),this.lineTo(r+i,e),this.strokePath(),this.beginPath(),this.moveTo(s,e+a),this.lineTo(r+i,e+a),this.strokePath(),this},fillRoundedRect:function(t,e,i,a,n){void 0===n&&(n=20);var s=n,r=n,o=n,l=n;return"number"!=typeof n&&(s=y(n,"tl",20),r=y(n,"tr",20),o=y(n,"bl",20),l=y(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,-v.TAU,0),this.lineTo(t+i,e+a-l),this.arc(t+i-l,e+a-l,l,0,v.TAU),this.lineTo(t+o,e+a),this.arc(t+o,e+a-o,o,v.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-v.TAU),this.fillPath(),this},strokeRoundedRect:function(t,e,i,a,n){void 0===n&&(n=20);var s=n,r=n,o=n,l=n;return"number"!=typeof n&&(s=y(n,"tl",20),r=y(n,"tr",20),o=y(n,"bl",20),l=y(n,"br",20)),this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-r,e),this.arc(t+i-r,e+r,r,-v.TAU,0),this.lineTo(t+i,e+a-l),this.arc(t+i-l,e+a-l,l,0,v.TAU),this.lineTo(t+o,e+a),this.arc(t+o,e+a-o,o,v.TAU,Math.PI),this.lineTo(t,e+s),this.arc(t+s,e+s,s,-Math.PI,-v.TAU),this.strokePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return!i||i<1?i=1:(t-=i/2,e-=i/2),this.commandBuffer.push(s.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,a,n,r){return this.commandBuffer.push(s.FILL_TRIANGLE,t,e,i,a,n,r),this},strokeTriangle:function(t,e,i,a,n,r){return this.commandBuffer.push(s.STROKE_TRIANGLE,t,e,i,a,n,r),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,a){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,a),this.strokePath(),this},lineTo:function(t,e){return this.commandBuffer.push(s.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(s.MOVE_TO,t,e),this},strokePoints:function(t,e,i,a){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===a&&(a=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<a;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.strokePath(),this},fillPoints:function(t,e,i,a){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===a&&(a=t.length),this.beginPath(),this.moveTo(t[0].x,t[0].y);for(var n=1;n<a;n++)this.lineTo(t[n].x,t[n].y);return e&&this.lineTo(t[0].x,t[0].y),i&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.strokePoints(i,!0)},strokeEllipse:function(t,e,i,a,n){void 0===n&&(n=32);var s=new m(t,e,i,a).getPoints(n);return this.strokePoints(s,!0)},fillEllipseShape:function(t,e){void 0===e&&(e=32);var i=t.getPoints(e);return this.fillPoints(i,!0)},fillEllipse:function(t,e,i,a,n){void 0===n&&(n=32);var s=new m(t,e,i,a).getPoints(n);return this.fillPoints(s,!0)},arc:function(t,e,i,a,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o=0),this.commandBuffer.push(s.ARC,t,e,i,a,n,r,o),this},slice:function(t,e,i,a,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,t,e),this.commandBuffer.push(s.ARC,t,e,i,a,n,r,o),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(t,e){return this.commandBuffer.push(s.TRANSLATE,t,e),this},scaleCanvas:function(t,e){return this.commandBuffer.push(s.SCALE,t,e),this},rotateCanvas:function(t){return this.commandBuffer.push(s.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){var a,n,s=this.scene.sys,r=s.game.renderer;if(void 0===e&&(e=s.scale.width),void 0===i&&(i=s.scale.height),w.TargetCamera.setScene(this.scene),w.TargetCamera.setViewport(0,0,e,i),w.TargetCamera.scrollX=this.x,w.TargetCamera.scrollY=this.y,"string"==typeof t)if(s.textures.exists(t)){var o=(a=s.textures.get(t)).getSourceImage();o instanceof HTMLCanvasElement&&(n=o.getContext("2d"))}else n=(a=s.textures.createCanvas(t,e,i)).getSourceImage().getContext("2d");else t instanceof HTMLCanvasElement&&(n=t.getContext("2d"));return n&&(this.renderCanvas(r,this,0,w.TargetCamera,null,n,!1),a&&a.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});w.TargetCamera=new a,t.exports=w},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,SET_TEXTURE:19,CLEAR_TEXTURE:20,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){void 0===i&&(i=new a);var n=t.width/2,s=t.height/2;return i.x=t.x+n*Math.cos(e),i.y=t.y+s*Math.sin(e),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(401),o=i(129),l=i(403),h=i(973),u=new a({Extends:s,Mixins:[n.Depth,n.Mask,n.Pipeline,n.Transform,n.Visible,h],initialize:function(t,e,i,a){if(s.call(this,t,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],null===i||"object"!=typeof i&&!Array.isArray(i)||(a=i,i=null),this.setTexture(e,i),this.initPipeline(),this.emitters=new o(this),this.wells=new o(this),a){Array.isArray(a)||(a=[a]);for(var n=0;n<a.length;n++)this.createEmitter(a[n])}},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){this.frame=this.texture.get(t);var e=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),i=[];return e.forEach((function(t){i.push(t.name)})),this.frameNames=i,this.defaultFrame=this.frame,this},setEmitterFrames:function(t,e){Array.isArray(t)||(t=[t]);var i=e.frames;i.length=0;for(var a=0;a<t.length;a++){var n=t[a];-1!==this.frameNames.indexOf(n)&&i.push(this.texture.get(n))}return i.length>0?e.defaultFrame=i[0]:e.defaultFrame=this.defaultFrame,this},addEmitter:function(t){return this.emitters.add(t)},createEmitter:function(t){return this.addEmitter(new l(this,t))},removeEmitter:function(t){return this.emitters.remove(t,!0)},addGravityWell:function(t){return this.wells.add(t)},createGravityWell:function(t){return this.addGravityWell(new r(t))},emitParticle:function(t,e,i){for(var a=this.emitters.list,n=0;n<a.length;n++){var s=a[n];s.active&&s.emitParticle(t,e,i)}return this},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(t,e){e*=this.timeScale;for(var i=this.emitters.list,a=0;a<i.length;a++){var n=i[a];n.active&&n.preUpdate(t,e)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n=i(91),s=i(26),r=i(0),o=i(12),l=i(33),h=i(94),u=i(13),c=i(977),d=i(9),p=i(196),f=new r({Extends:u,Mixins:[o.Alpha,o.BlendMode,o.ComputedSize,o.Crop,o.Depth,o.Flip,o.GetBounds,o.Mask,o.Origin,o.Pipeline,o.ScrollFactor,o.Tint,o.Transform,o.Visible,c],initialize:function(t,e,i,a,r,o,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=32),void 0===r&&(r=32),u.call(this,t,"RenderTexture"),this.renderer=t.sys.game.renderer,this.textureManager=t.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.framebuffer=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,void 0===o?(this.canvas=s.create2D(this,a,r),this.texture=t.sys.textures.addCanvas(p(),this.canvas),this.frame=this.texture.get()):(this.texture=t.sys.textures.get(o),this.frame=this.texture.get(h),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new n(0,0,a,r),this.gl=null,this.glTexture=null;var c=this.renderer;if(c.type===l.WEBGL){var d=c.gl;this.gl=d,this.glTexture=this.frame.source.glTexture,this.drawGameObject=this.batchGameObjectWebGL,this.framebuffer=c.createFramebuffer(a,r,this.glTexture,!1)}else c.type===l.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas);this.camera.setScene(t),this.setPosition(e,i),void 0===o&&this.setSize(a,r),this.setOrigin(0,0),this.initPipeline()},setSize:function(t,e){return this.resize(t,e)},resize:function(t,e){if(void 0===e&&(e=t),t!==this.width||e!==this.height){if("__BASE"===this.frame.name){if(this.canvas.width=t,this.canvas.height=e,this.texture.width=t,this.texture.height=e,this.gl){var i=this.gl;this.renderer.deleteTexture(this.frame.source.glTexture),this.renderer.deleteFramebuffer(this.framebuffer);var a=this.renderer.createTexture2D(0,i.NEAREST,i.NEAREST,i.CLAMP_TO_EDGE,i.CLAMP_TO_EDGE,i.RGBA,null,t,e,!1);this.framebuffer=this.renderer.createFramebuffer(t,e,a,!1),this.frame.source.isRenderTexture=!0,this.frame.glTexture=a,this.glTexture=a}this.frame.source.width=t,this.frame.source.height=e,this.camera.setSize(t,e),this.frame.setSize(t,e),this.width=t,this.height=e}}else{var n=this.texture.getSourceImage();this.frame.cutX+t>n.width&&(t=n.width-this.frame.cutX),this.frame.cutY+e>n.height&&(e=n.height-this.frame.cutY),this.frame.setSize(t,e,this.frame.cutX,this.frame.cutY)}this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=e),this},setGlobalTint:function(t){return this.globalTint=t,this},setGlobalAlpha:function(t){return this.globalAlpha=t,this},saveTexture:function(t){return this.textureManager.renameTexture(this.texture.key,t),this._saved=!0,this.texture},fill:function(t,e,i,a,n,s){void 0===e&&(e=1),void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=this.frame.cutWidth),void 0===s&&(s=this.frame.cutHeight);var r=255&(t>>16|0),o=255&(t>>8|0),l=255&(0|t),h=this.gl,u=this.frame;if(this.camera.preRender(1,1),h){var c=this.camera._cx,p=this.camera._cy,f=this.camera._cw,m=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(c,p,f,m,m);var g=this.pipeline;g.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),g.drawFillRect(i,a,n,s,d.getTintFromFloats(r/255,o/255,l/255,1),e),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),g.projOrtho(0,g.width,g.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.context.fillStyle="rgba("+r+","+o+","+l+","+e+")",this.context.fillRect(i+u.cutX,a+u.cutY,n,s),this.renderer.setContext();return this.dirty=!0,this},clear:function(){if(this.dirty){var t=this.gl;if(t){var e=this.renderer;e.setFramebuffer(this.framebuffer,!0),this.frame.cutWidth===this.canvas.width&&this.frame.cutHeight===this.canvas.height||t.scissor(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e.setFramebuffer(null,!0)}else{var i=this.context;i.save(),i.setTransform(1,0,0,1,0,0),i.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),i.restore()}this.dirty=!1}return this},erase:function(t,e,i){this._eraseMode=!0;var n=this.renderer.currentBlendMode;return this.renderer.setBlendMode(a.ERASE),this.draw(t,e,i,1,16777215),this.renderer.setBlendMode(n),this._eraseMode=!1,this},draw:function(t,e,i,a,n){void 0===a&&(a=this.globalAlpha),n=void 0===n?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(n>>16)+(65280&n)+((255&n)<<16),Array.isArray(t)||(t=[t]);var s=this.gl;if(this.camera.preRender(1,1),s){var r=this.camera._cx,o=this.camera._cy,l=this.camera._cw,h=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(r,o,l,h,h);var u=this.pipeline;u.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),this.batchList(t,e,i,a,n),u.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),u.projOrtho(0,u.width,u.height,0,-1e3,1e3)}else this.renderer.setContext(this.context),this.batchList(t,e,i,a,n),this.renderer.setContext();return this.dirty=!0,this},drawFrame:function(t,e,i,a,n,s){void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=this.globalAlpha),s=void 0===s?(this.globalTint>>16)+(65280&this.globalTint)+((255&this.globalTint)<<16):(s>>16)+(65280&s)+((255&s)<<16);var r=this.gl,o=this.textureManager.getFrame(t,e);if(o){if(this.camera.preRender(1,1),r){var l=this.camera._cx,h=this.camera._cy,u=this.camera._cw,c=this.camera._ch;this.renderer.setFramebuffer(this.framebuffer,!1),this.renderer.pushScissor(l,h,u,c,c);var d=this.pipeline;d.projOrtho(0,this.texture.width,0,this.texture.height,-1e3,1e3),d.batchTextureFrame(o,i+this.frame.cutX,a+this.frame.cutY,s,n,this.camera.matrix,null),d.flush(),this.renderer.setFramebuffer(null,!1),this.renderer.popScissor(),d.projOrtho(0,d.width,d.height,0,-1e3,1e3)}else this.batchTextureFrame(o,i+this.frame.cutX,a+this.frame.cutY,n,s);this.dirty=!0}return this},batchList:function(t,e,i,a,n){for(var s=0;s<t.length;s++){var r=t[s];r&&r!==this&&(r.renderWebGL||r.renderCanvas?this.drawGameObject(r,e,i):r.isParent||r.list?this.batchGroup(r.getChildren(),e,i):"string"==typeof r?this.batchTextureFrameKey(r,null,e,i,a,n):r instanceof h?this.batchTextureFrame(r,e,i,a,n):Array.isArray(r)&&this.batchList(r,e,i,a,n))}},batchGroup:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),e+=this.frame.cutX,i+=this.frame.cutY;for(var a=0;a<t.length;a++){var n=t[a];if(n.willRender()){var s=n.x+e,r=n.y+i;this.drawGameObject(n,s,r)}}},batchGameObjectWebGL:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var a=t.x,n=t.y;this._eraseMode||this.renderer.setBlendMode(t.blendMode),t.setPosition(e+this.frame.cutX,i+this.frame.cutY),t.renderWebGL(this.renderer,t,0,this.camera,null),t.setPosition(a,n)},batchGameObjectCanvas:function(t,e,i){void 0===e&&(e=t.x),void 0===i&&(i=t.y);var n=t.x,s=t.y;if(this._eraseMode){var r=t.blendMode;t.blendMode=a.ERASE}t.setPosition(e+this.frame.cutX,i+this.frame.cutY),t.renderCanvas(this.renderer,t,0,this.camera,null),t.setPosition(n,s),this._eraseMode&&(t.blendMode=r)},batchTextureFrameKey:function(t,e,i,a,n,s){var r=this.textureManager.getFrame(t,e);r&&this.batchTextureFrame(r,i,a,n,s)},batchTextureFrame:function(t,e,i,a,n){if(void 0===e&&(e=0),void 0===i&&(i=0),e+=this.frame.cutX,i+=this.frame.cutY,this.gl)this.pipeline.batchTextureFrame(t,e,i,n,a,this.camera.matrix,null);else{var s=this.context,r=t.canvasData,o=t.source.image,l=this.camera.matrix;s.globalAlpha=this.globalAlpha,s.setTransform(l[0],l[1],l[2],l[3],l[4],l[5]),s.drawImage(o,r.x,r.y,r.width,r.height,e,i,r.width,r.height)}},snapshotArea:function(t,e,i,a,n,s,r){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,n,!1,t,e,i,a,s,r):this.renderer.snapshotCanvas(this.canvas,n,!1,t,e,i,a,s,r),this},snapshot:function(t,e,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,t,!1,0,0,this.width,this.height,e,i):this.renderer.snapshotCanvas(this.canvas,t,!1,0,0,this.width,this.height,e,i),this},snapshotPixel:function(t,e,i){return this.gl?this.renderer.snapshotFramebuffer(this.framebuffer,this.width,this.height,i,!0,t,e):this.renderer.snapshotCanvas(this.canvas,i,!0,t,e),this},preDestroy:function(){this._saved||(s.remove(this.canvas),this.gl&&this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.framebuffer=null,this.texture=null,this.glTexture=null)}});t.exports=f},function(t,e){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(983),o=i(3),l=new a({Extends:s,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Flip,n.Mask,n.Pipeline,n.Size,n.Texture,n.Transform,n.Visible,n.ScrollFactor,r],initialize:function(t,e,i,a,r,l,h,u,c){void 0===a&&(a="__DEFAULT"),void 0===l&&(l=2),void 0===h&&(h=!0),s.call(this,t,"Rope"),this.anims=new n.Animation(this),this.points=l,this.vertices,this.uv,this.colors,this.alphas,this.tintFill="__DEFAULT"===a?2:0,this.dirty=!1,this.horizontal=h,this._flipX=!1,this._flipY=!1,this._perp=new o,this.debugCallback=null,this.debugGraphic=null,this.setTexture(a,r),this.setPosition(e,i),this.setSizeToFrame(),this.initPipeline("TextureTintStripPipeline"),Array.isArray(l)&&this.resizeArrays(l.length),this.setPoints(l,u,c),this.updateVertices()},preUpdate:function(t,e){var i=this.anims.currentFrame;this.anims.update(t,e),this.anims.currentFrame!==i&&(this.updateUVs(),this.updateVertices())},play:function(t,e,i){return this.anims.play(t,e,i),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(t,e,i))},setVertical:function(t,e,i){return void 0===t&&(t=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(t,e,i)):this},setTintFill:function(t){return void 0===t&&(t=0),this.tintFill=t,this},setAlphas:function(t,e){var i=this.points.length;if(i<1)return this;var a,n=this.alphas;void 0===t?t=[1]:Array.isArray(t)||void 0!==e||(t=[t]);var s=0;if(void 0!==e)for(a=0;a<i;a++)n[s=2*a]=t,n[s+1]=e;else if(t.length===i)for(a=0;a<i;a++)n[s=2*a]=t[a],n[s+1]=t[a];else{var r=t[0];for(a=0;a<i;a++)s=2*a,t.length>s&&(r=t[s]),n[s]=r,t.length>s+1&&(r=t[s+1]),n[s+1]=r}return this},setColors:function(t){var e=this.points.length;if(e<1)return this;var i,a=this.colors;void 0===t?t=[16777215]:Array.isArray(t)||(t=[t]);var n=0;if(t.length===e)for(i=0;i<e;i++)a[n=2*i]=t[i],a[n+1]=t[i];else{var s=t[0];for(i=0;i<e;i++)n=2*i,t.length>n&&(s=t[n]),a[n]=s,t.length>n+1&&(s=t[n+1]),a[n+1]=s}return this},setPoints:function(t,e,i){if(void 0===t&&(t=2),"number"==typeof t){var a,n,s,r=t;if(r<2&&(r=2),t=[],this.horizontal)for(s=-this.frame.halfWidth,n=this.frame.width/(r-1),a=0;a<r;a++)t.push({x:s+a*n,y:0});else for(s=-this.frame.halfHeight,n=this.frame.height/(r-1),a=0;a<r;a++)t.push({x:0,y:s+a*n})}var o=t.length,l=this.points.length;return o<1?(console.warn("Rope: Not enough points given"),this):(1===o&&(t.unshift({x:0,y:0}),o++),l!==o&&this.resizeArrays(o),this.points=t,this.updateUVs(),null!=e&&this.setColors(e),null!=i&&this.setAlphas(i),this)},updateUVs:function(){for(var t=this.uv,e=this.points.length,i=this.frame.u0,a=this.frame.v0,n=this.frame.u1,s=this.frame.v1,r=(n-i)/(e-1),o=(s-a)/(e-1),l=0;l<e;l++){var h,u,c,d,p=4*l;this.horizontal?(this._flipX?(h=n-l*r,c=n-l*r):(h=i+l*r,c=i+l*r),this._flipY?(u=s,d=a):(u=a,d=s)):(this._flipX?(h=i,c=n):(h=n,c=i),this._flipY?(u=s-l*o,d=s-l*o):(u=a+l*o,d=a+l*o)),t[p+0]=h,t[p+1]=u,t[p+2]=c,t[p+3]=d}return this},resizeArrays:function(t){var e=this.colors,i=this.alphas;this.vertices=new Float32Array(4*t),this.uv=new Float32Array(4*t),e=new Uint32Array(2*t),i=new Float32Array(2*t);for(var a=0;a<2*t;a++)e[a]=16777215,i[a]=1;return this.colors=e,this.alphas=i,this.dirty=!0,this},updateVertices:function(){var t=this._perp,e=this.points,i=this.vertices,a=e.length;if(this.dirty=!1,!(a<1)){for(var n,s=e[0],r=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,o=0;o<a;o++){var l=e[o],h=4*o;n=o<a-1?e[o+1]:l,t.x=n.y-s.y,t.y=-(n.x-s.x);var u=t.length();t.x/=u,t.y/=u,t.x*=r,t.y*=r,i[h]=l.x+t.x,i[h+1]=l.y+t.y,i[h+2]=l.x-t.x,i[h+3]=l.y-t.y,s=l}return this}},setDebug:function(t,e){return this.debugGraphic=t,this.debugCallback=t||e?e||this.renderDebugVerts:null,this},renderDebugVerts:function(t,e,i){var a=t.debugGraphic,n=i[0],s=i[1],r=i[2],o=i[3];a.lineBetween(n,s,r,o);for(var l=4;l<e;l+=4){var h=i[l+0],u=i[l+1],c=i[l+2],d=i[l+3];a.lineBetween(n,s,h,u),a.lineBetween(r,o,c,d),a.lineBetween(r,o,h,u),a.lineBetween(h,u,c,d),n=h,s=u,r=c,o=d}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(t){return this._flipX=t,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(t){return this._flipY=t,this.updateUVs()}}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(122),n=i(26),s=i(0),r=i(12),o=i(20),l=i(13),h=i(986),u=i(6),c=i(178),d=i(987),p=i(990),f=new s({Extends:l,Mixins:[r.Alpha,r.BlendMode,r.ComputedSize,r.Crop,r.Depth,r.Flip,r.GetBounds,r.Mask,r.Origin,r.Pipeline,r.ScrollFactor,r.Tint,r.Transform,r.Visible,d],initialize:function(t,e,i,a,s){void 0===e&&(e=0),void 0===i&&(i=0),l.call(this,t,"Text"),this.renderer=t.sys.game.renderer,this.setPosition(e,i),this.setOrigin(0,0),this.initPipeline(),this.canvas=n.create(this),this.context=this.canvas.getContext("2d"),this.style=new p(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(a),s&&s.padding&&this.setPadding(s.padding),s&&s.lineSpacing&&this.setLineSpacing(s.lineSpacing),t.sys.game.events.on(o.CONTEXT_RESTORED,(function(){this.dirty=!0}),this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join("\n")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var a="",n=t.replace(/ +/gi," ").split(this.splitRegExp),s=n.length,r=0;r<s;r++){var o=n[r],l="";if(o=o.replace(/^ *|\s*$/gi,""),e.measureText(o).width<i)a+=o+"\n";else{for(var h=i,u=o.split(" "),c=0;c<u.length;c++){var d=u[c],p=d+" ",f=e.measureText(p).width;if(f>h){if(0===c){for(var m=p;m.length&&(m=m.slice(0,-1),!((f=e.measureText(m).width)<=h)););if(!m.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=d.substr(m.length);u[c]=g,l+=m}var y=u[c].length?c:c+1,k=u.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=k+" "+(n[r+1]||""),s=n.length;break}l+=p,h-=f}a+=l.replace(/[ \n]*$/gi,"")+"\n"}}return a=a.replace(/[\s|\n]*$/gi,"")},basicWordWrap:function(t,e,i){for(var a="",n=t.split(this.splitRegExp),s=n.length-1,r=e.measureText(" ").width,o=0;o<=s;o++){for(var l=i,h=n[o].split(" "),u=h.length-1,c=0;c<=u;c++){var d=h[c],p=e.measureText(d).width,f=p+r;f>l&&c>0&&(a+="\n",l=i),a+=d,c<u?(a+=" ",l-=f):l-=p}o<s&&(a+="\n")}return a},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,a,n,s){return this.style.setShadow(t,e,i,a,n,s)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,a){if("object"==typeof t){var n=t,s=u(n,"x",null);null!==s?(t=s,i=s):(t=u(n,"left",0),i=u(n,"right",t));var r=u(n,"y",null);null!==r?(e=r,a=r):(e=u(n,"top",0),a=u(n,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===a&&(a=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=a,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,a=i.resolution,n=i.metrics;i.syncFont(t,e);var s=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(s=this.runWordWrap(this._text));var r,o=s.split(this.splitRegExp),l=h(this,n,o),u=this.padding;0===i.fixedWidth?(this.width=l.width+u.left+u.right,r=l.width):(this.width=i.fixedWidth,(r=this.width-u.left-u.right)<l.width&&(r=l.width)),0===i.fixedHeight?this.height=l.height+u.top+u.bottom:this.height=i.fixedHeight;var c,d,p=this.width,f=this.height;this.updateDisplayOrigin(),p*=a,f*=a,p=Math.max(p,1),f=Math.max(f,1),t.width!==p||t.height!==f?(t.width=p,t.height=f,this.frame.setSize(p,f),i.syncFont(t,e)):e.clearRect(0,0,p,f),e.save(),e.scale(a,a),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,p,f)),i.syncStyle(t,e),e.textBaseline="alphabetic",e.translate(u.left,u.top);for(var m=0;m<l.lines;m++){if(c=i.strokeThickness/2,d=i.strokeThickness/2+m*l.lineHeight+n.ascent,m>0&&(d+=l.lineSpacing*m),i.rtl)c=p-c;else if("right"===i.align)c+=r-l.lineWidths[m];else if("center"===i.align)c+=(r-l.lineWidths[m])/2;else if("justify"===i.align){if(l.lineWidths[m]/l.width>=.85){var g=l.width-l.lineWidths[m],y=e.measureText(" ").width,k=o[m].trim(),v=k.split(" ");g+=(o[m].length-k.length)*y;for(var b=Math.floor(g/y),w=0;b>0;)v[w]+=" ",w=(w+1)%(v.length-1||1),--b;o[m]=v.join(" ")}}this.autoRound&&(c=Math.round(c),d=Math.round(d)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(o[m],c,d)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(o[m],c,d))}e.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var S=this.input;return S&&!S.customHitArea&&(S.hitArea.width=this.width,S.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=r.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&c(this.canvas),n.remove(this.canvas),this.texture.destroy()}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26),n=i(0),s=i(12),r=i(20),o=i(13),l=i(328),h=i(167),u=i(992),c=i(3),d=new n({Extends:o,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,u],initialize:function(t,e,i,n,s,h,u){var d=t.sys.game.renderer;o.call(this,t,"TileSprite");var p=t.sys.textures.get(h),f=p.get(u);n&&s?(n=Math.floor(n),s=Math.floor(s)):(n=f.width,s=f.height),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=d,this.canvas=a.create(this,n,s),this.context=this.canvas.getContext("2d"),this.displayTexture=p,this.displayFrame=f,this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=l(f.width),this.potHeight=l(f.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(e,i),this.setSize(n,s),this.setFrame(u),this.setOriginFromFrame(),this.initPipeline(),t.sys.game.events.on(r.CONTEXT_RESTORED,(function(t){var e=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,e.LINEAR,e.LINEAR,e.REPEAT,e.REPEAT,e.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}),this)},setTexture:function(t,e){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){var e=this.displayTexture.get(t);return this.potWidth=l(e.width),this.potHeight=l(e.height),this.canvas.width=0,e.cutWidth&&e.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this.displayFrame=e,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,e){return void 0!==t&&(this.tilePositionX=t),void 0!==e&&(this.tilePositionY=e),this},setTileScale:function(t,e){return void 0===t&&(t=this.tileScaleX),void 0===e&&(e=t),this.tileScaleX=t,this.tileScaleY=e,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var t=this.displayFrame;if(t.source.isRenderTexture||t.source.isGLTexture)return console.warn("TileSprites can only use Image or Canvas based textures"),void(this.dirty=!1);var e=this.fillContext,i=this.fillCanvas,a=this.potWidth,n=this.potHeight;this.renderer.gl||(a=t.cutWidth,n=t.cutHeight),e.clearRect(0,0,a,n),i.width=a,i.height=n,e.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,a,n),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(i,this.fillPattern):this.fillPattern=e.createPattern(i,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var e=this.context;this.scene.sys.game.config.antialias||h.disable(e);var i=this._tileScale.x,a=this._tileScale.y,n=this._tilePosition.x,s=this._tilePosition.y;e.clearRect(0,0,this.width,this.height),e.save(),e.scale(i,a),e.translate(-n,-s),e.fillStyle=this.fillPattern,e.fillRect(n,s,this.width/i,this.height/a),e.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(19),s=i(12),r=i(90),o=i(20),l=i(13),h=i(59),u=i(196),c=i(995),d=i(15),p=new a({Extends:l,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,c],initialize:function(t,e,i,a){l.call(this,t,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=u(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=d.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(e,i),this.initPipeline(),a&&this.changeSource(a,!1);var n=t.sys.game.events;n.on(o.PAUSE,this.globalPause,this),n.on(o.RESUME,this.globalResume,this);var s=t.sys.sound;s&&s.on(h.GLOBAL_MUTE,this.globalMute,this)},play:function(t,e,i){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var a=this.video;if(!a)return console.warn("Video not loaded"),this;void 0===t&&(t=a.loop);var n=this.scene.sys.sound;n&&n.mute&&this.setMute(!0),isNaN(e)||(this._markerIn=e),!isNaN(i)&&i>e&&(this._markerOut=i),a.loop=t;var s=this._callbacks,r=a.play();return void 0!==r?r.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(a.addEventListener("playing",s.play,!0),a.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),a.addEventListener("ended",s.end,!0),a.addEventListener("timeupdate",s.time,!0),a.addEventListener("seeking",s.seeking,!0),a.addEventListener("seeked",s.seeked,!0),this},changeSource:function(t,e,i,a,n){void 0===e&&(e=!0),this.video&&this.stop();var s=this.scene.sys.cache.video.get(t);return s?(this.video=s,this._cacheKey=t,this._codePaused=s.paused,this._codeMuted=s.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,s,s.videoWidth,s.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,s.videoWidth,s.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,s.videoWidth,s.videoHeight)):this.updateTexture(),s.currentTime=0,this._lastUpdate=0,e&&this.play(i,a,n)):this.video=null,this},addMarker:function(t,e,i){return!isNaN(e)&&e>=0&&!isNaN(i)&&(this.markers[t]=[e,i]),this},playMarker:function(t,e){var i=this.markers[t];return i&&this.play(e,i[0],i[1]),this},removeMarker:function(t){return delete this.markers[t],this},snapshot:function(t,e){return void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.snapshotArea(0,0,this.width,this.height,t,e)},snapshotArea:function(t,e,i,a,n,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===a&&(a=this.height),void 0===n&&(n=i),void 0===s&&(s=a);var r=this.video,o=this.snapshotTexture;return o?(o.setSize(n,s),r&&o.context.drawImage(r,t,e,i,a,0,0,n,s)):(o=this.scene.sys.textures.createCanvas(u(),n,s),this.snapshotTexture=o,r&&o.context.drawImage(r,t,e,i,a,0,0,n,s)),o.update()},saveSnapshotTexture:function(t){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,t):this.snapshotTexture=this.scene.sys.textures.createCanvas(t,this.width,this.height),this.snapshotTexture},loadURL:function(t,e,i){void 0===e&&(e="loadeddata"),void 0===i&&(i=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var a=document.createElement("video");return a.controls=!1,i&&(a.muted=!0,a.defaultMuted=!0,a.setAttribute("autoplay","autoplay")),a.setAttribute("playsinline","playsinline"),a.setAttribute("preload","auto"),a.addEventListener("error",this._callbacks.error,!0),a.src=t,a.load(),this.video=a,this},playPromiseSuccessHandler:function(){this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(t){this.scene.sys.input.once("pointerdown",this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(r.VIDEO_ERROR,this,t)},playHandler:function(){this.touchLocked=!1,this.emit(r.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(t){this.stop(),this.emit(r.VIDEO_ERROR,this,t)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(r.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(r.VIDEO_PLAY,this)},completeHandler:function(){this.emit(r.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(r.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var t=this.video;if(t){var e=t.currentTime;e!==this._lastUpdate&&(this._lastUpdate=e,this.updateTexture(),e>=this._markerOut&&(t.loop?(t.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=e,this.emit(r.VIDEO_LOOP,this)):(this.emit(r.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(r.VIDEO_TIMEOUT,this))},updateTexture:function(){var t=this.video,e=t.videoWidth,i=t.videoHeight;if(this.videoTexture){var a=this.videoTextureSource;a.source!==t&&(a.source=t,a.width=e,a.height=i),a.update()}else this.videoTexture=this.scene.sys.textures.create(this._key,t,e,i),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,e,i),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(r.VIDEO_CREATED,this,e,i)},getVideoKey:function(){return this._cacheKey},seekTo:function(t){var e=this.video;if(e){var i=e.duration;if(i!==1/0&&!isNaN(i)){var a=i*t;this.setCurrentTime(a)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(t){var e=this.video;if(e){if("string"==typeof t){var i=t[0],a=parseFloat(t.substr(1));"+"===i?t=e.currentTime+a:"-"===i&&(t=e.currentTime-a)}e.currentTime=t,this._lastUpdate=t}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(r.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(r.VIDEO_SEEKED,this),this.video&&this.updateTexture()},getProgress:function(){var t=this.video;if(t){var e=t.currentTime,i=t.duration;if(i!==1/0&&!isNaN(i))return e/i}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(t){void 0===t&&(t=!0),this._codeMuted=t;var e=this.video;return e&&(e.muted=!!this._systemMuted||t),this},isMuted:function(){return this._codeMuted},globalMute:function(t,e){this._systemMuted=e;var i=this.video;i&&(i.muted=!!this._codeMuted||e)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(t){void 0===t&&(t=!0);var e=this.video;return this._codePaused=t,e&&(t?e.paused||e.pause():t||e.paused&&!this._systemPaused&&e.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(t){return void 0===t&&(t=1),this.video&&(this.video.volume=n(t,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(t){return this.video&&(this.video.playbackRate=t),this},getLoop:function(){return!!this.video&&this.video.loop},setLoop:function(t){return void 0===t&&(t=!0),this.video&&(this.video.loop=t),this},isPlaying:function(){return!!this.video&&!(this.video.paused||this.video.ended)},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(t,e){return void 0===e&&(e=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,t),this._key=t,this.flipY=e,this.videoTextureSource&&this.videoTextureSource.setFlipY(e),this.videoTexture},stop:function(){var t=this.video;if(t){var e=this._callbacks;for(var i in e)t.removeEventListener(i,e[i],!0);t.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(r.VIDEO_STOP,this),this},removeVideoElement:function(){var t=this.video;if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("autoplay"),t.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var t=this.scene.sys.game.events;t.off(o.PAUSE,this.globalPause,this),t.off(o.RESUME,this.globalResume,this);var e=this.scene.sys.sound;e&&e.off(h.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(202),s=i(418),r=i(47),o=new a({initialize:function(t){this.type=r.POLYGON,this.area=0,this.points=[],t&&this.setTo(t)},contains:function(t,e){return n(this,t,e)},setTo:function(t){if(this.area=0,this.points=[],"string"==typeof t&&(t=t.split(" ")),!Array.isArray(t))return this;for(var e,i=Number.MAX_VALUE,a=0;a<t.length;a++)e={x:0,y:0},"number"==typeof t[a]||"string"==typeof t[a]?(e.x=parseFloat(t[a]),e.y=parseFloat(t[a+1]),a++):Array.isArray(t[a])?(e.x=t[a][0],e.y=t[a][1]):(e.x=t[a].x,e.y=t[a].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var t,e,i=0,a=0;a<this.points.length-1;a++)t=this.points[a],i+=((e=this.points[a+1]).x-t.x)*(t.y+e.y);return t=this.points[0],e=this.points[this.points.length-1],i+=(t.x-e.x)*(e.y+t.y),this.area=.5*-i,this.area},getPoints:function(t,e,i){return s(this,t,e,i)}});t.exports=o},function(t,e){t.exports=function(t,e,i){for(var a=!1,n=-1,s=t.points.length-1;++n<t.points.length;s=n){var r=t.points[n].x,o=t.points[n].y,l=t.points[s].x,h=t.points[s].y;(o<=i&&i<h||h<=i&&i<o)&&e<(l-r)*(i-o)/(h-o)+r&&(a=!a)}return a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(134),s=new a({Extends:n,initialize:function(t,e,i,a,s){n.call(this,t,e,i,[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,1,0,0,1,1,1,0],[16777215,16777215,16777215,16777215,16777215,16777215],[1,1,1,1,1,1],a,s),this.resetPosition()},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,t=this.frame,this.uv[0]=t.u0,this.uv[1]=t.v0,this.uv[2]=t.u0,this.uv[3]=t.v1,this.uv[4]=t.u1,this.uv[5]=t.v1,this.uv[6]=t.u0,this.uv[7]=t.v0,this.uv[8]=t.u1,this.uv[9]=t.v1,this.uv[10]=t.u1,this.uv[11]=t.v0,this},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x,this.vertices[6]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y,this.vertices[7]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[10]},set:function(t){this.vertices[10]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[11]},set:function(t){this.vertices[11]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x,this.vertices[8]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y,this.vertices[9]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t,this.alphas[3]=t}},topRightAlpha:{get:function(){return this.alphas[5]},set:function(t){this.alphas[5]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t,this.alphas[4]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t,this.colors[3]=t}},topRightColor:{get:function(){return this.colors[5]},set:function(t){this.colors[5]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t,this.colors[4]=t}},setTopLeft:function(t,e){return this.topLeftX=t,this.topLeftY=e,this},setTopRight:function(t,e){return this.topRightX=t,this.topRightY=e,this},setBottomLeft:function(t,e){return this.bottomLeftX=t,this.bottomLeftY=e,this},setBottomRight:function(t,e){return this.bottomRightX=t,this.bottomRightY=e,this},resetPosition:function(){var t=this.x,e=this.y,i=Math.floor(this.width/2),a=Math.floor(this.height/2);return this.setTopLeft(t-i,e-a),this.setTopRight(t+i,e-a),this.setBottomLeft(t-i,e+a),this.setBottomRight(t+i,e+a),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,t[4]=1,t[5]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,t[4]=16777215,t[5]=16777215,this},reset:function(){return this.resetPosition(),this.resetAlpha(),this.resetColors()}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(2),o=i(18),l=i(426),h=i(1078),u=i(29),c=new a({Extends:s,Mixins:[n.ComputedSize,n.Depth,n.GetBounds,n.Mask,n.Origin,n.ScrollFactor,n.Transform,n.Visible,h],initialize:function(t,e,i,a,n,r,o,l){void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=128),void 0===r&&(r=128),s.call(this,t,"Shader"),this.blendMode=-1,this.shader;var h=t.sys.renderer;this.renderer=h,this.gl=h.gl,this.vertexData=new ArrayBuffer(2*Float32Array.BYTES_PER_ELEMENT*6),this.vertexBuffer=h.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new u,this._tempMatrix2=new u,this._tempMatrix3=new u,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=h.width,this._rendererHeight=h.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(i,a),this.setSize(n,r),this.setOrigin(.5,.5),this.setShader(e,o,l)},willRender:function(t){return!!this.renderToTexture||!(s.RENDER_MASK!==this.renderFlags||0!==this.cameraFilter&&this.cameraFilter&t.id)},setRenderToTexture:function(t,e){if(void 0===e&&(e=!1),!this.renderToTexture){var i=this.width,a=this.height,n=this.renderer;this.glTexture=n.createTextureFromSource(null,i,a,0),this.glTexture.flipY=e,this.framebuffer=n.createFramebuffer(i,a,this.glTexture,!1),this._rendererWidth=i,this._rendererHeight=a,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),t&&(this.texture=this.scene.sys.textures.addGLTexture(t,this.glTexture,i,a))}if(this.shader){var s=n.currentPipeline;n.clearPipeline(),this.load(),this.flush(),n.rebindPipeline(s)}return this},setShader:function(t,e,i){if(void 0===e&&(e=[]),"string"==typeof t){var a=this.scene.sys.cache.shader;if(!a.has(t))return console.warn("Shader missing: "+t),this;this.shader=a.get(t)}else this.shader=t;var n=this.gl,s=this.renderer;this.program&&n.deleteProgram(this.program);var r=s.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);s.setMatrix4(r,"uViewMatrix",!1,this.viewMatrix),s.setMatrix4(r,"uProjectionMatrix",!1,this.projectionMatrix),s.setFloat2(r,"uResolution",this.width,this.height),this.program=r;var l=new Date,h={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[l.getFullYear(),l.getMonth(),l.getDate(),60*l.getHours()*60+60*l.getMinutes()+l.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,h):this.uniforms=h;for(var u=0;u<4;u++)e[u]&&this.setSampler2D("iChannel"+u,e[u],u,i);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(t){return this.pointer=t,this},projOrtho:function(t,e,i,a){var n=1/(t-e),s=1/(i-a),r=this.projectionMatrix;r[0]=-2*n,r[5]=-2*s,r[10]=-.001,r[12]=(t+e)*n,r[13]=(a+i)*s,r[14]=-0;var o=this.program;this.renderer.setMatrix4(o,"uProjectionMatrix",!1,this.projectionMatrix),this._rendererWidth=e,this._rendererHeight=i},initUniforms:function(){var t=this.gl,e=this.renderer.glFuncMap,i=this.program;for(var a in this._textureCount=0,this.uniforms){var n=this.uniforms[a],s=n.type,r=e[s];n.uniformLocation=t.getUniformLocation(i,a),"sampler2D"!==s&&(n.glMatrix=r.matrix,n.glValueLength=r.length,n.glFunc=r.func)}},setSampler2DBuffer:function(t,e,i,a,n,s){void 0===n&&(n=0),void 0===s&&(s={});var r=this.uniforms[t];return r.value=e,s.width=i,s.height=a,r.textureData=s,this._textureCount=n,this.initSampler2D(r),this},setSampler2D:function(t,e,i,a){void 0===i&&(i=0);var n=this.scene.sys.textures;if(n.exists(e)){var s=n.getFrame(e),r=this.uniforms[t],o=s.source;r.textureKey=e,r.source=o.image,r.value=s.glTexture,o.isGLTexture&&(a||(a={}),a.width=o.width,a.height=o.height),a&&(r.textureData=a),this._textureCount=i,this.initSampler2D(r)}return this},setUniform:function(t,e){return l(this.uniforms,t,e),this},getUniform:function(t){return r(this.uniforms,t,null)},setChannel0:function(t,e){return this.setSampler2D("iChannel0",t,0,e)},setChannel1:function(t,e){return this.setSampler2D("iChannel1",t,1,e)},setChannel2:function(t,e){return this.setSampler2D("iChannel2",t,2,e)},setChannel3:function(t,e){return this.setSampler2D("iChannel3",t,3,e)},initSampler2D:function(t){if(t.value){var e=this.gl;e.activeTexture(e.TEXTURE0+this._textureCount),e.bindTexture(e.TEXTURE_2D,t.value);var i=t.textureData;if(i){var a=e[r(i,"magFilter","linear").toUpperCase()],n=e[r(i,"minFilter","linear").toUpperCase()],s=e[r(i,"wrapS","repeat").toUpperCase()],o=e[r(i,"wrapT","repeat").toUpperCase()],l=e[r(i,"format","rgba").toUpperCase()];if(i.repeat&&(s=e.REPEAT,o=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!i.flipY),i.width){var h=r(i,"width",512),u=r(i,"height",2),c=r(i,"border",0);e.texImage2D(e.TEXTURE_2D,0,l,h,u,c,l,e.UNSIGNED_BYTE,null)}else e.texImage2D(e.TEXTURE_2D,0,l,e.RGBA,e.UNSIGNED_BYTE,t.source);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o)}this.renderer.setProgram(this.program),e.uniform1i(t.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var t,e,i,a,n,s=this.gl,r=this.uniforms,o=0;for(var l in r)i=(t=r[l]).glFunc,e=t.glValueLength,a=t.uniformLocation,null!==(n=t.value)&&(1===e?t.glMatrix?i.call(s,a,t.transpose,n):i.call(s,a,n):2===e?i.call(s,a,n.x,n.y):3===e?i.call(s,a,n.x,n.y,n.z):4===e?i.call(s,a,n.x,n.y,n.z,n.w):"sampler2D"===t.type&&(s.activeTexture(s["TEXTURE"+o]),s.bindTexture(s.TEXTURE_2D,n),s.uniform1i(a,o),o++))},load:function(t){var e=this.gl,i=this.width,a=this.height,n=this.renderer,s=this.program,r=this.viewMatrix;if(!this.renderToTexture){var o=-this._displayOriginX,l=-this._displayOriginY;r[0]=t[0],r[1]=t[1],r[4]=t[2],r[5]=t[3],r[8]=t[4],r[9]=t[5],r[12]=r[0]*o+r[4]*l,r[13]=r[1]*o+r[5]*l}e.useProgram(s),e.uniformMatrix4fv(e.getUniformLocation(s,"uViewMatrix"),!1,r),e.uniform2f(e.getUniformLocation(s,"uResolution"),this.width,this.height);var h=this.uniforms,u=h.resolution;u.value.x=i,u.value.y=a,h.time.value=n.game.loop.getDuration();var c=this.pointer;if(c){var d=h.mouse,p=c.x/i,f=1-c.y/a;d.value.x=p.toFixed(2),d.value.y=f.toFixed(2)}this.syncUniforms()},flush:function(){var t=this.width,e=this.height,i=this.program,a=this.gl,n=this.vertexBuffer,s=this.renderer,r=2*Float32Array.BYTES_PER_ELEMENT;this.renderToTexture&&(s.setFramebuffer(this.framebuffer),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT)),a.bindBuffer(a.ARRAY_BUFFER,n);var o=a.getAttribLocation(i,"inPosition");-1!==o&&(a.enableVertexAttribArray(o),a.vertexAttribPointer(o,2,a.FLOAT,!1,r,0));var l=this.vertexViewF32;l[3]=e,l[4]=t,l[5]=e,l[8]=t,l[9]=e,l[10]=t;a.bufferSubData(a.ARRAY_BUFFER,0,this.bytes.subarray(0,6*r)),a.drawArrays(a.TRIANGLES,0,6),this.renderToTexture&&s.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var t=this.gl;t.deleteProgram(this.program),t.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(53);t.exports=function(t,e){return a(t.x,t.y,e.x,e.y)<=t.radius+e.radius}},function(t,e){t.exports=function(t,e){var i=e.width/2,a=e.height/2,n=Math.abs(t.x-e.x-i),s=Math.abs(t.y-e.y-a),r=i+t.radius,o=a+t.radius;if(n>r||s>o)return!1;if(n<=i||s<=a)return!0;var l=n-i,h=s-a;return l*l+h*h<=t.radius*t.radius}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(208);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s,r,o=t.x1,l=t.y1,h=t.x2,u=t.y2,c=e.x,d=e.y,p=e.radius,f=h-o,m=u-l,g=o-c,y=l-d,k=f*f+m*m,v=2*(f*g+m*y),b=v*v-4*k*(g*g+y*y-p*p);if(0===b){var w=-v/(2*k);s=o+w*f,r=l+w*m,w>=0&&w<=1&&i.push(new a(s,r))}else if(b>0){var S=(-v-Math.sqrt(b))/(2*k);s=o+S*f,r=l+S*m,S>=0&&S<=1&&i.push(new a(s,r));var x=(-v+Math.sqrt(b))/(2*k);s=o+x*f,r=l+x*m,x>=0&&x<=1&&i.push(new a(s,r))}}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(55),n=new(i(4));t.exports=function(t,e,i){if(void 0===i&&(i=n),a(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(a(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var s=t.x2-t.x1,r=t.y2-t.y1,o=e.x-t.x1,l=e.y-t.y1,h=s*s+r*r,u=s,c=r;if(h>0){var d=(o*s+l*r)/h;u*=d,c*=d}return i.x=t.x1+u,i.y=t.y1+c,u*u+c*c<=h&&u*s+c*r>=0&&a(e,i.x,i.y)}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(84),s=i(431);t.exports=function(t,e,i){if(void 0===i&&(i=[]),s(t,e))for(var r=e.getLineA(),o=e.getLineB(),l=e.getLineC(),h=e.getLineD(),u=[new a,new a,new a,new a],c=[n(r,t,u[0]),n(o,t,u[1]),n(l,t,u[2]),n(h,t,u[3])],d=0;d<4;d++)c[d]&&i.push(u[d]);return i}},function(t,e){t.exports=function(t,e,i,a){void 0===i&&(i=!1),void 0===a&&(a=[]);for(var n,s,r,o,l,h,u=t.x3-t.x1,c=t.y3-t.y1,d=t.x2-t.x1,p=t.y2-t.y1,f=u*u+c*c,m=u*d+c*p,g=d*d+p*p,y=f*g-m*m,k=0===y?0:1/y,v=t.x1,b=t.y1,w=0;w<e.length&&(s=(f*(h=d*(r=e[w].x-v)+p*(o=e[w].y-b))-m*(l=u*r+c*o))*k,!((n=(g*l-m*h)*k)>=0&&s>=0&&n+s<1&&(a.push({x:e[w].x,y:e[w].y}),i)));w++);return a}},function(t,e){t.exports=function(t,e,i,a){var n=Math.cos(a),s=Math.sin(a),r=t.x1-e,o=t.y1-i;return t.x1=r*n-o*s+e,t.y1=r*s+o*n+i,r=t.x2-e,o=t.y2-i,t.x2=r*n-o*s+e,t.y2=r*s+o*n+i,t}},function(t,e){t.exports=function(t){return 0===t.height?NaN:t.width/t.height}},function(t,e){t.exports=function(t,e,i,a){var n=Math.cos(a),s=Math.sin(a),r=t.x1-e,o=t.y1-i;return t.x1=r*n-o*s+e,t.y1=r*s+o*n+i,r=t.x2-e,o=t.y2-i,t.x2=r*n-o*s+e,t.y2=r*s+o*n+i,r=t.x3-e,o=t.y3-i,t.x3=r*n-o*s+e,t.y3=r*s+o*n+i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BUTTON_DOWN:i(1201),BUTTON_UP:i(1202),CONNECTED:i(1203),DISCONNECTED:i(1204),GAMEPAD_BUTTON_DOWN:i(1205),GAMEPAD_BUTTON_UP:i(1206)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(18),n=i(139);t.exports=function(t,e){var i=void 0===t?n():a({},t);if(e)for(var s in e)void 0!==e[s]&&(i[s]=e[s]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=i(363),u=new a({Extends:s,initialize:function(t,e,i,a){var n="xml";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"xml",cache:t.cacheManager.xml,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});r.register("xml",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new u(this,t[a]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Acceleration:i(1261),Angular:i(1262),Bounce:i(1263),Debug:i(1264),Drag:i(1265),Enable:i(1266),Friction:i(1267),Gravity:i(1268),Immovable:i(1269),Mass:i(1270),Size:i(1271),Velocity:i(1272)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={COLLIDE:i(1274),OVERLAP:i(1275),PAUSE:i(1276),RESUME:i(1277),TILE_COLLIDE:i(1278),TILE_OVERLAP:i(1279),WORLD_BOUNDS:i(1280),WORLD_STEP:i(1281)}},function(t,e,i){var a={};t.exports=a;var n=i(86),s=i(99),r=i(239),o=i(100),l=i(512),h=i(38);a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?s.add(e.bodyA.position,e.pointA):e.pointA,a=e.bodyB?s.add(e.bodyB.position,e.pointB):e.pointB,n=s.magnitude(s.sub(i,a));e.length=void 0!==e.length?e.length:n,e.id=e.id||h.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=h.extend(r,e.render),e},a.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],a=i.constraintImpulse;i.isStatic||0===a.x&&0===a.y&&0===a.angle||(i.position.x+=a.x,i.position.y+=a.y,i.angle+=a.angle)}},a.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var n=t[i],s=!n.bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic;(s||r)&&a.solve(t[i],e)}for(i=0;i<t.length;i+=1)s=!(n=t[i]).bodyA||n.bodyA&&n.bodyA.isStatic,r=!n.bodyB||n.bodyB&&n.bodyB.isStatic,s||r||a.solve(t[i],e)},a.solve=function(t,e){var i=t.bodyA,n=t.bodyB,r=t.pointA,o=t.pointB;if(i||n){i&&!i.isStatic&&(s.rotate(r,i.angle-t.angleA,r),t.angleA=i.angle),n&&!n.isStatic&&(s.rotate(o,n.angle-t.angleB,o),t.angleB=n.angle);var l=r,h=o;if(i&&(l=s.add(i.position,r)),n&&(h=s.add(n.position,o)),l&&h){var u=s.sub(l,h),c=s.magnitude(u);c<a._minLength&&(c=a._minLength);var d,p,f,m,g,y=(c-t.length)/c,k=t.stiffness<1?t.stiffness*e:t.stiffness,v=s.mult(u,y*k),b=(i?i.inverseMass:0)+(n?n.inverseMass:0),w=b+((i?i.inverseInertia:0)+(n?n.inverseInertia:0));if(t.damping){var S=s.create();f=s.div(u,c),g=s.sub(n&&s.sub(n.position,n.positionPrev)||S,i&&s.sub(i.position,i.positionPrev)||S),m=s.dot(f,g)}i&&!i.isStatic&&(p=i.inverseMass/b,i.constraintImpulse.x-=v.x*p,i.constraintImpulse.y-=v.y*p,i.position.x-=v.x*p,i.position.y-=v.y*p,t.damping&&(i.positionPrev.x-=t.damping*f.x*m*p,i.positionPrev.y-=t.damping*f.y*m*p),d=s.cross(r,v)/w*a._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=d,i.angle-=d),n&&!n.isStatic&&(p=n.inverseMass/b,n.constraintImpulse.x+=v.x*p,n.constraintImpulse.y+=v.y*p,n.position.x+=v.x*p,n.position.y+=v.y*p,t.damping&&(n.positionPrev.x+=t.damping*f.x*m*p,n.positionPrev.y+=t.damping*f.y*m*p),d=s.cross(o,v)/w*a._torqueDampen*n.inverseInertia*(1-t.angularStiffness),n.constraintImpulse.angle+=d,n.angle+=d)}}},a.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],h=i.constraintImpulse;if(!(i.isStatic||0===h.x&&0===h.y&&0===h.angle)){r.set(i,!1);for(var u=0;u<i.parts.length;u++){var c=i.parts[u];n.translate(c.vertices,h),u>0&&(c.position.x+=h.x,c.position.y+=h.y),0!==h.angle&&(n.rotate(c.vertices,h.angle,i.position),l.rotate(c.axes,h.angle),u>0&&s.rotateAbout(c.position,h.angle,i.position,c.position)),o.update(c.bounds,c.vertices,i.velocity)}h.angle*=a._warming,h.x*=a._warming,h.y*=a._warming}}},a.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+t.pointA.x,y:(t.bodyA?t.bodyA.position.y:0)+t.pointA.y}},a.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+t.pointB.x,y:(t.bodyB?t.bodyB.position.y:0)+t.pointB.y}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(142);t.exports=function(t,e,i){var n=a(t,e,!0,i),s=a(t,e-1,!0,i),r=a(t,e+1,!0,i),o=a(t-1,e,!0,i),l=a(t+1,e,!0,i),h=n&&n.collides;return h&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),s&&s.collides&&(h&&(n.faceTop=!1),s.faceBottom=!h),r&&r.collides&&(h&&(n.faceBottom=!1),r.faceTop=!h),o&&o.collides&&(h&&(n.faceLeft=!1),o.faceRight=!h),l&&l.collides&&(h&&(n.faceRight=!1),l.faceLeft=!h),n&&!n.collides&&n.resetFaces(),n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(74),n=i(101),s=i(220),r=i(73);t.exports=function(t,e,i,o,l){if(!n(e,i,l))return null;void 0===o&&(o=!0);var h=l.data[i][e],u=h&&h.collides;if(t instanceof a)null===l.data[i][e]&&(l.data[i][e]=new a(l,t.index,e,i,t.width,t.height)),l.data[i][e].copy(t);else{var c=t;null===l.data[i][e]?l.data[i][e]=new a(l,c,e,i,l.tileWidth,l.tileHeight):l.data[i][e].index=c}var d=l.data[i][e],p=-1!==l.collideIndexes.indexOf(d.index);return r(d,p),o&&u!==d.collides&&s(e,i,l),d}},function(t,e){t.exports=function(t,e,i){var a=i.collideIndexes.indexOf(t);e&&-1===a?i.collideIndexes.push(t):e||-1===a||i.collideIndexes.splice(a,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(102),s=i(103),r=i(74);t.exports=function(t,e,i,o,l){for(var h=new n({tileWidth:i,tileHeight:o}),u=new s({name:t,tileWidth:i,tileHeight:o,format:a.ARRAY_2D,layers:[h]}),c=[],d=e.length,p=0,f=0;f<e.length;f++){c[f]=[];for(var m=e[f],g=0;g<m.length;g++){var y=parseInt(m[g],10);isNaN(y)||-1===y?c[f][g]=l?null:new r(h,-1,g,f,i,o):c[f][g]=new r(h,y,g,f,i,o)}0===p&&(p=m.length)}return u.width=h.width=p,u.height=h.height=d,u.widthInPixels=h.widthInPixels=p*i,u.heightInPixels=h.heightInPixels=d*o,h.data=c,u}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i=2147483648,a=1073741824,n=536870912;t.exports=function(t){var e=Boolean(t&i),s=Boolean(t&a),r=Boolean(t&n);t&=536870911;var o=0,l=!1;return e&&s&&r?(o=Math.PI/2,l=!0):e&&s&&!r?(o=Math.PI,l=!1):e&&!s&&r?(o=Math.PI/2,l=!1):!e||s||r?!e&&s&&r?(o=3*Math.PI/2,l=!1):e||!s||r?e||s||!r?e||s||r||(o=0,l=!1):(o=3*Math.PI/2,l=!0):(o=Math.PI,l=!0):(o=0,l=!0),{gid:t,flippedHorizontal:e,flippedVertical:s,flippedAntiDiagonal:r,rotation:o,flipped:l}}},function(t,e,i){
/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2);t.exports=function(t,e,i){if(!e)return{i:0,layers:t.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=e.x+a(e,"startx",0)*t.tilewidth+a(e,"offsetx",0),s=e.y+a(e,"starty",0)*t.tileheight+a(e,"offsety",0);return{i:0,layers:e.layers,name:i.name+e.name+"/",opacity:i.opacity*e.opacity,visible:i.visible&&e.visible,x:i.x+n,y:i.y+s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(485),n=i(224),s=function(t){return{x:t.x,y:t.y}},r=["id","name","type","rotation","properties","visible","x","y","width","height"];t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=a(t,r);if(o.x+=e,o.y+=i,t.gid){var l=n(t.gid);o.gid=l.gid,o.flippedHorizontal=l.flippedHorizontal,o.flippedVertical=l.flippedVertical,o.flippedAntiDiagonal=l.flippedAntiDiagonal}else t.polyline?o.polyline=t.polyline.map(s):t.polygon?o.polygon=t.polygon.map(s):t.ellipse?o.ellipse=t.ellipse:t.text?o.text=t.text:t.point?o.point=!0:o.rectangle=!0;return o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(103),s=i(477),r=i(493);t.exports=function(t,e,i,o,l,h,u,c){void 0===i&&(i=32),void 0===o&&(o=32),void 0===l&&(l=10),void 0===h&&(h=10),void 0===c&&(c=!1);var d=null;if(Array.isArray(u))d=s(void 0!==e?e:"map",a.ARRAY_2D,u,i,o,c);else if(void 0!==e){var p=t.cache.tilemap.get(e);p?d=s(e,p.format,p.data,i,o,c):console.warn("No map data found for key "+e)}return null===d&&(d=new n({tileWidth:i,tileHeight:o,width:l,height:h})),new r(t,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6);t.exports=function(t){var e=a(t,"targets",null);return null===e||("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e])),e}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function i(t){return!!t.getActive&&"function"==typeof t.getActive}function a(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}var s=function(t,e){var r,o,l=function(t,e,i){return i},h=function(t,e,i){return i},u=null,c=typeof e;if("number"===c)l=function(){return e};else if("string"===c){var d=e[0],p=parseFloat(e.substr(2));switch(d){case"+":l=function(t,e,i){return i+p};break;case"-":l=function(t,e,i){return i-p};break;case"*":l=function(t,e,i){return i*p};break;case"/":l=function(t,e,i){return i/p};break;default:l=function(){return parseFloat(e)}}}else if("function"===c)l=e;else if("object"===c)if(a(o=e)||n(o)||i(o))i(e)&&(u=e.getActive),n(e)&&(l=e.getEnd),a(e)&&(h=e.getStart);else if(e.hasOwnProperty("value"))r=s(t,e.value);else{var f=e.hasOwnProperty("to"),m=e.hasOwnProperty("from"),g=e.hasOwnProperty("start");if(f&&(m||g)){if(r=s(t,e.to),g){var y=s(t,e.start);r.getActive=y.getEnd}if(m){var k=s(t,e.from);r.getStart=k.getEnd}}}return r||(r={getActive:u,getEnd:l,getStart:h}),r};t.exports=s},function(t,e){t.exports={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(232),r=i(16),o=i(5),l=i(89),h=i(15),u=new a({Extends:n,initialize:function(t,e,i){n.call(this),this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=l.PENDING_ADD,this._pausedState=l.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(t){return void 0===t&&(t=0),this.data[t].current},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===l.ACTIVE},isPaused:function(){return this.state===l.PAUSED},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){void 0===i&&(i=!1);for(var a=0;a<this.totalData;a++){var n=this.data[a];n.key===t&&(n.end=e,i&&(n.start=n.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===l.ACTIVE?this.seek(0):this.state===l.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===l.PENDING_ADD?this:this.play()},calcDuration:function(){for(var t=0,e=h.MAX_SAFE_INTEGER,i=this.data,a=0;a<this.totalData;a++){var n=i[a];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,-1===n.repeat?n.totalDuration+=999999999999*n.t2:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>t&&(t=n.totalDuration),n.delay<e&&(e=n.delay)}this.duration=Math.max(t,.001),this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=e},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=l.PENDING_ADD,this._pausedState=l.INIT,!1;for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var a=t[i],n=a.target,s=a.gen,r=a.key,o=a.index;a.delay=s.delay(n,r,0,o,e,this),a.duration=Math.max(s.duration(n,r,0,o,e,this),.001),a.hold=s.hold(n,r,0,o,e,this),a.repeat=s.repeat(n,r,0,o,e,this),a.repeatDelay=s.repeatDelay(n,r,0,o,e,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=l.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(s.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=l.LOOP_DELAY):(this.state=l.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=l.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===l.PAUSED||(this.paused=!0,this._pausedState=this.state,this.state=l.PAUSED),this},play:function(t){void 0===t&&(t=!1);var e=this.state;return e!==l.INIT||this.parentIsTimeline?e===l.ACTIVE||e===l.PENDING_ADD&&this._pausedState===l.PENDING_ADD?this:this.parentIsTimeline||e!==l.PENDING_REMOVE&&e!==l.REMOVED?(this.parentIsTimeline?(this.resetTweenData(t),0===this.calculatedOffset?this.state=l.ACTIVE:(this.countdown=this.calculatedOffset,this.state=l.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(t),this.state=l.ACTIVE,this.makeActive()),this):(this.seek(0),this.parent.makeActive(this),this):(this.resetTweenData(!1),this.state=l.ACTIVE,this)},resetTweenData:function(t){for(var e=this.data,i=this.totalData,a=this.totalTargets,n=0;n<i;n++){var s=e[n],r=s.target,o=s.key,h=s.index;s.progress=0,s.elapsed=0,s.repeatCounter=-1===s.repeat?999999999999:s.repeat,t?(s.start=s.getStartValue(r,o,s.start,h,a,this),s.end=s.getEndValue(r,o,s.end,h,a,this),s.current=s.start,s.state=l.PLAYING_FORWARD):s.state=l.PENDING_RENDER,s.delay>0&&(s.elapsed=s.delay,s.state=l.DELAY),s.getActiveValue&&(r[o]=s.getActiveValue(s.target,s.key,s.start))}},resume:function(){return this.state===l.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(t,e){if(void 0===e&&(e=16.6),this.totalDuration>=36e5)return console.warn("Tween.seek duration too long"),this;this.state===l.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var i=this.data,a=this.totalTargets,n=0;n<this.totalData;n++){var s=i[n],r=s.target,o=s.gen,h=s.key,u=s.index;s.progress=0,s.elapsed=0,s.repeatCounter=-1===s.repeat?999999999999:s.repeat,s.delay=o.delay(r,h,0,u,a,this),s.duration=Math.max(o.duration(r,h,0,u,a,this),.001),s.hold=o.hold(r,h,0,u,a,this),s.repeat=o.repeat(r,h,0,u,a,this),s.repeatDelay=o.repeatDelay(r,h,0,u,a,this),s.current=s.start,s.state=l.PLAYING_FORWARD,this.updateTweenData(this,s,0,u,a),s.delay>0&&(s.elapsed=s.delay,s.state=l.DELAY)}this.calcDuration();var c=!1;this.state===l.PAUSED&&(c=!0,this.state=l.ACTIVE),this.isSeeking=!0;do{this.update(0,e)}while(this.totalProgress<t);return this.isSeeking=!1,c&&(this.state=l.PAUSED),this},setCallback:function(t,e,i,a){return this.callbacks[t]={func:e,scope:a,params:i},this},complete:function(t){return void 0===t&&(t=0),t?(this.state=l.COMPLETE_DELAY,this.countdown=t):(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(t){return this.state===l.ACTIVE&&void 0!==t&&this.seek(t),this.state!==l.REMOVED&&(this.state!==l.PAUSED&&this.state!==l.PENDING_ADD||(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.removeAllListeners(),this.state=l.PENDING_REMOVE),this},update:function(t,e){if(this.state===l.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case l.ACTIVE:this.hasStarted||this.isSeeking||(this.startDelay-=e,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(s.TWEEN_START,this.callbacks.onStart)));for(var i=!1,a=0;a<this.totalData;a++){var n=this.data[a];this.updateTweenData(this,n,e)&&(i=!0)}i||this.nextState();break;case l.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop));break;case l.OFFSET_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.ACTIVE);break;case l.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=l.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))}return this.state===l.PENDING_REMOVE},dispatchTweenDataEvent:function(t,e,i){this.isSeeking||(this.emit(t,this,i.key,i.target,i.current,i.previous),e&&(e.params[1]=i.target,e.func.apply(e.scope,e.params)))},dispatchTweenEvent:function(t,e){this.isSeeking||(this.emit(t,this,this.targets),e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)))},setStateFromEnd:function(t,e,i){return e.yoyo?(e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),this.dispatchTweenDataEvent(s.TWEEN_YOYO,t.callbacks.onYoyo,e),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),l.PLAYING_BACKWARD):e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.start=e.getStartValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},setStateFromStart:function(t,e,i){return e.repeatCounter>0?(e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY(),e.end=e.getEndValue(e.target,e.key,e.start,e.index,t.totalTargets,t),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,l.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e),l.PLAYING_FORWARD)):l.COMPLETE},updateTweenData:function(t,e,i){var a=e.target;switch(e.state){case l.PLAYING_FORWARD:case l.PLAYING_BACKWARD:if(!a){e.state=l.COMPLETE;break}var n=e.elapsed,r=e.duration,o=0;(n+=i)>r&&(o=n-r,n=r);var h=e.state===l.PLAYING_FORWARD,u=n/r;if(e.elapsed=n,e.progress=u,e.previous=e.current,1===u)h?(e.current=e.end,a[e.key]=e.end,e.hold>0?(e.elapsed=e.hold-o,e.state=l.HOLD_DELAY):e.state=this.setStateFromEnd(t,e,o)):(e.current=e.start,a[e.key]=e.start,e.state=this.setStateFromStart(t,e,o));else{var c=h?e.ease(u):e.ease(1-u);e.current=e.start+(e.end-e.start)*c,a[e.key]=e.current}this.dispatchTweenDataEvent(s.TWEEN_UPDATE,t.callbacks.onUpdate,e);break;case l.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PENDING_RENDER);break;case l.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=l.PLAYING_FORWARD,this.dispatchTweenDataEvent(s.TWEEN_REPEAT,t.callbacks.onRepeat,e));break;case l.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=this.setStateFromEnd(t,e,Math.abs(e.elapsed)));break;case l.PENDING_RENDER:a?(e.start=e.getStartValue(a,e.key,a[e.key],e.index,t.totalTargets,t),e.end=e.getEndValue(a,e.key,e.start,e.index,t.totalTargets,t),e.current=e.start,a[e.key]=e.start,e.state=l.PLAYING_FORWARD):e.state=l.COMPLETE}return e.state!==l.COMPLETE}});u.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],o.register("tween",(function(t){return this.scene.sys.tweens.add(t)})),r.register("tween",(function(t){return this.scene.sys.tweens.create(t)})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={TIMELINE_COMPLETE:i(1356),TIMELINE_LOOP:i(1357),TIMELINE_PAUSE:i(1358),TIMELINE_RESUME:i(1359),TIMELINE_START:i(1360),TIMELINE_UPDATE:i(1361),TWEEN_ACTIVE:i(1362),TWEEN_COMPLETE:i(1363),TWEEN_LOOP:i(1364),TWEEN_REPEAT:i(1365),TWEEN_START:i(1366),TWEEN_UPDATE:i(1367),TWEEN_YOYO:i(1368)}},function(t,e){t.exports=function(t,e,i,a,n,s,r,o,l,h,u,c,d,p,f){return{target:t,index:e,key:i,getActiveValue:s,getEndValue:a,getStartValue:n,ease:r,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:p,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:o,duration:l,hold:u,repeat:c,repeatDelay:d},state:0}}},function(t,e){t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(58);t.exports=function(t){return a(t,-Math.PI,Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(58);t.exports=function(t){return a(t,-180,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(66),s=i(2),r=i(238),o=i(339),l=i(340),h=i(29),u=i(9),c=i(147),d=new a({Extends:c,Mixins:[r],initialize:function(t){var e=t.renderer.config;c.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:s(t,"topology",t.renderer.gl.TRIANGLES),vertShader:s(t,"vertShader",l),fragShader:s(t,"fragShader",o),vertexCapacity:s(t,"vertexCapacity",6*e.batchSize),vertexSize:s(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=e.batchSize,this.batches=[],this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this._tempMatrix4=new h,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.tintEffect=2,this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[],this.mvpInit()},onBind:function(){return c.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(t,e,i){return c.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){return void 0===t&&(t=this.renderer.blankTexture.glTexture),void 0===e&&(e=0),this.requireTextureBatch(t,e)&&this.pushBatch(t,e),this},requireTextureBatch:function(t,e){var i=this.batches,a=i.length;return!(a>0)||!((e>0?i[a-1].textures[e-1]:i[a-1].texture)===t)},pushBatch:function(t,e){if(0===e)this.batches.push({first:this.vertexCount,texture:t,textures:[]});else{var i=[];i[e-1]=t,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t,e,i,a=this.gl,n=this.vertexCount,s=this.topology,r=this.vertexSize,o=this.renderer,l=this.batches,h=l.length,u=0,c=null;if(0===h||0===n)return this.flushLocked=!1,this;a.bufferSubData(a.ARRAY_BUFFER,0,this.bytes.subarray(0,n*r));for(var d=0;d<h-1;d++){if(c=l[d],t=l[d+1],c.textures.length>0){for(e=0;e<c.textures.length;++e)(i=c.textures[e])&&o.setTexture2D(i,1+e,!1);a.activeTexture(a.TEXTURE0)}u=t.first-c.first,null===c.texture||u<=0||(o.setTexture2D(c.texture,0,!1),a.drawArrays(s,c.first,u))}if((c=l[h-1]).textures.length>0){for(e=0;e<c.textures.length;++e)(i=c.textures[e])&&o.setTexture2D(i,1+e,!1);a.activeTexture(a.TEXTURE0)}return u=n-c.first,c.texture&&u>0&&(o.setTexture2D(c.texture,0,!1),a.drawArrays(s,c.first,u)),this.vertexCount=0,l.length=0,this.flushLocked=!1,this},batchSprite:function(t,e,i){this.renderer.setPipeline(this);var a=this._tempMatrix1,n=this._tempMatrix2,s=this._tempMatrix3,r=t.frame,o=r.glTexture,l=r.u0,h=r.v0,c=r.u1,d=r.v1,p=r.x,f=r.y,m=r.cutWidth,g=r.cutHeight,y=r.customPivot,k=t.displayOriginX,v=t.displayOriginY,b=-k+p,w=-v+f;if(t.isCropped){var S=t._crop;S.flipX===t.flipX&&S.flipY===t.flipY||r.updateCropUVs(S,t.flipX,t.flipY),l=S.u0,h=S.v0,c=S.u1,d=S.v1,m=S.width,g=S.height,b=-k+(p=S.x),w=-v+(f=S.y)}var x=1,T=1;t.flipX&&(y||(b+=-r.realWidth+2*k),x=-1),(t.flipY||r.source.isGLTexture&&!o.flipY)&&(y||(w+=-r.realHeight+2*v),T=-1),n.applyITRS(t.x,t.y,t.rotation,t.scaleX*x,t.scaleY*T),a.copyFrom(e.matrix),i?(a.multiplyWithOffset(i,-e.scrollX*t.scrollFactorX,-e.scrollY*t.scrollFactorY),n.e=t.x,n.f=t.y,a.multiply(n,s)):(n.e-=e.scrollX*t.scrollFactorX,n.f-=e.scrollY*t.scrollFactorY,a.multiply(n,s));var A=b+m,E=w+g,C=s.getX(b,w),M=s.getY(b,w),_=s.getX(b,E),B=s.getY(b,E),I=s.getX(A,E),D=s.getY(A,E),P=s.getX(A,w),L=s.getY(A,w),O=u.getTintAppendFloatAlpha(t._tintTL,e.alpha*t._alphaTL),N=u.getTintAppendFloatAlpha(t._tintTR,e.alpha*t._alphaTR),G=u.getTintAppendFloatAlpha(t._tintBL,e.alpha*t._alphaBL),R=u.getTintAppendFloatAlpha(t._tintBR,e.alpha*t._alphaBR);e.roundPixels&&(C=Math.round(C),M=Math.round(M),_=Math.round(_),B=Math.round(B),I=Math.round(I),D=Math.round(D),P=Math.round(P),L=Math.round(L)),this.setTexture2D(o,0);var F=t._isTinted&&t.tintFill;this.batchQuad(C,M,_,B,I,D,P,L,l,h,c,d,O,N,G,R,F,o,0)},batchQuad:function(t,e,i,a,n,s,r,o,l,h,u,c,d,p,f,m,g,y,k){var v=!1;this.vertexCount+6>this.vertexCapacity&&(this.flush(),v=!0,this.setTexture2D(y,k));var b=this.vertexViewF32,w=this.vertexViewU32,S=this.vertexCount*this.vertexComponentCount-1;return b[++S]=t,b[++S]=e,b[++S]=l,b[++S]=h,b[++S]=g,w[++S]=d,b[++S]=i,b[++S]=a,b[++S]=l,b[++S]=c,b[++S]=g,w[++S]=f,b[++S]=n,b[++S]=s,b[++S]=u,b[++S]=c,b[++S]=g,w[++S]=m,b[++S]=t,b[++S]=e,b[++S]=l,b[++S]=h,b[++S]=g,w[++S]=d,b[++S]=n,b[++S]=s,b[++S]=u,b[++S]=c,b[++S]=g,w[++S]=m,b[++S]=r,b[++S]=o,b[++S]=u,b[++S]=h,b[++S]=g,w[++S]=p,this.vertexCount+=6,v},batchTri:function(t,e,i,a,n,s,r,o,l,h,u,c,d,p,f,m){var g=!1;this.vertexCount+3>this.vertexCapacity&&(this.flush(),this.setTexture2D(f,m),g=!0);var y=this.vertexViewF32,k=this.vertexViewU32,v=this.vertexCount*this.vertexComponentCount-1;return y[++v]=t,y[++v]=e,y[++v]=r,y[++v]=o,y[++v]=p,k[++v]=u,y[++v]=i,y[++v]=a,y[++v]=r,y[++v]=h,y[++v]=p,k[++v]=c,y[++v]=n,y[++v]=s,y[++v]=l,y[++v]=h,y[++v]=p,k[++v]=d,this.vertexCount+=3,g},batchTexture:function(t,e,i,a,n,s,r,o,l,h,u,c,d,p,f,m,g,y,k,v,b,w,S,x,T,A,E,C,M,_,B){this.renderer.setPipeline(this,t);var I=this._tempMatrix1,D=this._tempMatrix2,P=this._tempMatrix3,L=y/i+E,O=k/a+C,N=(y+v)/i+E,G=(k+b)/a+C,R=r,F=o,Q=-m,U=-g;if(t.isCropped){var H=t._crop;R=H.width,F=H.height,r=H.width,o=H.height;var Y=y=H.x,W=k=H.y;c&&(Y=v-H.x-H.width),d&&!e.isRenderTexture&&(W=b-H.y-H.height),L=Y/i+E,O=W/a+C,N=(Y+H.width)/i+E,G=(W+H.height)/a+C,Q=-m+y,U=-g+k}c&&(R*=-1,Q+=r),(d^=!B&&e.isRenderTexture?1:0)&&(F*=-1,U+=o);var z=Q+R,V=U+F;D.applyITRS(n,s,u,l,h),I.copyFrom(M.matrix),_?(I.multiplyWithOffset(_,-M.scrollX*p,-M.scrollY*f),D.e=n,D.f=s,I.multiply(D,P)):(D.e-=M.scrollX*p,D.f-=M.scrollY*f,I.multiply(D,P));var X=P.getX(Q,U),j=P.getY(Q,U),q=P.getX(Q,V),K=P.getY(Q,V),J=P.getX(z,V),Z=P.getY(z,V),$=P.getX(z,U),tt=P.getY(z,U);M.roundPixels&&(X=Math.round(X),j=Math.round(j),q=Math.round(q),K=Math.round(K),J=Math.round(J),Z=Math.round(Z),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(X,j,q,K,J,Z,$,tt,L,O,N,G,w,S,x,T,A,e,0)},batchTextureFrame:function(t,e,i,a,n,s,r){this.renderer.setPipeline(this);var o=this._tempMatrix1.copyFrom(s),l=this._tempMatrix2,h=e+t.width,c=i+t.height;r?o.multiply(r,l):l=o;var d=l.getX(e,i),p=l.getY(e,i),f=l.getX(e,c),m=l.getY(e,c),g=l.getX(h,c),y=l.getY(h,c),k=l.getX(h,i),v=l.getY(h,i);this.setTexture2D(t.glTexture,0),a=u.getTintAppendFloatAlpha(a,n),this.batchQuad(d,p,f,m,g,y,k,v,t.u0,t.v0,t.u1,t.v1,a,a,a,a,0,t.glTexture,0)},drawFillRect:function(t,e,i,a,n,s){var r=t+i,o=e+a;this.setTexture2D();var l=u.getTintAppendFloatAlphaAndSwap(n,s);this.batchQuad(t,e,t,o,r,o,r,e,0,0,1,1,l,l,l,l,2)},batchFillRect:function(t,e,i,a,n,s){this.renderer.setPipeline(this);var r=this._tempMatrix3;s&&s.multiply(n,r);var o=t+i,l=e+a,h=r.getX(t,e),u=r.getY(t,e),c=r.getX(t,l),d=r.getY(t,l),p=r.getX(o,l),f=r.getY(o,l),m=r.getX(o,e),g=r.getY(o,e),y=this.currentFrame,k=y.u0,v=y.v0,b=y.u1,w=y.v1;this.batchQuad(h,u,c,d,p,f,m,g,k,v,b,w,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.fillTint.BR,this.tintEffect)},batchFillTriangle:function(t,e,i,a,n,s,r,o){this.renderer.setPipeline(this);var l=this._tempMatrix3;o&&o.multiply(r,l);var h=l.getX(t,e),u=l.getY(t,e),c=l.getX(i,a),d=l.getY(i,a),p=l.getX(n,s),f=l.getY(n,s),m=this.currentFrame,g=m.u0,y=m.v0,k=m.u1,v=m.v1;this.batchTri(h,u,c,d,p,f,g,y,k,v,this.fillTint.TL,this.fillTint.TR,this.fillTint.BL,this.tintEffect)},batchStrokeTriangle:function(t,e,i,a,n,s,r,o,l){var h=this.tempTriangle;h[0].x=t,h[0].y=e,h[0].width=r,h[1].x=i,h[1].y=a,h[1].width=r,h[2].x=n,h[2].y=s,h[2].width=r,h[3].x=t,h[3].y=e,h[3].width=r,this.batchStrokePath(h,r,!1,o,l)},batchFillPath:function(t,e,i){this.renderer.setPipeline(this);var a=this._tempMatrix3;i&&i.multiply(e,a);for(var s,r,o=t.length,l=this.polygonCache,h=this.fillTint.TL,u=this.fillTint.TR,c=this.fillTint.BL,d=this.tintEffect,p=0;p<o;++p)r=t[p],l.push(r.x,r.y);o=(s=n(l)).length;for(var f=this.currentFrame,m=0;m<o;m+=3){var g=2*s[m+0],y=2*s[m+1],k=2*s[m+2],v=l[g+0],b=l[g+1],w=l[y+0],S=l[y+1],x=l[k+0],T=l[k+1],A=a.getX(v,b),E=a.getY(v,b),C=a.getX(w,S),M=a.getY(w,S),_=a.getX(x,T),B=a.getY(x,T),I=f.u0,D=f.v0,P=f.u1,L=f.v1;this.batchTri(A,E,C,M,_,B,I,D,P,L,h,u,c,d)}l.length=0},batchStrokePath:function(t,e,i,a,n){this.renderer.setPipeline(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var s=t.length-1,r=0;r<s;r++){var o=t[r],l=t[r+1];this.batchLine(o.x,o.y,l.x,l.y,o.width/2,l.width/2,e,r,!i&&r===s-1,a,n)}},batchLine:function(t,e,i,a,n,s,r,o,l,h,u){this.renderer.setPipeline(this);var c=this._tempMatrix3;u&&u.multiply(h,c);var d=i-t,p=a-e,f=Math.sqrt(d*d+p*p),m=n*(a-e)/f,g=n*(t-i)/f,y=s*(a-e)/f,k=s*(t-i)/f,v=i-y,b=a-k,w=t-m,S=e-g,x=i+y,T=a+k,A=t+m,E=e+g,C=c.getX(v,b),M=c.getY(v,b),_=c.getX(w,S),B=c.getY(w,S),I=c.getX(x,T),D=c.getY(x,T),P=c.getX(A,E),L=c.getY(A,E),O=this.strokeTint,N=this.tintEffect,G=O.TL,R=O.TR,F=O.BL,Q=O.BR,U=this.currentFrame,H=U.u0,Y=U.v0,W=U.u1,z=U.v1;if(this.batchQuad(P,L,_,B,C,M,I,D,H,Y,W,z,G,R,F,Q,N),!(r<=2)){var V=this.prevQuad,X=this.firstQuad;o>0&&V[4]?this.batchQuad(P,L,_,B,V[0],V[1],V[2],V[3],H,Y,W,z,G,R,F,Q,N):(X[0]=P,X[1]=L,X[2]=_,X[3]=B,X[4]=1),l&&X[4]?this.batchQuad(C,M,I,D,X[0],X[1],X[2],X[3],H,Y,W,z,G,R,F,Q,N):(V[0]=C,V[1]=M,V[2]=I,V[3]=D,V[4]=1)}}});t.exports=d},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={modelMatrixDirty:!1,viewMatrixDirty:!1,projectionMatrixDirty:!1,modelMatrix:null,viewMatrix:null,projectionMatrix:null,mvpInit:function(){return this.modelMatrixDirty=!0,this.viewMatrixDirty=!0,this.projectionMatrixDirty=!0,this.modelMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},mvpUpdate:function(){var t=this.program;return this.modelMatrixDirty&&(this.renderer.setMatrix4(t,"uModelMatrix",!1,this.modelMatrix),this.modelMatrixDirty=!1),this.viewMatrixDirty&&(this.renderer.setMatrix4(t,"uViewMatrix",!1,this.viewMatrix),this.viewMatrixDirty=!1),this.projectionMatrixDirty&&(this.renderer.setMatrix4(t,"uProjectionMatrix",!1,this.projectionMatrix),this.projectionMatrixDirty=!1),this},modelIdentity:function(){var t=this.modelMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.modelMatrixDirty=!0,this},modelScale:function(t,e,i){var a=this.modelMatrix;return a[0]=a[0]*t,a[1]=a[1]*t,a[2]=a[2]*t,a[3]=a[3]*t,a[4]=a[4]*e,a[5]=a[5]*e,a[6]=a[6]*e,a[7]=a[7]*e,a[8]=a[8]*i,a[9]=a[9]*i,a[10]=a[10]*i,a[11]=a[11]*i,this.modelMatrixDirty=!0,this},modelTranslate:function(t,e,i){var a=this.modelMatrix;return a[12]=a[0]*t+a[4]*e+a[8]*i+a[12],a[13]=a[1]*t+a[5]*e+a[9]*i+a[13],a[14]=a[2]*t+a[6]*e+a[10]*i+a[14],a[15]=a[3]*t+a[7]*e+a[11]*i+a[15],this.modelMatrixDirty=!0,this},modelRotateX:function(t){var e=this.modelMatrix,i=Math.sin(t),a=Math.cos(t),n=e[4],s=e[5],r=e[6],o=e[7],l=e[8],h=e[9],u=e[10],c=e[11];return e[4]=n*a+l*i,e[5]=s*a+h*i,e[6]=r*a+u*i,e[7]=o*a+c*i,e[8]=l*a-n*i,e[9]=h*a-s*i,e[10]=u*a-r*i,e[11]=c*a-o*i,this.modelMatrixDirty=!0,this},modelRotateY:function(t){var e=this.modelMatrix,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[8],h=e[9],u=e[10],c=e[11];return e[0]=n*a-l*i,e[1]=s*a-h*i,e[2]=r*a-u*i,e[3]=o*a-c*i,e[8]=n*i+l*a,e[9]=s*i+h*a,e[10]=r*i+u*a,e[11]=o*i+c*a,this.modelMatrixDirty=!0,this},modelRotateZ:function(t){var e=this.modelMatrix,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[4],h=e[5],u=e[6],c=e[7];return e[0]=n*a+l*i,e[1]=s*a+h*i,e[2]=r*a+u*i,e[3]=o*a+c*i,e[4]=l*a-n*i,e[5]=h*a-s*i,e[6]=u*a-r*i,e[7]=c*a-o*i,this.modelMatrixDirty=!0,this},viewIdentity:function(){var t=this.viewMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.viewMatrixDirty=!0,this},viewScale:function(t,e,i){var a=this.viewMatrix;return a[0]=a[0]*t,a[1]=a[1]*t,a[2]=a[2]*t,a[3]=a[3]*t,a[4]=a[4]*e,a[5]=a[5]*e,a[6]=a[6]*e,a[7]=a[7]*e,a[8]=a[8]*i,a[9]=a[9]*i,a[10]=a[10]*i,a[11]=a[11]*i,this.viewMatrixDirty=!0,this},viewTranslate:function(t,e,i){var a=this.viewMatrix;return a[12]=a[0]*t+a[4]*e+a[8]*i+a[12],a[13]=a[1]*t+a[5]*e+a[9]*i+a[13],a[14]=a[2]*t+a[6]*e+a[10]*i+a[14],a[15]=a[3]*t+a[7]*e+a[11]*i+a[15],this.viewMatrixDirty=!0,this},viewRotateX:function(t){var e=this.viewMatrix,i=Math.sin(t),a=Math.cos(t),n=e[4],s=e[5],r=e[6],o=e[7],l=e[8],h=e[9],u=e[10],c=e[11];return e[4]=n*a+l*i,e[5]=s*a+h*i,e[6]=r*a+u*i,e[7]=o*a+c*i,e[8]=l*a-n*i,e[9]=h*a-s*i,e[10]=u*a-r*i,e[11]=c*a-o*i,this.viewMatrixDirty=!0,this},viewRotateY:function(t){var e=this.viewMatrix,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[8],h=e[9],u=e[10],c=e[11];return e[0]=n*a-l*i,e[1]=s*a-h*i,e[2]=r*a-u*i,e[3]=o*a-c*i,e[8]=n*i+l*a,e[9]=s*i+h*a,e[10]=r*i+u*a,e[11]=o*i+c*a,this.viewMatrixDirty=!0,this},viewRotateZ:function(t){var e=this.viewMatrix,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[4],h=e[5],u=e[6],c=e[7];return e[0]=n*a+l*i,e[1]=s*a+h*i,e[2]=r*a+u*i,e[3]=o*a+c*i,e[4]=l*a-n*i,e[5]=h*a-s*i,e[6]=u*a-r*i,e[7]=c*a-o*i,this.viewMatrixDirty=!0,this},viewLoad2D:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=0,e[4]=t[2],e[5]=t[3],e[6]=0,e[7]=0,e[8]=t[4],e[9]=t[5],e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this.viewMatrixDirty=!0,this},viewLoad:function(t){var e=this.viewMatrix;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this.viewMatrixDirty=!0,this},projIdentity:function(){var t=this.projectionMatrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this.projectionMatrixDirty=!0,this},projOrtho:function(t,e,i,a,n,s){var r=this.projectionMatrix,o=1/(t-e),l=1/(i-a),h=1/(n-s);return r[0]=-2*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(t+e)*o,r[13]=(a+i)*l,r[14]=(s+n)*h,r[15]=1,this.projectionMatrixDirty=!0,this},projPersp:function(t,e,i,a){var n=this.projectionMatrix,s=1/Math.tan(t/2),r=1/(i-a);return n[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(a+i)*r,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*a*i*r,n[15]=0,this.projectionMatrixDirty=!0,this}};t.exports=i},function(t,e,i){var a={};t.exports=a;var n=i(240);a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n],r=s.speed*s.speed+s.angularSpeed*s.angularSpeed;if(0===s.force.x&&0===s.force.y){var o=Math.min(s.motion,r),l=Math.max(s.motion,r);s.motion=a._minBias*o+(1-a._minBias)*l,s.sleepThreshold>0&&s.motion<a._motionSleepThreshold*i?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold&&a.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}else a.set(s,!1)}},a.afterCollisions=function(t,e){for(var i=e*e*e,n=0;n<t.length;n++){var s=t[n];if(s.isActive){var r=s.collision,o=r.bodyA.parent,l=r.bodyB.parent;if(!(o.isSleeping&&l.isSleeping||o.isStatic||l.isStatic)&&(o.isSleeping||l.isSleeping)){var h=o.isSleeping&&!o.isStatic?o:l,u=h===o?l:o;!h.isStatic&&u.motion>a._motionWakeThreshold*i&&a.set(h,!1)}}}},a.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||n.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&n.trigger(t,"sleepEnd"))}},function(t,e,i){var a={};t.exports=a;var n=i(38);a.on=function(t,e,i){for(var a,n=e.split(" "),s=0;s<n.length;s++)a=n[s],t.events=t.events||{},t.events[a]=t.events[a]||[],t.events[a].push(i);return i},a.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=n.keys(t.events).join(" "));for(var a=e.split(" "),s=0;s<a.length;s++){var r=t.events[a[s]],o=[];if(i&&r)for(var l=0;l<r.length;l++)r[l]!==i&&o.push(r[l]);t.events[a[s]]=o}}else t.events={}},a.trigger=function(t,e,i){var a,s,r,o,l=t.events;if(l&&n.keys(l).length>0){i||(i={}),a=e.split(" ");for(var h=0;h<a.length;h++)if(r=l[s=a[h]]){(o=n.clone(i,!1)).name=s,o.source=t;for(var u=0;u<r.length;u++)r[u].apply(t,[o])}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={AlignTo:i(526),Angle:i(527),Call:i(528),GetFirst:i(529),GetLast:i(530),GridAlign:i(531),IncAlpha:i(592),IncX:i(593),IncXY:i(594),IncY:i(595),PlaceOnCircle:i(596),PlaceOnEllipse:i(597),PlaceOnLine:i(598),PlaceOnRectangle:i(599),PlaceOnTriangle:i(600),PlayAnimation:i(601),PropertyValueInc:i(34),PropertyValueSet:i(25),RandomCircle:i(602),RandomEllipse:i(603),RandomLine:i(604),RandomRectangle:i(605),RandomTriangle:i(606),Rotate:i(607),RotateAround:i(608),RotateAroundDistance:i(609),ScaleX:i(610),ScaleXY:i(611),ScaleY:i(612),SetAlpha:i(613),SetBlendMode:i(614),SetDepth:i(615),SetHitArea:i(616),SetOrigin:i(617),SetRotation:i(618),SetScale:i(619),SetScaleX:i(620),SetScaleY:i(621),SetScrollFactor:i(622),SetScrollFactorX:i(623),SetScrollFactorY:i(624),SetTint:i(625),SetVisible:i(626),SetX:i(627),SetXY:i(628),SetY:i(629),ShiftPosition:i(630),Shuffle:i(631),SmootherStep:i(632),SmoothStep:i(633),Spread:i(634),ToggleVisible:i(635),WrapInRectangle:i(636)}},function(t,e,i){
/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(105),n=[];n[a.BOTTOM_CENTER]=i(243),n[a.BOTTOM_LEFT]=i(244),n[a.BOTTOM_RIGHT]=i(245),n[a.LEFT_BOTTOM]=i(246),n[a.LEFT_CENTER]=i(247),n[a.LEFT_TOP]=i(248),n[a.RIGHT_BOTTOM]=i(249),n[a.RIGHT_CENTER]=i(250),n[a.RIGHT_TOP]=i(251),n[a.TOP_CENTER]=i(252),n[a.TOP_LEFT]=i(253),n[a.TOP_RIGHT]=i(254);t.exports=function(t,e,i,a,s){return n[i](t,e,a,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(76),s=i(77),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),r(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(41),s=i(42),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),r(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(43),s=i(44),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),r(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(41),s=i(45),r=i(44);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)-i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(78),n=i(41),s=i(79),r=i(44);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)-i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(41),n=i(46),s=i(44),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,a(e)-i),r(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(43),s=i(45),r=i(42);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(78),n=i(43),s=i(79),r=i(42);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(43),n=i(46),s=i(42),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,a(e)+i),r(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(76),n=i(46),s=i(45),r=i(77);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,a(e)+i),s(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(41),n=i(46),s=i(45),r=i(42);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,a(e)-i),s(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(43),n=i(46),s=i(45),r=i(44);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,a(e)+i),s(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(105),n=[];n[a.BOTTOM_CENTER]=i(256),n[a.BOTTOM_LEFT]=i(257),n[a.BOTTOM_RIGHT]=i(258),n[a.CENTER]=i(259),n[a.LEFT_CENTER]=i(261),n[a.RIGHT_CENTER]=i(262),n[a.TOP_CENTER]=i(263),n[a.TOP_LEFT]=i(264),n[a.TOP_RIGHT]=i(265),n[a.LEFT_BOTTOM]=n[a.BOTTOM_LEFT],n[a.LEFT_TOP]=n[a.TOP_LEFT],n[a.RIGHT_BOTTOM]=n[a.BOTTOM_RIGHT],n[a.RIGHT_TOP]=n[a.TOP_RIGHT];t.exports=function(t,e,i,a,s){return n[i](t,e,a,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(76),s=i(45),r=i(77);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(41),s=i(45),r=i(42);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)-i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(39),n=i(43),s=i(45),r=i(44);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(260),n=i(76),s=i(78);t.exports=function(t,e,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),a(t,n(e)+i,s(e)+r),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(77),n=i(79);t.exports=function(t,e,i){return a(t,e),n(t,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(78),n=i(41),s=i(79),r=i(42);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)-i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(78),n=i(43),s=i(79),r=i(44);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),r(t,n(e)+i),s(t,a(e)+o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(76),n=i(46),s=i(77),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,a(e)+i),r(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(41),n=i(46),s=i(42),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,a(e)-i),r(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(43),n=i(46),s=i(44),r=i(40);t.exports=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,a(e)+i),r(t,n(e)-o),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(149),n=i(87),s=i(15),r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var o=n(e,0,s.PI2);return a(t,o,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(268),n=i(149),s=i(87),r=i(15);t.exports=function(t,e,i,o){void 0===o&&(o=[]),!e&&i>0&&(e=a(t)/i);for(var l=0;l<e;l++){var h=s(l/e,0,r.PI2);o.push(n(t,h))}return o}},function(t,e){t.exports=function(t){return Math.PI*t.radius*2}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t){return void 0===t&&(t=1),this.alpha=t,this},alpha:{get:function(){return this._alpha},set:function(t){var e=a(t,0,1);this._alpha=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}}};t.exports=n},function(t,e){t.exports=function(t,e,i){if(!e.length)return NaN;if(1===e.length)return e[0];var a,n,s=1;if(i){if(t<e[0][i])return e[0];for(;e[s][i]<t;)s++}else for(;e[s]<t;)s++;return s>e.length&&(s=e.length),i?(a=e[s-1][i],(n=e[s][i])-t<=t-a?e[s]:e[s-1]):(a=e[s-1],(n=e[s])-t<=t-a?n:a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a){this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=a,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration}},destroy:function(){this.frame=void 0}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){"string"==typeof t&&(t=a[t]),(t|=0)>=-1&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_depth:0,depth:{get:function(){return this._depth},set:function(t){this.scene.sys.queueDepthSort(),this._depth=t}},setDepth:function(t){return void 0===t&&(t=0),this.depth=t,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(152),n=i(112);t.exports=function(t,e,i,s){void 0===s&&(s=[]),!e&&i>0&&(e=n(t)/i);for(var r=0;r<e;r++){var o=r/e;s.push(a(t,o))}return s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){return void 0===i&&(i=new a),i.x=t.x1+(t.x2-t.x1)*e,i.y=t.y1+(t.y2-t.y1)*e,i}},function(t,e){t.exports=function(t,e,i,a){var n=Math.cos(a),s=Math.sin(a),r=t.x-e,o=t.y-i;return t.x=r*n-o*s+e,t.y=r*s+o*n+i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(278),n=i(279),s={mask:null,setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(t){return void 0===t&&(this.texture||this.shader)&&(t=this),new a(this.scene,t)},createGeometryMask:function(t){return void 0===t&&"Graphics"===this.type&&(t=this),new n(this.scene,t)}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(20),s=new a({initialize:function(t,e){var i=t.sys.game.renderer;if(this.renderer=i,this.bitmapMask=e,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,i&&i.gl){var a=i.width,s=i.height,r=0==(a&a-1)&&0==(s&s-1),o=i.gl,l=r?o.REPEAT:o.CLAMP_TO_EDGE,h=o.LINEAR;this.mainTexture=i.createTexture2D(0,h,h,l,l,o.RGBA,null,a,s),this.maskTexture=i.createTexture2D(0,h,h,l,l,o.RGBA,null,a,s),this.mainFramebuffer=i.createFramebuffer(a,s,this.mainTexture,!0),this.maskFramebuffer=i.createFramebuffer(a,s,this.maskTexture,!0),t.sys.game.events.on(n.CONTEXT_RESTORED,(function(t){var e=t.width,i=t.height,a=0==(e&e-1)&&0==(i&i-1),n=t.gl,s=a?n.REPEAT:n.CLAMP_TO_EDGE,r=n.LINEAR;this.mainTexture=t.createTexture2D(0,r,r,s,s,n.RGBA,null,e,i),this.maskTexture=t.createTexture2D(0,r,r,s,s,n.RGBA,null,e,i),this.mainFramebuffer=t.createFramebuffer(e,i,this.mainTexture,!0),this.maskFramebuffer=t.createFramebuffer(e,i,this.maskTexture,!0)}),this)}},setBitmap:function(t){this.bitmapMask=t},preRenderWebGL:function(t,e,i){t.pipelines.BitmapMaskPipeline.beginMask(this,e,i)},postRenderWebGL:function(t,e){t.pipelines.BitmapMaskPipeline.endMask(this,e)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null;var t=this.renderer;t&&t.gl&&(t.deleteTexture(this.mainTexture),t.deleteTexture(this.maskTexture),t.deleteFramebuffer(this.mainFramebuffer),t.deleteFramebuffer(this.maskFramebuffer)),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null,this.prevFramebuffer=null,this.renderer=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e){this.geometryMask=e,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(t){return this.geometryMask=t,this},setInvertAlpha:function(t){return void 0===t&&(t=!0),this.invertAlpha=t,this},preRenderWebGL:function(t,e,i){var a=t.gl;t.flush(),0===t.maskStack.length&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),t.maskCount=0),t.currentCameraMask.mask!==this&&(t.currentMask.mask=this),t.maskStack.push({mask:this,camera:i}),this.applyStencil(t,i,!0),t.maskCount++},applyStencil:function(t,e,i){var a=t.gl,n=this.geometryMask,s=t.maskCount;a.colorMask(!1,!1,!1,!1),i?(a.stencilFunc(a.EQUAL,s,255),a.stencilOp(a.KEEP,a.KEEP,a.INCR)):(a.stencilFunc(a.EQUAL,s+1,255),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),n.renderWebGL(t,n,0,e),t.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),i?this.invertAlpha?a.stencilFunc(a.NOTEQUAL,s+1,255):a.stencilFunc(a.EQUAL,s+1,255):this.invertAlpha?a.stencilFunc(a.NOTEQUAL,s,255):a.stencilFunc(a.EQUAL,s,255)},postRenderWebGL:function(t){var e=t.gl;if(t.maskStack.pop(),t.maskCount--,0===t.maskStack.length)t.flush(),t.currentMask.mask=null,e.disable(e.STENCIL_TEST);else{t.flush();var i=t.maskStack[t.maskStack.length-1];i.mask.applyStencil(t,i.camera,!1),t.currentCameraMask.mask!==i.mask?(t.currentMask.mask=i.mask,t.currentMask.camera=i.camera):t.currentMask.mask=null}},preRenderCanvas:function(t,e,i){var a=this.geometryMask;t.currentContext.save(),a.renderCanvas(t,a,0,i,null,null,!0),t.currentContext.clip()},postRenderCanvas:function(t){t.currentContext.restore()},destroy:function(){this.geometryMask=null}});t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e){t.exports=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,depth:t.depth,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(29),s=i(235),r=i(236),o={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(t){this._scaleX=t,this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===t?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return r(this._rotation*a.RAD_TO_DEG)},set:function(t){this.rotation=r(t)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=s(t)}},setPosition:function(t,e,i,a){return void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===a&&(a=0),this.x=t,this.y=e,this.z=i,this.w=a,this},setRandomPosition:function(t,e,i,a){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===a&&(a=this.scene.sys.scale.height),this.x=t+Math.random()*i,this.y=e+Math.random()*a,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setX:function(t){return void 0===t&&(t=0),this.x=t,this},setY:function(t){return void 0===t&&(t=0),this.y=t,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this},setW:function(t){return void 0===t&&(t=0),this.w=t,this},getLocalTransformMatrix:function(t){return void 0===t&&(t=new n),t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(t,e){void 0===t&&(t=new n),void 0===e&&(e=new n);var i=this.parentContainer;if(!i)return this.getLocalTransformMatrix(t);for(t.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);i;)e.applyITRS(i.x,i.y,i._rotation,i._scaleX,i._scaleY),e.multiply(t,t),i=i.parentContainer;return t},getParentRotation:function(){for(var t=0,e=this.parentContainer;e;)t+=e.rotation,e=e.parentContainer;return t}};t.exports=o},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CHANGE_DATA:i(577),CHANGE_DATA_KEY:i(578),REMOVE_DATA:i(579),SET_DATA:i(580)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(112),n=i(4);t.exports=function(t,e,i,s){if(void 0===s&&(s=[]),!e&&!i)return s;e?i=Math.round(a(t)/e):e=a(t)/i;for(var r=t.x,o=t.y,l=0,h=0;h<i;h++)switch(s.push(new n(r,o)),l){case 0:(r+=e)>=t.right&&(l=1,o+=r-t.right,r=t.right);break;case 1:(o+=e)>=t.bottom&&(l=2,r-=o-t.bottom,o=t.bottom);break;case 2:(r-=e)<=t.left&&(l=3,o-=t.left-r,r=t.left);break;case 3:(o-=e)<=t.top&&(l=0,o=t.top)}return s}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,a=0;a<e;a++)i=t.shift(),t.push(i);return i}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);for(var i=null,a=0;a<e;a++)i=t.pop(),t.unshift(i);return i}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=[]);var a=Math.round(t.x1),n=Math.round(t.y1),s=Math.round(t.x2),r=Math.round(t.y2),o=Math.abs(s-a),l=Math.abs(r-n),h=a<s?1:-1,u=n<r?1:-1,c=o-l;i.push({x:a,y:n});for(var d=1;a!==s||n!==r;){var p=c<<1;p>-l&&(c-=l,a+=h),p<o&&(c+=o,n+=u),d%e==0&&i.push({x:a,y:n}),d++}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(151),n=i(0),s=i(162),r=i(10),o=i(111),l=i(20),h=i(6),u=i(163),c=new n({Extends:r,initialize:function(t){r.call(this),this.game=t,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.paused=!1,this.name="AnimationManager",t.events.once(l.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(l.DESTROY,this.destroy,this)},add:function(t,e){return this.anims.has(t)?(console.warn("Animation key exists: "+t),this):(e.key=t,this.anims.set(t,e),this.emit(o.ADD_ANIMATION,t,e),this)},exists:function(t){return this.anims.has(t)},create:function(t){var e=t.key,i=!1;return e&&((i=this.get(e))||(i=new a(this,e,t),this.anims.set(e,i),this.emit(o.ADD_ANIMATION,e,i))),i},fromJSON:function(t,e){void 0===e&&(e=!1),e&&this.anims.clear(),"string"==typeof t&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var a=0;a<t.anims.length;a++)i.push(this.create(t.anims[a]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i},generateFrameNames:function(t,e){var i=h(e,"prefix",""),a=h(e,"start",0),n=h(e,"end",0),s=h(e,"suffix",""),r=h(e,"zeroPad",0),o=h(e,"outputArray",[]),l=h(e,"frames",!1),c=this.textureManager.get(t);if(!c)return o;var d,p,f=a<n?1:-1;if(n+=f,e)if(Array.isArray(l))for(d=0;d<l.length;d++)p=i+u(l[d],r,"0",1)+s,c.has(p)&&o.push({key:t,frame:p});else for(d=a;d!==n;d+=f)p=i+u(d,r,"0",1)+s,c.has(p)&&o.push({key:t,frame:p});else for(l=c.getFrameNames(),d=0;d<l.length;d++)o.push({key:t,frame:l[d]});return o},generateFrameNumbers:function(t,e){var i,a=h(e,"start",0),n=h(e,"end",-1),s=h(e,"first",!1),r=h(e,"outputArray",[]),o=h(e,"frames",!1),l=this.textureManager.get(t);if(!l)return r;if(s&&l.has(s)&&r.push({key:t,frame:s}),Array.isArray(o))for(i=0;i<o.length;i++)l.has(o[i])&&r.push({key:t,frame:o[i]});else{-1===n&&(n=l.frameTotal);var u=a<n?1:-1;for(n+=u,i=a;i!==n;i+=u)l.has(i)&&r.push({key:t,frame:i})}return r},get:function(t){return this.anims.get(t)},load:function(t,e,i){var a=this.get(e);return a?a.load(t,i):console.warn("Missing animation: "+e),t},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(t,e){if(Array.isArray(e)||(e=[e]),!this.get(t))return this;for(var i=0;i<e.length;i++)e[i].anims.play(t);return this},remove:function(t){var e=this.get(t);return e&&(this.emit(o.REMOVE_ANIMATION,t,e),this.anims.delete(t)),e},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},staggerPlay:function(t,e,i){if(void 0===i&&(i=0),Array.isArray(e)||(e=[e]),!this.get(t))return this;for(var a=0;a<e.length;a++)e[a].anims.delayedPlay(i*a,t);return this},toJSON:function(t){var e={anims:[],globalTimeScale:this.globalTimeScale};return void 0!==t&&""!==t?e.anims.push(this.anims.get(t).toJSON()):this.anims.each((function(t,i){e.anims.push(i.toJSON())})),e},destroy:function(){this.anims.clear(),this.textureManager=null,this.game=null}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(162),s=i(10),r=i(291),o=new a({initialize:function(){this.entries=new n,this.events=new s},add:function(t,e){return this.entries.set(t,e),this.events.emit(r.ADD,this,t,e),this},has:function(t){return this.entries.has(t)},exists:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);return e&&(this.entries.delete(t),this.events.emit(r.REMOVE,this,t,e.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ADD:i(639),REMOVE:i(640)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(290),n=i(0),s=i(20),r=new n({initialize:function(t){this.game=t,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(t){return this.custom.hasOwnProperty(t)||(this.custom[t]=new a),this.custom[t]},destroy:function(){for(var t=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],e=0;e<t.length;e++)this[t[e]].destroy(),this[t[e]]=null;for(var i in this.custom)this.custom[i].destroy();this.custom=null,this.game=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(91),n=i(26),s=i(168),r=i(19),o=i(0),l=i(12),h=i(301),u=i(116),c=i(11),d=i(3),p=new o({Extends:a,Mixins:[l.Flip,l.Tint],initialize:function(t,e,i,n){a.call(this,t,e,i,n),this.inputEnabled=!0,this.fadeEffect=new h.Fade(this),this.flashEffect=new h.Flash(this),this.shakeEffect=new h.Shake(this),this.panEffect=new h.Pan(this),this.rotateToEffect=new h.RotateTo(this),this.zoomEffect=new h.Zoom(this),this.lerp=new d(1,1),this.followOffset=new d,this.deadzone=null,this._follow=null,this.renderToTexture=!1,this.renderToGame=!0,this.canvas=null,this.context=null,this.glTexture=null,this.framebuffer=null,this.pipeline=null},setRenderToTexture:function(t,e){void 0===e&&(e=!0);var i=this.scene.sys.game.renderer;return i.gl?(this.glTexture=i.createTextureFromSource(null,this.width,this.height,0),this.framebuffer=i.createFramebuffer(this.width,this.height,this.glTexture,!1)):(this.canvas=n.create2D(this,this.width,this.height),this.context=this.canvas.getContext("2d")),this.renderToTexture=!0,this.renderToGame=e,t&&this.setPipeline(t),this},setPipeline:function(t){if("string"==typeof t){var e=this.scene.sys.game.renderer;e.gl&&e.hasPipeline(t)&&(this.pipeline=e.getPipeline(t))}else this.pipeline=t;return this},clearRenderToTexture:function(){if(this.scene){var t=this.scene.sys.game.renderer;if(t)return t.gl?(this.framebuffer&&t.deleteFramebuffer(this.framebuffer),this.glTexture&&t.deleteTexture(this.glTexture),this.framebuffer=null,this.glTexture=null,this.pipeline=null):(n.remove(this),this.canvas=null,this.context=null),this.renderToTexture=!1,this}},setDeadzone:function(t,e){if(void 0===t)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=t,this.deadzone.height=e):this.deadzone=new c(0,0,t,e),this._follow){var i=this.width/2,a=this.height/2,n=this._follow.x-this.followOffset.x,r=this._follow.y-this.followOffset.y;this.midPoint.set(n,r),this.scrollX=n-i,this.scrollY=r-a}s(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(t,e,i,a,n,s){return this.fadeEffect.start(!1,t,e,i,a,!0,n,s)},fadeOut:function(t,e,i,a,n,s){return this.fadeEffect.start(!0,t,e,i,a,!0,n,s)},fadeFrom:function(t,e,i,a,n,s,r){return this.fadeEffect.start(!1,t,e,i,a,n,s,r)},fade:function(t,e,i,a,n,s,r){return this.fadeEffect.start(!0,t,e,i,a,n,s,r)},flash:function(t,e,i,a,n,s,r){return this.flashEffect.start(t,e,i,a,n,s,r)},shake:function(t,e,i,a,n){return this.shakeEffect.start(t,e,i,a,n)},pan:function(t,e,i,a,n,s,r){return this.panEffect.start(t,e,i,a,n,s,r)},rotateTo:function(t,e,i,a,n,s,r){return this.rotateToEffect.start(t,e,i,a,n,s,r)},zoomTo:function(t,e,i,a,n,s){return this.zoomEffect.start(t,e,i,a,n,s)},preRender:function(t){var e=this.width,i=this.height,a=.5*e,n=.5*i,r=this.zoom*t,o=this.matrix,l=e*this.originX,h=i*this.originY,c=this._follow,d=this.deadzone,p=this.scrollX,f=this.scrollY;if(d&&s(d,this.midPoint.x,this.midPoint.y),c&&!this.panEffect.isRunning){var m=c.x-this.followOffset.x,g=c.y-this.followOffset.y;d?(m<d.x?p=u(p,p-(d.x-m),this.lerp.x):m>d.right&&(p=u(p,p+(m-d.right),this.lerp.x)),g<d.y?f=u(f,f-(d.y-g),this.lerp.y):g>d.bottom&&(f=u(f,f+(g-d.bottom),this.lerp.y))):(p=u(p,m-l,this.lerp.x),f=u(f,g-h,this.lerp.y))}this.useBounds&&(p=this.clampX(p),f=this.clampY(f)),this.roundPixels&&(l=Math.round(l),h=Math.round(h)),this.scrollX=p,this.scrollY=f;var y=p+a,k=f+n;this.midPoint.set(y,k);var v=e/r,b=i/r;this.worldView.setTo(y-v/2,k-b/2,v,b),o.applyITRS(this.x+l,this.y+h,this.rotation,r,r),o.translate(-l,-h),this.shakeEffect.preRender()},setLerp:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.lerp.set(t,e),this},setFollowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.followOffset.set(t,e),this},startFollow:function(t,e,i,a,n,s){void 0===e&&(e=!1),void 0===i&&(i=1),void 0===a&&(a=i),void 0===n&&(n=0),void 0===s&&(s=n),this._follow=t,this.roundPixels=e,i=r(i,0,1),a=r(a,0,1),this.lerp.set(i,a),this.followOffset.set(n,s);var o=this.width/2,l=this.height/2,h=t.x-n,u=t.y-s;return this.midPoint.set(h,u),this.scrollX=h-o,this.scrollY=u-l,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(t,e){this.visible&&(this.rotateToEffect.update(t,e),this.panEffect.update(t,e),this.zoomEffect.update(t,e),this.shakeEffect.update(t,e),this.flashEffect.update(t,e),this.fadeEffect.update(t,e))},destroy:function(){this.clearRenderToTexture(),this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31);t.exports=function(t){var e=new a;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,a){return e+e+i+i+a+a}));var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var n=parseInt(i[1],16),s=parseInt(i[2],16),r=parseInt(i[3],16);e.setTo(n,s,r)}return e}},function(t,e){t.exports=function(t,e,i,a){return a<<24|t<<16|e<<8|i}},function(t,e){t.exports=function(t,e,i,a){void 0===a&&(a={h:0,s:0,v:0}),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),s=Math.max(t,e,i),r=s-n,o=0,l=0===s?0:r/s,h=s;return s!==n&&(s===t?o=(e-i)/r+(e<i?6:0):s===e?o=(i-t)/r+2:s===i&&(o=(t-e)/r+4),o/=6),a.hasOwnProperty("_h")?(a._h=o,a._s=l,a._v=h):(a.h=o,a.s=l,a.v=h),a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31),n=i(298);t.exports=function(t){var e=n(t);return new a(e.r,e.g,e.b,e.a)}},function(t,e){t.exports=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31);t.exports=function(t){return new a(t.r,t.g,t.b,t.a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31);t.exports=function(t){var e=new a,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var n=parseInt(i[1],10),s=parseInt(i[2],10),r=parseInt(i[3],10),o=void 0!==i[4]?parseFloat(i[4]):1;e.setTo(n,s,r,255*o)}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Fade:i(663),Flash:i(664),Pan:i(665),Shake:i(698),RotateTo:i(699),Zoom:i(700)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(666),Out:i(667),InOut:i(668)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(669),Out:i(670),InOut:i(671)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(672),Out:i(673),InOut:i(674)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(675),Out:i(676),InOut:i(677)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(678),Out:i(679),InOut:i(680)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(681),Out:i(682),InOut:i(683)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=i(684)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(685),Out:i(686),InOut:i(687)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(688),Out:i(689),InOut:i(690)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(691),Out:i(692),InOut:i(693)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={In:i(694),Out:i(695),InOut:i(696)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=i(697)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(33),s=i(315),r=i(2),o=i(6),l=i(7),h=i(170),u=i(1),c=i(175),d=i(164),p=new a({initialize:function(t){void 0===t&&(t={});this.width=o(t,"width",1024),this.height=o(t,"height",768),this.zoom=o(t,"zoom",1),this.resolution=o(t,"resolution",1),this.parent=o(t,"parent",void 0),this.scaleMode=o(t,"scaleMode",0),this.expandParent=o(t,"expandParent",!0),this.autoRound=o(t,"autoRound",!1),this.autoCenter=o(t,"autoCenter",0),this.resizeInterval=o(t,"resizeInterval",500),this.fullscreenTarget=o(t,"fullscreenTarget",null),this.minWidth=o(t,"minWidth",0),this.maxWidth=o(t,"maxWidth",0),this.minHeight=o(t,"minHeight",0),this.maxHeight=o(t,"maxHeight",0);var e=o(t,"scale",null);e&&(this.width=o(e,"width",this.width),this.height=o(e,"height",this.height),this.zoom=o(e,"zoom",this.zoom),this.resolution=o(e,"resolution",this.resolution),this.parent=o(e,"parent",this.parent),this.scaleMode=o(e,"mode",this.scaleMode),this.expandParent=o(e,"expandParent",this.expandParent),this.autoRound=o(e,"autoRound",this.autoRound),this.autoCenter=o(e,"autoCenter",this.autoCenter),this.resizeInterval=o(e,"resizeInterval",this.resizeInterval),this.fullscreenTarget=o(e,"fullscreenTarget",this.fullscreenTarget),this.minWidth=o(e,"min.width",this.minWidth),this.maxWidth=o(e,"max.width",this.maxWidth),this.minHeight=o(e,"min.height",this.minHeight),this.maxHeight=o(e,"max.height",this.maxHeight)),this.renderType=o(t,"type",n.AUTO),this.canvas=o(t,"canvas",null),this.context=o(t,"context",null),this.canvasStyle=o(t,"canvasStyle",null),this.customEnvironment=o(t,"customEnvironment",!1),this.sceneConfig=o(t,"scene",null),this.seed=o(t,"seed",[(Date.now()*Math.random()).toString()]),h.RND=new h.RandomDataGenerator(this.seed),this.gameTitle=o(t,"title",""),this.gameURL=o(t,"url","https://phaser.io"),this.gameVersion=o(t,"version",""),this.autoFocus=o(t,"autoFocus",!0),this.domCreateContainer=o(t,"dom.createContainer",!1),this.domBehindCanvas=o(t,"dom.behindCanvas",!1),this.inputKeyboard=o(t,"input.keyboard",!0),this.inputKeyboardEventTarget=o(t,"input.keyboard.target",window),this.inputKeyboardCapture=o(t,"input.keyboard.capture",[]),this.inputMouse=o(t,"input.mouse",!0),this.inputMouseEventTarget=o(t,"input.mouse.target",null),this.inputMouseCapture=o(t,"input.mouse.capture",!0),this.inputTouch=o(t,"input.touch",s.input.touch),this.inputTouchEventTarget=o(t,"input.touch.target",null),this.inputTouchCapture=o(t,"input.touch.capture",!0),this.inputActivePointers=o(t,"input.activePointers",1),this.inputSmoothFactor=o(t,"input.smoothFactor",0),this.inputWindowEvents=o(t,"input.windowEvents",!0),this.inputGamepad=o(t,"input.gamepad",!1),this.inputGamepadEventTarget=o(t,"input.gamepad.target",window),this.disableContextMenu=o(t,"disableContextMenu",!1),this.audio=o(t,"audio"),this.hideBanner=!1===o(t,"banner",null),this.hidePhaser=o(t,"banner.hidePhaser",!1),this.bannerTextColor=o(t,"banner.text","#ffffff"),this.bannerBackgroundColor=o(t,"banner.background",["#ff0000","#ffff00","#00ff00","#00ffff","#000000"]),""===this.gameTitle&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(t,"fps",null);var i=o(t,"render",t);this.antialias=o(i,"antialias",!0),this.antialiasGL=o(i,"antialiasGL",!0),this.mipmapFilter=o(i,"mipmapFilter","LINEAR"),this.desynchronized=o(i,"desynchronized",!1),this.roundPixels=o(i,"roundPixels",!1),this.pixelArt=o(i,"pixelArt",1!==this.zoom),this.pixelArt&&(this.antialias=!1,this.roundPixels=!0),this.transparent=o(i,"transparent",!1),this.clearBeforeRender=o(i,"clearBeforeRender",!0),this.premultipliedAlpha=o(i,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=o(i,"failIfMajorPerformanceCaveat",!1),this.powerPreference=o(i,"powerPreference","default"),this.batchSize=o(i,"batchSize",2e3),this.maxLights=o(i,"maxLights",10);var a=o(t,"backgroundColor",0);this.backgroundColor=d(a),0===a&&this.transparent&&(this.backgroundColor.alpha=0),this.preBoot=o(t,"callbacks.preBoot",u),this.postBoot=o(t,"callbacks.postBoot",u),this.physics=o(t,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(t,"loader.baseURL",""),this.loaderPath=o(t,"loader.path",""),this.loaderMaxParallelDownloads=o(t,"loader.maxParallelDownloads",32),this.loaderCrossOrigin=o(t,"loader.crossOrigin",void 0),this.loaderResponseType=o(t,"loader.responseType",""),this.loaderAsync=o(t,"loader.async",!0),this.loaderUser=o(t,"loader.user",""),this.loaderPassword=o(t,"loader.password",""),this.loaderTimeout=o(t,"loader.timeout",0),this.loaderWithCredentials=o(t,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var p=o(t,"plugins",null),f=c.DefaultScene;p&&(Array.isArray(p)?this.defaultPlugins=p:l(p)&&(this.installGlobalPlugins=r(p,"global",[]),this.installScenePlugins=r(p,"scene",[]),Array.isArray(p.default)?f=p.default:Array.isArray(p.defaultMerge)&&(f=f.concat(p.defaultMerge)))),this.defaultPlugins=f;var m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(t,"images.default",m+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(t,"images.missing",m+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),window&&(window.FORCE_WEBGL?this.renderType=n.WEBGL:window.FORCE_CANVAS&&(this.renderType=n.CANVAS))}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={os:i(117),browser:i(118),features:i(169),input:i(729),audio:i(730),video:i(731),fullscreen:i(732),canvasFeatures:i(316)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a,n,s,r=i(26),o={supportInverseAlpha:!1,supportNewBlendModes:!1};t.exports=(void 0!==document&&(o.supportNewBlendModes=(a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",n="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",(s=new Image).onload=function(){var t=new Image;t.onload=function(){var e=r.create(t,6,1).getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(s,0,0),e.drawImage(t,2,0),!e.getImageData(2,0,1,1))return!1;var i=e.getImageData(2,0,1,1).data;r.remove(t),o.supportNewBlendModes=255===i[0]&&0===i[1]&&0===i[2]},t.src=a+"/wCKxvRF"+n},s.src=a+"AP804Oa6"+n,!1),o.supportInverseAlpha=function(){var t=r.create(this,2,1).getContext("2d");t.fillStyle="rgba(10, 20, 30, 0.5)",t.fillRect(0,0,1,1);var e=t.getImageData(0,0,1,1);if(null===e)return!1;t.putImageData(e,1,0);var i=t.getImageData(1,0,1,1);return i.data[0]===e.data[0]&&i.data[1]===e.data[1]&&i.data[2]===e.data[2]&&i.data[3]===e.data[3]}()),o)},function(t,e){t.exports=function(t,e,i,a){return Math.atan2(a-e,i-t)}},function(t,e){t.exports=function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,a=t.y-e.y;return Math.sqrt(i*i+a*a)}},function(t,e){t.exports=function(t,e,i,a){var n=t-i,s=e-a;return n*n+s*s}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(324);t.exports=function(t,e){return a(t)/a(e)/a(t-e)}},function(t,e){t.exports=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e}},function(t,e){t.exports=function(t,e,i,a,n){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,a)+function(t,e){return t*t*t*e}(t,n)}},function(t,e){t.exports=function(t,e,i,a){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(161);t.exports=function(t,e,i){return e+(i-e)*a(t,0,1)}},function(t,e){t.exports=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)}},function(t,e){t.exports=function(t,e,i,a){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),a?(i+t)/e:i+t)}},function(t,e){t.exports=function(t,e){var i=t.x,a=t.y;return t.x=i*Math.cos(e)-a*Math.sin(e),t.y=i*Math.sin(e)+a*Math.cos(e),t}},function(t,e){t.exports=function(t){return t>0?Math.ceil(t):Math.floor(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(3);t.exports=function(t,e,i,n,s,r,o,l){void 0===l&&(l=new a);var h=Math.sin(s),u=Math.cos(s),c=u*r,d=h*r,p=-h*o,f=u*o,m=1/(c*f+p*-d);return l.x=f*m*t+-p*m*e+(n*p-i*f)*m,l.y=c*m*e+-d*m*t+(-n*c+i*d)*m,l}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a){this.x=0,this.y=0,this.z=0,this.w=0,"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=a||0)},clone:function(){return new a(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z||0,this.w=t.w||0,this},equals:function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w},set:function(t,e,i,a){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=a||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z||0,this.w+=t.w||0,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z||0,this.w-=t.w||0,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,a=this.w;return Math.sqrt(t*t+e*e+i*i+a*a)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,a=this.w;return t*t+e*e+i*i+a*a},normalize:function(){var t=this.x,e=this.y,i=this.z,a=this.w,n=t*t+e*e+i*i+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=a*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,a=this.y,n=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=a+e*(t.y-a),this.z=n+e*(t.z-n),this.w=s+e*(t.w-s),this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z||1,this.w*=t.w||1,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z||1,this.w/=t.w||1,this},distance:function(t){var e=t.x-this.x,i=t.y-this.y,a=t.z-this.z||0,n=t.w-this.w||0;return Math.sqrt(e*e+i*i+a*a+n*n)},distanceSq:function(t){var e=t.x-this.x,i=t.y-this.y,a=t.z-this.z||0,n=t.w-this.w||0;return e*e+i*i+a*a+n*n},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(t){var e=this.x,i=this.y,a=this.z,n=this.w,s=t.val;return this.x=s[0]*e+s[4]*i+s[8]*a+s[12]*n,this.y=s[1]*e+s[5]*i+s[9]*a+s[13]*n,this.z=s[2]*e+s[6]*i+s[10]*a+s[14]*n,this.w=s[3]*e+s[7]*i+s[11]*a+s[15]*n,this},transformQuat:function(t){var e=this.x,i=this.y,a=this.z,n=t.x,s=t.y,r=t.z,o=t.w,l=o*e+s*a-r*i,h=o*i+r*e-n*a,u=o*a+n*i-s*e,c=-n*e-s*i-r*a;return this.x=l*o+c*-n+h*-r-u*-s,this.y=h*o+c*-s+u*-n-l*-r,this.z=u*o+c*-r+l*-s-h*-n,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});a.prototype.sub=a.prototype.subtract,a.prototype.mul=a.prototype.multiply,a.prototype.div=a.prototype.divide,a.prototype.dist=a.prototype.distance,a.prototype.distSq=a.prototype.distanceSq,a.prototype.len=a.prototype.length,a.prototype.lenSq=a.prototype.lengthSq,t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t){this.val=new Float32Array(9),t?this.copy(t):this.identity()},clone:function(){return new a(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},fromMat4:function(t){var e=t.val,i=this.val;return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[4],i[4]=e[5],i[5]=e[6],i[6]=e[8],i[7]=e[9],i[8]=e[10],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],a=t[5];return t[1]=t[3],t[2]=t[6],t[3]=e,t[5]=t[7],t[6]=i,t[7]=a,this},invert:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8],u=h*s-r*l,c=-h*n+r*o,d=l*n-s*o,p=e*u+i*c+a*d;return p?(p=1/p,t[0]=u*p,t[1]=(-h*i+a*l)*p,t[2]=(r*i-a*s)*p,t[3]=c*p,t[4]=(h*e-a*o)*p,t[5]=(-r*e+a*n)*p,t[6]=d*p,t[7]=(-l*e+i*o)*p,t[8]=(s*e-i*n)*p,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8];return t[0]=s*h-r*l,t[1]=a*l-i*h,t[2]=i*r-a*s,t[3]=r*o-n*h,t[4]=e*h-a*o,t[5]=a*n-e*r,t[6]=n*l-s*o,t[7]=i*o-e*l,t[8]=e*s-i*n,this},determinant:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8];return e*(h*s-r*l)+i*(-h*n+r*o)+a*(l*n-s*o)},multiply:function(t){var e=this.val,i=e[0],a=e[1],n=e[2],s=e[3],r=e[4],o=e[5],l=e[6],h=e[7],u=e[8],c=t.val,d=c[0],p=c[1],f=c[2],m=c[3],g=c[4],y=c[5],k=c[6],v=c[7],b=c[8];return e[0]=d*i+p*s+f*l,e[1]=d*a+p*r+f*h,e[2]=d*n+p*o+f*u,e[3]=m*i+g*s+y*l,e[4]=m*a+g*r+y*h,e[5]=m*n+g*o+y*u,e[6]=k*i+v*s+b*l,e[7]=k*a+v*r+b*h,e[8]=k*n+v*o+b*u,this},translate:function(t){var e=this.val,i=t.x,a=t.y;return e[6]=i*e[0]+a*e[3]+e[6],e[7]=i*e[1]+a*e[4]+e[7],e[8]=i*e[2]+a*e[5]+e[8],this},rotate:function(t){var e=this.val,i=e[0],a=e[1],n=e[2],s=e[3],r=e[4],o=e[5],l=Math.sin(t),h=Math.cos(t);return e[0]=h*i+l*s,e[1]=h*a+l*r,e[2]=h*n+l*o,e[3]=h*s-l*i,e[4]=h*r-l*a,e[5]=h*o-l*n,this},scale:function(t){var e=this.val,i=t.x,a=t.y;return e[0]=i*e[0],e[1]=i*e[1],e[2]=i*e[2],e[3]=a*e[3],e[4]=a*e[4],e[5]=a*e[5],this},fromQuat:function(t){var e=t.x,i=t.y,a=t.z,n=t.w,s=e+e,r=i+i,o=a+a,l=e*s,h=e*r,u=e*o,c=i*r,d=i*o,p=a*o,f=n*s,m=n*r,g=n*o,y=this.val;return y[0]=1-(c+p),y[3]=h+g,y[6]=u-m,y[1]=h-g,y[4]=1-(l+p),y[7]=d+f,y[2]=u+m,y[5]=d-f,y[8]=1-(l+c),this},normalFromMat4:function(t){var e=t.val,i=this.val,a=e[0],n=e[1],s=e[2],r=e[3],o=e[4],l=e[5],h=e[6],u=e[7],c=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],k=e[15],v=a*l-n*o,b=a*h-s*o,w=a*u-r*o,S=n*h-s*l,x=n*u-r*l,T=s*u-r*h,A=c*g-d*m,E=c*y-p*m,C=c*k-f*m,M=d*y-p*g,_=d*k-f*g,B=p*k-f*y,I=v*B-b*_+w*M+S*C-x*E+T*A;return I?(I=1/I,i[0]=(l*B-h*_+u*M)*I,i[1]=(h*C-o*B-u*E)*I,i[2]=(o*_-l*C+u*A)*I,i[3]=(s*_-n*B-r*M)*I,i[4]=(a*B-s*C+r*E)*I,i[5]=(n*C-a*_-r*A)*I,i[6]=(g*T-y*x+k*S)*I,i[7]=(y*w-m*T-k*b)*I,i[8]=(m*x-g*w+k*v)*I,this):null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=1e-6,s=new a({initialize:function(t){this.val=new Float32Array(16),t?this.copy(t):this.identity()},clone:function(){return new s(this)},set:function(t){return this.copy(t)},copy:function(t){var e=this.val,i=t.val;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},fromArray:function(t){var e=this.val;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},zero:function(){var t=this.val;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,this},xyz:function(t,e,i){this.identity();var a=this.val;return a[12]=t,a[13]=e,a[14]=i,this},scaling:function(t,e,i){this.zero();var a=this.val;return a[0]=t,a[5]=e,a[10]=i,a[15]=1,this},identity:function(){var t=this.val;return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},transpose:function(){var t=this.val,e=t[1],i=t[2],a=t[3],n=t[6],s=t[7],r=t[11];return t[1]=t[4],t[2]=t[8],t[3]=t[12],t[4]=e,t[6]=t[9],t[7]=t[13],t[8]=i,t[9]=n,t[11]=t[14],t[12]=a,t[13]=s,t[14]=r,this},invert:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8],u=t[9],c=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15],y=e*r-i*s,k=e*o-a*s,v=e*l-n*s,b=i*o-a*r,w=i*l-n*r,S=a*l-n*o,x=h*f-u*p,T=h*m-c*p,A=h*g-d*p,E=u*m-c*f,C=u*g-d*f,M=c*g-d*m,_=y*M-k*C+v*E+b*A-w*T+S*x;return _?(_=1/_,t[0]=(r*M-o*C+l*E)*_,t[1]=(a*C-i*M-n*E)*_,t[2]=(f*S-m*w+g*b)*_,t[3]=(c*w-u*S-d*b)*_,t[4]=(o*A-s*M-l*T)*_,t[5]=(e*M-a*A+n*T)*_,t[6]=(m*v-p*S-g*k)*_,t[7]=(h*S-c*v+d*k)*_,t[8]=(s*C-r*A+l*x)*_,t[9]=(i*A-e*C-n*x)*_,t[10]=(p*w-f*v+g*y)*_,t[11]=(u*v-h*w-d*y)*_,t[12]=(r*T-s*E-o*x)*_,t[13]=(e*E-i*T+a*x)*_,t[14]=(f*k-p*b-m*y)*_,t[15]=(h*b-u*k+c*y)*_,this):null},adjoint:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8],u=t[9],c=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return t[0]=r*(c*g-d*m)-u*(o*g-l*m)+f*(o*d-l*c),t[1]=-(i*(c*g-d*m)-u*(a*g-n*m)+f*(a*d-n*c)),t[2]=i*(o*g-l*m)-r*(a*g-n*m)+f*(a*l-n*o),t[3]=-(i*(o*d-l*c)-r*(a*d-n*c)+u*(a*l-n*o)),t[4]=-(s*(c*g-d*m)-h*(o*g-l*m)+p*(o*d-l*c)),t[5]=e*(c*g-d*m)-h*(a*g-n*m)+p*(a*d-n*c),t[6]=-(e*(o*g-l*m)-s*(a*g-n*m)+p*(a*l-n*o)),t[7]=e*(o*d-l*c)-s*(a*d-n*c)+h*(a*l-n*o),t[8]=s*(u*g-d*f)-h*(r*g-l*f)+p*(r*d-l*u),t[9]=-(e*(u*g-d*f)-h*(i*g-n*f)+p*(i*d-n*u)),t[10]=e*(r*g-l*f)-s*(i*g-n*f)+p*(i*l-n*r),t[11]=-(e*(r*d-l*u)-s*(i*d-n*u)+h*(i*l-n*r)),t[12]=-(s*(u*m-c*f)-h*(r*m-o*f)+p*(r*c-o*u)),t[13]=e*(u*m-c*f)-h*(i*m-a*f)+p*(i*c-a*u),t[14]=-(e*(r*m-o*f)-s*(i*m-a*f)+p*(i*o-a*r)),t[15]=e*(r*c-o*u)-s*(i*c-a*u)+h*(i*o-a*r),this},determinant:function(){var t=this.val,e=t[0],i=t[1],a=t[2],n=t[3],s=t[4],r=t[5],o=t[6],l=t[7],h=t[8],u=t[9],c=t[10],d=t[11],p=t[12],f=t[13],m=t[14],g=t[15];return(e*r-i*s)*(c*g-d*m)-(e*o-a*s)*(u*g-d*f)+(e*l-n*s)*(u*m-c*f)+(i*o-a*r)*(h*g-d*p)-(i*l-n*r)*(h*m-c*p)+(a*l-n*o)*(h*f-u*p)},multiply:function(t){var e=this.val,i=e[0],a=e[1],n=e[2],s=e[3],r=e[4],o=e[5],l=e[6],h=e[7],u=e[8],c=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],k=t.val,v=k[0],b=k[1],w=k[2],S=k[3];return e[0]=v*i+b*r+w*u+S*f,e[1]=v*a+b*o+w*c+S*m,e[2]=v*n+b*l+w*d+S*g,e[3]=v*s+b*h+w*p+S*y,v=k[4],b=k[5],w=k[6],S=k[7],e[4]=v*i+b*r+w*u+S*f,e[5]=v*a+b*o+w*c+S*m,e[6]=v*n+b*l+w*d+S*g,e[7]=v*s+b*h+w*p+S*y,v=k[8],b=k[9],w=k[10],S=k[11],e[8]=v*i+b*r+w*u+S*f,e[9]=v*a+b*o+w*c+S*m,e[10]=v*n+b*l+w*d+S*g,e[11]=v*s+b*h+w*p+S*y,v=k[12],b=k[13],w=k[14],S=k[15],e[12]=v*i+b*r+w*u+S*f,e[13]=v*a+b*o+w*c+S*m,e[14]=v*n+b*l+w*d+S*g,e[15]=v*s+b*h+w*p+S*y,this},multiplyLocal:function(t){var e=[],i=this.val,a=t.val;return e[0]=i[0]*a[0]+i[1]*a[4]+i[2]*a[8]+i[3]*a[12],e[1]=i[0]*a[1]+i[1]*a[5]+i[2]*a[9]+i[3]*a[13],e[2]=i[0]*a[2]+i[1]*a[6]+i[2]*a[10]+i[3]*a[14],e[3]=i[0]*a[3]+i[1]*a[7]+i[2]*a[11]+i[3]*a[15],e[4]=i[4]*a[0]+i[5]*a[4]+i[6]*a[8]+i[7]*a[12],e[5]=i[4]*a[1]+i[5]*a[5]+i[6]*a[9]+i[7]*a[13],e[6]=i[4]*a[2]+i[5]*a[6]+i[6]*a[10]+i[7]*a[14],e[7]=i[4]*a[3]+i[5]*a[7]+i[6]*a[11]+i[7]*a[15],e[8]=i[8]*a[0]+i[9]*a[4]+i[10]*a[8]+i[11]*a[12],e[9]=i[8]*a[1]+i[9]*a[5]+i[10]*a[9]+i[11]*a[13],e[10]=i[8]*a[2]+i[9]*a[6]+i[10]*a[10]+i[11]*a[14],e[11]=i[8]*a[3]+i[9]*a[7]+i[10]*a[11]+i[11]*a[15],e[12]=i[12]*a[0]+i[13]*a[4]+i[14]*a[8]+i[15]*a[12],e[13]=i[12]*a[1]+i[13]*a[5]+i[14]*a[9]+i[15]*a[13],e[14]=i[12]*a[2]+i[13]*a[6]+i[14]*a[10]+i[15]*a[14],e[15]=i[12]*a[3]+i[13]*a[7]+i[14]*a[11]+i[15]*a[15],this.fromArray(e)},translate:function(t){var e=t.x,i=t.y,a=t.z,n=this.val;return n[12]=n[0]*e+n[4]*i+n[8]*a+n[12],n[13]=n[1]*e+n[5]*i+n[9]*a+n[13],n[14]=n[2]*e+n[6]*i+n[10]*a+n[14],n[15]=n[3]*e+n[7]*i+n[11]*a+n[15],this},translateXYZ:function(t,e,i){var a=this.val;return a[12]=a[0]*t+a[4]*e+a[8]*i+a[12],a[13]=a[1]*t+a[5]*e+a[9]*i+a[13],a[14]=a[2]*t+a[6]*e+a[10]*i+a[14],a[15]=a[3]*t+a[7]*e+a[11]*i+a[15],this},scale:function(t){var e=t.x,i=t.y,a=t.z,n=this.val;return n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*e,n[3]=n[3]*e,n[4]=n[4]*i,n[5]=n[5]*i,n[6]=n[6]*i,n[7]=n[7]*i,n[8]=n[8]*a,n[9]=n[9]*a,n[10]=n[10]*a,n[11]=n[11]*a,this},scaleXYZ:function(t,e,i){var a=this.val;return a[0]=a[0]*t,a[1]=a[1]*t,a[2]=a[2]*t,a[3]=a[3]*t,a[4]=a[4]*e,a[5]=a[5]*e,a[6]=a[6]*e,a[7]=a[7]*e,a[8]=a[8]*i,a[9]=a[9]*i,a[10]=a[10]*i,a[11]=a[11]*i,this},makeRotationAxis:function(t,e){var i=Math.cos(e),a=Math.sin(e),n=1-i,s=t.x,r=t.y,o=t.z,l=n*s,h=n*r;return this.fromArray([l*s+i,l*r-a*o,l*o+a*r,0,l*r+a*o,h*r+i,h*o-a*s,0,l*o-a*r,h*o+a*s,n*o*o+i,0,0,0,0,1]),this},rotate:function(t,e){var i=this.val,a=e.x,s=e.y,r=e.z,o=Math.sqrt(a*a+s*s+r*r);if(Math.abs(o)<n)return null;a*=o=1/o,s*=o,r*=o;var l=Math.sin(t),h=Math.cos(t),u=1-h,c=i[0],d=i[1],p=i[2],f=i[3],m=i[4],g=i[5],y=i[6],k=i[7],v=i[8],b=i[9],w=i[10],S=i[11],x=a*a*u+h,T=s*a*u+r*l,A=r*a*u-s*l,E=a*s*u-r*l,C=s*s*u+h,M=r*s*u+a*l,_=a*r*u+s*l,B=s*r*u-a*l,I=r*r*u+h;return i[0]=c*x+m*T+v*A,i[1]=d*x+g*T+b*A,i[2]=p*x+y*T+w*A,i[3]=f*x+k*T+S*A,i[4]=c*E+m*C+v*M,i[5]=d*E+g*C+b*M,i[6]=p*E+y*C+w*M,i[7]=f*E+k*C+S*M,i[8]=c*_+m*B+v*I,i[9]=d*_+g*B+b*I,i[10]=p*_+y*B+w*I,i[11]=f*_+k*B+S*I,this},rotateX:function(t){var e=this.val,i=Math.sin(t),a=Math.cos(t),n=e[4],s=e[5],r=e[6],o=e[7],l=e[8],h=e[9],u=e[10],c=e[11];return e[4]=n*a+l*i,e[5]=s*a+h*i,e[6]=r*a+u*i,e[7]=o*a+c*i,e[8]=l*a-n*i,e[9]=h*a-s*i,e[10]=u*a-r*i,e[11]=c*a-o*i,this},rotateY:function(t){var e=this.val,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[8],h=e[9],u=e[10],c=e[11];return e[0]=n*a-l*i,e[1]=s*a-h*i,e[2]=r*a-u*i,e[3]=o*a-c*i,e[8]=n*i+l*a,e[9]=s*i+h*a,e[10]=r*i+u*a,e[11]=o*i+c*a,this},rotateZ:function(t){var e=this.val,i=Math.sin(t),a=Math.cos(t),n=e[0],s=e[1],r=e[2],o=e[3],l=e[4],h=e[5],u=e[6],c=e[7];return e[0]=n*a+l*i,e[1]=s*a+h*i,e[2]=r*a+u*i,e[3]=o*a+c*i,e[4]=l*a-n*i,e[5]=h*a-s*i,e[6]=u*a-r*i,e[7]=c*a-o*i,this},fromRotationTranslation:function(t,e){var i=this.val,a=t.x,n=t.y,s=t.z,r=t.w,o=a+a,l=n+n,h=s+s,u=a*o,c=a*l,d=a*h,p=n*l,f=n*h,m=s*h,g=r*o,y=r*l,k=r*h;return i[0]=1-(p+m),i[1]=c+k,i[2]=d-y,i[3]=0,i[4]=c-k,i[5]=1-(u+m),i[6]=f+g,i[7]=0,i[8]=d+y,i[9]=f-g,i[10]=1-(u+p),i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},fromQuat:function(t){var e=this.val,i=t.x,a=t.y,n=t.z,s=t.w,r=i+i,o=a+a,l=n+n,h=i*r,u=i*o,c=i*l,d=a*o,p=a*l,f=n*l,m=s*r,g=s*o,y=s*l;return e[0]=1-(d+f),e[1]=u+y,e[2]=c-g,e[3]=0,e[4]=u-y,e[5]=1-(h+f),e[6]=p+m,e[7]=0,e[8]=c+g,e[9]=p-m,e[10]=1-(h+d),e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},frustum:function(t,e,i,a,n,s){var r=this.val,o=1/(e-t),l=1/(a-i),h=1/(n-s);return r[0]=2*n*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2*n*l,r[6]=0,r[7]=0,r[8]=(e+t)*o,r[9]=(a+i)*l,r[10]=(s+n)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=s*n*2*h,r[15]=0,this},perspective:function(t,e,i,a){var n=this.val,s=1/Math.tan(t/2),r=1/(i-a);return n[0]=s/e,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=s,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=(a+i)*r,n[11]=-1,n[12]=0,n[13]=0,n[14]=2*a*i*r,n[15]=0,this},perspectiveLH:function(t,e,i,a){var n=this.val;return n[0]=2*i/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*i/e,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-a/(i-a),n[11]=1,n[12]=0,n[13]=0,n[14]=i*a/(i-a),n[15]=0,this},ortho:function(t,e,i,a,n,s){var r=this.val,o=t-e,l=i-a,h=n-s;return o=0===o?o:1/o,l=0===l?l:1/l,h=0===h?h:1/h,r[0]=-2*o,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(t+e)*o,r[13]=(a+i)*l,r[14]=(s+n)*h,r[15]=1,this},lookAt:function(t,e,i){var a=this.val,s=t.x,r=t.y,o=t.z,l=i.x,h=i.y,u=i.z,c=e.x,d=e.y,p=e.z;if(Math.abs(s-c)<n&&Math.abs(r-d)<n&&Math.abs(o-p)<n)return this.identity();var f=s-c,m=r-d,g=o-p,y=1/Math.sqrt(f*f+m*m+g*g),k=h*(g*=y)-u*(m*=y),v=u*(f*=y)-l*g,b=l*m-h*f;(y=Math.sqrt(k*k+v*v+b*b))?(k*=y=1/y,v*=y,b*=y):(k=0,v=0,b=0);var w=m*b-g*v,S=g*k-f*b,x=f*v-m*k;return(y=Math.sqrt(w*w+S*S+x*x))?(w*=y=1/y,S*=y,x*=y):(w=0,S=0,x=0),a[0]=k,a[1]=w,a[2]=f,a[3]=0,a[4]=v,a[5]=S,a[6]=m,a[7]=0,a[8]=b,a[9]=x,a[10]=g,a[11]=0,a[12]=-(k*s+v*r+b*o),a[13]=-(w*s+S*r+x*o),a[14]=-(f*s+m*r+g*o),a[15]=1,this},yawPitchRoll:function(t,e,i){this.zero(),r.zero(),o.zero();var a=this.val,n=r.val,s=o.val,l=Math.sin(i),h=Math.cos(i);return a[10]=1,a[15]=1,a[0]=h,a[1]=l,a[4]=-l,a[5]=h,l=Math.sin(e),h=Math.cos(e),n[0]=1,n[15]=1,n[5]=h,n[10]=h,n[9]=-l,n[6]=l,l=Math.sin(t),h=Math.cos(t),s[5]=1,s[15]=1,s[0]=h,s[2]=-l,s[8]=l,s[10]=h,this.multiplyLocal(r),this.multiplyLocal(o),this},setWorldMatrix:function(t,e,i,a,n){return this.yawPitchRoll(t.y,t.x,t.z),r.scaling(i.x,i.y,i.z),o.xyz(e.x,e.y,e.z),this.multiplyLocal(r),this.multiplyLocal(o),void 0!==a&&this.multiplyLocal(a),void 0!==n&&this.multiplyLocal(n),this}}),r=new s,o=new s;t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(174),s=i(334),r=1e-6,o=new Int8Array([1,2,0]),l=new Float32Array([0,0,0]),h=new n(1,0,0),u=new n(0,1,0),c=new n,d=new s,p=new a({initialize:function(t,e,i,a){"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=a||0)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this},set:function(t,e,i,a){return"object"==typeof t?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this.w=t.w||0):(this.x=t||0,this.y=e||0,this.z=i||0,this.w=a||0),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this},subtract:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this},scale:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},length:function(){var t=this.x,e=this.y,i=this.z,a=this.w;return Math.sqrt(t*t+e*e+i*i+a*a)},lengthSq:function(){var t=this.x,e=this.y,i=this.z,a=this.w;return t*t+e*e+i*i+a*a},normalize:function(){var t=this.x,e=this.y,i=this.z,a=this.w,n=t*t+e*e+i*i+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=t*n,this.y=e*n,this.z=i*n,this.w=a*n),this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lerp:function(t,e){void 0===e&&(e=0);var i=this.x,a=this.y,n=this.z,s=this.w;return this.x=i+e*(t.x-i),this.y=a+e*(t.y-a),this.z=n+e*(t.z-n),this.w=s+e*(t.w-s),this},rotationTo:function(t,e){var i=t.x*e.x+t.y*e.y+t.z*e.z;return i<-.999999?(c.copy(h).cross(t).length()<r&&c.copy(u).cross(t),c.normalize(),this.setAxisAngle(c,Math.PI)):i>.999999?(this.x=0,this.y=0,this.z=0,this.w=1,this):(c.copy(t).cross(e),this.x=c.x,this.y=c.y,this.z=c.z,this.w=1+i,this.normalize())},setAxes:function(t,e,i){var a=d.val;return a[0]=e.x,a[3]=e.y,a[6]=e.z,a[1]=i.x,a[4]=i.y,a[7]=i.z,a[2]=-t.x,a[5]=-t.y,a[8]=-t.z,this.fromMat3(d).normalize()},identity:function(){return this.x=0,this.y=0,this.z=0,this.w=1,this},setAxisAngle:function(t,e){e*=.5;var i=Math.sin(e);return this.x=i*t.x,this.y=i*t.y,this.z=i*t.z,this.w=Math.cos(e),this},multiply:function(t){var e=this.x,i=this.y,a=this.z,n=this.w,s=t.x,r=t.y,o=t.z,l=t.w;return this.x=e*l+n*s+i*o-a*r,this.y=i*l+n*r+a*s-e*o,this.z=a*l+n*o+e*r-i*s,this.w=n*l-e*s-i*r-a*o,this},slerp:function(t,e){var i=this.x,a=this.y,n=this.z,s=this.w,o=t.x,l=t.y,h=t.z,u=t.w,c=i*o+a*l+n*h+s*u;c<0&&(c=-c,o=-o,l=-l,h=-h,u=-u);var d=1-e,p=e;if(1-c>r){var f=Math.acos(c),m=Math.sin(f);d=Math.sin((1-e)*f)/m,p=Math.sin(e*f)/m}return this.x=d*i+p*o,this.y=d*a+p*l,this.z=d*n+p*h,this.w=d*s+p*u,this},invert:function(){var t=this.x,e=this.y,i=this.z,a=this.w,n=t*t+e*e+i*i+a*a,s=n?1/n:0;return this.x=-t*s,this.y=-e*s,this.z=-i*s,this.w=a*s,this},conjugate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},rotateX:function(t){t*=.5;var e=this.x,i=this.y,a=this.z,n=this.w,s=Math.sin(t),r=Math.cos(t);return this.x=e*r+n*s,this.y=i*r+a*s,this.z=a*r-i*s,this.w=n*r-e*s,this},rotateY:function(t){t*=.5;var e=this.x,i=this.y,a=this.z,n=this.w,s=Math.sin(t),r=Math.cos(t);return this.x=e*r-a*s,this.y=i*r+n*s,this.z=a*r+e*s,this.w=n*r-i*s,this},rotateZ:function(t){t*=.5;var e=this.x,i=this.y,a=this.z,n=this.w,s=Math.sin(t),r=Math.cos(t);return this.x=e*r+i*s,this.y=i*r-e*s,this.z=a*r+n*s,this.w=n*r-a*s,this},calculateW:function(){var t=this.x,e=this.y,i=this.z;return this.w=-Math.sqrt(1-t*t-e*e-i*i),this},fromMat3:function(t){var e,i=t.val,a=i[0]+i[4]+i[8];if(a>0)e=Math.sqrt(a+1),this.w=.5*e,e=.5/e,this.x=(i[7]-i[5])*e,this.y=(i[2]-i[6])*e,this.z=(i[3]-i[1])*e;else{var n=0;i[4]>i[0]&&(n=1),i[8]>i[3*n+n]&&(n=2);var s=o[n],r=o[s];e=Math.sqrt(i[3*n+n]-i[3*s+s]-i[3*r+r]+1),l[n]=.5*e,e=.5/e,l[s]=(i[3*s+n]+i[3*n+s])*e,l[r]=(i[3*r+n]+i[3*n+r])*e,this.x=l[0],this.y=l[1],this.z=l[2],this.w=(i[3*r+s]-i[3*s+r])*e}return this}});t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(338),n=i(26),s=i(33),r=i(169);t.exports=function(t){var e=t.config;if((e.customEnvironment||e.canvas)&&e.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!e.customEnvironment&&!e.canvas&&e.renderType!==s.HEADLESS)if(e.renderType===s.CANVAS||e.renderType!==s.CANVAS&&!r.webGL){if(!r.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");e.renderType=s.CANVAS}else e.renderType=s.WEBGL;e.antialias||n.disableSmoothing();var o,l,h=t.scale.baseSize,u=h.width,c=h.height;(e.canvas?(t.canvas=e.canvas,t.canvas.width=u,t.canvas.height=c):t.canvas=n.create(t,u,c,e.renderType),e.canvasStyle&&(t.canvas.style=e.canvasStyle),e.antialias||a.setCrisp(t.canvas),e.renderType!==s.HEADLESS)&&(o=i(504),l=i(507),e.renderType===s.WEBGL?t.renderer=new l(t):(t.renderer=new o(t),t.context=t.renderer.gameContext))}},function(t,e){t.exports={setCrisp:function(t){return["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"].forEach((function(e){t.style["image-rendering"]=e})),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}}},function(t,e){t.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.rgb * outTint.a, outTint.a);","    vec4 color = texture;","","    if (outTintEffect == 0.0)","    {","        //  Multiply texture tint","        color = texture * texel;","    }","    else if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.rgb * outTint.a, texture.a);","        color.a = texture.a * texel.a;","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_TEXTURE_TINT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform mat4 uModelMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}","",""].join("\n")},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(33);t.exports=function(t){var e=t.config;if(!e.hideBanner){var i="WebGL";e.renderType===a.CANVAS?i="Canvas":e.renderType===a.HEADLESS&&(i="Headless");var n,s=e.audio,r=t.device.audio;if(n=!r.webAudio||s&&s.disableWebAudio?s&&s.noAudio||!r.webAudio&&!r.audioData?"No Audio":"HTML5 Audio":"Web Audio",t.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var o,l="",h=[l];if(Array.isArray(e.bannerBackgroundColor))e.bannerBackgroundColor.forEach((function(t){l=l.concat("%c "),h.push("background: "+t),o=t})),h[h.length-1]="color: "+e.bannerTextColor+"; background: "+o;else l=l.concat("%c "),h.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor);h.push("background: #fff"),e.gameTitle&&(l=l.concat(e.gameTitle),e.gameVersion&&(l=l.concat(" v"+e.gameVersion)),e.hidePhaser||(l=l.concat(" / ")));e.hidePhaser||(l=l.concat("Phaser v"+a.VERSION+" ("+i+" | "+n+")")),l=l.concat(" %c "+e.gameURL),h[0]=l,console.log.apply(console,h)}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(6),s=i(1),r=i(343),o=new a({initialize:function(t,e){this.game=t,this.raf=new r,this.started=!1,this.running=!1,this.minFps=n(e,"min",5),this.targetFps=n(e,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=n(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=n(e,"deltaHistory",10),this.panicMax=n(e,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=n(e,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var t=window.performance.now();this.now=t;var e=t-this.lastTime;e<0&&(e=0),this.rawDelta=e;var i=this.deltaIndex,a=this.deltaHistory,n=this.deltaSmoothingMax,s=e,r=e;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=a[i],s=Math.min(s,this._min)),a[i]=s,this.deltaIndex++,this.deltaIndex>n&&(this.deltaIndex=0),r=0;for(var o=0;o<n;o++)r+=a[o];r/=n}this.delta=r,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var l=r/this._target;this.callback(t,r,l),this.lastTime=t,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step()},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(1),s=new a({initialize:function(){this.isRunning=!1,this.callback=n,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var t=this;this.step=function e(){var i=window.performance.now();t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.requestAnimationFrame(e)},this.stepTimeout=function e(){var i=Date.now(),a=Math.min(Math.max(2*t.target+t.tick-i,0),t.target);t.lastTime=t.tick,t.tick=i,t.callback(i),t.timeOutID=window.setTimeout(e,a)}},start:function(t,e,i){this.isRunning||(this.callback=t,this.isSetTimeOut=e,this.target=i,this.isRunning=!0,this.timeOutID=e?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=n}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(20);t.exports=function(t){var e,i=t.events;if(void 0!==document.hidden)e="visibilitychange";else{["webkit","moz","ms"].forEach((function(t){void 0!==document[t+"Hidden"]&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")}))}e&&document.addEventListener(e,(function(t){document.hidden||"pause"===t.type?i.emit(a.HIDDEN):i.emit(a.VISIBLE)}),!1),window.onblur=function(){i.emit(a.BLUR)},window.onfocus=function(){i.emit(a.FOCUS)},window.focus&&t.config.autoFocus&&window.focus()}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(346),n=i(26),s=i(6);t.exports=function(t){var e=s(t,"data",[]),i=s(t,"canvas",null),r=s(t,"palette",a),o=s(t,"pixelWidth",1),l=s(t,"pixelHeight",o),h=s(t,"resizeCanvas",!0),u=s(t,"clearCanvas",!0),c=s(t,"preRender",null),d=s(t,"postRender",null),p=Math.floor(Math.abs(e[0].length*o)),f=Math.floor(Math.abs(e.length*l));i||(i=n.create2D(this,p,f),h=!1,u=!1),h&&(i.width=p,i.height=f);var m=i.getContext("2d");u&&m.clearRect(0,0,p,f),c&&c(i,m);for(var g=0;g<e.length;g++)for(var y=e[g],k=0;k<y.length;k++){var v=y[k];"."!==v&&" "!==v&&(m.fillStyle=r[v],m.fillRect(k*o,g*l,o,l))}return d&&d(i,m),i}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(325),s=i(81),r=i(3),o=new a({Extends:s,initialize:function(t,e,i,a){s.call(this,"CubicBezierCurve"),Array.isArray(t)&&(a=new r(t[6],t[7]),i=new r(t[4],t[5]),e=new r(t[2],t[3]),t=new r(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i,this.p3=a},getStartPoint:function(t){return void 0===t&&(t=new r),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new r);var i=this.p0,a=this.p1,s=this.p2,o=this.p3;return e.set(n(t,i.x,a.x,s.x,o.x),n(t,i.y,a.y,s.y,o.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var a=1;a<i.length;a++)t.lineTo(i[a].x,i[a].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(t){var e=t.points,i=new r(e[0],e[1]),a=new r(e[2],e[3]),n=new r(e[4],e[5]),s=new r(e[6],e[7]);return new o(i,a,n,s)},t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(81),s=i(35),r=i(6),o=i(173),l=i(3),h=new a({Extends:n,initialize:function(t,e,i,a,o,h,u,c){if("object"==typeof t){var d=t;t=r(d,"x",0),e=r(d,"y",0),i=r(d,"xRadius",0),a=r(d,"yRadius",i),o=r(d,"startAngle",0),h=r(d,"endAngle",360),u=r(d,"clockwise",!1),c=r(d,"rotation",0)}else void 0===a&&(a=i),void 0===o&&(o=0),void 0===h&&(h=360),void 0===u&&(u=!1),void 0===c&&(c=0);n.call(this,"EllipseCurve"),this.p0=new l(t,e),this._xRadius=i,this._yRadius=a,this._startAngle=s(o),this._endAngle=s(h),this._clockwise=u,this._rotation=s(c)},getStartPoint:function(t){return void 0===t&&(t=new l),this.getPoint(0,t)},getResolution:function(t){return 2*t},getPoint:function(t,e){void 0===e&&(e=new l);for(var i=2*Math.PI,a=this._endAngle-this._startAngle,n=Math.abs(a)<Number.EPSILON;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(a=n?0:i),this._clockwise&&!n&&(a===i?a=-i:a-=i);var s=this._startAngle+t*a,r=this.p0.x+this._xRadius*Math.cos(s),o=this.p0.y+this._yRadius*Math.sin(s);if(0!==this._rotation){var h=Math.cos(this._rotation),u=Math.sin(this._rotation),c=r-this.p0.x,d=o-this.p0.y;r=c*h-d*u+this.p0.x,o=c*u+d*h+this.p0.y}return e.set(r,o)},setXRadius:function(t){return this.xRadius=t,this},setYRadius:function(t){return this.yRadius=t,this},setWidth:function(t){return this.xRadius=2*t,this},setHeight:function(t){return this.yRadius=2*t,this},setStartAngle:function(t){return this.startAngle=t,this},setEndAngle:function(t){return this.endAngle=t,this},setClockwise:function(t){return this.clockwise=t,this},setRotation:function(t){return this.rotation=t,this},x:{get:function(){return this.p0.x},set:function(t){this.p0.x=t}},y:{get:function(){return this.p0.y},set:function(t){this.p0.y=t}},xRadius:{get:function(){return this._xRadius},set:function(t){this._xRadius=t}},yRadius:{get:function(){return this._yRadius},set:function(t){this._yRadius=t}},startAngle:{get:function(){return o(this._startAngle)},set:function(t){this._startAngle=s(t)}},endAngle:{get:function(){return o(this._endAngle)},set:function(t){this._endAngle=s(t)}},clockwise:{get:function(){return this._clockwise},set:function(t){this._clockwise=t}},angle:{get:function(){return o(this._rotation)},set:function(t){this._rotation=s(t)}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=t}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(t){return new h(t)},t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(81),s=i(176),r=i(11),o=i(3),l=new o,h=new a({Extends:n,initialize:function(t,e){n.call(this,"LineCurve"),Array.isArray(t)&&(e=new o(t[2],t[3]),t=new o(t[0],t[1])),this.p0=t,this.p1=e,this.arcLengthDivisions=1},getBounds:function(t){return void 0===t&&(t=new r),s([this.p0,this.p1],t)},getStartPoint:function(t){return void 0===t&&(t=new o),t.copy(this.p0)},getResolution:function(t){return void 0===t&&(t=1),t},getPoint:function(t,e){return void 0===e&&(e=new o),1===t?e.copy(this.p1):(e.copy(this.p1).subtract(this.p0).scale(t).add(this.p0),e)},getPointAt:function(t,e){return this.getPoint(t,e)},getTangent:function(){return l.copy(this.p1).subtract(this.p0).normalize()},getUtoTmapping:function(t,e,i){var a;if(e){var n=this.getLengths(i),s=n[n.length-1];a=Math.min(e,s)/s}else a=t;return a},draw:function(t){return t.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});h.fromJSON=function(t){var e=t.points,i=new o(e[0],e[1]),a=new o(e[2],e[3]);return new h(i,a)},t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(81),s=i(326),r=i(3),o=new a({Extends:n,initialize:function(t,e,i){n.call(this,"QuadraticBezier"),Array.isArray(t)&&(i=new r(t[4],t[5]),e=new r(t[2],t[3]),t=new r(t[0],t[1])),this.p0=t,this.p1=e,this.p2=i},getStartPoint:function(t){return void 0===t&&(t=new r),t.copy(this.p0)},getResolution:function(t){return t},getPoint:function(t,e){void 0===e&&(e=new r);var i=this.p0,a=this.p1,n=this.p2;return e.set(s(t,i.x,a.x,n.x),s(t,i.y,a.y,n.y))},draw:function(t,e){void 0===e&&(e=32);var i=this.getPoints(e);t.beginPath(),t.moveTo(this.p0.x,this.p0.y);for(var a=1;a<i.length;a++)t.lineTo(i[a].x,i[a].y);return t.strokePath(),t},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(t){var e=t.points,i=new r(e[0],e[1]),a=new r(e[2],e[3]),n=new r(e[4],e[5]);return new o(i,a,n)},t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(171),n=i(0),s=i(81),r=i(3),o=new n({Extends:s,initialize:function(t){void 0===t&&(t=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(t)},addPoints:function(t){for(var e=0;e<t.length;e++){var i=new r;"number"==typeof t[e]?(i.x=t[e],i.y=t[e+1],e++):Array.isArray(t[e])?(i.x=t[e][0],i.y=t[e][1]):(i.x=t[e].x,i.y=t[e].y),this.points.push(i)}return this},addPoint:function(t,e){var i=new r(t,e);return this.points.push(i),i},getStartPoint:function(t){return void 0===t&&(t=new r),t.copy(this.points[0])},getResolution:function(t){return t*this.points.length},getPoint:function(t,e){void 0===e&&(e=new r);var i=this.points,n=(i.length-1)*t,s=Math.floor(n),o=n-s,l=i[0===s?s:s-1],h=i[s],u=i[s>i.length-2?i.length-1:s+1],c=i[s>i.length-3?i.length-1:s+2];return e.set(a(o,l.x,h.x,u.x,c.x),a(o,l.y,h.y,u.y,c.y))},toJSON:function(){for(var t=[],e=0;e<this.points.length;e++)t.push(this.points[e].x),t.push(this.points[e].y);return{type:this.type,points:t}}});o.fromJSON=function(t){return new o(t.points)},t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a){e&&""!==e||(e=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join("\n")),i&&""!==i||(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","void main () {","gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","}"].join("\n")),void 0===a&&(a=null),this.key=t,this.fragmentSrc=e,this.vertexSrc=i,this.uniforms=a}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31);a.ColorToRGBA=i(809),a.ComponentToHex=i(354),a.GetColor=i(165),a.GetColor32=i(295),a.HexStringToColor=i(294),a.HSLToColor=i(810),a.HSVColorWheel=i(811),a.HSVToRGB=i(166),a.HueToComponent=i(355),a.IntegerToColor=i(297),a.IntegerToRGB=i(298),a.Interpolate=i(812),a.ObjectToColor=i(299),a.RandomRGB=i(813),a.RGBStringToColor=i(300),a.RGBToHSV=i(296),a.RGBToString=i(814),a.ValueToColor=i(164),t.exports=a},function(t,e){t.exports=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}},function(t,e){t.exports=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(117);t.exports=function(t){if("complete"!==document.readyState&&"interactive"!==document.readyState){var e=function(){document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?a.cordova?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)}else t()}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(177);t.exports=function(t,e){var i=window.screen,n=!!i&&(i.orientation||i.mozOrientation||i.msOrientation);if(n&&"string"==typeof n.type)return n.type;if("string"==typeof n)return n;if(i)return i.height>i.width?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if("number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}return e>t?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(t,e){t.exports=function(t){var e;return""!==t&&("string"==typeof t?e=document.getElementById(t):t&&1===t.nodeType&&(e=t)),e||(e=document.body),e}},function(t,e){t.exports=function(t){var e="";try{if(window.DOMParser)e=(new DOMParser).parseFromString(t,"text/xml");else(e=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(179),s=i(10),r=i(54),o=i(20),l=i(365),h=i(366),u=i(367),c=i(368),d=i(29),p=i(332),f=new a({initialize:function(t,e){this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=e.inputKeyboard?new l(this):null,this.mouse=e.inputMouse?new h(this):null,this.touch=e.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var i=0;i<=this.pointersTotal;i++){var a=new u(this,i);a.smoothFactor=e.inputSmoothFactor,this.pointers.push(a)}this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new d,this._tempMatrix2=new d,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],t.events.once(o.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(r.MANAGER_BOOT),this.game.events.on(o.PRE_RENDER,this.preRender,this),this.game.events.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(r.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(r.GAME_OUT,t)},preRender:function(){var t=this.game.loop.now,e=this.game.loop.delta,i=this.game.scene.getScenes(!0,!0);this.time=t,this.events.emit(r.MANAGER_UPDATE);for(var a=0;a<i.length;a++){var n=i[a];if(n.sys.input&&n.sys.input.updatePoll(t,e)&&this.globalTopOnly)return}},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this.canvas.style.cursor=t.cursor)},resetCursor:function(t){t.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var i=0;i<t;i++){var a=this.pointers.length,n=new u(this,a);n.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(n),this.pointersTotal++,e.push(n)}return e},updateInputPlugins:function(t,e){var i=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var a=0;a<i.length;a++){var n=i[a];if(n.sys.input)if(n.sys.input.update(t,e)&&this.globalTopOnly||this._tempSkip)return}},onTouchStart:function(t){for(var e=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var s=t.changedTouches[a],r=1;r<this.pointersTotal;r++){var o=e[r];if(!o.active){o.touchstart(s,t),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(n.TOUCH_START,i)},onTouchMove:function(t){for(var e=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var s=t.changedTouches[a],r=1;r<this.pointersTotal;r++){var o=e[r];if(o.active&&o.identifier===s.identifier){o.touchmove(s,t),this.activePointer=o,i.push(o);break}}this.updateInputPlugins(n.TOUCH_MOVE,i)},onTouchEnd:function(t){for(var e=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var s=t.changedTouches[a],r=1;r<this.pointersTotal;r++){var o=e[r];if(o.active&&o.identifier===s.identifier){o.touchend(s,t),i.push(o);break}}this.updateInputPlugins(n.TOUCH_END,i)},onTouchCancel:function(t){for(var e=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var s=t.changedTouches[a],r=1;r<this.pointersTotal;r++){var o=e[r];if(o.active&&o.identifier===s.identifier){o.touchcancel(s,t),i.push(o);break}}this.updateInputPlugins(n.TOUCH_CANCEL,i)},onMouseDown:function(t){this.mousePointer.down(t),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(t){this.mousePointer.move(t),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(t){this.mousePointer.up(t),this.mousePointer.updateMotion(),this.updateInputPlugins(n.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(t){this.mousePointer.wheel(t),this.updateInputPlugins(n.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(t){var e=this.mouse.locked;this.mousePointer.locked=e,this.events.emit(r.POINTERLOCK_CHANGE,t,e)},inputCandidate:function(t,e){var i=t.input;if(!i||!i.enabled||!i.alwaysEnabled&&!t.willRender(e))return!1;var a=!0,n=t.parentContainer;if(n)do{if(!n.willRender(e)){a=!1;break}n=n.parentContainer}while(n);return a},hitTest:function(t,e,i,a){void 0===a&&(a=this._tempHitTest);var n=this._tempPoint,s=i.scrollX,r=i.scrollY;a.length=0;var o=t.x,l=t.y;1!==i.resolution&&(o+=i._x,l+=i._y),i.getWorldPoint(o,l,n),t.worldX=n.x,t.worldY=n.y;for(var h={x:0,y:0},u=this._tempMatrix,c=this._tempMatrix2,d=0;d<e.length;d++){var f=e[d];if(this.inputCandidate(f,i)){var m=n.x+s*f.scrollFactorX-s,g=n.y+r*f.scrollFactorY-r;f.parentContainer?(f.getWorldTransformMatrix(u,c),u.applyInverse(m,g,h)):p(m,g,f.x,f.y,f.rotation,f.scaleX,f.scaleY,h),this.pointWithinHitArea(f,h.x,h.y)&&a.push(f)}}return a},pointWithinHitArea:function(t,e,i){e+=t.displayOriginX,i+=t.displayOriginY;var a=t.input;return!(!a||!a.hitAreaCallback(a.hitArea,e,i,t))&&(a.localX=e,a.localY=i,!0)},pointWithinInteractiveObject:function(t,e,i){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,i+=t.gameObject.displayOriginY,t.localX=e,t.localY=i,t.hitAreaCallback(t.hitArea,e,i,t))},transformPointer:function(t,e,i,a){var n=t.position,s=t.prevPosition;s.x=n.x,s.y=n.y;var r=this.scaleManager.transformX(e),o=this.scaleManager.transformY(i),l=t.smoothFactor;a&&0!==l?(n.x=r*l+s.x*(1-l),n.y=o*l+s.y*(1-l)):(n.x=r,n.y=o)},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(123),n=i(0),s=i(20),r=i(54),o=i(124),l=i(0),h=new n({initialize:function(t){this.manager=t,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=l,this.onKeyUp=l,t.events.once(r.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard,this.target=t.inputKeyboardEventTarget,this.addCapture(t.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var t=this;this.onKeyDown=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.useQueue||t.manager.events.emit(r.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}},this.onKeyUp=function(e){if(!e.defaultPrevented&&t.enabled&&t.manager){t.queue.push(e),t.manager.useQueue||t.manager.events.emit(r.MANAGER_PROCESS);var i=e.altKey||e.ctrlKey||e.shiftKey||e.metaKey;t.preventDefault&&!i&&t.captures.indexOf(e.keyCode)>-1&&e.preventDefault()}};var e=this.target;e&&(e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var t=this.target;t.removeEventListener("keydown",this.onKeyDown,!1),t.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(t){"string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var a=t[i];"string"==typeof a&&(a=o[a.trim().toUpperCase()]),-1===e.indexOf(a)&&e.push(a)}this.preventDefault=e.length>0},removeCapture:function(t){"string"==typeof t&&(t=t.split(",")),Array.isArray(t)||(t=[t]);for(var e=this.captures,i=0;i<t.length;i++){var n=t[i];"string"==typeof n&&(n=o[n.toUpperCase()]),a(e,n)}this.preventDefault=e.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(169),s=i(54),r=i(0),o=new a({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=r,this.onMouseDown=r,this.onMouseUp=r,this.onMouseDownWindow=r,this.onMouseUpWindow=r,this.onMouseOver=r,this.onMouseOut=r,this.onMouseWheel=r,this.pointerLockChange=r,t.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.capture=t.inputMouseCapture,this.target?"string"==typeof this.target&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),this},requestPointerLock:function(){if(n.pointerLock){var t=this.target;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()}},releasePointerLock:function(){n.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var t=this,e=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onMouseMove=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onMouseMove(e),t.capture&&e.preventDefault())},this.onMouseDown=function(a){i&&window.focus(),!a.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onMouseDown(a),t.capture&&a.target===e&&a.preventDefault())},this.onMouseDownWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onMouseDown(i)},this.onMouseUp=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onMouseUp(i),t.capture&&i.target===e&&i.preventDefault())},this.onMouseUpWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onMouseUp(i)},this.onMouseOver=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOver(e)},this.onMouseOut=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOut(e)},this.onMouseWheel=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.onMouseWheel(e)};var a=this.target;if(a){var s={passive:!0},r={passive:!1};a.addEventListener("mousemove",this.onMouseMove,this.capture?r:s),a.addEventListener("mousedown",this.onMouseDown,this.capture?r:s),a.addEventListener("mouseup",this.onMouseUp,this.capture?r:s),a.addEventListener("mouseover",this.onMouseOver,this.capture?r:s),a.addEventListener("mouseout",this.onMouseOut,this.capture?r:s),a.addEventListener("wheel",this.onMouseWheel,this.capture?r:s),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("mousedown",this.onMouseDownWindow,r),window.addEventListener("mouseup",this.onMouseUpWindow,r)),n.pointerLock&&(this.pointerLockChange=function(e){var i=t.target;t.locked=document.pointerLockElement===i||document.mozPointerLockElement===i||document.webkitPointerLockElement===i,t.manager.onPointerLockChange(e)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mousedown",this.onMouseDown),t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mouseover",this.onMouseOver),t.removeEventListener("mouseout",this.onMouseOut),window&&(window.removeEventListener("mousedown",this.onMouseDownWindow),window.removeEventListener("mouseup",this.onMouseUpWindow)),n.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(317),n=i(0),s=i(53),r=i(106),o=i(327),l=i(3),h=new n({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new l,this.prevPosition=new l,this.midPoint=new l(-1,-1),this.velocity=new l,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=0===e,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(t){var e=this.x,i=this.y;1!==t.resolution&&(e+=t._x,i+=t._y);var a=t.getWorldPoint(e,i);return this.worldX=a.x,this.worldY=a.y,this},positionToCamera:function(t,e){return t.getWorldPoint(this.x,this.y,e)},updateMotion:function(){var t=this.position.x,e=this.position.y,i=this.midPoint.x,n=this.midPoint.y;if(t!==i||e!==n){var s=o(this.motionFactor,i,t),l=o(this.motionFactor,n,e);r(s,t,.1)&&(s=t),r(l,e,.1)&&(l=e),this.midPoint.set(s,l);var h=t-s,u=e-l;this.velocity.set(h,u),this.angle=a(s,l,t,e),this.distance=Math.sqrt(h*h+u*u)}},up:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=t.timeStamp),this.isDown=!1,this.wasTouch=!1},down:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.button=t.button,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=t.timeStamp),this.isDown=!0,this.wasTouch=!1},move:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.locked&&(this.movementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.movementY=t.movementY||t.mozMovementY||t.webkitMovementY||0),this.moveTime=t.timeStamp,this.wasTouch=!1},wheel:function(t){"buttons"in t&&(this.buttons=t.buttons),this.event=t,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.deltaX=t.deltaX,this.deltaY=t.deltaY,this.deltaZ=t.deltaZ,this.wasTouch=!1},touchstart:function(t,e){t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.active=!0,this.buttons=1,this.event=e,this.downElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(t,e){this.event=e,this.manager.transformPointer(this,t.pageX,t.pageY,!0),this.moveTime=e.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(t,e){this.buttons=0,this.event=e,this.upElement=t.target,this.manager.transformPointer(this,t.pageX,t.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return!!(1&this.buttons)},rightButtonDown:function(){return!!(2&this.buttons)},middleButtonDown:function(){return!!(4&this.buttons)},backButtonDown:function(){return!!(8&this.buttons)},forwardButtonDown:function(){return!!(16&this.buttons)},leftButtonReleased:function(){return 0===this.button&&!this.isDown},rightButtonReleased:function(){return 2===this.button&&!this.isDown},middleButtonReleased:function(){return 1===this.button&&!this.isDown},backButtonReleased:function(){return 3===this.button&&!this.isDown},forwardButtonReleased:function(){return 4===this.button&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(t,e){void 0===t&&(t=10),void 0===e&&(e=[]);for(var i=this.prevPosition.x,a=this.prevPosition.y,n=this.position.x,s=this.position.y,r=0;r<t;r++){var l=1/t*r;e[r]={x:o(l,i,n),y:o(l,a,s)}}return e},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},time:{get:function(){return this.event?this.event.timeStamp:0}}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(54),s=i(1),r=new a({initialize:function(t){this.manager=t,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.onTouchOver=s,this.onTouchOut=s,t.events.once(n.MANAGER_BOOT,this.boot,this)},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.capture=t.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),this},startListeners:function(){var t=this,e=this.manager.canvas,i=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(a){i&&window.focus(),!a.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchStart(a),t.capture&&a.cancelable&&a.target===e&&a.preventDefault())},this.onTouchStartWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onTouchStart(i)},this.onTouchMove=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchMove(e),t.capture&&e.cancelable&&e.preventDefault())},this.onTouchEnd=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchEnd(i),t.capture&&i.cancelable&&i.target===e&&i.preventDefault())},this.onTouchEndWindow=function(i){!i.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&i.target!==e&&t.manager.onTouchEnd(i)},this.onTouchCancel=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&(t.manager.onTouchCancel(e),t.capture&&e.preventDefault())},this.onTouchCancelWindow=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.onTouchCancel(e)},this.onTouchOver=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOver(e)},this.onTouchOut=function(e){!e.defaultPrevented&&t.enabled&&t.manager&&t.manager.enabled&&t.manager.setCanvasOut(e)};var a=this.target;if(a){var n={passive:!0},s={passive:!1};a.addEventListener("touchstart",this.onTouchStart,this.capture?s:n),a.addEventListener("touchmove",this.onTouchMove,this.capture?s:n),a.addEventListener("touchend",this.onTouchEnd,this.capture?s:n),a.addEventListener("touchcancel",this.onTouchCancel,this.capture?s:n),a.addEventListener("touchover",this.onTouchOver,this.capture?s:n),a.addEventListener("touchout",this.onTouchOut,this.capture?s:n),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,s),window.addEventListener("touchend",this.onTouchEndWindow,s),window.addEventListener("touchcancel",this.onTouchCancelWindow,s)),this.enabled=!0}},stopListeners:function(){var t=this.target;t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("touchcancel",this.onTouchCancel),t.removeEventListener("touchover",this.onTouchOver),t.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(20),s=i(10),r=i(8),o=i(16),l=i(5),h=i(2),u=i(23),c=i(123),d=new a({Extends:s,initialize:function(t){s.call(this),this.game=t,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],t.isBooted?this.boot():t.events.once(n.BOOT,this.boot,this)},boot:function(){var t,e,i,a,s,r,o,l=this.game.config,u=l.installGlobalPlugins;for(u=u.concat(this._pendingGlobal),t=0;t<u.length;t++)e=u[t],i=h(e,"key",null),a=h(e,"plugin",null),s=h(e,"start",!1),r=h(e,"mapping",null),o=h(e,"data",null),i&&(a?this.install(i,a,s,r,o):console.warn("Missing `plugin` for key: "+i));for(u=(u=l.installScenePlugins).concat(this._pendingScene),t=0;t<u.length;t++)e=u[t],i=h(e,"key",null),a=h(e,"plugin",null),r=h(e,"mapping",null),i&&(a?this.installScenePlugin(i,a,r):console.warn("Missing `plugin` for key: "+i));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(n.DESTROY,this.destroy,this)},addToScene:function(t,e,i){var a,n,s,r=this.game,o=t.scene,l=t.settings.map,h=t.settings.isBooted;for(a=0;a<e.length;a++)r[n=e[a]]?(t[n]=r[n],l.hasOwnProperty(n)&&(o[l[n]]=t[n])):"game"===n&&l.hasOwnProperty(n)&&(o[l[n]]=r);for(var c=0;c<i.length;c++)for(s=i[c],a=0;a<s.length;a++)if(n=s[a],u.hasCore(n)){var d=u.getCore(n),p=new d.plugin(o,this);t[d.mapping]=p,d.custom?o[d.mapping]=p:l.hasOwnProperty(d.mapping)&&(o[l[d.mapping]]=p),h&&p.boot()}for(s=this.plugins,a=0;a<s.length;a++){var f=s[a];f.mapping&&(o[f.mapping]=f.plugin)}},getDefaultScenePlugins:function(){var t=this.game.config.defaultPlugins;return t=t.concat(this.scenePlugins)},installScenePlugin:function(t,e,i,a,n){if(void 0===n&&(n=!1),"function"==typeof e){if(u.hasCore(t)){if(!n&&u.hasCore(t))return void console.warn("Scene Plugin key in use: "+t)}else u.register(t,e,i,!0),this.scenePlugins.push(t);if(a){var s=new e(a,this);a.sys[t]=s,i&&""!==i&&(a[i]=s),s.boot()}}else console.warn("Invalid Scene Plugin: "+t)},install:function(t,e,i,a,n){if(void 0===i&&(i=!1),void 0===a&&(a=null),void 0===n&&(n=null),"function"!=typeof e)return console.warn("Invalid Plugin: "+t),null;if(u.hasCustom(t))return console.warn("Plugin key in use: "+t),null;if(null!==a&&(i=!0),this.game.isBooted){if(u.registerCustom(t,e,a,n),i)return this.start(t)}else this._pendingGlobal.push({key:t,plugin:e,start:i,mapping:a,data:n});return null},getIndex:function(t){for(var e=this.plugins,i=0;i<e.length;i++){if(e[i].key===t)return i}return-1},getEntry:function(t){var e=this.getIndex(t);if(-1!==e)return this.plugins[e]},isActive:function(t){var e=this.getEntry(t);return e&&e.active},start:function(t,e){void 0===e&&(e=t);var i=this.getEntry(e);return i&&!i.active?(i.active=!0,i.plugin.start()):i||(i=this.createEntry(t,e)),i?i.plugin:null},createEntry:function(t,e){var i=u.getCustom(t);if(i){var a=new i.plugin(this);i={key:e,plugin:a,active:!0,mapping:i.mapping,data:i.data},this.plugins.push(i),a.init(i.data),a.start()}return i},stop:function(t){var e=this.getEntry(t);return e&&e.active&&(e.active=!1,e.plugin.stop()),this},get:function(t,e){void 0===e&&(e=!0);var i=this.getEntry(t);if(i)return i.plugin;var a=this.getClass(t);return a&&e?(i=this.createEntry(t,t))?i.plugin:null:a||null},getClass:function(t){return u.getCustomClass(t)},removeGlobalPlugin:function(t){var e=this.getEntry(t);e&&c(this.plugins,e),u.removeCustom(t)},removeScenePlugin:function(t){c(this.scenePlugins,t),u.remove(t)},registerGameObject:function(t,e,i){return e&&l.register(t,e),i&&o.register(t,i),this},removeGameObject:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),e&&l.remove(t),i&&o.remove(t),this},registerFileType:function(t,e,i){r.register(t,e),i&&i.sys.load&&(i.sys.load[t]=e)},destroy:function(){for(var t=0;t<this.plugins.length;t++)this.plugins[t].plugin.destroy();u.destroyCustomPlugins(),this.game.noReturn&&u.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(177),n=i(0),s=i(10),r=i(92),o=i(20),l=i(867),h=i(362),u=i(357),c=i(1),d=i(11),p=i(371),f=i(93),m=i(3),g=new n({Extends:s,initialize:function(t){s.call(this),this.game=t,this.canvas,this.canvasBounds=new d,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=a.SCALE_MODE.NONE,this.resolution=1,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once("boot",this.boot,this)},boot:function(){var t=this.game;this.canvas=t.canvas,this.fullscreen=t.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),t.events.on(o.PRE_STEP,this.step,this),t.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(t){this.getParent(t),this.getParentBounds();var e=t.width,i=t.height,n=t.scaleMode,s=t.resolution,r=t.zoom,o=t.autoRound;if("string"==typeof e){var l=this.parentSize.width;0===l&&(l=window.innerWidth);var h=parseInt(e,10)/100;e=Math.floor(l*h)}if("string"==typeof i){var c=this.parentSize.height;0===c&&(c=window.innerHeight);var d=parseInt(i,10)/100;i=Math.floor(c*d)}this.resolution=1,this.scaleMode=n,this.autoRound=o,this.autoCenter=t.autoCenter,this.resizeInterval=t.resizeInterval,o&&(e=Math.floor(e),i=Math.floor(i)),this.gameSize.setSize(e,i),r===a.ZOOM.MAX_ZOOM&&(r=this.getMaxZoom()),this.zoom=r,1!==r&&(this._resetZoom=!0),this.baseSize.setSize(e*s,i*s),o&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),t.minWidth>0&&this.displaySize.setMin(t.minWidth*r,t.minHeight*r),t.maxWidth>0&&this.displaySize.setMax(t.maxWidth*r,t.maxHeight*r),this.displaySize.setSize(e,i),this.orientation=u(e,i)},getParent:function(t){var e=t.parent;if(null!==e){if(this.parent=h(e),this.parentIsWindow=this.parent===document.body,t.expandParent&&t.scaleMode!==a.SCALE_MODE.NONE){var i=this.parent.getBoundingClientRect();(this.parentIsWindow||0===i.height)&&(document.documentElement.style.height="100%",document.body.style.height="100%",i=this.parent.getBoundingClientRect(),this.parentIsWindow||0!==i.height||(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}t.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(t.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var t=this.parentSize,e=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(e.height=l(!0));var i=this.resolution,a=e.width*i,n=e.height*i;return(t.width!==a||t.height!==n)&&(t.setSize(a,n),!0)},lockOrientation:function(t){var e=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return!!e&&e.call(screen,t)},setParentSize:function(t,e){return this.parentSize.setSize(t,e),this.refresh()},setGameSize:function(t,e){var i=this.autoRound,a=this.resolution;i&&(t=Math.floor(t),e=Math.floor(e));var n=this.width,s=this.height;return this.gameSize.resize(t,e),this.baseSize.resize(t*a,e*a),i&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(t/e),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(n,s)},resize:function(t,e){var i=this.zoom,a=this.resolution,n=this.autoRound;n&&(t=Math.floor(t),e=Math.floor(e));var s=this.width,r=this.height;this.gameSize.resize(t,e),this.baseSize.resize(t*a,e*a),n&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(t*i*a,e*i*a),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var o=this.canvas.style,l=t*i,h=e*i;return n&&(l=Math.floor(l),h=Math.floor(h)),l===t&&h===e||(o.width=l+"px",o.height=h+"px"),this.refresh(s,r)},setZoom:function(t){return this.zoom=t,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(t,e){void 0===t&&(t=this.width),void 0===e&&(e=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var i=this.game.domContainer;if(i){this.baseSize.setCSS(i);var a=this.canvas.style,n=i.style;n.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",n.marginLeft=a.marginLeft,n.marginTop=a.marginTop}return this.emit(r.RESIZE,this.gameSize,this.baseSize,this.displaySize,this.resolution,t,e),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var t=u(this.width,this.height);t!==this.orientation&&(this.orientation=t,this.emit(r.ORIENTATION_CHANGE,t))}},updateScale:function(){var t,e,i=this.canvas.style,n=this.gameSize.width,s=this.gameSize.height,r=this.zoom,o=this.autoRound;this.scaleMode===a.SCALE_MODE.NONE?(this.displaySize.setSize(n*r*1,s*r*1),t=this.displaySize.width/1,e=this.displaySize.height/1,o&&(t=Math.floor(t),e=Math.floor(e)),this._resetZoom&&(i.width=t+"px",i.height=e+"px",this._resetZoom=!1)):this.scaleMode===a.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(1*this.displaySize.width,1*this.displaySize.height),t=this.displaySize.width/1,e=this.displaySize.height/1,o&&(t=Math.floor(t),e=Math.floor(e)),this.canvas.width=t,this.canvas.height=e):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),t=this.displaySize.width/1,e=this.displaySize.height/1,o&&(t=Math.floor(t),e=Math.floor(e)),i.width=t+"px",i.height=e+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var t=f(this.parentSize.width,this.gameSize.width,0,!0),e=f(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(t,e),1)},updateCenter:function(){var t=this.autoCenter;if(t!==a.CENTER.NO_CENTER){var e=this.canvas,i=e.style,n=e.getBoundingClientRect(),s=n.width,r=n.height,o=Math.floor((this.parentSize.width-s)/2),l=Math.floor((this.parentSize.height-r)/2);t===a.CENTER.CENTER_HORIZONTALLY?l=0:t===a.CENTER.CENTER_VERTICALLY&&(o=0),i.marginLeft=o+"px",i.marginTop=l+"px"}},updateBounds:function(){var t=this.canvasBounds,e=this.canvas.getBoundingClientRect();t.x=e.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),t.y=e.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),t.width=e.width,t.height=e.height},transformX:function(t){return(t-this.canvasBounds.left)*this.displayScale.x},transformY:function(t){return(t-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(t){void 0===t&&(t={navigationUI:"hide"});var e=this.fullscreen;if(e.available){if(!e.active){var i,a=this.getFullscreenTarget();(i=e.keyboard?a[e.request](Element.ALLOW_KEYBOARD_INPUT):a[e.request](t))?i.then(this.fullscreenSuccessHandler.bind(this)).catch(this.fullscreenErrorHandler.bind(this)):e.active?this.fullscreenSuccessHandler():this.fullscreenErrorHandler()}}else this.emit(r.FULLSCREEN_UNSUPPORTED)},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(r.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(t){this.removeFullscreenTarget(),this.emit(r.FULLSCREEN_FAILED,t)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var t=document.createElement("div");t.style.margin="0",t.style.padding="0",t.style.width="100%",t.style.height="100%",this.fullscreenTarget=t,this._createdFullscreenTarget=!0}this._createdFullscreenTarget&&(this.canvas.parentNode.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas));return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var t=this.fullscreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.canvas,t),e.removeChild(t)}}},stopFullscreen:function(){var t=this.fullscreen;if(!t.available)return this.emit(r.FULLSCREEN_UNSUPPORTED),!1;t.active&&document[t.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(r.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(t){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(t)},startListeners:function(){var t=this,e=this.listeners;if(e.orientationChange=function(){t._checkOrientation=!0,t.dirty=!0},e.windowResize=function(){t.dirty=!0},window.addEventListener("orientationchange",e.orientationChange,!1),window.addEventListener("resize",e.windowResize,!1),this.fullscreen.available){e.fullScreenChange=function(e){return t.onFullScreenChange(e)},e.fullScreenError=function(e){return t.onFullScreenError(e)};["webkit","moz",""].forEach((function(t){document.addEventListener(t+"fullscreenchange",e.fullScreenChange,!1),document.addEventListener(t+"fullscreenerror",e.fullScreenError,!1)})),document.addEventListener("MSFullscreenChange",e.fullScreenChange,!1),document.addEventListener("MSFullscreenError",e.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(t,e){this.parent&&(this._lastCheck+=e,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var t=this.listeners;window.removeEventListener("orientationchange",t.orientationChange,!1),window.removeEventListener("resize",t.windowResize,!1);["webkit","moz",""].forEach((function(e){document.removeEventListener(e+"fullscreenchange",t.fullScreenChange,!1),document.removeEventListener(e+"fullscreenerror",t.fullScreenError,!1)})),document.removeEventListener("MSFullscreenChange",t.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",t.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});t.exports=g},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(93),r=i(3),o=new n({initialize:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=0),void 0===a&&(a=null),this._width=t,this._height=e,this._parent=a,this.aspectMode=i,this.aspectRatio=0===e?1:t/e,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new r},setAspectMode:function(t){return void 0===t&&(t=0),this.aspectMode=t,this.setSize(this._width,this._height)},setSnap:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.snapTo.set(t,e),this.setSize(this._width,this._height)},setParent:function(t){return this._parent=t,this.setSize(this._width,this._height)},setMin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.minWidth=a(t,0,this.maxWidth),this.minHeight=a(e,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(t,e){return void 0===t&&(t=Number.MAX_VALUE),void 0===e&&(e=t),this.maxWidth=a(t,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(e,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(t,e){switch(void 0===t&&(t=0),void 0===e&&(e=t),this.aspectMode){case o.NONE:this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(s(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(e,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(t,e,!0);break;case o.ENVELOP:this.constrain(t,e,!1)}return this},setAspectRatio:function(t){return this.aspectRatio=t,this.setSize(this._width,this._height)},resize:function(t,e){return this._width=this.getNewWidth(s(t,this.snapTo.x)),this._height=this.getNewHeight(s(e,this.snapTo.y)),this.aspectRatio=0===this._height?1:this._width/this._height,this},getNewWidth:function(t,e){return void 0===e&&(e=!0),t=a(t,this.minWidth,this.maxWidth),e&&this._parent&&t>this._parent.width&&(t=Math.max(this.minWidth,this._parent.width)),t},getNewHeight:function(t,e){return void 0===e&&(e=!0),t=a(t,this.minHeight,this.maxHeight),e&&this._parent&&t>this._parent.height&&(t=Math.max(this.minHeight,this._parent.height)),t},constrain:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=!0),t=this.getNewWidth(t),e=this.getNewHeight(e);var a=this.snapTo,n=0===e?1:t/e;return i&&this.aspectRatio>n||!i&&this.aspectRatio<n?(e=(t=s(t,a.x))/this.aspectRatio,a.y>0&&(t=(e=s(e,a.y))*this.aspectRatio)):(i&&this.aspectRatio<n||!i&&this.aspectRatio>n)&&(t=(e=s(e,a.y))*this.aspectRatio,a.x>0&&(e=(t=s(t,a.x))*(1/this.aspectRatio))),this._width=t,this._height=e,this},fitTo:function(t,e){return this.constrain(t,e,!0)},envelop:function(t,e){return this.constrain(t,e,!1)},setWidth:function(t){return this.setSize(t,this._height)},setHeight:function(t){return this.setSize(this._width,t)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(t){t&&t.style&&(t.style.width=this._width+"px",t.style.height=this._height+"px")},copy:function(t){return t.setAspectMode(this.aspectMode),t.aspectRatio=this.aspectRatio,t.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(t){this.setSize(t,this._height)}},height:{get:function(){return this._height},set:function(t){this.setSize(this._width,t)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(125),s=i(22),r=i(20),o=i(6),l=i(82),h=i(1),u=i(373),c=i(180),d=new a({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)this._pending.push({key:"default",scene:e[i],autoStart:0===i,data:{}})}t.events.once(r.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var t,e,i,a;for(t=0;t<this._pending.length;t++){var n;i=(e=this._pending[t]).key,(a=e.scene)instanceof u?n=this.createSceneFromInstance(i,a):"object"==typeof a?n=this.createSceneFromObject(i,a):"function"==typeof a&&(n=this.createSceneFromFunction(i,a)),i=n.sys.settings.key,this.keys[i]=n,this.scenes.push(n),this._data[i]&&(n.sys.settings.data=this._data[i].data,this._data[i].autoStart&&(e.autoStart=!0)),(e.autoStart||n.sys.settings.active)&&this._start.push(i)}for(this._pending.length=0,this._data={},this.isBooted=!0,t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start.length=0}},processQueue:function(){var t=this._pending.length,e=this._queue.length;if(0!==t||0!==e){var i,a;if(t){for(i=0;i<t;i++)a=this._pending[i],this.add(a.key,a.scene,a.autoStart,a.data);for(i=0;i<this._start.length;i++)a=this._start[i],this.start(a);return this._start.length=0,void(this._pending.length=0)}for(i=0;i<this._queue.length;i++)this[(a=this._queue[i]).op](a.keyA,a.keyB);this._queue.length=0}},add:function(t,e,i,a){return void 0===i&&(i=!1),void 0===a&&(a={}),this.isProcessing||!this.isBooted?(this._pending.push({key:t,scene:e,autoStart:i,data:a}),this.isBooted||(this._data[t]={data:a}),null):(t=this.getKey(t,e),e instanceof u?n=this.createSceneFromInstance(t,e):"object"==typeof e?(e.key=t,n=this.createSceneFromObject(t,e)):"function"==typeof e&&(n=this.createSceneFromFunction(t,e)),n.sys.settings.data=a,t=n.sys.settings.key,this.keys[t]=n,this.scenes.push(n),(i||n.sys.settings.active)&&(this._pending.length?this._start.push(t):this.start(t)),n);var n},remove:function(t){if(this.isProcessing)this._queue.push({op:"remove",keyA:t,keyB:null});else{var e=this.getScene(t);if(!e||e.sys.isTransitioning())return this;var i=this.scenes.indexOf(e),a=e.sys.settings.key;i>-1&&(delete this.keys[a],this.scenes.splice(i,1),this._start.indexOf(a)>-1&&(i=this._start.indexOf(a),this._start.splice(i,1)),e.sys.destroy())}return this},bootScene:function(t){var e,i=t.sys,a=i.settings;i.sceneUpdate=h,t.init&&(t.init.call(t,a.data),a.status=n.INIT,a.isTransition&&i.events.emit(s.TRANSITION_INIT,a.transitionFrom,a.transitionDuration)),i.load&&(e=i.load).reset(),e&&t.preload?(t.preload.call(t),0===e.list.size?this.create(t):(a.status=n.LOADING,e.once(l.COMPLETE,this.loadComplete,this),e.start())):this.create(t)},loadComplete:function(t){var e=t.scene;this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(e)},payloadComplete:function(t){this.bootScene(t.scene)},update:function(t,e){this.processQueue(),this.isProcessing=!0;for(var i=this.scenes.length-1;i>=0;i--){var a=this.scenes[i].sys;a.settings.status>n.START&&a.settings.status<=n.RUNNING&&a.step(t,e)}},render:function(t){for(var e=0;e<this.scenes.length;e++){var i=this.scenes[e].sys;i.settings.visible&&i.settings.status>=n.LOADING&&i.settings.status<n.SLEEPING&&i.render(t)}this.isProcessing=!1},create:function(t){var e=t.sys,i=e.settings;t.create&&(i.status=n.CREATING,t.create.call(t,i.data),i.status===n.DESTROYED)||(i.isTransition&&e.events.emit(s.TRANSITION_START,i.transitionFrom,i.transitionDuration),t.update&&(e.sceneUpdate=t.update),i.status=n.RUNNING,e.events.emit(s.CREATE,t))},createSceneFromFunction:function(t,e){var i=new e;if(i instanceof u){var a=i.sys.settings.key;if(""!==a&&(t=a),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}return i.sys=new c(i),i.sys.settings.key=t,i.sys.init(this.game),i},createSceneFromInstance:function(t,e){var i=e.sys.settings.key;return""!==i?t=i:e.sys.settings.key=t,e.sys.init(this.game),e},createSceneFromObject:function(t,e){var i=new u(e),a=i.sys.settings.key;""!==a?t=a:i.sys.settings.key=t,i.sys.init(this.game);for(var n=["init","preload","create","update","render"],s=0;s<n.length;s++){var r=o(e,n[s],null);r&&(i[n[s]]=r)}if(e.hasOwnProperty("extend"))for(var l in e.extend)if(e.extend.hasOwnProperty(l)){var h=e.extend[l];"data"===l&&i.hasOwnProperty("data")&&"object"==typeof h?i.data.merge(h):"sys"!==l&&(i[l]=h)}return i},getKey:function(t,e){if(t||(t="default"),"function"==typeof e)return t;if(e instanceof u?t=e.sys.settings.key:"object"==typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return t},getScenes:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);for(var i=[],a=this.scenes,n=0;n<a.length;n++){var s=a[n];s&&(!t||t&&s.sys.isActive())&&i.push(s)}return e?i.reverse():i},getScene:function(t){if("string"==typeof t){if(this.keys[t])return this.keys[t]}else for(var e=0;e<this.scenes.length;e++)if(t===this.scenes[e])return t;return null},isActive:function(t){var e=this.getScene(t);return e?e.sys.isActive():null},isPaused:function(t){var e=this.getScene(t);return e?e.sys.isPaused():null},isVisible:function(t){var e=this.getScene(t);return e?e.sys.isVisible():null},isSleeping:function(t){var e=this.getScene(t);return e?e.sys.isSleeping():null},pause:function(t,e){var i=this.getScene(t);return i&&i.sys.pause(e),this},resume:function(t,e){var i=this.getScene(t);return i&&i.sys.resume(e),this},sleep:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.sleep(e),this},wake:function(t,e){var i=this.getScene(t);return i&&i.sys.wake(e),this},run:function(t,e){var i=this.getScene(t);if(!i){for(var a=0;a<this._pending.length;a++)if(this._pending[a].key===t){this.queueOp("start",t,e);break}return this}i.sys.isSleeping()?i.sys.wake(e):i.sys.isPaused()?i.sys.resume(e):this.start(t,e)},start:function(t,e){if(!this.isBooted)return this._data[t]={autoStart:!0,data:e},this;e&&e.hasOwnProperty("pauseAllScenes")&&this.pauseAllScenes(t);var i=this.getScene(t);if(i){var a;if(i.sys.isActive()||i.sys.isPaused())i.sys.shutdown(),i.sys.start(e);else if(i.sys.start(e),i.sys.load&&(a=i.sys.load),a&&i.sys.settings.hasOwnProperty("pack")&&(a.reset(),a.addPack({payload:i.sys.settings.pack})))return i.sys.settings.status=n.LOADING,a.once(l.COMPLETE,this.payloadComplete,this),a.start(),this;this.bootScene(i)}return this},stop:function(t,e){var i=this.getScene(t);return i&&!i.sys.isTransitioning()&&i.sys.shutdown(e),this},switch:function(t,e){var i=this.getScene(t),a=this.getScene(e);return i&&a&&i!==a&&(this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)),this},getAt:function(t){return this.scenes[t]},getIndex:function(t){var e=this.getScene(t);return this.scenes.indexOf(e)},bringToTop:function(t){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e<this.scenes.length){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.push(i)}}return this},sendToBack:function(t){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:t,keyB:null});else{var e=this.getIndex(t);if(-1!==e&&e>0){var i=this.getScene(t);this.scenes.splice(e,1),this.scenes.unshift(i)}}return this},moveDown:function(t){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e>0){var i=e-1,a=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=a}}return this},moveUp:function(t){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:t,keyB:null});else{var e=this.getIndex(t);if(e<this.scenes.length-1){var i=e+1,a=this.getScene(t),n=this.getAt(i);this.scenes[e]=n,this.scenes[i]=a}}return this},moveAbove:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:t,keyB:e});else{var i=this.getIndex(t),a=this.getIndex(e);if(-1!==i&&-1!==a){var n=this.getAt(a);this.scenes.splice(a,1),this.scenes.splice(i+1,0,n)}}return this},moveBelow:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:t,keyB:e});else{var i=this.getIndex(t),a=this.getIndex(e);if(-1!==i&&-1!==a){var n=this.getAt(a);this.scenes.splice(a,1),0===i?this.scenes.unshift(n):this.scenes.splice(i,0,n)}}return this},queueOp:function(t,e,i){return this._queue.push({op:t,keyA:e,keyB:i}),this},swapPosition:function(t,e){if(t===e)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:t,keyB:e});else{var i=this.getIndex(t),a=this.getIndex(e);if(i!==a&&-1!==i&&-1!==a){var n=this.getAt(i);this.scenes[i]=this.scenes[a],this.scenes[a]=n}}return this},dump:function(){for(var t=[],e=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],i=0;i<this.scenes.length;i++){var a=this.scenes[i].sys,s=!a.settings.visible||a.settings.status!==n.RUNNING&&a.settings.status!==n.PAUSED?"[-] ":"[*] ";s+=a.settings.key+" ("+e[a.settings.status]+")",t.push(s)}console.log(t.join("\n"))},destroy:function(){for(var t=0;t<this.scenes.length;t++){this.scenes[t].sys.destroy()}this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(180),s=new a({initialize:function(t){this.sys=new n(this,t),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins},update:function(){}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(125),n=i(6),s=i(126),r=i(880),o={create:function(t){return"string"==typeof t?t={key:t}:void 0===t&&(t={}),{status:a.PENDING,key:n(t,"key",""),active:n(t,"active",!1),visible:n(t,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:n(t,"pack",!1),cameras:n(t,"cameras",null),map:n(t,"map",s(r,n(t,"mapAdd",{}))),physics:n(t,"physics",{}),loader:n(t,"loader",{}),plugins:n(t,"plugins",!1),input:n(t,"input",{})}}};t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26),n=i(376),s=i(0),r=i(31),o=i(33),l=i(10),h=i(121),u=i(20),c=i(345),d=i(6),p=i(378),f=i(182),m=new s({Extends:l,initialize:function(t){l.call(this),this.game=t,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,t.events.once(u.BOOT,this.boot,this)},boot:function(){this._pending=2,this.on(h.LOAD,this.updatePending,this),this.on(h.ERROR,this.updatePending,this),this.addBase64("__DEFAULT",this.game.config.defaultImage),this.addBase64("__MISSING",this.game.config.missingImage),this.game.events.once(u.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,0===this._pending&&(this.off(h.LOAD),this.off(h.ERROR),this.emit(h.READY))},checkKey:function(t){return!this.exists(t)||(console.error("Texture key already in use: "+t),!1)},remove:function(t){if("string"==typeof t){if(!this.exists(t))return console.warn("No texture found matching key: "+t),this;t=this.get(t)}return this.list.hasOwnProperty(t.key)&&(t.destroy(),this.emit(h.REMOVE,t.key)),this},removeKey:function(t){return this.list.hasOwnProperty(t)&&delete this.list[t],this},addBase64:function(t,e){if(this.checkKey(t)){var i=this,a=new Image;a.onerror=function(){i.emit(h.ERROR,t)},a.onload=function(){var e=i.create(t,a);p.Image(e,0),i.emit(h.ADD,t,e),i.emit(h.LOAD,t,e)},a.src=e}return this},getBase64:function(t,e,i,n){void 0===i&&(i="image/png"),void 0===n&&(n=.92);var s="",r=this.getFrame(t,e);if(r&&(r.source.isRenderTexture||r.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(r){var o=r.canvasData,l=a.create2D(this,o.width,o.height);l.getContext("2d").drawImage(r.source.image,o.x,o.y,o.width,o.height,0,0,o.width,o.height),s=l.toDataURL(i,n),a.remove(l)}return s},addImage:function(t,e,i){var a=null;return this.checkKey(t)&&(a=this.create(t,e),p.Image(a,0),i&&a.setDataSource(i),this.emit(h.ADD,t,a)),a},addGLTexture:function(t,e,i,a){var n=null;return this.checkKey(t)&&((n=this.create(t,e,i,a)).add("__BASE",0,0,0,i,a),this.emit(h.ADD,t,n)),n},addRenderTexture:function(t,e){var i=null;return this.checkKey(t)&&((i=this.create(t,e)).add("__BASE",0,0,0,e.width,e.height),this.emit(h.ADD,t,i)),i},generate:function(t,e){if(this.checkKey(t)){var i=a.create(this,1,1);return e.canvas=i,c(e),this.addCanvas(t,i)}return null},createCanvas:function(t,e,i){if(void 0===e&&(e=256),void 0===i&&(i=256),this.checkKey(t)){var n=a.create(this,e,i,o.CANVAS,!0);return this.addCanvas(t,n)}return null},addCanvas:function(t,e,i){void 0===i&&(i=!1);var a=null;return i?a=new n(this,t,e,e.width,e.height):this.checkKey(t)&&(a=new n(this,t,e,e.width,e.height),this.list[t]=a,this.emit(h.ADD,t,a)),a},addAtlas:function(t,e,i,a){return Array.isArray(i.textures)||Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i,a):this.addAtlasJSONHash(t,e,i,a)},addAtlasJSONArray:function(t,e,i,a){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=1===i.length,r=0;r<n.source.length;r++){var o=s?i[0]:i[r];p.JSONArray(n,r,o)}else p.JSONArray(n,0,i);a&&n.setDataSource(a),this.emit(h.ADD,t,n)}return n},addAtlasJSONHash:function(t,e,i,a){var n=null;if(this.checkKey(t)){if(n=this.create(t,e),Array.isArray(i))for(var s=0;s<i.length;s++)p.JSONHash(n,s,i[s]);else p.JSONHash(n,0,i);a&&n.setDataSource(a),this.emit(h.ADD,t,n)}return n},addAtlasXML:function(t,e,i,a){var n=null;return this.checkKey(t)&&(n=this.create(t,e),p.AtlasXML(n,0,i),a&&n.setDataSource(a),this.emit(h.ADD,t,n)),n},addUnityAtlas:function(t,e,i,a){var n=null;return this.checkKey(t)&&(n=this.create(t,e),p.UnityYAML(n,0,i),a&&n.setDataSource(a),this.emit(h.ADD,t,n)),n},addSpriteSheet:function(t,e,i){var a=null;if(this.checkKey(t)){var n=(a=this.create(t,e)).source[0].width,s=a.source[0].height;p.SpriteSheet(a,0,0,0,n,s,i),this.emit(h.ADD,t,a)}return a},addSpriteSheetFromAtlas:function(t,e){if(!this.checkKey(t))return null;var i=d(e,"atlas",null),a=d(e,"frame",null);if(i&&a){var n=this.get(i).get(a);if(n){var s=this.create(t,n.source.image);return n.trimmed?p.SpriteSheetFromAtlas(s,n,e):p.SpriteSheet(s,0,n.cutX,n.cutY,n.cutWidth,n.cutHeight,e),this.emit(h.ADD,t,s),s}}},create:function(t,e,i,a){var n=null;return this.checkKey(t)&&(n=new f(this,t,e,i,a),this.list[t]=n),n},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:t instanceof f?t:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getTextureKeys:function(){var t=[];for(var e in this.list)"__DEFAULT"!==e&&"__MISSING"!==e&&t.push(e);return t},getPixel:function(t,e,i,a){var n=this.getFrame(i,a);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var o=this._tempContext;o.clearRect(0,0,1,1),o.drawImage(n.source.image,t,e,1,1,0,0,1,1);var l=o.getImageData(0,0,1,1);return new r(l.data[0],l.data[1],l.data[2],l.data[3])}}return null},getPixelAlpha:function(t,e,i,a){var n=this.getFrame(i,a);if(n){t-=n.x,e-=n.y;var s=n.data.cut;if(t+=s.x,e+=s.y,t>=s.x&&t<s.r&&e>=s.y&&e<s.b){var r=this._tempContext;return r.clearRect(0,0,1,1),r.drawImage(n.source.image,t,e,1,1,0,0,1,1),r.getImageData(0,0,1,1).data[3]}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},renameTexture:function(t,e){var i=this.get(t);return!(!i||t===e)&&(i.key=e,this.list[e]=i,delete this.list[t],!0)},each:function(t,e){for(var i=[null],a=1;a<arguments.length;a++)i.push(arguments[a]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},destroy:function(){for(var t in this.list)this.list[t].destroy();this.list={},this.game=null,a.remove(this._tempCanvas)}});t.exports=m},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(19),s=i(31),r=i(33),o=i(120),l=i(182),h=new a({Extends:l,initialize:function(t,e,i,a,n){l.call(this,t,e,i,a,n),this.add("__BASE",0,0,0,a,n),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=a,this.height=n,this.imageData=this.context.getImageData(0,0,a,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===r.WEBGL&&this.refresh(),this},draw:function(t,e,i){return this.context.drawImage(i,t,e),this.update()},drawFrame:function(t,e,i,a){void 0===i&&(i=0),void 0===a&&(a=0);var n=this.manager.getFrame(t,e);if(n){var s=n.canvasData,r=n.cutWidth,o=n.cutHeight,l=n.source.resolution;return this.context.drawImage(n.source.image,s.x,s.y,r,o,i,a,r/l,o/l),this.update()}return this},setPixel:function(t,e,i,a,n,s){if(void 0===s&&(s=255),t=Math.abs(Math.floor(t)),e=Math.abs(Math.floor(e)),this.getIndex(t,e)>-1){var r=this.context.getImageData(t,e,1,1);r.data[0]=i,r.data[1]=a,r.data[2]=n,r.data[3]=s,this.context.putImageData(r,t,e)}return this},putData:function(t,e,i,a,n,s,r){return void 0===a&&(a=0),void 0===n&&(n=0),void 0===s&&(s=t.width),void 0===r&&(r=t.height),this.context.putImageData(t,e,i,a,n,s,r),this},getData:function(t,e,i,a){return t=n(Math.floor(t),0,this.width-1),e=n(Math.floor(e),0,this.height-1),i=n(i,1,this.width-t),a=n(a,1,this.height-e),this.context.getImageData(t,e,i,a)},getPixel:function(t,e,i){i||(i=new s);var a=this.getIndex(t,e);if(a>-1){var n=this.data,r=n[a+0],o=n[a+1],l=n[a+2],h=n[a+3];i.setTo(r,o,l,h)}return i},getPixels:function(t,e,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===a&&(a=i),t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e));for(var r=n(t,0,this.width),o=n(t+i,0,this.width),l=n(e,0,this.height),h=n(e+a,0,this.height),u=new s,c=[],d=l;d<h;d++){for(var p=[],f=r;f<o;f++)u=this.getPixel(f,d,u),p.push({x:f,y:d,color:u.color,alpha:u.alphaGL});c.push(p)}return c},getIndex:function(t,e){return t=Math.abs(Math.round(t)),e=Math.abs(Math.round(e)),t<this.width&&e<this.height?4*(t+e*this.width):-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(t,e,i,a){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===a&&(a=this.height),this.context.clearRect(t,e,i,a),this.update()},setSize:function(t,e){return void 0===e&&(e=t),t===this.width&&e===this.height||(this.canvas.width=t,this.canvas.height=e,this._source.width=t,this._source.height=e,this._source.isPowerOf2=o(t,e),this.frames.__BASE.setSize(t,e,0,0),this.width=t,this.height=e,this.refresh()),this},destroy:function(){l.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26),n=i(0),s=i(120),r=i(234),o=new n({initialize:function(t,e,i,a,n){void 0===n&&(n=!1);var o=t.manager.game;this.renderer=o.renderer,this.texture=t,this.source=e,this.image=e,this.compressionAlgorithm=null,this.resolution=1,this.width=i||e.naturalWidth||e.videoWidth||e.width||0,this.height=a||e.naturalHeight||e.videoHeight||e.height||0,this.scaleMode=r.DEFAULT,this.isCanvas=e instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&e instanceof HTMLVideoElement,this.isRenderTexture="RenderTexture"===e.type,this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&e instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.flipY=n,this.init(o)},init:function(t){this.renderer&&(this.renderer.gl?this.isCanvas?this.glTexture=this.renderer.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=this.renderer.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=this.renderer.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=this.renderer.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),t.config.antialias||this.setFilter(1)},setFilter:function(t){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,t),this.scaleMode=t},setFlipY:function(t){return void 0===t&&(t=!0),this.flipY=t,this},update:function(){var t=this.renderer.gl;t&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):t&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={AtlasXML:i(881),Canvas:i(882),Image:i(883),JSONArray:i(884),JSONHash:i(885),SpriteSheet:i(886),SpriteSheetFromAtlas:i(887),UnityYAML:i(888)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(380),n=i(384),s=i(386),r={create:function(t){var e=t.config.audio,i=t.device.audio;return e&&e.noAudio||!i.webAudio&&!i.audioData?new n(t):!i.webAudio||e&&e.disableWebAudio?new a(t):new s(t)}};t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(127),n=i(0),s=i(59),r=i(383),o=new n({Extends:a,initialize:function(t){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,t)},add:function(t,e){var i=new r(this,t,e);return this.sounds.push(i),i},unlock:function(){this.locked=!1;var t=this;if(this.game.cache.audio.entries.each((function(e,i){for(var a=0;a<i.length;a++)if("true"===i[a].dataset.locked)return t.locked=!0,!1;return!0})),this.locked){var e=!1,i=function(){e=!0},a=function(){if(e)e=!1;else{document.body.removeEventListener("touchmove",i),document.body.removeEventListener("touchend",a);var n=[];if(t.game.cache.audio.entries.each((function(t,e){for(var i=0;i<e.length;i++){var a=e[i];"true"===a.dataset.locked&&n.push(a)}return!0})),0!==n.length){var s=n[n.length-1];s.oncanplaythrough=function(){s.oncanplaythrough=null,n.forEach((function(t){t.dataset.locked="false"})),t.unlocked=!0},n.forEach((function(t){t.load()}))}}};this.once(s.UNLOCKED,(function(){for(this.forEachActiveSound((function(t){null===t.currentMarker&&0===t.duration&&(t.duration=t.tags[0].duration),t.totalDuration=t.tags[0].duration}));this.lockedActionsQueue.length;){var t=this.lockedActionsQueue.shift();t.sound[t.prop].apply?t.sound[t.prop].apply(t.sound,t.value||[]):t.sound[t.prop]=t.value}}),this),document.body.addEventListener("touchmove",i,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound((function(t){t.isPlaying&&(this.onBlurPausedSounds.push(t),t.onBlur())}))},onFocus:function(){this.onBlurPausedSounds.forEach((function(t){t.onFocus()})),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(t,e,i){return"true"===t.tags[0].dataset.locked&&(this.lockedActionsQueue.push({sound:t,prop:e,value:i}),!0)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return this._mute},set:function(t){this._mute=t,this.forEachActiveSound((function(t){t.updateMute()})),this.emit(s.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this._volume},set:function(t){this._volume=t,this.forEachActiveSound((function(t){t.updateVolume()})),this.emit(s.GLOBAL_VOLUME,this,t)}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);var r=[];if(a(t,n,s))for(var o=n;o<s;o++){var l=t[o];(!e||e&&void 0===i&&l.hasOwnProperty(e)||e&&void 0!==i&&l[e]===i)&&r.push(l)}return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),a(t,n,s))for(var r=n;r<s;r++){var o=t[r];if(!e||e&&void 0===i&&o.hasOwnProperty(e)||e&&void 0!==i&&o[e]===i)return o}return null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(128),n=i(0),s=i(59),r=i(19),o=new n({Extends:a,initialize:function(t,e,i){if(void 0===i&&(i={}),this.tags=t.game.cache.audio.get(e),!this.tags)throw new Error('There is no audio asset with key "'+e+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,t,e,i)},play:function(t,e){return!this.manager.isLocked(this,"play",[t,e])&&(!!a.prototype.play.call(this,t,e)&&(!!this.pickAndPlayAudioTag()&&(this.emit(s.PLAY,this),!0)))},pause:function(){return!this.manager.isLocked(this,"pause")&&(!(this.startTime>0)&&(!!a.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)))},resume:function(){return!this.manager.isLocked(this,"resume")&&(!(this.startTime>0)&&(!!a.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit(s.RESUME,this),!0))))},stop:function(){return!this.manager.isLocked(this,"stop")&&(!!a.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,e=this.currentConfig.delay,i=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=i,this.audio.currentTime=i,this.applyConfig(),0===e?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*e,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var e=this.tags[t];if("false"===e.dataset.used)return e.dataset.used="true",this.audio=e,!0}if(!this.manager.override)return!1;var i=[];this.manager.forEachActiveSound((function(t){t.key===this.key&&t.audio&&i.push(t)}),this),i.sort((function(t,e){return t.loop===e.loop?e.seek/e.duration-t.seek/t.duration:t.loop?1:-1}));var a=i[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch((function(t){console.warn(t)}))},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used="false",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,e){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var i=this.currentMarker?this.currentMarker.start:0,a=i+this.duration,n=this.audio.currentTime;if(this.currentConfig.loop)n>=a-this.manager.loopEndOffset?(this.audio.currentTime=i+Math.max(0,n-a),n=this.audio.currentTime):n<i&&(this.audio.currentTime+=i,n=this.audio.currentTime),n<this.previousTime&&this.emit(s.LOOPED,this);else if(n>=a)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(s.COMPLETE,this);this.previousTime=n}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=r(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,"mute",t)||(this.updateMute(),this.emit(s.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,"volume",t)||(this.updateVolume(),this.emit(s.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,s.RATE,t)||(this.calculateRate(),this.emit(s.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,s.DETUNE,t)||(this.calculateRate(),this.emit(s.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,"seek",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(s.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,"loop",t)||(this.audio&&(this.audio.loop=t),this.emit(s.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(127),n=i(0),s=i(10),r=i(385),o=i(1),l=new n({Extends:s,initialize:function(t){s.call(this),this.game=t,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(t,e){var i=new r(this,t,e);return this.sounds.push(i),i},addAudioSprite:function(t,e){var i=this.add(t,e);return i.spritemap={},i},play:function(t,e){return!1},playAudioSprite:function(t,e,i){return!1},remove:function(t){return a.prototype.remove.call(this,t)},removeByKey:function(t){return a.prototype.removeByKey.call(this,t)},pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,forEachActiveSound:function(t,e){a.prototype.forEachActiveSound.call(this,t,e)},destroy:function(){a.prototype.destroy.call(this)}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(128),n=i(0),s=i(10),r=i(18),o=function(){return!1},l=function(){return this},h=new n({Extends:s,initialize:function(t,e,i){void 0===i&&(i={}),s.call(this),this.manager=t,this.key=e,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=r({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0},i),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:function(){return null},play:o,pause:o,resume:o,stop:o,destroy:function(){a.prototype.destroy.call(this)},setMute:l,setVolume:l,setRate:l,setDetune:l,setSeek:l,setLoop:l});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(387),n=i(127),s=i(0),r=i(59),o=i(388),l=new s({Extends:n,initialize:function(t){this.context=this.createAudioContext(t),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked="suspended"===this.context.state&&("ontouchstart"in window||"onclick"in window),n.call(this,t),this.locked&&this.unlock()},createAudioContext:function(t){var e=t.config.audio;return e&&e.context?(e.context.resume(),e.context):new AudioContext},setAudioContext:function(t){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=t,this.masterMuteNode=t.createGain(),this.masterVolumeNode=t.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(t.destination),this.destination=this.masterMuteNode,this},add:function(t,e){var i=new o(this,t,e);return this.sounds.push(i),i},decodeAudio:function(t,e){var i;i=Array.isArray(t)?t:[{key:t,data:e}];for(var n=this.game.cache.audio,s=i.length,o=0;o<i.length;o++){var l=i[o],h=l.key,u=l.data;"string"==typeof u&&(u=a(u));var c=function(t,e){n.add(t,e),this.emit(r.DECODED,t),0===--s&&this.emit(r.DECODED_ALL)}.bind(this,h),d=function(t,e){console.error("Error decoding audio: "+t+" - ",e?e.message:""),0===--s&&this.emit(r.DECODED_ALL)}.bind(this,h);this.context.decodeAudioData(u,c,d)}},unlock:function(){var t=this,e=document.body,i=function i(){t.context&&t.context.resume().then((function(){e.removeEventListener("touchstart",i),e.removeEventListener("touchend",i),e.removeEventListener("click",i),e.removeEventListener("keydown",i),t.unlocked=!0}),(function(){e.removeEventListener("touchstart",i),e.removeEventListener("touchend",i),e.removeEventListener("click",i),e.removeEventListener("keydown",i)}))};e&&(e.addEventListener("touchstart",i,!1),e.addEventListener("touchend",i,!1),e.addEventListener("click",i,!1),e.addEventListener("keydown",i,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){this.locked||this.context.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio&&this.game.config.audio.context)this.context.suspend();else{var t=this;this.context.close().then((function(){t.context=null}))}n.prototype.destroy.call(this)},setMute:function(t){return this.mute=t,this},mute:{get:function(){return 0===this.masterMuteNode.gain.value},set:function(t){this.masterMuteNode.gain.setValueAtTime(t?0:1,0),this.emit(r.GLOBAL_MUTE,this,t)}},setVolume:function(t){return this.volume=t,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(t){this.masterVolumeNode.gain.setValueAtTime(t,0),this.emit(r.GLOBAL_VOLUME,this,t)}}});t.exports=l},function(t,e){for(
/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(256),n=0;n<i.length;n++)a[i.charCodeAt(n)]=n;t.exports=function(t){var e,i,n,s,r=(t=t.substr(t.indexOf(",")+1)).length,o=.75*r,l=0;"="===t[r-1]&&(o--,"="===t[r-2]&&o--);for(var h=new ArrayBuffer(o),u=new Uint8Array(h),c=0;c<r;c+=4)e=a[t.charCodeAt(c)],i=a[t.charCodeAt(c+1)],n=a[t.charCodeAt(c+2)],s=a[t.charCodeAt(c+3)],u[l++]=e<<2|i>>4,u[l++]=(15&i)<<4|n>>2,u[l++]=(3&n)<<6|63&s;return h}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(128),n=i(0),s=i(59),r=new n({Extends:a,initialize:function(t,e,i){if(void 0===i&&(i={}),this.audioBuffer=t.game.cache.audio.get(e),!this.audioBuffer)throw new Error('There is no audio asset with key "'+e+'" in the audio cache');this.source=null,this.loopSource=null,this.muteNode=t.context.createGain(),this.volumeNode=t.context.createGain(),this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),this.volumeNode.connect(t.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,t,e,i)},play:function(t,e){return!!a.prototype.play.call(this,t,e)&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0)},pause:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!a.prototype.pause.call(this)&&(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0))},resume:function(){return!(this.manager.context.currentTime<this.startTime)&&(!!a.prototype.resume.call(this)&&(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0))},stop:function(){return!!a.prototype.stop.call(this)&&(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0)},createAndStartBufferSource:function(){var t=this.currentConfig.seek,e=this.currentConfig.delay,i=this.manager.context.currentTime+e,a=(this.currentMarker?this.currentMarker.start:0)+t,n=this.duration-t;this.playTime=i-t,this.startTime=i,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,i),Math.max(0,a),Math.max(0,n)),this.resetConfig()},createAndStartLoopBufferSource:function(){var t=this.getLoopTime(),e=this.currentMarker?this.currentMarker.start:0,i=this.duration;this.loopTime=t,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,t),Math.max(0,e),Math.max(0,i))},createBufferSource:function(){var t=this,e=this.manager.context.createBufferSource();return e.buffer=this.audioBuffer,e.connect(this.muteNode),e.onended=function(e){e.target===t.source&&(t.currentConfig.loop?t.hasLooped=!0:t.hasEnded=!0)},e},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),a.prototype.applyConfig.call(this)},update:function(t,e){this.hasEnded?(this.hasEnded=!1,a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){a.prototype.calculateRate.call(this);var t=this.manager.context.currentTime;this.source&&"number"==typeof this.totalRate&&this.source.playbackRate.setValueAtTime(this.totalRate,t),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,t)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var t=0,e=0;e<this.rateUpdates.length;e++){t+=((e<this.rateUpdates.length-1?this.rateUpdates[e+1].time:this.manager.context.currentTime-this.playTime)-this.rateUpdates[e].time)*this.rateUpdates[e].rate}return t},getLoopTime:function(){for(var t=0,e=0;e<this.rateUpdates.length-1;e++)t+=(this.rateUpdates[e+1].time-this.rateUpdates[e].time)*this.rateUpdates[e].rate;var i=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+i.time+(this.duration-t)/i.rate},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.calculateRate(),this.emit(s.RATE,this,t)}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.calculateRate(),this.emit(s.DETUNE,this,t)}},setDetune:function(t){return this.detune=t,this},mute:{get:function(){return 0===this.muteNode.gain.value},set:function(t){this.currentConfig.mute=t,this.muteNode.gain.setValueAtTime(t?0:1,0),this.emit(s.MUTE,this,t)}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(t){this.currentConfig.volume=t,this.volumeNode.gain.setValueAtTime(t,0),this.emit(s.VOLUME,this,t)}},setVolume:function(t){return this.volume=t,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.currentConfig.seek=t,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),t&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,t)}},setLoop:function(t){return this.loop=t,this}});t.exports=r},function(t,e){t.exports=function(t){for(var e=t.length,i=t[0].length,a=new Array(i),n=0;n<i;n++){a[n]=new Array(e);for(var s=e-1;s>-1;s--)a[n][s]=t[s][n]}return a}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
function i(t,e,i){var a=t[e];t[e]=t[i],t[i]=a}function a(t,e){return t<e?-1:t>e?1:0}var n=function(t,e,s,r,o){for(void 0===s&&(s=0),void 0===r&&(r=t.length-1),void 0===o&&(o=a);r>s;){if(r-s>600){var l=r-s+1,h=e-s+1,u=Math.log(l),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(l-c)/l)*(h-l/2<0?-1:1),p=Math.max(s,Math.floor(e-h*c/l+d)),f=Math.min(r,Math.floor(e+(l-h)*c/l+d));n(t,e,p,f,o)}var m=t[e],g=s,y=r;for(i(t,s,e),o(t[r],m)>0&&i(t,s,r);g<y;){for(i(t,g,y),g++,y--;o(t[g],m)<0;)g++;for(;o(t[y],m)>0;)y--}0===o(t[s],m)?i(t,s,y):i(t,++y,r),y<=e&&(s=y+1),e<=y&&(r=y-1)}};t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6),n=i(114),s=function(t,e,i){for(var a=[],n=0;n<t.length;n++)for(var s=0;s<e.length;s++)for(var r=0;r<i;r++)a.push({a:t[n],b:e[s]});return a};t.exports=function(t,e,i){var r=a(i,"max",0),o=a(i,"qty",1),l=a(i,"random",!1),h=a(i,"randomB",!1),u=a(i,"repeat",0),c=a(i,"yoyo",!1),d=[];if(h&&n(e),-1===u)if(0===r)u=0;else{var p=t.length*e.length*o;c&&(p*=2),u=Math.ceil(r/p)}for(var f=0;f<=u;f++){var m=s(t,e,o);l&&n(m),d=d.concat(m),c&&(m.reverse(),d=d.concat(m))}return r&&d.splice(r),d}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(14);t.exports=function(t,e){var i=a(e,"anims",null);if(null===i)return t;if("string"==typeof i)t.anims.play(i);else if("object"==typeof i){var n=t.anims,s=a(i,"key",void 0),r=a(i,"startFrame",void 0),o=a(i,"delay",0),l=a(i,"repeat",0),h=a(i,"repeatDelay",0),u=a(i,"yoyo",!1),c=a(i,"play",!1),d=a(i,"delayedPlay",0);n.setDelay(o),n.setRepeat(l),n.setRepeatDelay(h),n.setYoyo(u),c?n.play(s,r):d>0?n.delayedPlay(d,s,r):n.load(s)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e,i){void 0===i&&(i=new a);var n=Math.min(t.x,e.x),s=Math.min(t.y,e.y),r=Math.max(t.right,e.right)-n,o=Math.max(t.bottom,e.bottom)-s;return i.setTo(n,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(955),r=i(13),o=i(7),l=i(178),h=i(22),u=i(333),c=new a({Extends:r,Mixins:[n.AlphaSingle,n.BlendMode,n.Depth,n.Origin,n.ScrollFactor,n.Transform,n.Visible,s],initialize:function(t,e,i,a,n,s){r.call(this,t,"DOMElement"),this.parent=t.sys.game.domContainer,this.cache=t.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new u,this.rotate3dAngle="deg",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(e,i),"string"==typeof a?"#"===a[0]?this.setElement(a.substr(1),n,s):this.createElement(a,n,s):a&&this.setElement(a,n,s),t.sys.events.on(h.SLEEP,this.handleSceneEvent,this),t.sys.events.on(h.WAKE,this.handleSceneEvent,this)},handleSceneEvent:function(t){var e=this.node,i=e.style;e&&(i.display=t.settings.visible?"block":"none")},setSkew:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.skewX=t,this.skewY=e,this},setPerspective:function(t){return this.parent.style.perspective=t+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(t){this.parent.style.perspective=t+"px"}},addListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.addEventListener(t[e],this.handler,!1)}return this},removeListener:function(t){if(this.node){t=t.split(" ");for(var e=0;e<t.length;e++)this.node.removeEventListener(t[e],this.handler)}return this},dispatchNativeEvent:function(t){this.emit(t.type,t)},createElement:function(t,e,i){return this.setElement(document.createElement(t),e,i)},setElement:function(t,e,i){var a;if(this.removeElement(),"string"==typeof t?("#"===t[0]&&(t=t.substr(1)),a=document.getElementById(t)):"object"==typeof t&&1===t.nodeType&&(a=t),!a)return this;if(this.node=a,e&&o(e))for(var n in e)a.style[n]=e[n];else"string"==typeof e&&(a.style=e);return a.style.zIndex="0",a.style.display="inline",a.style.position="absolute",a.phaser=this,this.parent&&this.parent.appendChild(a),i&&(a.innerText=i),this.updateSize()},createFromCache:function(t,e){var i=this.cache.get(t);return i&&this.createFromHTML(i,e),this},createFromHTML:function(t,e){void 0===e&&(e="div"),this.removeElement();var i=document.createElement(e);return this.node=i,i.style.zIndex="0",i.style.display="inline",i.style.position="absolute",i.phaser=this,this.parent&&this.parent.appendChild(i),i.innerHTML=t,this.updateSize()},removeElement:function(){return this.node&&(l(this.node),this.node=null),this},updateSize:function(){var t=this.node,e=t.getBoundingClientRect();return this.width=t.clientWidth,this.height=t.clientHeight,this.displayWidth=e.width||0,this.displayHeight=e.height||0,this},getChildByProperty:function(t,e){if(this.node)for(var i=this.node.querySelectorAll("*"),a=0;a<i.length;a++)if(i[a][t]===e)return i[a];return null},getChildByID:function(t){return this.getChildByProperty("id",t)},getChildByName:function(t){return this.getChildByProperty("name",t)},setClassName:function(t){return this.node&&(this.node.className=t,this.updateSize()),this},setText:function(t){return this.node&&(this.node.innerText=t,this.updateSize()),this},setHTML:function(t){return this.node&&(this.node.innerHTML=t,this.updateSize()),this},preUpdate:function(){var t=this.parentContainer,e=this.node;e&&t&&!t.willRender()&&(e.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this)}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(956),n=i(13);t.exports=function(t,e,i,s,r){var o=e.node,l=o.style,h=e.scene.sys.settings;if(!(o&&l&&h.visible&&n.RENDER_MASK===e.renderFlags)||0!==e.cameraFilter&&e.cameraFilter&s.id||e.parentContainer&&!e.parentContainer.willRender())o&&(l.display="none");else{var u=e.parentContainer,c=s.alpha*e.alpha;u&&(c*=u.alpha);var d=t._tempMatrix1,p=t._tempMatrix2,f=t._tempMatrix3,m=0,g=0,y="0%",k="0%";r?(m=e.width*e.scaleX*e.originX,g=e.height*e.scaleY*e.originY,p.applyITRS(e.x-m,e.y-g,e.rotation,e.scaleX,e.scaleY),d.copyFrom(s.matrix),d.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),p.e=e.x-m,p.f=e.y-g,d.multiply(p,f)):(m=e.width*e.originX,g=e.height*e.originY,p.applyITRS(e.x-m,e.y-g,e.rotation,e.scaleX,e.scaleY),d.copyFrom(s.matrix),y=100*e.originX+"%",k=100*e.originY+"%",p.e-=s.scrollX*e.scrollFactorX,p.f-=s.scrollY*e.scrollFactorY,d.multiply(p,f)),e.transformOnly||(l.display="block",l.opacity=c,l.zIndex=e._depth,l.pointerEvents="auto",l.mixBlendMode=a[e._blendMode]),l.transform=f.getCSSMatrix()+" skew("+e.skewX+"rad, "+e.skewY+"rad) rotate3d("+e.rotate3d.x+","+e.rotate3d.y+","+e.rotate3d.z+","+e.rotate3d.w+e.rotate3dAngle+")",l.transformOrigin=y+" "+k}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(13),r=i(960),o=new a({Extends:s,Mixins:[n.Alpha,n.BlendMode,n.Depth,n.Flip,n.Origin,n.ScrollFactor,n.Size,n.Texture,n.Tint,n.Transform,n.Visible,r],initialize:function(t){s.call(this,t,"Extern")},preUpdate:function(){},render:function(){}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(193),n=i(87),s=i(15),r=i(4);t.exports=function(t,e,i){void 0===i&&(i=new r);var o=n(e,0,s.PI2);return a(t,o,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(399),n=i(193),s=i(87),r=i(15);t.exports=function(t,e,i,o){void 0===o&&(o=[]),!e&&i>0&&(e=a(t)/i);for(var l=0;l<e;l++){var h=s(l/e,0,r.PI2);o.push(n(t,h))}return o}},function(t,e){t.exports=function(t){var e=t.width/2,i=t.height/2,a=Math.pow(e-i,2)/Math.pow(e+i,2);return Math.PI*(e+i)*(1+3*a/(10+Math.sqrt(4-3*a)))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(192),n=i(28);t.exports=function(t,e,i,s,r,o,l){var h=e.commandBuffer,u=h.length,c=o||t.currentContext;if(0!==u&&n(t,c,e,s,r)){var d=1,p=1,f=0,m=0,g=1,y=0,k=0,v=0;c.beginPath();for(var b=0;b<u;++b){switch(h[b]){case a.ARC:c.arc(h[b+1],h[b+2],h[b+3],h[b+4],h[b+5],h[b+6]),b+=7;break;case a.LINE_STYLE:g=h[b+1],f=h[b+2],d=h[b+3],y=(16711680&f)>>>16,k=(65280&f)>>>8,v=255&f,c.strokeStyle="rgba("+y+","+k+","+v+","+d+")",c.lineWidth=g,b+=3;break;case a.FILL_STYLE:m=h[b+1],p=h[b+2],y=(16711680&m)>>>16,k=(65280&m)>>>8,v=255&m,c.fillStyle="rgba("+y+","+k+","+v+","+p+")",b+=2;break;case a.BEGIN_PATH:c.beginPath();break;case a.CLOSE_PATH:c.closePath();break;case a.FILL_PATH:l||c.fill();break;case a.STROKE_PATH:l||c.stroke();break;case a.FILL_RECT:l?c.rect(h[b+1],h[b+2],h[b+3],h[b+4]):c.fillRect(h[b+1],h[b+2],h[b+3],h[b+4]),b+=4;break;case a.FILL_TRIANGLE:c.beginPath(),c.moveTo(h[b+1],h[b+2]),c.lineTo(h[b+3],h[b+4]),c.lineTo(h[b+5],h[b+6]),c.closePath(),l||c.fill(),b+=6;break;case a.STROKE_TRIANGLE:c.beginPath(),c.moveTo(h[b+1],h[b+2]),c.lineTo(h[b+3],h[b+4]),c.lineTo(h[b+5],h[b+6]),c.closePath(),l||c.stroke(),b+=6;break;case a.LINE_TO:c.lineTo(h[b+1],h[b+2]),b+=2;break;case a.MOVE_TO:c.moveTo(h[b+1],h[b+2]),b+=2;break;case a.LINE_FX_TO:c.lineTo(h[b+1],h[b+2]),b+=5;break;case a.MOVE_FX_TO:c.moveTo(h[b+1],h[b+2]),b+=5;break;case a.SAVE:c.save();break;case a.RESTORE:c.restore();break;case a.TRANSLATE:c.translate(h[b+1],h[b+2]),b+=2;break;case a.SCALE:c.scale(h[b+1],h[b+2]),b+=2;break;case a.ROTATE:c.rotate(h[b+1]),b+=1;break;case a.GRADIENT_FILL_STYLE:b+=5;break;case a.GRADIENT_LINE_STYLE:b+=6;break;case a.SET_TEXTURE:b+=2}}c.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=new a({initialize:function(t,e,i,a,s){if("object"==typeof t){var r=t;t=n(r,"x",0),e=n(r,"y",0),i=n(r,"power",0),a=n(r,"epsilon",100),s=n(r,"gravity",50)}else void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=100),void 0===s&&(s=50);this.x=t,this.y=e,this.active=!0,this._gravity=s,this._power=0,this._epsilon=0,this.power=i,this.epsilon=a},update:function(t,e){var i=this.x-t.x,a=this.y-t.y,n=i*i+a*a;if(0!==n){var s=Math.sqrt(n);n<this._epsilon&&(n=this._epsilon);var r=this._power*e/(n*s)*100;t.velocityX+=i*r,t.velocityY+=a*r}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(t){this._epsilon=t*t}},power:{get:function(){return this._power/this._gravity},set:function(t){this._power=t*this._gravity}},gravity:{get:function(){return this._gravity},set:function(t){var e=this.power;this._gravity=t,this.power=e}}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(35),s=i(53),r=new a({initialize:function(t){this.emitter=t,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(t,e){var i=this.emitter;this.frame=i.getFrame(),i.emitZone&&i.emitZone.getPoint(this),void 0===t?(i.follow&&(this.x+=i.follow.x+i.followOffset.x),this.x+=i.x.onEmit(this,"x")):this.x+=t,void 0===e?(i.follow&&(this.y+=i.follow.y+i.followOffset.y),this.y+=i.y.onEmit(this,"y")):this.y+=e,this.life=i.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var a=i.speedX.onEmit(this,"speedX"),r=i.speedY?i.speedY.onEmit(this,"speedY"):a;if(i.radial){var o=n(i.angle.onEmit(this,"angle"));this.velocityX=Math.cos(o)*Math.abs(a),this.velocityY=Math.sin(o)*Math.abs(r)}else if(i.moveTo){var l=i.moveToX.onEmit(this,"moveToX"),h=i.moveToY?i.moveToY.onEmit(this,"moveToY"):l,u=Math.atan2(h-this.y,l-this.x),c=s(this.x,this.y,l,h)/(this.life/1e3);this.velocityX=Math.cos(u)*c,this.velocityY=Math.sin(u)*c}else this.velocityX=a,this.velocityY=r;i.acceleration&&(this.accelerationX=i.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=i.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=i.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=i.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=i.delay.onEmit(this,"delay"),this.scaleX=i.scaleX.onEmit(this,"scaleX"),this.scaleY=i.scaleY?i.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=i.rotate.onEmit(this,"rotate"),this.rotation=n(this.angle),this.bounce=i.bounce.onEmit(this,"bounce"),this.alpha=i.alpha.onEmit(this,"alpha"),this.tint=i.tint.onEmit(this,"tint")},computeVelocity:function(t,e,i,a){var n=this.velocityX,s=this.velocityY,r=this.accelerationX,o=this.accelerationY,l=this.maxVelocityX,h=this.maxVelocityY;n+=t.gravityX*i,s+=t.gravityY*i,r&&(n+=r*i),o&&(s+=o*i),n>l?n=l:n<-l&&(n=-l),s>h?s=h:s<-h&&(s=-h),this.velocityX=n,this.velocityY=s;for(var u=0;u<a.length;u++)a[u].update(this,e,i)},checkBounds:function(t){var e=t.bounds,i=-this.bounce;this.x<e.x&&t.collideLeft?(this.x=e.x,this.velocityX*=i):this.x>e.right&&t.collideRight&&(this.x=e.right,this.velocityX*=i),this.y<e.y&&t.collideTop?(this.y=e.y,this.velocityY*=i):this.y>e.bottom&&t.collideBottom&&(this.y=e.bottom,this.velocityY*=i)},update:function(t,e,i){if(this.delayCurrent>0)return this.delayCurrent-=t,!1;var a=this.emitter,s=1-this.lifeCurrent/this.life;return this.lifeT=s,this.computeVelocity(a,t,e,i),this.x+=this.velocityX*e,this.y+=this.velocityY*e,a.bounds&&this.checkBounds(a),a.deathZone&&a.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=a.scaleX.onUpdate(this,"scaleX",s,this.scaleX),a.scaleY?this.scaleY=a.scaleY.onUpdate(this,"scaleY",s,this.scaleY):this.scaleY=this.scaleX,this.angle=a.rotate.onUpdate(this,"rotate",s,this.angle),this.rotation=n(this.angle),this.alpha=a.alpha.onUpdate(this,"alpha",s,this.alpha),this.tint=a.tint.onUpdate(this,"tint",s,this.tint),this.lifeCurrent-=t,this.lifeCurrent<=0)}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n=i(0),s=i(12),r=i(404),o=i(405),l=i(972),h=i(2),u=i(185),c=i(406),d=i(108),p=i(402),f=i(407),m=i(11),g=i(131),y=i(3),k=i(58),v=new n({Mixins:[s.BlendMode,s.Mask,s.ScrollFactor,s.Visible],initialize:function(t,e){this.manager=t,this.texture=t.texture,this.frames=[t.defaultFrame],this.defaultFrame=t.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=p,this.x=new l(e,"x",0,!0),this.y=new l(e,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new l(e,"accelerationX",0,!0),this.accelerationY=new l(e,"accelerationY",0,!0),this.maxVelocityX=new l(e,"maxVelocityX",1e4,!0),this.maxVelocityY=new l(e,"maxVelocityY",1e4,!0),this.speedX=new l(e,"speedX",0,!0),this.speedY=new l(e,"speedY",0,!0),this.moveTo=!1,this.moveToX=new l(e,"moveToX",0,!0),this.moveToY=new l(e,"moveToY",0,!0),this.bounce=new l(e,"bounce",0,!0),this.scaleX=new l(e,"scaleX",1),this.scaleY=new l(e,"scaleY",1),this.tint=new l(e,"tint",4294967295),this.alpha=new l(e,"alpha",1),this.lifespan=new l(e,"lifespan",1e3,!0),this.angle=new l(e,"angle",{min:0,max:360},!0),this.rotate=new l(e,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new l(e,"quantity",1,!0),this.delay=new l(e,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=a.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,e&&this.fromJSON(e)},fromJSON:function(t){if(!t)return this;var e=0,i="";for(e=0;e<this.configFastMap.length;e++)i=this.configFastMap[e],d(t,i)&&(this[i]=h(t,i));for(e=0;e<this.configOpMap.length;e++)i=this.configOpMap[e],d(t,i)&&this[i].loadConfig(t);if(this.acceleration=0!==this.accelerationX.propertyValue||0!==this.accelerationY.propertyValue,this.moveTo=0!==this.moveToX.propertyValue||0!==this.moveToY.propertyValue,d(t,"speed")&&(this.speedX.loadConfig(t,"speed"),this.speedY=null),(c(t,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),d(t,"scale")&&(this.scaleX.loadConfig(t,"scale"),this.scaleY=null),d(t,"callbackScope")){var a=h(t,"callbackScope",null);this.emitCallbackScope=a,this.deathCallbackScope=a}return d(t,"emitZone")&&this.setEmitZone(t.emitZone),d(t,"deathZone")&&this.setDeathZone(t.deathZone),d(t,"bounds")&&this.setBounds(t.bounds),d(t,"followOffset")&&this.followOffset.setFromObject(h(t,"followOffset",0)),d(t,"frame")&&this.setFrame(t.frame),this},toJSON:function(t){void 0===t&&(t={});var e=0,i="";for(e=0;e<this.configFastMap.length;e++)t[i=this.configFastMap[e]]=this[i];for(e=0;e<this.configOpMap.length;e++)this[i=this.configOpMap[e]]&&(t[i]=this[i].toJSON());return this.speedY||(delete t.speedX,t.speed=this.speedX.toJSON()),this.scaleY||(delete t.scaleX,t.scale=this.scaleX.toJSON()),t},startFollow:function(t,e,i,a){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=!1),this.follow=t,this.followOffset.set(e,i),this.trackVisible=a,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(1===this.frames.length)return this.defaultFrame;if(this.randomFrame)return u(this.frames);var t=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=k(this.currentFrame+1,0,this._frameLength)),t},setFrame:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=1),this.randomFrame=e,this.frameQuantity=i,this.currentFrame=0,this._frameCounter=0;var a=typeof t;if(Array.isArray(t)||"string"===a||"number"===a)this.manager.setEmitterFrames(t,this);else if("object"===a){var n=t;(t=h(n,"frames",null))&&this.manager.setEmitterFrames(t,this);var s=h(n,"cycle",!1);this.randomFrame=!s,this.frameQuantity=h(n,"quantity",i)}return this._frameLength=this.frames.length,1===this._frameLength&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(t){return void 0===t&&(t=!0),this.radial=t,this},setPosition:function(t,e){return this.x.onChange(t),this.y.onChange(e),this},setBounds:function(t,e,i,a){if("object"==typeof t){var n=t;t=n.x,e=n.y,i=d(n,"w")?n.w:n.width,a=d(n,"h")?n.h:n.height}return this.bounds?this.bounds.setTo(t,e,i,a):this.bounds=new m(t,e,i,a),this},setSpeedX:function(t){return this.speedX.onChange(t),this.radial=!1,this},setSpeedY:function(t){return this.speedY&&(this.speedY.onChange(t),this.radial=!1),this},setSpeed:function(t){return this.speedX.onChange(t),this.speedY=null,this.radial=!0,this},setScaleX:function(t){return this.scaleX.onChange(t),this},setScaleY:function(t){return this.scaleY.onChange(t),this},setScale:function(t){return this.scaleX.onChange(t),this.scaleY=null,this},setGravityX:function(t){return this.gravityX=t,this},setGravityY:function(t){return this.gravityY=t,this},setGravity:function(t,e){return this.gravityX=t,this.gravityY=e,this},setAlpha:function(t){return this.alpha.onChange(t),this},setTint:function(t){return this.tint.onChange(t),this},setEmitterAngle:function(t){return this.angle.onChange(t),this},setAngle:function(t){return this.angle.onChange(t),this},setLifespan:function(t){return this.lifespan.onChange(t),this},setQuantity:function(t){return this.quantity.onChange(t),this},setFrequency:function(t,e){return this.frequency=t,this._counter=0,e&&this.quantity.onChange(e),this},setEmitZone:function(t){if(void 0===t)this.emitZone=null;else{var e=h(t,"type","random"),i=h(t,"source",null);switch(e){case"random":this.emitZone=new f(i);break;case"edge":var a=h(t,"quantity",1),n=h(t,"stepRate",0),s=h(t,"yoyo",!1),r=h(t,"seamless",!0);this.emitZone=new o(i,a,n,s,r)}}return this},setDeathZone:function(t){if(void 0===t)this.deathZone=null;else{var e=h(t,"type","onEnter"),i=h(t,"source",null);if(i&&"function"==typeof i.contains){var a="onEnter"===e;this.deathZone=new r(i,a)}}return this},reserve:function(t){for(var e=this.dead,i=0;i<t;i++)e.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(t,e){return void 0===t?(this.emitCallback=null,this.emitCallbackScope=null):"function"==typeof t&&(this.emitCallback=t,e&&(this.emitCallbackScope=e)),this},onParticleDeath:function(t,e){return void 0===t?(this.deathCallback=null,this.deathCallbackScope=null):"function"==typeof t&&(this.deathCallback=t,e&&(this.deathCallbackScope=e)),this},killAll:function(){for(var t=this.dead,e=this.alive;e.length>0;)t.push(e.pop());return this},forEachAlive:function(t,e){for(var i=this.alive,a=i.length,n=0;n<a;++n)t.call(e,i[n],this);return this},forEachDead:function(t,e){for(var i=this.dead,a=i.length,n=0;n<a;++n)t.call(e,i[n],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return g.inplace(this.alive,this.depthSortCallback),this},flow:function(t,e){return void 0===e&&(e=1),this.frequency=t,this.quantity.onChange(e),this.start()},explode:function(t,e,i){return this.frequency=-1,this.emitParticle(t,e,i)},emitParticleAt:function(t,e,i){return this.emitParticle(i,t,e)},emitParticle:function(t,e,i){if(!this.atLimit()){void 0===t&&(t=this.quantity.onEmit());for(var a=this.dead,n=0;n<t;n++){var s=a.pop();if(s||(s=new this.particleClass(this)),s.fire(e,i),this.particleBringToTop?this.alive.push(s):this.alive.unshift(s),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,s,this),this.atLimit())break}return s}},preUpdate:function(t,e){var i=(e*=this.timeScale)/1e3;this.trackVisible&&(this.visible=this.follow.visible);var a=this.manager.getProcessors(),n=this.alive,s=this.dead,r=0,o=[],l=n.length;for(r=0;r<l;r++){var h=n[r];h.update(e,i,a)&&o.push({index:r,particle:h})}if((l=o.length)>0){var u=this.deathCallback,c=this.deathCallbackScope;for(r=l-1;r>=0;r--){var d=o[r];n.splice(d.index,1),s.push(d.particle),u&&u.call(c,d.particle),d.particle.resetPosition()}}this.on&&(0===this.frequency?this.emitParticle():this.frequency>0&&(this._counter-=e,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(t,e){return t.y-e.y}});t.exports=v},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e){this.source=t,this.killOnEnter=e},willKill:function(t){var e=this.source.contains(t.x,t.y);return e&&this.killOnEnter||!e&&!this.killOnEnter}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a,n){void 0===a&&(a=!1),void 0===n&&(n=!0),this.source=t,this.points=[],this.quantity=e,this.stepRate=i,this.yoyo=a,this.counter=-1,this.seamless=n,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var t=this.points[0],e=this.points[this.points.length-1];t.x===e.x&&t.y===e.y&&this.points.pop()}var i=this._length;return this._length=this.points.length,this._length<i&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(t){return this.source=t,this.updateSource()},getPoint:function(t){0===this._direction?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,-1===this.counter&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var e=this.points[this.counter];e&&(t.x=e.x,t.y=e.y)}});t.exports=a},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(t.hasOwnProperty(e[i]))return!0;return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(3),s=new a({initialize:function(t){this.source=t,this._tempVec=new n},getPoint:function(t){var e=this._tempVec;this.source.getRandomPoint(e),t.x=e.x,t.y=e.y}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(75),r=new a({Extends:s,Mixins:[n.PathFollower],initialize:function(t,e,i,a,n,r){s.call(this,t,i,a,n,r),this.path=e},preUpdate:function(t,e){this.anims.update(t,e),this.pathUpdate(t)}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(998),n=i(0),s=i(35),r=i(66),o=i(65),l=i(15),h=i(30),u=new n({Extends:h,Mixins:[a],initialize:function(t,e,i,a,n,s,r,l,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=128),void 0===n&&(n=0),void 0===s&&(s=360),void 0===r&&(r=!1),h.call(this,t,"Arc",new o(0,0,a)),this._startAngle=n,this._endAngle=s,this._anticlockwise=r,this._iterations=.01,this.setPosition(e,i);var c=2*this.geom.radius;this.setSize(c,c),void 0!==l&&this.setFillStyle(l,u),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(t){this._iterations=t,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(t){this.geom.radius=t;var e=2*t;this.setSize(e,e),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(t){this._anticlockwise=t,this.updateData()}},setRadius:function(t){return this.radius=t,this},setIterations:function(t){return void 0===t&&(t=.01),this.iterations=t,this},setStartAngle:function(t,e){return this._startAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},setEndAngle:function(t,e){return this._endAngle=t,void 0!==e&&(this._anticlockwise=e),this.updateData()},updateData:function(){var t=this._iterations,e=t,i=this.geom.radius,a=s(this._startAngle),n=s(this._endAngle),o=i,h=i;n-=a,this._anticlockwise?n<-l.PI2?n=-l.PI2:n>0&&(n=-l.PI2+n%l.PI2):n>l.PI2?n=l.PI2:n<0&&(n=l.PI2+n%l.PI2);for(var u,c=[o+Math.cos(a)*i,h+Math.sin(a)*i];e<1;)u=n*e+a,c.push(o+Math.cos(u)*i,h+Math.sin(u)*i),e+=t;return u=n+a,c.push(o+Math.cos(u)*i,h+Math.sin(u)*i),c.push(o+Math.cos(a)*i,h+Math.sin(a)*i),this.pathIndexes=r(c),this.pathData=c,this}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(1001),s=i(66),r=i(11),o=i(30),l=new a({Extends:o,Mixins:[n],initialize:function(t,e,i,a,n,s){void 0===e&&(e=0),void 0===i&&(i=0),o.call(this,t,"Curve",a),this._smoothness=32,this._curveBounds=new r,this.closePath=!1,this.setPosition(e,i),void 0!==n&&this.setFillStyle(n,s),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){var t=this._curveBounds,e=this._smoothness;this.geom.getBounds(t,e),this.setSize(t.width,t.height),this.updateDisplayOrigin();for(var i=[],a=this.geom.getPoints(e),n=0;n<a.length;n++)i.push(a[n].x,a[n].y);return i.push(a[0].x,a[0].y),this.pathIndexes=s(i),this.pathData=i,this}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(66),s=i(1004),r=i(95),o=i(30),l=new a({Extends:o,Mixins:[s],initialize:function(t,e,i,a,n,s,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=128),void 0===n&&(n=128),o.call(this,t,"Ellipse",new r(a/2,n/2,a,n)),this._smoothness=64,this.setPosition(e,i),this.width=a,this.height=n,void 0!==s&&this.setFillStyle(s,l),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(t){this._smoothness=t,this.updateData()}},setSize:function(t,e){return this.geom.setSize(t,e),this.updateData()},setSmoothness:function(t){return this._smoothness=t,this.updateData()},updateData:function(){for(var t=[],e=this.geom.getPoints(this._smoothness),i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=n(t),this.pathData=t,this}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(30),s=i(1007),r=new a({Extends:n,Mixins:[s],initialize:function(t,e,i,a,s,r,o,l,h,u,c){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=128),void 0===s&&(s=128),void 0===r&&(r=32),void 0===o&&(o=32),n.call(this,t,"Grid",null),this.cellWidth=r,this.cellHeight=o,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(e,i),this.setSize(a,s),void 0!==l&&this.setFillStyle(l,h),void 0!==u&&this.setOutlineStyle(u,c),this.updateDisplayOrigin()},setFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showCells=!1:(this.fillColor=t,this.fillAlpha=e,this.showCells=!0),this},setAltFillStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showAltCells=!1:(this.altFillColor=t,this.altFillAlpha=e,this.showAltCells=!0),this},setOutlineStyle:function(t,e){return void 0===e&&(e=1),void 0===t?this.showOutline=!1:(this.outlineFillColor=t,this.outlineFillAlpha=e,this.showOutline=!0),this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1010),n=i(0),s=i(30),r=new n({Extends:s,Mixins:[a],initialize:function(t,e,i,a,n,r,o,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=48),void 0===n&&(n=32),void 0===r&&(r=15658734),void 0===o&&(o=10066329),void 0===l&&(l=13421772),s.call(this,t,"IsoBox",null),this.projection=4,this.fillTop=r,this.fillLeft=o,this.fillRight=l,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(e,i),this.setSize(a,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(1013),s=i(30),r=new a({Extends:s,Mixins:[n],initialize:function(t,e,i,a,n,r,o,l,h){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=48),void 0===n&&(n=32),void 0===r&&(r=!1),void 0===o&&(o=15658734),void 0===l&&(l=10066329),void 0===h&&(h=13421772),s.call(this,t,"IsoTriangle",null),this.projection=4,this.fillTop=o,this.fillLeft=l,this.fillRight=h,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=r,this.isFilled=!0,this.setPosition(e,i),this.setSize(a,n),this.updateDisplayOrigin()},setProjection:function(t){return this.projection=t,this},setReversed:function(t){return this.isReversed=t,this},setFaces:function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),this.showTop=t,this.showLeft=e,this.showRight=i,this},setFillStyle:function(t,e,i){return this.fillTop=t,this.fillLeft=e,this.fillRight=i,this.isFilled=!0,this}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(30),s=i(56),r=i(1016),o=new a({Extends:n,Mixins:[r],initialize:function(t,e,i,a,r,o,l,h,u){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===r&&(r=0),void 0===o&&(o=128),void 0===l&&(l=0),n.call(this,t,"Line",new s(a,r,o,l));var c=this.geom.right-this.geom.left,d=this.geom.bottom-this.geom.top;this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(e,i),this.setSize(c,d),void 0!==h&&this.setStrokeStyle(1,h,u),this.updateDisplayOrigin()},setLineWidth:function(t,e){return void 0===e&&(e=t),this._startWidth=t,this._endWidth=e,this.lineWidth=t,this},setTo:function(t,e,i,a){return this.geom.setTo(t,e,i,a),this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1019),n=i(0),s=i(66),r=i(417),o=i(201),l=i(30),h=i(420),u=new n({Extends:l,Mixins:[a],initialize:function(t,e,i,a,n,s){void 0===e&&(e=0),void 0===i&&(i=0),l.call(this,t,"Polygon",new o(a));var h=r(this.geom);this.setPosition(e,i),this.setSize(h.width,h.height),void 0!==n&&this.setFillStyle(n,s),this.updateDisplayOrigin(),this.updateData()},smooth:function(t){void 0===t&&(t=1);for(var e=0;e<t;e++)h(this.geom);return this.updateData()},updateData:function(){for(var t=[],e=this.geom.points,i=0;i<e.length;i++)t.push(e[i].x,e[i].y);return t.push(e[0].x,e[0].y),this.pathIndexes=s(t),this.pathData=t,this}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e){void 0===e&&(e=new a);for(var i,n=1/0,s=1/0,r=-n,o=-s,l=0;l<t.points.length;l++)i=t.points[l],n=Math.min(n,i.x),s=Math.min(s,i.y),r=Math.max(r,i.x),o=Math.max(o,i.y);return e.x=n,e.y=s,e.width=r-n,e.height=o-s,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57),n=i(56),s=i(419);t.exports=function(t,e,i,r){void 0===r&&(r=[]);var o=t.points,l=s(t);!e&&i>0&&(e=l/i);for(var h=0;h<e;h++)for(var u=l*(h/e),c=0,d=0;d<o.length;d++){var p=o[d],f=o[(d+1)%o.length],m=new n(p.x,p.y,f.x,f.y),g=a(m);if(!(u<c||u>c+g)){var y=m.getPoint((u-c)/g);r.push(y);break}c+=g}return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57),n=i(56);t.exports=function(t){for(var e=t.points,i=0,s=0;s<e.length;s++){var r=e[s],o=e[(s+1)%e.length],l=new n(r.x,r.y,o.x,o.y);i+=a(l)}return i}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i=function(t,e){return t[0]=e[0],t[1]=e[1],t};t.exports=function(t){var e,a=[],n=t.points;for(e=0;e<n.length;e++)a.push([n[e].x,n[e].y]);var s=[];for(a.length>0&&s.push(i([0,0],a[0])),e=0;e<a.length-1;e++){var r=a[e],o=a[e+1],l=r[0],h=r[1],u=o[0],c=o[1];s.push([.85*l+.15*u,.85*h+.15*c]),s.push([.15*l+.85*u,.15*h+.85*c])}return a.length>1&&s.push(i([0,0],a[a.length-1])),t.setTo(s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(11),s=i(30),r=i(1022),o=new a({Extends:s,Mixins:[r],initialize:function(t,e,i,a,r,o,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=128),void 0===r&&(r=128),s.call(this,t,"Rectangle",new n(0,0,a,r)),this.setPosition(e,i),this.setSize(a,r),void 0!==o&&this.setFillStyle(o,l),this.updateDisplayOrigin(),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),e.getLineD(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1025),n=i(0),s=i(66),r=i(30),o=new n({Extends:r,Mixins:[a],initialize:function(t,e,i,a,n,s,o,l){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=5),void 0===n&&(n=32),void 0===s&&(s=64),r.call(this,t,"Star",null),this._points=a,this._innerRadius=n,this._outerRadius=s,this.setPosition(e,i),this.setSize(2*s,2*s),void 0!==o&&this.setFillStyle(o,l),this.updateDisplayOrigin(),this.updateData()},setPoints:function(t){return this._points=t,this.updateData()},setInnerRadius:function(t){return this._innerRadius=t,this.updateData()},setOuterRadius:function(t){return this._outerRadius=t,this.updateData()},points:{get:function(){return this._points},set:function(t){this._points=t,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this.updateData()}},updateData:function(){var t=[],e=this._points,i=this._innerRadius,a=this._outerRadius,n=Math.PI/2*3,r=Math.PI/e,o=a,l=a;t.push(o,l+-a);for(var h=0;h<e;h++)t.push(o+Math.cos(n)*a,l+Math.sin(n)*a),n+=r,t.push(o+Math.cos(n)*i,l+Math.sin(n)*i),n+=r;return t.push(o,l+-a),this.pathIndexes=s(t),this.pathData=t,this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(30),s=i(71),r=i(1028),o=new a({Extends:n,Mixins:[r],initialize:function(t,e,i,a,r,o,l,h,u,c,d){void 0===e&&(e=0),void 0===i&&(i=0),void 0===a&&(a=0),void 0===r&&(r=128),void 0===o&&(o=64),void 0===l&&(l=0),void 0===h&&(h=128),void 0===u&&(u=128),n.call(this,t,"Triangle",new s(a,r,o,l,h,u));var p=this.geom.right-this.geom.left,f=this.geom.bottom-this.geom.top;this.setPosition(e,i),this.setSize(p,f),void 0!==c&&this.setFillStyle(c,d),this.updateDisplayOrigin(),this.updateData()},setTo:function(t,e,i,a,n,s){return this.geom.setTo(t,e,i,a,n,s),this.updateData()},updateData:function(){var t=[],e=this.geom,i=this._tempLine;return e.getLineA(i),t.push(i.x1,i.y1,i.x2,i.y2),e.getLineB(i),t.push(i.x2,i.y2),e.getLineC(i),t.push(i.x2,i.y2),this.pathData=t,this}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(57);t.exports=function(t,e,i){void 0===i&&(i=new a);var s=t.getLineA(),r=t.getLineB(),o=t.getLineC();if(e<=0||e>=1)return i.x=s.x1,i.y=s.y1,i;var l=n(s),h=n(r),u=n(o),c=(l+h+u)*e,d=0;return c<l?(d=c/l,i.x=s.x1+(s.x2-s.x1)*d,i.y=s.y1+(s.y2-s.y1)*d):c>l+h?(d=(c-=l+h)/u,i.x=o.x1+(o.x2-o.x1)*d,i.y=o.y1+(o.y2-o.y1)*d):(d=(c-=l)/h,i.x=r.x1+(r.x2-r.x1)*d,i.y=r.y1+(r.y2-r.y1)*d),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57),n=i(4);t.exports=function(t,e,i,s){void 0===s&&(s=[]);var r=t.getLineA(),o=t.getLineB(),l=t.getLineC(),h=a(r),u=a(o),c=a(l),d=h+u+c;!e&&i>0&&(e=d/i);for(var p=0;p<e;p++){var f=d*(p/e),m=0,g=new n;f<h?(m=f/h,g.x=r.x1+(r.x2-r.x1)*m,g.y=r.y1+(r.y2-r.y1)*m):f>h+u?(m=(f-=h+u)/c,g.x=l.x1+(l.x2-l.x1)*m,g.y=l.y1+(l.y2-l.y1)*m):(m=(f-=h)/u,g.x=o.x1+(o.x2-o.x1)*m,g.y=o.y1+(o.y2-o.y1)*m),s.push(g)}return s}},function(t,e){t.exports=function(t,e,i){if(!t||"number"==typeof t)return!1;if(t.hasOwnProperty(e))return t[e]=i,!0;if(-1!==e.indexOf(".")){for(var a=e.split("."),n=t,s=t,r=0;r<a.length;r++){if(!n.hasOwnProperty(a[r]))return!1;s=n,n=n[a[r]]}return s[a[a.length-1]]=i,!0}return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(9),s=new a({initialize:function(t,e,i,a,n,s,r){this.x=t,this.y=e,this.radius=i,this.r=a,this.g=n,this.b=s,this.intensity=r,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,e,i,a,n,s,r){return this.x=t,this.y=e,this.radius=i,this.r=a,this.g=n,this.b=s,this.intensity=r,this.scrollFactorX=1,this.scrollFactorY=1,this},setScrollFactor:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this},setColor:function(t){var e=n.getFloatsFromUintRGB(t);return this.r=e[0],this.g=e[1],this.b=e[2],this},setIntensity:function(t){return this.intensity=t,this},setPosition:function(t,e){return this.x=t,this.y=e,this},setRadius:function(t){return this.radius=t,this}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(427),s=i(9),r=new a({initialize:function(){this.lightPool=[],this.lights=[],this.culledLights=[],this.ambientColor={r:.1,g:.1,b:.1},this.active=!1,this.maxLights=-1},enable:function(){return-1===this.maxLights&&(this.maxLights=this.scene.sys.game.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},cull:function(t){var e=this.lights,i=this.culledLights,a=e.length,n=t.x+t.width/2,s=t.y+t.height/2,r=(t.width+t.height)/2,o={x:0,y:0},l=t.matrix,h=this.systems.game.config.height;i.length=0;for(var u=0;u<a&&i.length<this.maxLights;u++){var c=e[u];l.transformPoint(c.x,c.y,o);var d=n-(o.x-t.scrollX*c.scrollFactorX*t.zoom),p=s-(h-(o.y-t.scrollY*c.scrollFactorY*t.zoom));Math.sqrt(d*d+p*p)<c.radius+r&&i.push(e[u])}return i},forEachLight:function(t){if(t){for(var e=this.lights,i=e.length,a=0;a<i;++a)t(e[a]);return this}},setAmbientColor:function(t){var e=s.getFloatsFromUintRGB(t);return this.ambientColor.r=e[0],this.ambientColor.g=e[1],this.ambientColor.b=e[2],this},getMaxVisibleLights:function(){return 10},getLightCount:function(){return this.lights.length},addLight:function(t,e,i,a,r){var o,l=null;return t=void 0===t?0:t,e=void 0===e?0:e,a=void 0===a?16777215:a,i=void 0===i?100:i,r=void 0===r?1:r,o=s.getFloatsFromUintRGB(a),l=null,this.lightPool.length>0?(l=this.lightPool.pop()).set(t,e,i,o[0],o[1],o[2],r):l=new n(t,e,i,o[0],o[1],o[2],r),this.lights.push(l),l},removeLight:function(t){var e=this.lights.indexOf(t);return e>=0&&(this.lightPool.push(t),this.lights.splice(e,1)),this},shutdown:function(){for(;this.lights.length>0;)this.lightPool.push(this.lights.pop());this.ambientColor={r:.1,g:.1,b:.1},this.culledLights.length=0,this.lights.length=0},destroy:function(){this.shutdown()}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(47),n=i(18),s={Circle:i(1088),Ellipse:i(1098),Intersects:i(430),Line:i(1117),Point:i(1139),Polygon:i(1153),Rectangle:i(443),Triangle:i(1184)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CircleToCircle:i(205),CircleToRectangle:i(206),GetCircleToCircle:i(1108),GetCircleToRectangle:i(1109),GetLineToCircle:i(207),GetLineToRectangle:i(209),GetRectangleIntersection:i(1110),GetRectangleToRectangle:i(1111),GetRectangleToTriangle:i(1112),GetTriangleToCircle:i(1113),GetTriangleToLine:i(435),GetTriangleToTriangle:i(1114),LineToCircle:i(208),LineToLine:i(84),LineToRectangle:i(431),PointToLine:i(439),PointToLineSegment:i(1115),RectangleToRectangle:i(135),RectangleToTriangle:i(432),RectangleToValues:i(1116),TriangleToCircle:i(434),TriangleToLine:i(436),TriangleToTriangle:i(437)}},function(t,e){t.exports=function(t,e){var i=t.x1,a=t.y1,n=t.x2,s=t.y2,r=e.x,o=e.y,l=e.right,h=e.bottom,u=0;if(i>=r&&i<=l&&a>=o&&a<=h||n>=r&&n<=l&&s>=o&&s<=h)return!0;if(i<r&&n>=r){if((u=a+(s-a)*(r-i)/(n-i))>o&&u<=h)return!0}else if(i>l&&n<=l&&(u=a+(s-a)*(l-i)/(n-i))>=o&&u<=h)return!0;if(a<o&&s>=o){if((u=i+(n-i)*(o-a)/(s-a))>=r&&u<=l)return!0}else if(a>h&&s<=h&&(u=i+(n-i)*(h-a)/(s-a))>=r&&u<=l)return!0;return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(84),n=i(48),s=i(210),r=i(433);t.exports=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),o=e.getLineB(),l=e.getLineC();if(n(t,i.x1,i.y1)||n(t,i.x2,i.y2))return!0;if(n(t,o.x1,o.y1)||n(t,o.x2,o.y2))return!0;if(n(t,l.x1,l.y1)||n(t,l.x2,l.y2))return!0;var h=t.getLineA(),u=t.getLineB(),c=t.getLineC(),d=t.getLineD();if(a(i,h)||a(i,u)||a(i,c)||a(i,d))return!0;if(a(o,h)||a(o,u)||a(o,c)||a(o,d))return!0;if(a(l,h)||a(l,u)||a(l,c)||a(l,d))return!0;var p=r(t);return s(e,p,!0).length>0}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(208),n=i(83);t.exports=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)&&(!!n(t,e.x,e.y)||(!!a(t.getLineA(),e)||(!!a(t.getLineB(),e)||!!a(t.getLineC(),e))))}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(436),s=i(84);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e))for(var r=t.getLineA(),o=t.getLineB(),l=t.getLineC(),h=[new a,new a,new a],u=[s(r,e,h[0]),s(o,e,h[1]),s(l,e,h[2])],c=0;c<3;c++)u[c]&&i.push(h[c]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(83),n=i(84);t.exports=function(t,e){return!(!a(t,e.getPointA())&&!a(t,e.getPointB()))||(!!n(t.getLineA(),e)||(!!n(t.getLineB(),e)||!!n(t.getLineC(),e)))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(210),n=i(438),s=i(84);t.exports=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),r=t.getLineB(),o=t.getLineC(),l=e.getLineA(),h=e.getLineB(),u=e.getLineC();if(s(i,l)||s(i,h)||s(i,u))return!0;if(s(r,l)||s(r,h)||s(r,u))return!0;if(s(o,l)||s(o,h)||s(o,u))return!0;var c=n(t),d=a(e,c,!0);return d.length>0||(c=n(e),(d=a(t,c,!0)).length>0)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=1);var a=e.x1,n=e.y1,s=e.x2,r=e.y2,o=t.x,l=t.y,h=(s-a)*(s-a)+(r-n)*(r-n);if(0===h)return!1;var u=((o-a)*(s-a)+(l-n)*(r-n))/h;if(u<0)return Math.sqrt((a-o)*(a-o)+(n-l)*(n-l))<=i;if(u>=0&&u<=1){var c=((n-l)*(s-a)-(a-o)*(r-n))/h;return Math.abs(c)*Math.sqrt(h)<=i}return Math.sqrt((s-o)*(s-o)+(r-l)*(r-l))<=i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(58),s=i(85);t.exports=function(t){var e=s(t)-a.TAU;return n(e,-Math.PI,Math.PI)}},function(t,e){t.exports=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}},function(t,e){t.exports=function(t){return t.x*t.x+t.y*t.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);a.Area=i(1158),a.Ceil=i(1159),a.CeilAll=i(1160),a.CenterOn=i(168),a.Clone=i(1161),a.Contains=i(48),a.ContainsPoint=i(1162),a.ContainsRect=i(444),a.CopyFrom=i(1163),a.Decompose=i(433),a.Equals=i(1164),a.FitInside=i(1165),a.FitOutside=i(1166),a.Floor=i(1167),a.FloorAll=i(1168),a.FromPoints=i(176),a.FromXY=i(1169),a.GetAspectRatio=i(212),a.GetCenter=i(1170),a.GetPoint=i(152),a.GetPoints=i(274),a.GetSize=i(1171),a.Inflate=i(1172),a.Intersection=i(1173),a.MarchingAnts=i(285),a.MergePoints=i(1174),a.MergeRect=i(1175),a.MergeXY=i(1176),a.Offset=i(1177),a.OffsetPoint=i(1178),a.Overlaps=i(1179),a.Perimeter=i(112),a.PerimeterPoint=i(1180),a.Random=i(155),a.RandomOutside=i(1181),a.SameDimensions=i(1182),a.Scale=i(1183),a.Union=i(393),t.exports=a},function(t,e){t.exports=function(t,e){return!(e.width*e.height>t.width*t.height)&&(e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);function n(t,e,i,a){var n=t-i,s=e-a,r=n*n+s*s;return Math.sqrt(r)}t.exports=function(t,e){void 0===e&&(e=new a);var i=t.x1,s=t.y1,r=t.x2,o=t.y2,l=t.x3,h=t.y3,u=n(l,h,r,o),c=n(i,s,l,h),d=n(r,o,i,s),p=u+c+d;return e.x=(i*u+r*c+l*d)/p,e.y=(s*u+o*c+h*d)/p,e}},function(t,e){t.exports=function(t,e,i){return{gameObject:t,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.1},update:function(t){this.value=t},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(214),s=new a({initialize:function(t,e){this.pad=t,this.events=t.manager,this.index=e,this.value=0,this.threshold=1,this.pressed=!1},update:function(t){this.value=t;var e=this.pad,i=this.index;t>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(n.BUTTON_DOWN,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_DOWN,i,t,this)):this.pressed&&(this.pressed=!1,this.events.emit(n.BUTTON_UP,e,this,t),this.pad.emit(n.GAMEPAD_BUTTON_UP,i,t,this))},destroy:function(){this.pad=null,this.events=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(449),n=i(450),s=i(0),r=i(10),o=i(3),l=new s({Extends:r,initialize:function(t,e){r.call(this),this.manager=t,this.pad=e,this.id=e.id,this.index=e.index;for(var i=[],s=0;s<e.buttons.length;s++)i.push(new n(this,s));this.buttons=i;var l=[];for(s=0;s<e.axes.length;s++)l.push(new a(this,s));this.axes=l,this.vibration=e.vibrationActuator;var h={value:0,pressed:!1};this._LCLeft=i[14]?i[14]:h,this._LCRight=i[15]?i[15]:h,this._LCTop=i[12]?i[12]:h,this._LCBottom=i[13]?i[13]:h,this._RCLeft=i[2]?i[2]:h,this._RCRight=i[1]?i[1]:h,this._RCTop=i[3]?i[3]:h,this._RCBottom=i[0]?i[0]:h,this._FBLeftTop=i[4]?i[4]:h,this._FBLeftBottom=i[6]?i[6]:h,this._FBRightTop=i[5]?i[5]:h,this._FBRightBottom=i[7]?i[7]:h;var u={value:0};this._HAxisLeft=l[0]?l[0]:u,this._VAxisLeft=l[1]?l[1]:u,this._HAxisRight=l[2]?l[2]:u,this._VAxisRight=l[3]?l[3]:u,this.leftStick=new o,this.rightStick=new o},getAxisTotal:function(){return this.axes.length},getAxisValue:function(t){return this.axes[t].getValue()},setAxisThreshold:function(t){for(var e=0;e<this.axes.length;e++)this.axes[e].threshold=t},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(t){return this.buttons[t].value},isButtonDown:function(t){return this.buttons[t].pressed},update:function(t){var e,i=this.buttons,a=t.buttons,n=i.length;for(e=0;e<n;e++)i[e].update(a[e].value);var s=this.axes,r=t.axes;for(n=s.length,e=0;e<n;e++)s[e].update(r[e]);n>=2&&(this.leftStick.set(s[0].getValue(),s[1].getValue()),n>=4&&this.rightStick.set(s[2].getValue(),s[3].getValue()))},destroy:function(){var t;for(this.removeAllListeners(),this.manager=null,this.pad=null,t=0;t<this.buttons.length;t++)this.buttons[t].destroy();for(t=0;t<this.axes.length;t++)this.axes[t].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(137),r=new a({Extends:n,initialize:function(t,e){n.call(this),this.plugin=t,this.keyCode=e,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(t){return this.emitOnRepeat=t,this},onDown:function(t){this.originalEvent=t,this.enabled&&(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.location=t.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,t):(this.isDown=!0,this.isUp=!1,this.timeDown=t.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,t)))},onUp:function(t){this.originalEvent=t,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=t.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,t))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(137),s=i(2),r=i(1223),o=i(1225),l=new a({initialize:function(t,e,i){if(void 0===i&&(i={}),e.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var a=0;a<e.length;a++){var l=e[a];"string"==typeof l?this.keyCodes.push(l.toUpperCase().charCodeAt(0)):"number"==typeof l?this.keyCodes.push(l):l.hasOwnProperty("keyCode")&&this.keyCodes.push(l.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(i,"resetOnWrongKey",!0),this.maxKeyDelay=s(i,"maxKeyDelay",0),this.resetOnMatch=s(i,"resetOnMatch",!1),this.deleteOnMatch=s(i,"deleteOnMatch",!1);var h=this;this.onKeyDown=function(t){!h.matched&&h.enabled&&(r(t,h)&&(h.manager.emit(n.COMBO_MATCH,h,t),h.resetOnMatch?o(h):h.deleteOnMatch&&h.destroy()))},this.manager.on(n.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(n.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(215);t.exports=function(t,e){var i=a(e,t.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",t.src,i.async,i.user,i.password),n.responseType=t.xhrSettings.responseType,n.timeout=i.timeout,i.headers)for(var s in i.headers)n.setRequestHeader(s,i.headers[s]);return i.header&&i.headerValue&&n.setRequestHeader(i.header,i.headerValue),i.requestedWith&&n.setRequestHeader("X-Requested-With",i.requestedWith),i.overrideMimeType&&n.overrideMimeType(i.overrideMimeType),i.withCredentials&&(n.withCredentials=!0),n.onload=t.onLoad.bind(t,n),n.onerror=t.onError.bind(t,n),n.onprogress=t.onProgress.bind(t),n.send(),n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(456),h=i(7),u=new a({Extends:s,initialize:function(t,e,i,a,n){if(h(e)){var r=e;e=o(r,"key"),a=o(r,"xhrSettings"),n=o(r,"context",n)}var l={type:"audio",cache:t.cacheManager.audio,extension:i.type,responseType:"arraybuffer",key:e,url:i.url,xhrSettings:a,config:{context:n}};s.call(this,t,l)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this;this.config.context.decodeAudioData(this.xhrLoader.response,(function(e){t.data=e,t.onProcessComplete()}),(function(e){console.error("Error decoding audio: "+this.key+" - ",e?e.message:null),t.onProcessError()})),this.config.context=null}});u.create=function(t,e,i,a,n){var s=t.systems.game,r=s.config.audio,c=s.device.audio;h(e)&&(i=o(e,"url",[]),a=o(e,"config",{}));var d=u.getAudioURL(s,i);return d?!c.webAudio||r&&r.disableWebAudio?new l(t,e,d,a):new u(t,e,d,n,s.sound.context):null},u.getAudioURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var a=o(e[i],"url",e[i]);if(0===a.indexOf("blob:")||0===a.indexOf("data:"))return{url:a,type:""};var n=a.match(/\.([a-zA-Z0-9]+)($|\?)/);if(n=o(e[i],"type",n?n[1]:"").toLowerCase(),t.device.audio[n])return{url:a,type:n}}return null},r.register("audio",(function(t,e,i,a){var n,s=this.systems.game,r=s.config.audio,o=s.device.audio;if(r&&r.noAudio||!o.webAudio&&!o.audioData)return this;if(Array.isArray(t))for(var l=0;l<t.length;l++)(n=u.create(this,t[l]))&&this.addFile(n);else(n=u.create(this,t,e,i,a))&&this.addFile(n);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(82),s=i(21),r=i(2),o=i(138),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){if(l(e)){var n=e;e=r(n,"key"),a=r(n,"config",a)}var o={type:"audio",cache:t.cacheManager.audio,extension:i.type,key:e,url:i.url,config:a};s.call(this,t,o),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];e.oncanplaythrough=null,e.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(t){var e=t.target;e.oncanplaythrough=null,e.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(n.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var t=this.config&&this.config.instances||1;this.filesTotal=t,this.filesLoaded=0,this.percentComplete=0;for(var e=0;e<t;e++){var i=new Audio;i.dataset||(i.dataset={}),i.dataset.name=this.key+("0"+e).slice(-2),i.dataset.used="false",this.locked?i.dataset.locked="true":(i.dataset.locked="false",i.preload="auto",i.oncanplaythrough=this.onProgress.bind(this),i.onerror=this.onError.bind(this)),this.data.push(i)}for(e=0;e<this.data.length;e++)(i=this.data[e]).src=o(this,this.loader.baseURL),this.locked||i.load();this.locked&&setTimeout(this.onLoad.bind(this))}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){var n="js";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"script",cache:!1,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("script",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){var n="txt";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:t.cacheManager.text,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("text",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(460),n=i(140),s=i(0),r=i(50),o=i(461),l=i(462),h=new s({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,a,n){return this.world.addCollider(t,e,i,a,n)},overlap:function(t,e,i,a,n){return this.world.addOverlap(t,e,i,a,n)},existing:function(t,e){var i=e?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,n){var s=new a(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.world.enableBody(s,r.STATIC_BODY),s},image:function(t,e,i,n){var s=new a(this.scene,t,e,i,n);return this.sys.displayList.add(s),this.world.enableBody(s,r.DYNAMIC_BODY),s},staticSprite:function(t,e,i,a){var s=new n(this.scene,t,e,i,a);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,r.STATIC_BODY),s},sprite:function(t,e,i,a){var s=new n(this.scene,t,e,i,a);return this.sys.displayList.add(s),this.sys.updateList.add(s),this.world.enableBody(s,r.DYNAMIC_BODY),s},staticGroup:function(t,e){return this.sys.updateList.add(new l(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new o(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(217),s=i(107),r=new a({Extends:s,Mixins:[n.Acceleration,n.Angular,n.Bounce,n.Debug,n.Drag,n.Enable,n.Friction,n.Gravity,n.Immovable,n.Mass,n.Size,n.Velocity],initialize:function(t,e,i,a,n){s.call(this,t,e,i,a,n),this.body=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(140),n=i(0),s=i(50),r=i(2),o=i(97),l=i(7),h=new n({Extends:o,initialize:function(t,e,i,n){if(i||n)if(l(i))n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&l(i[0])){n=i[0];var h=this;i.forEach((function(t){t.internalCreateCallback=h.createCallbackHandler,t.internalRemoveCallback=h.removeCallbackHandler}))}else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=t,n.classType=r(n,"classType",a),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(n,"collideWorldBounds",!1),setBoundsRectangle:r(n,"customBoundsRectangle",null),setAccelerationX:r(n,"accelerationX",0),setAccelerationY:r(n,"accelerationY",0),setAllowDrag:r(n,"allowDrag",!0),setAllowGravity:r(n,"allowGravity",!0),setAllowRotation:r(n,"allowRotation",!0),setBounceX:r(n,"bounceX",0),setBounceY:r(n,"bounceY",0),setDragX:r(n,"dragX",0),setDragY:r(n,"dragY",0),setEnable:r(n,"enable",!0),setGravityX:r(n,"gravityX",0),setGravityY:r(n,"gravityY",0),setFrictionX:r(n,"frictionX",0),setFrictionY:r(n,"frictionY",0),setVelocityX:r(n,"velocityX",0),setVelocityY:r(n,"velocityY",0),setAngularVelocity:r(n,"angularVelocity",0),setAngularAcceleration:r(n,"angularAcceleration",0),setAngularDrag:r(n,"angularDrag",0),setMass:r(n,"mass",1),setImmovable:r(n,"immovable",!1)},Array.isArray(i)&&(n=null),o.call(this,e,i,n),this.type="PhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){void 0===i&&(i=0);for(var a=this.getChildren(),n=0;n<a.length;n++)a[n].body.velocity.set(t+n*i,e+n*i);return this},setVelocityX:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),a=0;a<i.length;a++)i[a].body.velocity.x=t+a*e;return this},setVelocityY:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),a=0;a<i.length;a++)i[a].body.velocity.y=t+a*e;return this}});t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(140),n=i(0),s=i(50),r=i(2),o=i(97),l=i(7),h=new n({Extends:o,initialize:function(t,e,i,n){i||n?l(i)?(n=i,i=null,n.internalCreateCallback=this.createCallbackHandler,n.internalRemoveCallback=this.removeCallbackHandler,n.createMultipleCallback=this.createMultipleCallbackHandler,n.classType=r(n,"classType",a)):Array.isArray(i)&&l(i[0])&&(n=i,i=null,n.forEach((function(t){t.internalCreateCallback=this.createCallbackHandler,t.internalRemoveCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=r(t,"classType",a)}))):n={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a},this.world=t,this.physicsType=s.STATIC_BODY,o.call(this,e,i,n),this.type="StaticPhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,s.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}});t.exports=h},function(t,e){t.exports=function(t,e,i,a,n,s,r){void 0===s&&(s=!0),void 0===r&&(r=!1);var o=[],l=[],h=t.treeMinMax;if(h.minX=e,h.minY=i,h.maxX=e+a,h.maxY=i+n,r&&(l=t.staticTree.search(h)),s&&t.useTree)o=t.tree.search(h);else if(s){var u=t.bodies,c={position:{x:e,y:i},left:e,top:i,right:e+a,bottom:i+n,isCircle:!1},d=t.intersects;u.iterate((function(t){d(t,c)&&o.push(t)}))}return l.concat(o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(465),n=i(19),s=i(0),r=i(466),o=i(50),l=i(53),h=i(10),u=i(218),c=i(106),d=i(321),p=i(322),f=i(467),m=i(468),g=i(6),y=i(186),k=i(1282),v=i(11),b=i(469),w=i(1283),S=i(1288),x=i(1289),T=i(133),A=i(471),E=i(470),C=i(29),M=i(3),_=i(58),B=new s({Extends:h,initialize:function(t,e){h.call(this),this.scene=t,this.bodies=new T,this.staticBodies=new T,this.pendingDestroy=new T,this.colliders=new y,this.gravity=new M(g(e,"gravity.x",0),g(e,"gravity.y",0)),this.bounds=new v(g(e,"x",0),g(e,"y",0),g(e,"width",t.sys.scale.width),g(e,"height",t.sys.scale.height)),this.checkCollision={up:g(e,"checkCollision.up",!0),down:g(e,"checkCollision.down",!0),left:g(e,"checkCollision.left",!0),right:g(e,"checkCollision.right",!0)},this.fps=g(e,"fps",60),this.fixedStep=!0,this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=g(e,"timeScale",1),this.OVERLAP_BIAS=g(e,"overlapBias",4),this.TILE_BIAS=g(e,"tileBias",16),this.forceX=g(e,"forceX",!1),this.isPaused=g(e,"isPaused",!1),this._total=0,this.drawDebug=g(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:g(e,"debugShowBody",!0),debugShowStaticBody:g(e,"debugShowStaticBody",!0),debugShowVelocity:g(e,"debugShowVelocity",!0),bodyDebugColor:g(e,"debugBodyColor",16711935),staticBodyDebugColor:g(e,"debugStaticBodyColor",255),velocityDebugColor:g(e,"debugVelocityColor",65280)},this.maxEntries=g(e,"maxEntries",16),this.useTree=g(e,"useTree",!0),this.tree=new b(this.maxEntries),this.staticTree=new b(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new C,this._tempMatrix2=new C,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){void 0===e&&(e=o.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i];if(a.isParent)for(var n=a.getChildren(),s=0;s<n.length;s++){var r=n[s];r.isParent?this.enable(r,e):this.enableBody(r,e)}else this.enableBody(a,e)}},enableBody:function(t,e){return void 0===e&&(e=o.DYNAMIC_BODY),t.body||(e===o.DYNAMIC_BODY?t.body=new a(this,t):e===o.STATIC_BODY&&(t.body=new A(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===o.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===o.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var a=i.getChildren(),n=0;n<a.length;n++){var s=a[n];s.isParent?this.disable(s):this.disableBody(s.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===o.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,a,n,s,r,o){return this.bounds.setTo(t,e,i,a),void 0!==n&&this.setBoundsCollision(n,s,r,o),this},setBoundsCollision:function(t,e,i,a){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===a&&(a=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=a,this},pause:function(){return this.isPaused=!0,this.emit(u.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(u.RESUME),this},addCollider:function(t,e,i,a,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i);var s=new r(this,!1,t,e,i,a,n);return this.colliders.add(s),s},addOverlap:function(t,e,i,a,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i);var s=new r(this,!0,t,e,i,a,n);return this.colliders.add(s),s},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!this.isPaused&&0!==this.bodies.size){var i,a,n=this._frameTime,s=this._frameTimeMS*this.timeScale;this._elapsed+=e;var r=this.bodies.entries,o=this._elapsed>=s;for(this.fixedStep||(n=.001*e,o=!0,this._elapsed=0),i=0;i<r.length;i++)(a=r[i]).enable&&a.preUpdate(o,n);if(o){this._elapsed-=s,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(r));var l=this.colliders.update();for(i=0;i<l.length;i++){var h=l[i];h.active&&h.update()}this.emit(u.WORLD_STEP)}for(;this._elapsed>=s;)this._elapsed-=s,this.step(n)}},step:function(t){var e,i,a=this.bodies.entries,n=a.length;for(e=0;e<n;e++)(i=a[e]).enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(a));var s=this.colliders.update();for(e=0;e<s.length;e++){var r=s[e];r.active&&r.update()}this.emit(u.WORLD_STEP),this.stepsLastFrame++},postUpdate:function(){var t,e,i=this.bodies.entries,a=i.length,n=this.bodies,s=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,t=0;t<a;t++)(e=i[t]).enable&&e.postUpdate();if(this.drawDebug){var r=this.debugGraphic;for(r.clear(),t=0;t<a;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(r);for(a=(i=s.entries).length,t=0;t<a;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(r)}var l=this.pendingDestroy;if(l.size>0){var h=this.tree,u=this.staticTree;for(a=(i=l.entries).length,t=0;t<a;t++)(e=i[t]).physicsType===o.DYNAMIC_BODY?(h.remove(e),n.delete(e)):e.physicsType===o.STATIC_BODY&&(u.remove(e),s.delete(e)),e.world=void 0,e.gameObject=void 0;l.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,a=t.angularAcceleration,s=t.angularDrag,r=t.maxAngular;a?i+=a*e:t.allowDrag&&s&&(d(i-(s*=e),0,.1)?i-=s:p(i+s,0,.1)?i+=s:i=0);var o=(i=n(i,-r,r))-t.angularVelocity;t.angularVelocity+=o,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,a=t.acceleration.x,s=t.drag.x,r=t.maxVelocity.x,o=t.velocity.y,l=t.acceleration.y,h=t.drag.y,u=t.maxVelocity.y,f=t.speed,m=t.maxSpeed,g=t.allowDrag,y=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,o+=(this.gravity.y+t.gravity.y)*e),a?i+=a*e:g&&s&&(y?(i*=s,f=Math.sqrt(i*i+o*o),c(f,0,.001)&&(i=0)):d(i-(s*=e),0,.01)?i-=s:p(i+s,0,.01)?i+=s:i=0),l?o+=l*e:g&&h&&(y?(o*=h,f=Math.sqrt(i*i+o*o),c(f,0,.001)&&(o=0)):d(o-(h*=e),0,.01)?o-=h:p(o+h,0,.01)?o+=h:o=0),i=n(i,-r,r),o=n(o,-u,u),t.velocity.set(i,o),m>-1&&f>m&&(t.velocity.normalize().scale(m),f=m),t.speed=f},separate:function(t,e,i,a,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(a,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var s=t.isCircle?e:t,r=t.isCircle?t:e,o={x:s.x,y:s.y,right:s.right,bottom:s.bottom},l=r.center;if((l.y<o.y||l.y>o.bottom)&&(l.x<o.x||l.x>o.right))return this.separateCircle(t,e,n)}var h=!1,c=!1;this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(h=S(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(c=x(t,e,n,this.OVERLAP_BIAS))):(c=x(t,e,n,this.OVERLAP_BIAS),this.intersects(t,e)&&(h=S(t,e,n,this.OVERLAP_BIAS)));var d=h||c;return d&&(n?(t.onOverlap||e.onOverlap)&&this.emit(u.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(u.COLLIDE,t.gameObject,e.gameObject,t,e)),d},separateCircle:function(t,e,i,a){f(t,e,!1,a),m(t,e,!1,a);var n=0;if(t.isCircle!==e.isCircle){var s={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},r={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};r.y<s.y?r.x<s.x?n=l(r.x,r.y,s.x,s.y)-r.radius:r.x>s.right&&(n=l(r.x,r.y,s.right,s.y)-r.radius):r.y>s.bottom&&(r.x<s.x?n=l(r.x,r.y,s.x,s.bottom)-r.radius:r.x>s.right&&(n=l(r.x,r.y,s.right,s.bottom)-r.radius)),n*=-1}else n=t.halfWidth+e.halfWidth-l(t.center.x,t.center.y,e.center.x,e.center.y);if(i||0===n||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==n&&(t.onOverlap||e.onOverlap)&&this.emit(u.OVERLAP,t.gameObject,e.gameObject,t,e),0!==n;var o=t.center.x-e.center.x,h=t.center.y-e.center.y,c=Math.sqrt(Math.pow(o,2)+Math.pow(h,2)),d=(e.center.x-t.center.x)/c||0,p=(e.center.y-t.center.y)/c||0,g=2*(t.velocity.x*d+t.velocity.y*p-e.velocity.x*d-e.velocity.y*p)/(t.mass+e.mass);t.immovable||(t.velocity.x=t.velocity.x-g*t.mass*d,t.velocity.y=t.velocity.y-g*t.mass*p),e.immovable||(e.velocity.x=e.velocity.x+g*e.mass*d,e.velocity.y=e.velocity.y+g*e.mass*p);var y=e.velocity.x-t.velocity.x,k=e.velocity.y-t.velocity.y,v=Math.atan2(k,y),b=this._frameTime;return t.immovable||e.immovable||(n/=2),t.immovable||(t.x+=t.velocity.x*b-n*Math.cos(v),t.y+=t.velocity.y*b-n*Math.sin(v)),e.immovable||(e.x+=e.velocity.x*b+n*Math.cos(v),e.y+=e.velocity.y*b+n*Math.sin(v)),t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,(t.onCollide||e.onCollide)&&this.emit(u.COLLIDE,t.gameObject,e.gameObject,t,e),!0},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?l(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=n(t.center.x,e.left,e.right),a=n(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-a)*(t.center.y-a)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,a,n){return void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i),this.collideObjects(t,e,i,a,n,!0)},collide:function(t,e,i,a,n){return void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i),this.collideObjects(t,e,i,a,n,!1)},collideObjects:function(t,e,i,a,n,s){var r,o;t.isParent&&void 0===t.physicsType&&(t=t.children.entries),e&&e.isParent&&void 0===e.physicsType&&(e=e.children.entries);var l=Array.isArray(t),h=Array.isArray(e);if(this._total=0,l||h)if(!l&&h)for(r=0;r<e.length;r++)this.collideHandler(t,e[r],i,a,n,s);else if(l&&!h)if(e)for(r=0;r<t.length;r++)this.collideHandler(t[r],e,i,a,n,s);else for(r=0;r<t.length;r++){var u=t[r];for(o=r+1;o<t.length;o++)r!==o&&this.collideHandler(u,t[o],i,a,n,s)}else for(r=0;r<t.length;r++)for(o=0;o<e.length;o++)this.collideHandler(t[r],e[o],i,a,n,s);else this.collideHandler(t,e,i,a,n,s);return this._total>0},collideHandler:function(t,e,i,a,n,s){if(void 0===e&&t.isParent)return this.collideGroupVsGroup(t,t,i,a,n,s);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,a,n,s);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,a,n,s);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,a,n,s)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,a,n,s);if(e.isParent)return this.collideGroupVsGroup(t,e,i,a,n,s);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,a,n,s)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,a,n,s);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,a,n,s)}},collideSpriteVsSprite:function(t,e,i,a,n,s){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,a,n,s)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,i,a,n,s){var r,l,h,u=t.body;if(0!==e.length&&u&&u.enable&&!u.checkCollision.none)if(this.useTree){var c=this.treeMinMax;c.minX=u.left,c.minY=u.top,c.maxX=u.right,c.maxY=u.bottom;var d=e.physicsType===o.DYNAMIC_BODY?this.tree.search(c):this.staticTree.search(c);for(l=d.length,r=0;r<l;r++)u!==(h=d[r])&&h.enable&&!h.checkCollision.none&&e.contains(h.gameObject)&&this.separate(u,h,a,n,s)&&(i&&i.call(n,u.gameObject,h.gameObject),this._total++)}else{var p=e.getChildren(),f=e.children.entries.indexOf(t);for(l=p.length,r=0;r<l;r++)(h=p[r].body)&&r!==f&&h.enable&&this.separate(u,h,a,n,s)&&(i&&i.call(n,u.gameObject,h.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(t,e,i,a,n,s){var r=t.getChildren();if(0===r.length)return!1;for(var o=!1,l=0;l<r.length;l++)r[l].body&&this.collideSpriteVsTilemapLayer(r[l],e,i,a,n,s)&&(o=!0);return o},collideTiles:function(t,e,i,a,n){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,a,n,!1,!1)},overlapTiles:function(t,e,i,a,n){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,a,n,!0,!1)},collideSpriteVsTilemapLayer:function(t,e,i,a,n,s){var r=t.body;if(!r.enable||r.checkCollision.none)return!1;var o=r.position.x,l=r.position.y,h=r.width,u=r.height,c=e.layer;if(c.tileWidth>c.baseTileWidth){var d=(c.tileWidth-c.baseTileWidth)*e.scaleX;o-=d,h+=d}c.tileHeight>c.baseTileHeight&&(u+=(c.tileHeight-c.baseTileHeight)*e.scaleY);var p=e.getTilesWithinWorldXY(o,l,h,u);return 0!==p.length&&this.collideSpriteVsTilesHandler(t,p,i,a,n,s,!0)},collideSpriteVsTilesHandler:function(t,e,i,a,n,s,r){for(var o,l,h=t.body,c={left:0,right:0,top:0,bottom:0},d=!1,p=0;p<e.length;p++)l=(o=e[p]).tilemapLayer,c.left=l.tileToWorldX(o.x),c.top=l.tileToWorldY(o.y),o.baseHeight!==o.height&&(c.top-=(o.height-o.baseHeight)*l.scaleY),c.right=c.left+o.width*l.scaleX,c.bottom=c.top+o.height*l.scaleY,E(c,h)&&(!a||a.call(n,t,o))&&k(o,t)&&(s||w(p,h,o,c,l,this.TILE_BIAS,r))&&(this._total++,d=!0,i&&i.call(n,t,o),s&&h.onOverlap?this.emit(u.TILE_OVERLAP,t,o,h):h.onCollide&&this.emit(u.TILE_COLLIDE,t,o,h));return d},collideGroupVsGroup:function(t,e,i,a,n,s){if(0!==t.length&&0!==e.length)for(var r=t.getChildren(),o=0;o<r.length;o++)this.collideSpriteVsGroup(r[o],e,i,a,n,s)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){void 0===e&&(e=0),t.x=_(t.x,this.bounds.left-e,this.bounds.right+e),t.y=_(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});t.exports=B},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(50),s=i(218),r=i(173),o=i(11),l=i(48),h=i(3),u=new a({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,a=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(e.x-e.scaleX*e.displayOriginX,e.y-e.scaleY*e.displayOriginY),this.prev=new h(e.x,e.y),this.prevFrame=new h(e.x,e.y),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=a,this.sourceWidth=i,this.sourceHeight=a,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(a/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new h,this.newVelocity=new h,this.deltaMax=new h,this.acceleration=new h,this.allowDrag=!0,this.drag=new h,this.allowGravity=!0,this.gravity=new h,this.bounce=new h,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new h(1e4,1e4),this.maxSpeed=-1,this.friction=new h(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=n.FACING_NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=n.DYNAMIC_BODY,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=r(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;var a=!1;if(this.syncBounds){var n=t.getBounds(this._bounds);this.width=n.width,this.height=n.height,a=!0}else{var s=Math.abs(e.scaleX),o=Math.abs(e.scaleY);this._sx===s&&this._sy===o||(this.width=this.sourceWidth*s,this.height=this.sourceHeight*o,this._sx=s,this._sy=o,a=!0)}a&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},resetFlags:function(){var t=this.wasTouching,e=this.touching,i=this.blocked;t.none=e.none,t.up=e.up,t.down=e.down,t.left=e.left,t.right=e.right,e.none=!0,e.up=!1,e.down=!1,e.left=!1,e.right=!1,i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(t,e){t&&this.resetFlags(),this.updateBounds();var i=this.transform;this.position.x=i.x+i.scaleX*(this.offset.x-i.displayOriginX),this.position.y=i.y+i.scaleY*(this.offset.y-i.displayOriginY),this.updateCenter(),this.rotation=i.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(e)},update:function(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);var e=this.velocity.x,i=this.velocity.y;this.newVelocity.set(e*t,i*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,e),this.speed=Math.sqrt(e*e+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var t=this.position.x-this.prevFrame.x,e=this.position.y-this.prevFrame.y;if(this.moves){var i=this.deltaMax.x,a=this.deltaMax.y;0!==i&&0!==t&&(t<0&&t<-i?t=-i:t>0&&t>i&&(t=i)),0!==a&&0!==e&&(e<0&&e<-a?e=-a:e>0&&e>a&&(e=a)),this.gameObject.x+=t,this.gameObject.y+=e}t<0?this.facing=n.FACING_LEFT:t>0&&(this.facing=n.FACING_RIGHT),e<0?this.facing=n.FACING_UP:e>0&&(this.facing=n.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=e},setBoundsRectangle:function(t){return this.customBoundsRectangle=t||this.world.bounds,this},checkWorldBounds:function(){var t=this.position,e=this.customBoundsRectangle,i=this.world.checkCollision,a=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y,s=!1;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=a,this.blocked.left=!0,s=!0):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=a,this.blocked.right=!0,s=!0),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,s=!0):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,s=!0),s&&(this.blocked.none=!1),s},setOffset:function(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this.updateCenter(),this},setSize:function(t,e,i){void 0===i&&(i=!0);var a=this.gameObject;if(!t&&a.frame&&(t=a.frame.realWidth),!e&&a.frame&&(e=a.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&a.getCenter){var n=(a.width-t)/2,s=(a.height-e)/2;this.offset.set(n,s)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft?i.getTopLeft(this.position):this.position.set(t,e),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter()},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:l(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,a=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(i,a,this.width/2):(this.checkCollision.up&&t.lineBetween(e.x,e.y,e.x+this.width,e.y),this.checkCollision.right&&t.lineBetween(e.x+this.width,e.y,e.x+this.width,e.y+this.height),this.checkCollision.down&&t.lineBetween(e.x,e.y+this.height,e.x+this.width,e.y+this.height),this.checkCollision.left&&t.lineBetween(e.x,e.y,e.x,e.y+this.height))),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,a,i+this.velocity.x/2,a+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t,e,i){void 0===t&&(t=!0),this.collideWorldBounds=t;var a=void 0!==e,n=void 0!==i;return(a||n)&&(this.worldBounce||(this.worldBounce=new h),a&&(this.worldBounce.x=e),n&&(this.worldBounce.y=i)),this},setVelocity:function(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){this.velocity.x=t;var e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){this.velocity.y=t;var e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},setEnable:function(t){return void 0===t&&(t=!0),this.enable=t,this},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a,n,s,r){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=a,this.collideCallback=n,this.processCallback=s,this.callbackContext=r},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(50);t.exports=function(t,e,i,n){var s=0,r=t.deltaAbsX()+e.deltaAbsX()+n;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(s=t.right-e.x)>r&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType===a.STATIC_BODY&&(t.blocked.none=!1,t.blocked.right=!0),t.physicsType===a.STATIC_BODY&&(e.blocked.none=!1,e.blocked.left=!0)):t._dx<e._dx&&(-(s=t.x-e.width-e.x)>r&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType===a.STATIC_BODY&&(t.blocked.none=!1,t.blocked.left=!0),t.physicsType===a.STATIC_BODY&&(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=s,e.overlapX=s,s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(50);t.exports=function(t,e,i,n){var s=0,r=t.deltaAbsY()+e.deltaAbsY()+n;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(s=t.bottom-e.y)>r&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType===a.STATIC_BODY&&(t.blocked.none=!1,t.blocked.down=!0),t.physicsType===a.STATIC_BODY&&(e.blocked.none=!1,e.blocked.up=!0)):t._dy<e._dy&&(-(s=t.y-e.bottom)>r&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType===a.STATIC_BODY&&(t.blocked.none=!1,t.blocked.up=!0),t.physicsType===a.STATIC_BODY&&(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=s,e.overlapY=s,s}},function(t,e,i){
/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(390);function n(t){if(!(this instanceof n))return new n(t,[".left",".top",".right",".bottom"]);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}function s(t,e,i){if(!i)return e.indexOf(t);for(var a=0;a<e.length;a++)if(i(t,e[a]))return a;return-1}function r(t,e){o(t,0,t.children.length,e,t)}function o(t,e,i,a,n){n||(n=m(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,r=e;r<i;r++)s=t.children[r],l(n,t.leaf?a(s):s);return n}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,i,n,s){for(var r,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=n||(r=e+Math.ceil((i-e)/n/2)*n,a(t,r,e,i,s),o.push(e,r,r,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],a=this.toBBox;if(!f(t,e))return i;for(var n,s,r,o,l=[];e;){for(n=0,s=e.children.length;n<s;n++)r=e.children[n],f(t,o=e.leaf?a(r):r)&&(e.leaf?i.push(r):p(t,o)?this._all(r,i):l.push(r));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!f(t,e))return!1;for(var a,n,s,r,o=[];e;){for(a=0,n=e.children.length;a<n;a++)if(s=e.children[a],f(t,r=e.leaf?i(s):s)){if(e.leaf||p(t,r))return!0;o.push(s)}e=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var a=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var n=this.data;this.data=a,a=n}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;for(var i,a,n,r,o=this.data,l=this.toBBox(t),h=[],u=[];o||h.length;){if(o||(o=h.pop(),a=h[h.length-1],i=u.pop(),r=!0),o.leaf&&-1!==(n=s(t,o.children,e)))return o.children.splice(n,1),h.push(o),this._condense(h),this;r||o.leaf||!p(o,l)?a?(i++,o=a.children[i],r=!1):o=null:(h.push(o),u.push(i),i=0,a=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,a){var n,s=i-e+1,o=this._maxEntries;if(s<=o)return r(n=m(t.slice(e,i+1)),this.toBBox),n;a||(a=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,a-1))),(n=m([])).leaf=!1,n.height=a;var l,h,u,c,d=Math.ceil(s/o),p=d*Math.ceil(Math.sqrt(o));for(g(t,e,i,p,this.compareMinX),l=e;l<=i;l+=p)for(g(t,l,u=Math.min(l+p-1,i),d,this.compareMinY),h=l;h<=u;h+=d)c=Math.min(h+d-1,u),n.children.push(this._build(t,h,c,a-1));return r(n,this.toBBox),n},_chooseSubtree:function(t,e,i,a){for(var n,s,r,o,l,h,u,d,p,f;a.push(e),!e.leaf&&a.length-1!==i;){for(u=d=1/0,n=0,s=e.children.length;n<s;n++)l=c(r=e.children[n]),p=t,f=r,(h=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l)<d?(d=h,u=l<u?l:u,o=r):h===d&&l<u&&(u=l,o=r);e=o||e.children[0]}return e},_insert:function(t,e,i){var a=this.toBBox,n=i?t:a(t),s=[],r=this._chooseSubtree(n,this.data,e,s);for(r.children.push(t),l(r,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},_split:function(t,e){var i=t[e],a=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,a);var s=this._chooseSplitIndex(i,n,a),o=m(i.children.splice(s,i.children.length-s));o.height=i.height,o.leaf=i.leaf,r(i,this.toBBox),r(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var a,n,s,r,l,h,u,d,p,f,m,g,y,k;for(h=u=1/0,a=e;a<=i-e;a++)n=o(t,0,a,this.toBBox),s=o(t,a,i,this.toBBox),p=n,f=s,m=void 0,g=void 0,y=void 0,k=void 0,m=Math.max(p.minX,f.minX),g=Math.max(p.minY,f.minY),y=Math.min(p.maxX,f.maxX),k=Math.min(p.maxY,f.maxY),r=Math.max(0,y-m)*Math.max(0,k-g),l=c(n)+c(s),r<h?(h=r,d=a,u=l<u?l:u):r===h&&l<u&&(u=l,d=a);return d},_chooseSplitAxis:function(t,e,i){var a=t.leaf?this.compareMinX:h,n=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,a)<this._allDistMargin(t,e,i,n)&&t.children.sort(a)},_allDistMargin:function(t,e,i,a){t.children.sort(a);var n,s,r=this.toBBox,h=o(t,0,e,r),u=o(t,i-e,i,r),c=d(h)+d(u);for(n=e;n<i-e;n++)s=t.children[n],l(h,t.leaf?r(s):s),c+=d(h);for(n=i-e-1;n>=e;n--)s=t.children[n],l(u,t.leaf?r(s):s),c+=d(u);return c},_adjustParentBBoxes:function(t,e,i){for(var a=i;a>=0;a--)l(e[a],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():r(t[i],this.toBBox)},compareMinX:function(t,e){return t.left-e.left},compareMinY:function(t,e){return t.top-e.top},toBBox:function(t){return{minX:t.left,minY:t.top,maxX:t.right,maxY:t.bottom}}},t.exports=n},function(t,e){t.exports=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(55),n=i(0),s=i(50),r=i(48),o=i(3),l=new n({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,a=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new o,this.position=new o(e.x-e.displayOriginX,e.y-e.displayOriginY),this.width=i,this.height=a,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new o(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=o.ZERO,this.allowGravity=!1,this.gravity=o.ZERO,this.bounce=o.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i){void 0===i&&(i=!0);var a=this.gameObject;if(!t&&a.frame&&(t=a.frame.realWidth),!e&&a.frame&&(e=a.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),i&&a.getCenter){var n=a.displayWidth/2,s=a.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(n-this.halfWidth,s-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?a(this,t,e):r(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,a=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?t.strokeCircle(i,a,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=l},function(t,e){var i={};t.exports=i,i.create=function(t,e){var a=t.bodyA,n=t.bodyB,s={id:i.id(a,n),bodyA:a,bodyB:n,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:a.isSensor||n.isSensor,timeCreated:e,timeUpdated:e,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return i.update(s,t,e),s},i.update=function(t,e,a){if(t.collision=e,e.collided){var n=e.supports,s=t.activeContacts,r=e.parentA,o=e.parentB;t.inverseMass=r.inverseMass+o.inverseMass,t.friction=Math.min(r.friction,o.friction),t.frictionStatic=Math.max(r.frictionStatic,o.frictionStatic),t.restitution=Math.max(r.restitution,o.restitution),t.slop=Math.max(r.slop,o.slop);for(var l=0;l<n.length;l++)s[l]=n[l].contact;var h=n.length;h<s.length&&(s.length=h),t.separation=e.depth,i.setActive(t,!0,a)}else!0===t.isActive&&i.setActive(t,!1,a)},i.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},i.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var a=new(i(0))({initialize:function(t){this.pluginManager=t,this.game=t.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o){for(var l=a(i,n,s,r,null,o),h=0;h<l.length;h++)l[h]&&l[h].index===t&&(l[h].index=e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(101);t.exports=function(t,e,i){if(a(t,e,i)){var n=i.data[e][t];return null!==n&&n.index>-1}return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(74),n=i(101),s=i(220);t.exports=function(t,e,i,r,o){if(void 0===i&&(i=!1),void 0===r&&(r=!0),!n(t,e,o))return null;var l=o.data[e][t];return l?(o.data[e][t]=i?null:new a(o,-1,t,e,l.width,l.height),r&&l&&l.collides&&s(t,e,o),l):null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(223),s=i(478),r=i(479),o=i(490);t.exports=function(t,e,i,l,h,u){var c;switch(e){case a.ARRAY_2D:c=n(t,i,l,h,u);break;case a.CSV:c=s(t,i,l,h,u);break;case a.TILED_JSON:c=r(t,i,u);break;case a.WELTMEISTER:c=o(t,i,u);break;default:console.warn("Unrecognized tilemap data format: "+e),c=null}return c}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(223);t.exports=function(t,e,i,s,r){var o=e.trim().split("\n").map((function(t){return t.split(",")})),l=n(t,o,i,s,r);return l.format=a.CSV,l}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(103),s=i(480),r=i(482),o=i(483),l=i(486),h=i(488),u=i(489);t.exports=function(t,e,i){if("orthogonal"!==e.orientation)return console.warn("Only orthogonal map types are supported in this version of Phaser"),null;var c=new n({width:e.width,height:e.height,name:t,tileWidth:e.tilewidth,tileHeight:e.tileheight,orientation:e.orientation,format:a.TILED_JSON,version:e.version,properties:e.properties,renderOrder:e.renderorder,infinite:e.infinite});c.layers=s(e,i),c.images=r(e);var d=o(e);return c.tilesets=d.tilesets,c.imageCollections=d.imageCollections,c.objects=l(e),c.tiles=h(c),u(c),c}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(481),n=i(2),s=i(102),r=i(224),o=i(74),l=i(225);t.exports=function(t,e){for(var i=n(t,"infinite",!1),h=[],u=[],c=l(t);c.i<c.layers.length||u.length>0;)if(c.i>=c.layers.length){if(u.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}c=u.pop()}else{var d=c.layers[c.i];if(c.i++,"tilelayer"===d.type)if(d.compression)console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+d.name+"'");else{if(d.encoding&&"base64"===d.encoding){if(d.chunks)for(var p=0;p<d.chunks.length;p++)d.chunks[p].data=a(d.chunks[p].data);d.data&&(d.data=a(d.data)),delete d.encoding}var f,m,g,y,k=[],v=0;if(i){var b=n(d,"startx",0)+d.x,w=n(d,"starty",0)+d.y;f=new s({name:c.name+d.name,x:c.x+n(d,"offsetx",0)+b*t.tilewidth,y:c.y+n(d,"offsety",0)+w*t.tileheight,width:d.width,height:d.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:c.opacity*d.opacity,visible:c.visible&&d.visible,properties:n(d,"properties",[])});for(var S=0;S<d.height;S++){k.push([null]);for(var x=0;x<d.width;x++)k[S][x]=null}for(S=0,L=d.chunks.length;S<L;S++)for(var T=d.chunks[S],A=T.x-b,E=T.y-w,C=0,M=0,_=T.data.length;M<_;M++){var B=v+A,I=C+E;(m=r(T.data[M])).gid>0?((g=new o(f,m.gid,B,I,t.tilewidth,t.tileheight)).rotation=m.rotation,g.flipX=m.flipped,k[I][B]=g):(y=e?null:new o(f,-1,B,I,t.tilewidth,t.tileheight),k[I][B]=y),++v===T.width&&(C++,v=0)}}else{f=new s({name:c.name+d.name,x:c.x+n(d,"offsetx",0)+d.x,y:c.y+n(d,"offsety",0)+d.y,width:d.width,height:d.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,alpha:c.opacity*d.opacity,visible:c.visible&&d.visible,properties:n(d,"properties",[])});for(var D=[],P=0,L=d.data.length;P<L;P++)(m=r(d.data[P])).gid>0?((g=new o(f,m.gid,v,k.length,t.tilewidth,t.tileheight)).rotation=m.rotation,g.flipX=m.flipped,D.push(g)):(y=e?null:new o(f,-1,v,k.length,t.tilewidth,t.tileheight),D.push(y)),++v===d.width&&(k.push(D),v=0,D=[])}f.data=k,h.push(f)}else if("group"===d.type){var O=l(t,d,c);u.push(c),c=O}}return h}},function(t,e){t.exports=function(t){for(var e=window.atob(t),i=e.length,a=new Array(i/4),n=0;n<i;n+=4)a[n/4]=(e.charCodeAt(n)|e.charCodeAt(n+1)<<8|e.charCodeAt(n+2)<<16|e.charCodeAt(n+3)<<24)>>>0;return a}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2),n=i(225);t.exports=function(t){for(var e=[],i=[],s=n(t);s.i<s.layers.length||i.length>0;)if(s.i>=s.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}s=i.pop()}else{var r=s.layers[s.i];if(s.i++,"imagelayer"===r.type){var o=a(r,"offsetx",0)+a(r,"startx",0),l=a(r,"offsety",0)+a(r,"starty",0);e.push({name:s.name+r.name,image:r.image,x:s.x+o+r.x,y:s.y+l+r.y,alpha:s.opacity*r.opacity,visible:s.visible&&r.visible,properties:a(r,"properties",{})})}else if("group"===r.type){var h=n(t,r,s);i.push(s),s=h}}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(104),n=i(484),s=i(226);t.exports=function(t){for(var e,i=[],r=[],o=null,l=0;l<t.tilesets.length;l++){var h=t.tilesets[l];if(h.source)console.warn("Phaser can't load external tilesets. Use the Embed Tileset button and then export the map again.");else if(h.image){var u=new a(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing);if(t.version>1){if(Array.isArray(h.tiles)){for(var c={},d={},p=0;p<h.tiles.length;p++){var f=h.tiles[p];if(f.properties){var m={};f.properties.forEach((function(t){m[t.name]=t.value})),d[f.id]=m}if(f.objectgroup&&(c[f.id]={objectgroup:f.objectgroup},f.objectgroup.objects)){var g=f.objectgroup.objects.map((function(t){return s(t)}));c[f.id].objectgroup.objects=g}f.animation&&(c.hasOwnProperty(f.id)?c[f.id].animation=f.animation:c[f.id]={animation:f.animation})}u.tileData=c,u.tileProperties=d}}else if(h.tileproperties&&(u.tileProperties=h.tileproperties),h.tiles)for(e in u.tileData=h.tiles,u.tileData){var y=u.tileData[e].objectgroup;if(y&&y.objects){var k=y.objects.map((function(t){return s(t)}));u.tileData[e].objectgroup.objects=k}}u.updateTileData(h.imagewidth,h.imageheight),i.push(u)}else{var v=new n(h.name,h.firstgid,h.tilewidth,h.tileheight,h.margin,h.spacing,h.properties);for(e in h.tiles){var b=h.tiles[e].image,w=h.firstgid+parseInt(e,10);v.addImage(w,b)}r.push(v)}o&&(o.lastgid=h.firstgid-1),o=h}return{tilesets:i,imageCollections:r}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t,e,i,a,n,s,r){(void 0===i||i<=0)&&(i=32),(void 0===a||a<=0)&&(a=32),void 0===n&&(n=0),void 0===s&&(s=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|a,this.imageMargin=0|n,this.imageSpacing=0|s,this.properties=r||{},this.images=[],this.total=0},containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){return this.images.push({gid:t,image:e}),this.total++,this}});t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(108);t.exports=function(t,e){for(var i={},n=0;n<e.length;n++){var s=e[n];a(t,s)&&(i[s]=t[s])}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2),n=i(226),s=i(487),r=i(225);t.exports=function(t){for(var e=[],i=[],o=r(t);o.i<o.layers.length||i.length>0;)if(o.i>=o.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}o=i.pop()}else{var l=o.layers[o.i];if(o.i++,l.opacity*=o.opacity,l.visible=o.visible&&l.visible,"objectgroup"===l.type){l.name=o.name+l.name;for(var h=o.x+a(l,"startx",0)+a(l,"offsetx",0),u=o.y+a(l,"starty",0)+a(l,"offsety",0),c=[],d=0;d<l.objects.length;d++){var p=n(l.objects[d],h,u);c.push(p)}var f=new s(l);f.objects=c,e.push(f)}else if("group"===l.type){var m=r(t,l,o);i.push(o),o=m}}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=new a({initialize:function(t){void 0===t&&(t={}),this.name=n(t,"name","object layer"),this.opacity=n(t,"opacity",1),this.properties=n(t,"properties",{}),this.propertyTypes=n(t,"propertytypes",{}),this.type=n(t,"type","objectgroup"),this.visible=n(t,"visible",!0),this.objects=n(t,"objects",[])}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(104);t.exports=function(t){var e,i,n=[];for(e=0;e<t.imageCollections.length;e++)for(var s=t.imageCollections[e],r=s.images,o=0;o<r.length;o++){var l=r[o];(i=new a(l.image,l.gid,s.imageWidth,s.imageHeight,0,0)).updateTileData(s.imageWidth,s.imageHeight),t.tilesets.push(i)}for(e=0;e<t.tilesets.length;e++)for(var h=(i=t.tilesets[e]).tileMargin,u=i.tileMargin,c=0,d=0,p=0,f=i.firstgid;f<i.firstgid+i.total&&(n[f]=[h,u,e],h+=i.tileWidth+i.tileSpacing,++c!==i.total)&&(++d!==i.columns||(h=i.tileMargin,u+=i.tileHeight+i.tileSpacing,d=0,++p!==i.rows));f++);return n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(18);t.exports=function(t){for(var e,i,n,s,r,o=0;o<t.layers.length;o++){e=t.layers[o],s=null;for(var l=0;l<e.data.length;l++){r=e.data[l];for(var h=0;h<r.length;h++)null===(i=r[h])||i.index<0||(n=t.tiles[i.index][2],s=t.tilesets[n],i.width=s.tileWidth,i.height=s.tileHeight,s.tileProperties&&s.tileProperties[i.index-s.firstgid]&&(i.properties=a(i.properties,s.tileProperties[i.index-s.firstgid])))}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(32),n=i(103),s=i(491),r=i(492);t.exports=function(t,e,i){if(0===e.layer.length)return console.warn("No layers found in the Weltmeister map: "+t),null;for(var o=0,l=0,h=0;h<e.layer.length;h++)e.layer[h].width>o&&(o=e.layer[h].width),e.layer[h].height>l&&(l=e.layer[h].height);var u=new n({width:o,height:l,name:t,tileWidth:e.layer[0].tilesize,tileHeight:e.layer[0].tilesize,format:a.WELTMEISTER});return u.layers=s(e,i),u.tilesets=r(e),u}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(102),n=i(74);t.exports=function(t,e){for(var i=[],s=0;s<t.layer.length;s++){for(var r=t.layer[s],o=new a({name:r.name,width:r.width,height:r.height,tileWidth:r.tilesize,tileHeight:r.tilesize,visible:1===r.visible}),l=[],h=[],u=0;u<r.data.length;u++){for(var c=0;c<r.data[u].length;c++){var d,p=r.data[u][c]-1;d=p>-1?new n(o,p,c,u,r.tilesize,r.tilesize):e?null:new n(o,-1,c,u,r.tilesize,r.tilesize),l.push(d)}h.push(l),l=[]}o.data=h,i.push(o)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(104);t.exports=function(t){for(var e=[],i=[],n=0;n<t.layer.length;n++){var s=t.layer[n],r=s.tilesetName;""!==r&&-1===i.indexOf(r)&&(i.push(r),e.push(new a(r,0,s.tilesize,s.tilesize,0,0)))}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(35),s=i(494),r=i(18),o=i(32),l=i(102),h=i(330),u=i(80),c=i(495),d=i(74),p=i(141),f=i(104),m=new a({initialize:function(t,e){this.scene=t,this.tileWidth=e.tileWidth,this.tileHeight=e.tileHeight,this.width=e.width,this.height=e.height,this.orientation=e.orientation,this.renderOrder=e.renderOrder,this.format=e.format,this.version=e.version,this.properties=e.properties,this.widthInPixels=e.widthInPixels,this.heightInPixels=e.heightInPixels,this.imageCollections=e.imageCollections,this.images=e.images,this.layers=e.layers,this.tilesets=e.tilesets,this.objects=e.objects,this.currentLayerIndex=0},setRenderOrder:function(t){var e=["right-down","left-down","right-up","left-up"];return"number"==typeof t&&(t=e[t]),e.indexOf(t)>-1&&(this.renderOrder=t),this},addTilesetImage:function(t,e,i,a,n,s,r){if(void 0===t)return null;if(null==e&&(e=t),!this.scene.sys.textures.exists(e))return console.warn("Invalid Tileset Image: "+e),null;var l=this.scene.sys.textures.get(e),h=this.getTilesetIndex(t);if(null===h&&this.format===o.TILED_JSON)return console.warn("No data found for Tileset: "+t),null;var u=this.tilesets[h];return u?(u.setTileSize(i,a),u.setSpacing(n,s),u.setImage(l),u):(void 0===i&&(i=this.tileWidth),void 0===a&&(a=this.tileHeight),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),(u=new f(t,r,i,a,n,s)).setImage(l),this.tilesets.push(u),u)},convertLayerToStatic:function(t){if(null===(t=this.getLayer(t)))return null;var e=t.tilemapLayer;if(!(e&&e instanceof s))return null;var i=new c(e.scene,e.tilemap,e.layerIndex,e.tileset,e.x,e.y);return this.scene.sys.displayList.add(i),e.destroy(),i},copy:function(t,e,i,a,n,s,r,o){return o=this.getLayer(o),this._isStaticCall(o,"copy")?this:null!==o?(p.Copy(t,e,i,a,n,s,r,o),this):null},createBlankDynamicLayer:function(t,e,i,a,n,r,o,h){if(void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=this.width),void 0===r&&(r=this.height),void 0===o&&(o=this.tileWidth),void 0===h&&(h=this.tileHeight),null!==this.getLayerIndex(t))return console.warn("Invalid Tilemap Layer ID: "+t),null;for(var u,c=new l({name:t,tileWidth:o,tileHeight:h,width:n,height:r}),p=0;p<r;p++){u=[];for(var f=0;f<n;f++)u.push(new d(c,-1,f,p,o,h,this.tileWidth,this.tileHeight));c.data.push(u)}this.layers.push(c),this.currentLayerIndex=this.layers.length-1;var m=new s(this.scene,this,this.currentLayerIndex,e,i,a);return m.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(m),m},createDynamicLayer:function(t,e,i,a){var n=this.getLayerIndex(t);if(null===n)return console.warn("Invalid Tilemap Layer ID: "+t),"string"==typeof t&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;var r=this.layers[n];if(r.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+t),null;this.currentLayerIndex=n,void 0===i&&(i=r.x),void 0===a&&(a=r.y);var o=new s(this.scene,this,n,e,i,a);return o.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(o),o},createFromObjects:function(t,e,i,a){void 0===i&&(i={}),void 0===a&&(a=this.scene);var s=this.getObjectLayer(t);if(!s)return console.warn("Cannot create from object. Invalid objectgroup name given: "+t),"string"==typeof layerID&&console.warn("Valid objectgroup names:\n\t"+this.getObjectLayerNames().join(",\n\t")),null;for(var o=s.objects,l=[],u=0;u<o.length;u++){var c=!1,d=o[u];if((void 0!==d.gid&&"number"==typeof e&&d.gid===e||void 0!==d.id&&"number"==typeof e&&d.id===e||void 0!==d.name&&"string"==typeof e&&d.name===e)&&(c=!0),c){var p=r({},i,d.properties);p.x=d.x,p.y=d.y;var f=a.make.sprite(p);f.name=d.name,d.width&&(f.displayWidth=d.width),d.height&&(f.displayHeight=d.height);var m={x:f.originX*d.width,y:(f.originY-1)*d.height};if(d.rotation){var g=n(d.rotation);h(m,g),f.rotation=g}for(var y in f.x+=m.x,f.y+=m.y,void 0===d.flippedHorizontal&&void 0===d.flippedVertical||f.setFlip(d.flippedHorizontal,d.flippedVertical),d.visible||(f.visible=!1),d.properties)f.hasOwnProperty(y)||f.setData(y,d.properties[y]);l.push(f)}}return l},createFromTiles:function(t,e,i,a,n,s){return null===(s=this.getLayer(s))?null:p.CreateFromTiles(t,e,i,a,n,s)},createStaticLayer:function(t,e,i,a){var n=this.getLayerIndex(t);if(null===n)return console.warn("Invalid Tilemap Layer ID: "+t),"string"==typeof t&&console.warn("Valid tilelayer names:\n\t"+this.getTileLayerNames().join(",\n\t")),null;if(this.layers[n].tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+t),null;this.currentLayerIndex=n,void 0===i&&this.layers[n].x&&(i=this.layers[n].x),void 0===a&&this.layers[n].y&&(a=this.layers[n].y);var s=new c(this.scene,this,n,e,i,a);return s.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(s),s},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=void 0},fill:function(t,e,i,a,n,s,r){return null===(r=this.getLayer(r))?null:(this._isStaticCall(r,"fill")||p.Fill(t,e,i,a,n,s,r),this)},filterObjects:function(t,e,i){if("string"==typeof t){var a=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+a),null}return t.objects.filter(e,i)},filterTiles:function(t,e,i,a,n,s,r,o){return null===(o=this.getLayer(o))?null:p.FilterTiles(t,e,i,a,n,s,r,o)},findByIndex:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.FindByIndex(t,e,i,a)},findObject:function(t,e,i){if("string"==typeof t){var a=t;if(!(t=this.getObjectLayer(t)))return console.warn("No object layer found with the name: "+a),null}return t.objects.find(e,i)||null},findTile:function(t,e,i,a,n,s,r,o){return null===(o=this.getLayer(o))?null:p.FindTile(t,e,i,a,n,s,r,o)},forEachTile:function(t,e,i,a,n,s,r,o){return null===(o=this.getLayer(o))?null:(p.ForEachTile(t,e,i,a,n,s,r,o),this)},getImageIndex:function(t){return this.getIndex(this.images,t)},getImageLayerNames:function(){return this.images&&Array.isArray(this.images)?this.images.map((function(t){return t.name})):[]},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayer:function(t){var e=this.getLayerIndex(t);return null!==e?this.layers[e]:null},getObjectLayer:function(t){var e=this.getIndex(this.objects,t);return null!==e?this.objects[e]:null},getObjectLayerNames:function(){return this.objects&&Array.isArray(this.objects)?this.objects.map((function(t){return t.name})):[]},getLayerIndex:function(t){return void 0===t?this.currentLayerIndex:"string"==typeof t?this.getLayerIndexByName(t):"number"==typeof t&&t<this.layers.length?t:t instanceof c||t instanceof s?t.layerIndex:null},getLayerIndexByName:function(t){return this.getIndex(this.layers,t)},getTileAt:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.GetTileAt(t,e,i,a)},getTileAtWorldXY:function(t,e,i,a,n){return null===(n=this.getLayer(n))?null:p.GetTileAtWorldXY(t,e,i,a,n)},getTileLayerNames:function(){return this.layers&&Array.isArray(this.layers)?this.layers.map((function(t){return t.name})):[]},getTilesWithin:function(t,e,i,a,n,s){return null===(s=this.getLayer(s))?null:p.GetTilesWithin(t,e,i,a,n,s)},getTilesWithinShape:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.GetTilesWithinShape(t,e,i,a)},getTilesWithinWorldXY:function(t,e,i,a,n,s,r){return null===(r=this.getLayer(r))?null:p.GetTilesWithinWorldXY(t,e,i,a,n,s,r)},getTileset:function(t){var e=this.getIndex(this.tilesets,t);return null!==e?this.tilesets[e]:null},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},hasTileAt:function(t,e,i){return null===(i=this.getLayer(i))?null:p.HasTileAt(t,e,i)},hasTileAtWorldXY:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.HasTileAtWorldXY(t,e,i,a)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(t){this.setLayer(t)}},putTileAt:function(t,e,i,a,n){return n=this.getLayer(n),this._isStaticCall(n,"putTileAt")||null===n?null:p.PutTileAt(t,e,i,a,n)},putTileAtWorldXY:function(t,e,i,a,n,s){return s=this.getLayer(s),this._isStaticCall(s,"putTileAtWorldXY")||null===s?null:p.PutTileAtWorldXY(t,e,i,a,n,s)},putTilesAt:function(t,e,i,a,n){return n=this.getLayer(n),this._isStaticCall(n,"putTilesAt")?this:null===n?null:(p.PutTilesAt(t,e,i,a,n),this)},randomize:function(t,e,i,a,n,s){return s=this.getLayer(s),this._isStaticCall(s,"randomize")?this:null===s?null:(p.Randomize(t,e,i,a,n,s),this)},calculateFacesAt:function(t,e,i){return null===(i=this.getLayer(i))?null:(p.CalculateFacesAt(t,e,i),this)},calculateFacesWithin:function(t,e,i,a,n){return null===(n=this.getLayer(n))?null:(p.CalculateFacesWithin(t,e,i,a,n),this)},removeLayer:function(t){var e=this.getLayerIndex(t);if(null!==e){u(this.layers,e);for(var i=e;i<this.layers.length;i++)this.layers[i].tilemapLayer&&this.layers[i].tilemapLayer.layerIndex--;return this.currentLayerIndex===e&&(this.currentLayerIndex=0),this}return null},destroyLayer:function(t){var e=this.getLayerIndex(t);return null!==e?((t=this.layers[e]).destroy(),u(this.layers,e),this.currentLayerIndex===e&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var t=this.layers,e=0;e<t.length;e++)t[e].tilemapLayer&&t[e].tilemapLayer.destroy(!1);return t.length=0,this.currentLayerIndex=0,this},removeTile:function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!0);var a=[];Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];a.push(this.removeTileAt(s.x,s.y,!0,i,s.tilemapLayer)),e>-1&&this.putTileAt(e,s.x,s.y,i,s.tilemapLayer)}return a},removeTileAt:function(t,e,i,a,n){return n=this.getLayer(n),this._isStaticCall(n,"removeTileAt")||null===n?null:p.RemoveTileAt(t,e,i,a,n)},removeTileAtWorldXY:function(t,e,i,a,n,s){return s=this.getLayer(s),this._isStaticCall(s,"removeTileAtWorldXY")||null===s?null:p.RemoveTileAtWorldXY(t,e,i,a,n,s)},renderDebug:function(t,e,i){return null===(i=this.getLayer(i))?null:(p.RenderDebug(t,e,i),this)},renderDebugFull:function(t,e){for(var i=this.layers,a=0;a<i.length;a++)p.RenderDebug(t,e,i[a]);return this},replaceByIndex:function(t,e,i,a,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"replaceByIndex")?this:null===r?null:(p.ReplaceByIndex(t,e,i,a,n,s,r),this)},setCollision:function(t,e,i,a,n){return null===(a=this.getLayer(a))?null:(p.SetCollision(t,e,i,a,n),this)},setCollisionBetween:function(t,e,i,a,n){return null===(n=this.getLayer(n))?null:(p.SetCollisionBetween(t,e,i,a,n),this)},setCollisionByProperty:function(t,e,i,a){return null===(a=this.getLayer(a))?null:(p.SetCollisionByProperty(t,e,i,a),this)},setCollisionByExclusion:function(t,e,i,a){return null===(a=this.getLayer(a))?null:(p.SetCollisionByExclusion(t,e,i,a),this)},setCollisionFromCollisionGroup:function(t,e,i){return null===(i=this.getLayer(i))?null:(p.SetCollisionFromCollisionGroup(t,e,i),this)},setTileIndexCallback:function(t,e,i,a){return null===(a=this.getLayer(a))?null:(p.SetTileIndexCallback(t,e,i,a),this)},setTileLocationCallback:function(t,e,i,a,n,s,r){return null===(r=this.getLayer(r))?null:(p.SetTileLocationCallback(t,e,i,a,n,s,r),this)},setLayer:function(t){var e=this.getLayerIndex(t);return null!==e&&(this.currentLayerIndex=e),this},setBaseTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e;for(var i=0;i<this.layers.length;i++){this.layers[i].baseTileWidth=t,this.layers[i].baseTileHeight=e;for(var a=this.layers[i].data,n=this.layers[i].width,s=this.layers[i].height,r=0;r<s;r++)for(var o=0;o<n;o++){var l=a[r][o];null!==l&&l.setSize(void 0,void 0,t,e)}}return this},setLayerTileSize:function(t,e,i){if(null===(i=this.getLayer(i)))return this;i.tileWidth=t,i.tileHeight=e;for(var a=i.data,n=i.width,s=i.height,r=0;r<s;r++)for(var o=0;o<n;o++){var l=a[r][o];null!==l&&l.setSize(t,e)}return this},shuffle:function(t,e,i,a,n){return n=this.getLayer(n),this._isStaticCall(n,"shuffle")?this:null===n?null:(p.Shuffle(t,e,i,a,n),this)},swapByIndex:function(t,e,i,a,n,s,r){return r=this.getLayer(r),this._isStaticCall(r,"swapByIndex")?this:null===r?null:(p.SwapByIndex(t,e,i,a,n,s,r),this)},tileToWorldX:function(t,e,i){return null===(i=this.getLayer(i))?null:p.TileToWorldX(t,e,i)},tileToWorldY:function(t,e,i){return null===(i=this.getLayer(i))?null:p.TileToWorldY(t,e,i)},tileToWorldXY:function(t,e,i,a,n){return null===(n=this.getLayer(n))?null:p.TileToWorldXY(t,e,i,a,n)},weightedRandomize:function(t,e,i,a,n,s){return s=this.getLayer(s),this._isStaticCall(s,"weightedRandomize")?this:null===s?null:(p.WeightedRandomize(t,e,i,a,n,s),this)},worldToTileX:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.WorldToTileX(t,e,i,a)},worldToTileY:function(t,e,i,a){return null===(a=this.getLayer(a))?null:p.WorldToTileY(t,e,i,a)},worldToTileXY:function(t,e,i,a,n,s){return null===(s=this.getLayer(s))?null:p.WorldToTileXY(t,e,i,a,n,s)},_isStaticCall:function(t,e){return t.tilemapLayer instanceof c&&(console.warn(e+": You cannot change the tiles in a static tilemap layer"),!0)}});t.exports=m},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(1343),r=i(13),o=i(141),l=new a({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Origin,n.Pipeline,n.Transform,n.Visible,n.ScrollFactor,s],initialize:function(t,e,i,a,n,s){r.call(this,t,"DynamicTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.CullTiles,this._renderOrder=0,this.gidMap=[],this.setTilesets(a),this.setAlpha(this.layer.alpha),this.setPosition(n,s),this.setOrigin(),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.initPipeline("TextureTintPipeline")},setTilesets:function(t){var e=[],i=[],a=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];if("string"==typeof s&&(s=a.getTileset(s)),s){i.push(s);for(var r=s.firstgid,o=0;o<s.total;o++)e[r+o]=s}}this.gidMap=e,this.tileset=i},setRenderOrder:function(t){return"string"==typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4&&(this._renderOrder=t),this},calculateFacesAt:function(t,e){return o.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,a){return o.CalculateFacesWithin(t,e,i,a,this.layer),this},createFromTiles:function(t,e,i,a,n){return o.CreateFromTiles(t,e,i,a,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles,this._renderOrder)},copy:function(t,e,i,a,n,s,r){return o.Copy(t,e,i,a,n,s,r,this.layer),this},destroy:function(t){void 0===t&&(t=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),t&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this))},fill:function(t,e,i,a,n,s){return o.Fill(t,e,i,a,n,s,this.layer),this},filterTiles:function(t,e,i,a,n,s,r){return o.FilterTiles(t,e,i,a,n,s,r,this.layer)},findByIndex:function(t,e,i){return o.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,a,n,s,r){return o.FindTile(t,e,i,a,n,s,r,this.layer)},forEachTile:function(t,e,i,a,n,s,r){return o.ForEachTile(t,e,i,a,n,s,r,this.layer),this},getTileAt:function(t,e,i){return o.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,a){return o.GetTileAtWorldXY(t,e,i,a,this.layer)},getTilesWithin:function(t,e,i,a,n){return o.GetTilesWithin(t,e,i,a,n,this.layer)},getTilesWithinShape:function(t,e,i){return o.GetTilesWithinShape(t,e,i,this.layer)},getTilesWithinWorldXY:function(t,e,i,a,n,s){return o.GetTilesWithinWorldXY(t,e,i,a,n,s,this.layer)},hasTileAt:function(t,e){return o.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return o.HasTileAtWorldXY(t,e,i,this.layer)},putTileAt:function(t,e,i,a){return o.PutTileAt(t,e,i,a,this.layer)},putTileAtWorldXY:function(t,e,i,a,n){return o.PutTileAtWorldXY(t,e,i,a,n,this.layer)},putTilesAt:function(t,e,i,a){return o.PutTilesAt(t,e,i,a,this.layer),this},randomize:function(t,e,i,a,n){return o.Randomize(t,e,i,a,n,this.layer),this},removeTileAt:function(t,e,i,a){return o.RemoveTileAt(t,e,i,a,this.layer)},removeTileAtWorldXY:function(t,e,i,a,n){return o.RemoveTileAtWorldXY(t,e,i,a,n,this.layer)},renderDebug:function(t,e){return o.RenderDebug(t,e,this.layer),this},replaceByIndex:function(t,e,i,a,n,s){return o.ReplaceByIndex(t,e,i,a,n,s,this.layer),this},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},setCollision:function(t,e,i,a){return o.SetCollision(t,e,i,this.layer,a),this},setCollisionBetween:function(t,e,i,a){return o.SetCollisionBetween(t,e,i,a,this.layer),this},setCollisionByProperty:function(t,e,i){return o.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return o.SetCollisionByExclusion(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return o.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileIndexCallback:function(t,e,i){return o.SetTileIndexCallback(t,e,i,this.layer),this},setTileLocationCallback:function(t,e,i,a,n,s){return o.SetTileLocationCallback(t,e,i,a,n,s,this.layer),this},shuffle:function(t,e,i,a){return o.Shuffle(t,e,i,a,this.layer),this},swapByIndex:function(t,e,i,a,n,s){return o.SwapByIndex(t,e,i,a,n,s,this.layer),this},tileToWorldX:function(t,e){return o.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return o.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,a){return o.TileToWorldXY(t,e,i,a,this.layer)},weightedRandomize:function(t,e,i,a,n){return o.WeightedRandomize(t,e,i,a,n,this.layer),this},worldToTileX:function(t,e,i){return o.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return o.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,a,n){return o.WorldToTileXY(t,e,i,a,n,this.layer)}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(12),s=i(20),r=i(13),o=i(1346),l=i(141),h=i(29),u=i(9),c=new a({Extends:r,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Depth,n.Flip,n.GetBounds,n.Origin,n.Pipeline,n.Transform,n.Visible,n.ScrollFactor,o],initialize:function(t,e,i,a,n,o){r.call(this,t,"StaticTilemapLayer"),this.isTilemap=!0,this.tilemap=e,this.layerIndex=i,this.layer=e.layers[i],this.layer.tilemapLayer=this,this.tileset=[],this.culledTiles=[],this.skipCull=!1,this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.CullTiles,this.renderer=t.sys.game.renderer,this.vertexBuffer=[],this.bufferData=[],this.vertexViewF32=[],this.vertexViewU32=[],this.dirty=[],this.vertexCount=[],this._renderOrder=0,this._tempMatrix=new h,this.gidMap=[],this.setTilesets(a),this.setAlpha(this.layer.alpha),this.setPosition(n,o),this.setOrigin(),this.setSize(e.tileWidth*this.layer.width,e.tileHeight*this.layer.height),this.updateVBOData(),this.initPipeline("TextureTintPipeline"),t.sys.game.events.on(s.CONTEXT_RESTORED,(function(){this.updateVBOData()}),this)},setTilesets:function(t){var e=[],i=[],a=this.tilemap;Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=t[n];if("string"==typeof s&&(s=a.getTileset(s)),s){i.push(s);for(var r=s.firstgid,o=0;o<s.total;o++)e[r+o]=s}}this.gidMap=e,this.tileset=i},updateVBOData:function(){for(var t=0;t<this.tileset.length;t++)this.dirty[t]=!0,this.vertexCount[t]=0,this.vertexBuffer[t]=null,this.bufferData[t]=null,this.vertexViewF32[t]=null,this.vertexViewU32[t]=null;return this},upload:function(t,e){var i=this.renderer,a=i.gl,n=i.pipelines.TextureTintPipeline;if(this.dirty[e]){var s,r,o,l=this.tileset[e],h=this.layer.width,u=this.layer.height,c=l.image.source[0].width,d=l.image.source[0].height,p=this.layer.data,f=this._renderOrder,m=l.firstgid,g=l.firstgid+l.total,y=this.vertexBuffer[e],k=this.bufferData[e],v=-1,b=h*u*n.vertexSize*6;if(this.vertexCount[e]=0,null===k&&(k=new ArrayBuffer(b),this.bufferData[e]=k,this.vertexViewF32[e]=new Float32Array(k),this.vertexViewU32[e]=new Uint32Array(k)),0===f)for(r=0;r<u;r++)for(o=0;o<h;o++)!(s=p[r][o])||s.index<m||s.index>g||!s.visible||(v=this.batchTile(v,s,l,c,d,t,e));else if(1===f)for(r=0;r<u;r++)for(o=h-1;o>=0;o--)!(s=p[r][o])||s.index<m||s.index>g||!s.visible||(v=this.batchTile(v,s,l,c,d,t,e));else if(2===f)for(r=u-1;r>=0;r--)for(o=0;o<h;o++)!(s=p[r][o])||s.index<m||s.index>g||!s.visible||(v=this.batchTile(v,s,l,c,d,t,e));else if(3===f)for(r=u-1;r>=0;r--)for(o=h-1;o>=0;o--)!(s=p[r][o])||s.index<m||s.index>g||!s.visible||(v=this.batchTile(v,s,l,c,d,t,e));this.dirty[e]=!1,null===y?(y=i.createVertexBuffer(k,a.STATIC_DRAW),this.vertexBuffer[e]=y):(i.setVertexBuffer(y),a.bufferSubData(a.ARRAY_BUFFER,0,k))}return this},batchTile:function(t,e,i,a,n,s,r){var o=i.getTileTextureCoordinates(e.index);if(!o)return t;var l=i.tileWidth,h=i.tileHeight,c=l/2,d=h/2,p=o.x/a,f=o.y/n,m=(o.x+l)/a,g=(o.y+h)/n,y=this._tempMatrix,k=-c,v=-d;e.flipX&&(l*=-1,k+=i.tileWidth),e.flipY&&(h*=-1,v+=i.tileHeight);var b=k+l,w=v+h;y.applyITRS(c+e.pixelX,d+e.pixelY,e.rotation,1,1);var S=u.getTintAppendFloatAlpha(16777215,s.alpha*this.alpha*e.alpha),x=y.getX(k,v),T=y.getY(k,v),A=y.getX(k,w),E=y.getY(k,w),C=y.getX(b,w),M=y.getY(b,w),_=y.getX(b,v),B=y.getY(b,v);s.roundPixels&&(x=Math.round(x),T=Math.round(T),A=Math.round(A),E=Math.round(E),C=Math.round(C),M=Math.round(M),_=Math.round(_),B=Math.round(B));var I=this.vertexViewF32[r],D=this.vertexViewU32[r];return I[++t]=x,I[++t]=T,I[++t]=p,I[++t]=f,I[++t]=0,D[++t]=S,I[++t]=A,I[++t]=E,I[++t]=p,I[++t]=g,I[++t]=0,D[++t]=S,I[++t]=C,I[++t]=M,I[++t]=m,I[++t]=g,I[++t]=0,D[++t]=S,I[++t]=x,I[++t]=T,I[++t]=p,I[++t]=f,I[++t]=0,D[++t]=S,I[++t]=C,I[++t]=M,I[++t]=m,I[++t]=g,I[++t]=0,D[++t]=S,I[++t]=_,I[++t]=B,I[++t]=m,I[++t]=f,I[++t]=0,D[++t]=S,this.vertexCount[r]+=6,t},setRenderOrder:function(t){if("string"==typeof t&&(t=["right-down","left-down","right-up","left-up"].indexOf(t)),t>=0&&t<4){this._renderOrder=t;for(var e=0;e<this.tileset.length;e++)this.dirty[e]=!0}return this},calculateFacesAt:function(t,e){return l.CalculateFacesAt(t,e,this.layer),this},calculateFacesWithin:function(t,e,i,a){return l.CalculateFacesWithin(t,e,i,a,this.layer),this},createFromTiles:function(t,e,i,a,n){return l.CreateFromTiles(t,e,i,a,n,this.layer)},cull:function(t){return this.cullCallback(this.layer,t,this.culledTiles)},setSkipCull:function(t){return void 0===t&&(t=!0),this.skipCull=t,this},setCullPadding:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=1),this.cullPaddingX=t,this.cullPaddingY=e,this},findByIndex:function(t,e,i){return l.FindByIndex(t,e,i,this.layer)},findTile:function(t,e,i,a,n,s,r){return l.FindTile(t,e,i,a,n,s,r,this.layer)},filterTiles:function(t,e,i,a,n,s,r){return l.FilterTiles(t,e,i,a,n,s,r,this.layer)},forEachTile:function(t,e,i,a,n,s,r){return l.ForEachTile(t,e,i,a,n,s,r,this.layer),this},getTileAt:function(t,e,i){return l.GetTileAt(t,e,i,this.layer)},getTileAtWorldXY:function(t,e,i,a){return l.GetTileAtWorldXY(t,e,i,a,this.layer)},getTilesWithin:function(t,e,i,a,n){return l.GetTilesWithin(t,e,i,a,n,this.layer)},getTilesWithinWorldXY:function(t,e,i,a,n,s){return l.GetTilesWithinWorldXY(t,e,i,a,n,s,this.layer)},getTilesWithinShape:function(t,e,i){return l.GetTilesWithinShape(t,e,i,this.layer)},hasTileAt:function(t,e){return l.HasTileAt(t,e,this.layer)},hasTileAtWorldXY:function(t,e,i){return l.HasTileAtWorldXY(t,e,i,this.layer)},renderDebug:function(t,e){return l.RenderDebug(t,e,this.layer),this},setCollision:function(t,e,i,a){return l.SetCollision(t,e,i,this.layer,a),this},setCollisionBetween:function(t,e,i,a){return l.SetCollisionBetween(t,e,i,a,this.layer),this},setCollisionByProperty:function(t,e,i){return l.SetCollisionByProperty(t,e,i,this.layer),this},setCollisionByExclusion:function(t,e,i){return l.SetCollisionByExclusion(t,e,i,this.layer),this},setTileIndexCallback:function(t,e,i){return l.SetTileIndexCallback(t,e,i,this.layer),this},setCollisionFromCollisionGroup:function(t,e){return l.SetCollisionFromCollisionGroup(t,e,this.layer),this},setTileLocationCallback:function(t,e,i,a,n,s){return l.SetTileLocationCallback(t,e,i,a,n,s,this.layer),this},tileToWorldX:function(t,e){return l.TileToWorldX(t,e,this.layer)},tileToWorldY:function(t,e){return l.TileToWorldY(t,e,this.layer)},tileToWorldXY:function(t,e,i,a){return l.TileToWorldXY(t,e,i,a,this.layer)},worldToTileX:function(t,e,i){return l.WorldToTileX(t,e,i,this.layer)},worldToTileY:function(t,e,i){return l.WorldToTileY(t,e,i,this.layer)},worldToTileXY:function(t,e,i,a,n){return l.WorldToTileXY(t,e,i,a,n,this.layer)},destroy:function(t){if(void 0===t&&(t=!0),this.tilemap){this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),t&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null;for(var e=0;e<this.tileset.length;e++)this.dirty[e]=!0,this.vertexCount[e]=0,this.vertexBuffer[e]=null,this.bufferData[e]=null,this.vertexViewF32[e]=null,this.vertexViewU32[e]=null;this.gidMap=[],this.tileset=[],r.prototype.destroy.call(this)}}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=new a({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=n(t,"delay",0),this.repeat=n(t,"repeat",0),this.loop=n(t,"loop",!1),this.callback=n(t,"callback",void 0),this.callbackScope=n(t,"callbackScope",this.callback),this.args=n(t,"args",[]),this.timeScale=n(t,"timeScale",1),this.startAt=n(t,"startAt",0),this.paused=n(t,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1355);t.exports=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===a.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6);t.exports=function(t){var e=a(t,"tweens",null);return null===e?[]:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(230),n=i(14),s=i(88),r=i(69),o=i(145),l=i(6),h=i(229),u=i(231),c=i(233);t.exports=function(t,e,i){void 0===i&&(i=a);var d=l(e,"from",0),p=l(e,"to",1),f=[{value:d}],m=o(e,"delay",i.delay),g=o(e,"duration",i.duration),y=l(e,"easeParams",i.easeParams),k=r(l(e,"ease",i.ease),y),v=o(e,"hold",i.hold),b=o(e,"repeat",i.repeat),w=o(e,"repeatDelay",i.repeatDelay),S=s(e,"yoyo",i.yoyo),x=[],T=h("value",p),A=c(f[0],0,"value",T.getEnd,T.getStart,T.getActive,k,m,g,S,v,b,w,!1,!1);A.start=d,A.current=d,A.to=p,x.push(A);var E=new u(t,x,f);E.offset=n(e,"offset",null),E.completeDelay=n(e,"completeDelay",0),E.loop=Math.round(n(e,"loop",0)),E.loopDelay=Math.round(n(e,"loopDelay",0)),E.paused=s(e,"paused",!1),E.useFrames=s(e,"useFrames",!1);for(var C=l(e,"callbackScope",E),M=[E,null],_=u.TYPES,B=0;B<_.length;B++){var I=_[B],D=l(e,I,!1);if(D){var P=l(e,I+"Scope",C),L=l(e,I+"Params",[]);E.setCallback(I,D,M.concat(L),P)}}return E}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(69),n=i(6),s=i(15);t.exports=function(t,e){void 0===e&&(e={});var i=n(e,"start",0),r=n(e,"ease",null),o=n(e,"grid",null),l=n(e,"from",0),h="first"===l,u="center"===l,c="last"===l,d="number"==typeof l,p=Array.isArray(t),f=p?parseFloat(t[0]):parseFloat(t),m=p?parseFloat(t[1]):0,g=Math.max(f,m);if(p&&(i+=f),o){var y=o[0],k=o[1],v=0,b=0,w=0,S=0,x=[];c?(v=y-1,b=k-1):d?(v=l%y,b=Math.floor(l/y)):u&&(v=(y-1)/2,b=(k-1)/2);for(var T=s.MIN_SAFE_INTEGER,A=0;A<k;A++){x[A]=[];for(var E=0;E<y;E++){w=v-E,S=b-A;var C=Math.sqrt(w*w+S*S);C>T&&(T=C),x[A][E]=C}}}var M=r?a(r):null;return o?function(t,e,a,n){var s,r=0,o=n%y,l=Math.floor(n/y);if(o>=0&&o<y&&l>=0&&l<k&&(r=x[l][o]),p){var h=m-f;s=M?r/T*h*M(r/T):r/T*h}else s=M?r*f*M(r/T):r*f;return s+i}:function(t,e,a,n,s){var r,o,y;(s--,h?r=n:u?r=Math.abs(s/2-n):c?r=s-n:d&&(r=Math.abs(l-n)),p)?(y=u?(m-f)/s*(2*r):(m-f)/s*r,o=M?y*M(r/s):y):o=M?s*g*M(r/s):r*f;return o+i}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(67),n=i(230),s=i(14),r=i(88),o=i(69),l=i(145),h=i(228),u=i(498),c=i(6),d=i(502),p=i(146);t.exports=function(t,e){var i=new d(t),f=u(e);if(0===f.length)return i.paused=!0,i;var m=a(n);m.targets=h(e);var g=s(e,"totalDuration",0);m.duration=g>0?Math.floor(g/f.length):l(e,"duration",m.duration),m.delay=l(e,"delay",m.delay),m.easeParams=c(e,"easeParams",m.easeParams),m.ease=o(c(e,"ease",m.ease),m.easeParams),m.hold=l(e,"hold",m.hold),m.repeat=l(e,"repeat",m.repeat),m.repeatDelay=l(e,"repeatDelay",m.repeatDelay),m.yoyo=r(e,"yoyo",m.yoyo),m.flipX=r(e,"flipX",m.flipX),m.flipY=r(e,"flipY",m.flipY);for(var y=0;y<f.length;y++)i.queue(p(i,f[y],m));i.completeDelay=s(e,"completeDelay",0),i.loop=Math.round(s(e,"loop",0)),i.loopDelay=Math.round(s(e,"loopDelay",0)),i.paused=r(e,"paused",!1),i.useFrames=r(e,"useFrames",!1);var k=c(e,"callbackScope",i),v=[i],b=c(e,"onStart",!1);if(b){var w=c(e,"onStartScope",k),S=c(e,"onStartParams",[]);i.setCallback("onStart",b,v.concat(S),w)}var x=c(e,"onUpdate",!1);if(x){var T=c(e,"onUpdateScope",k),A=c(e,"onUpdateParams",[]);i.setCallback("onUpdate",x,v.concat(A),T)}var E=c(e,"onLoop",!1);if(E){var C=c(e,"onLoopScope",k),M=c(e,"onLoopParams",[]);i.setCallback("onLoop",E,v.concat(M),C)}var _=c(e,"onYoyo",!1);if(_){var B=c(e,"onYoyoScope",k),I=c(e,"onYoyoParams",[]);i.setCallback("onYoyo",_,v.concat(null,I),B)}var D=c(e,"onComplete",!1);if(D){var P=c(e,"onCompleteScope",k),L=c(e,"onCompleteParams",[]);i.setCallback("onComplete",D,v.concat(L),P)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(232),r=i(146),o=i(89),l=new a({Extends:n,initialize:function(t){n.call(this),this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=o.PENDING_ADD,this._pausedState=o.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(t,e){this.emit(t,this),e&&e.func.apply(e.scope,e.params)},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===o.ACTIVE},add:function(t){return this.queue(r(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"===typeof t){var e=t[0];if("-"===e||"+"===e)return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],a=parseFloat(t.substr(2)),n=e;switch(i){case"+":n+=a;break;case"-":n-=a}return Math.max(0,n)},calcDuration:function(){for(var t=0,e=0,i=0,a=0;a<this.totalData;a++){var n=this.data[a];n.init(),this.hasOffset(n)?this.isOffsetAbsolute(n.offset)?(n.calculatedOffset=n.offset,0===n.offset&&(i=0)):this.isOffsetRelative(n.offset)&&(n.calculatedOffset=this.getRelativeOffset(n.offset,t)):n.calculatedOffset=i,t=n.totalDuration+n.calculatedOffset,e+=n.totalDuration,i+=n.totalDuration}this.duration=e,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=o.PAUSED,!1)},resetTweens:function(t){for(var e=0;e<this.totalData;e++){this.data[e].play(t)}},setCallback:function(t,e,i,a){return-1!==l.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:a,params:i}),this},makeActive:function(t){return this.manager.makeActive(t)},play:function(){if(this.state!==o.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=o.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=o.LOOP_DELAY):(this.state=o.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=o.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=o.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(t,e){if(this.state!==o.PAUSED){switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case o.ACTIVE:for(var i=this.totalData,a=0;a<this.totalData;a++){this.data[a].update(t,e)&&i--}this.dispatchTimelineEvent(s.TIMELINE_UPDATE,this.callbacks.onUpdate),0===i&&this.nextState();break;case o.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=o.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop));break;case o.COMPLETE_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=o.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))}return this.state===o.PENDING_REMOVE}},stop:function(){this.state=o.PENDING_REMOVE},pause:function(){if(this.state!==o.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=o.PAUSED,this.emit(s.TIMELINE_PAUSE,this),this},resume:function(){return this.state===o.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(s.TIMELINE_RESUME,this)),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].stop()}});l.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(151),n=i(0),s=i(111),r=new n({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.once(s.REMOVE_ANIMATION,this.remove,this),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this._reverse=!1,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(t){return t instanceof a&&(t=t.key),this.nextAnim=t,this.parent},setDelay:function(t){return void 0===t&&(t=0),this._delay=t,this.parent},getDelay:function(){return this._delay},delayedPlay:function(t,e,i){return this.play(e,!0,i),this.nextTick+=t,this.parent},getCurrentKey:function(){if(this.currentAnim)return this.currentAnim.key},load:function(t,e){return void 0===e&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,e),this.parent},pause:function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.updateFrame(t),this.parent},resume:function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.updateFrame(t),this.parent},isPaused:{get:function(){return this._paused}},play:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=0),t instanceof a&&(t=t.key),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!0,this._reverse=!1,this._paused=!1,this._wasPlaying=!0,this._startAnimation(t,i))},playReverse:function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=0),t instanceof a&&(t=t.key),e&&this.isPlaying&&this.currentAnim.key===t?this.parent:(this.forward=!1,this._reverse=!0,this._startAnimation(t,i))},_startAnimation:function(t,e){this.load(t,e);var i=this.currentAnim,a=this.parent;if(!i)return a;this.repeatCounter=-1===this._repeat?Number.MAX_VALUE:this._repeat,i.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,i.showOnStart&&(a.visible=!0);var n=this.currentFrame;return i.emit(s.ANIMATION_START,i,n,a),a.emit(s.SPRITE_ANIMATION_KEY_START+t,i,n,a),a.emit(s.SPRITE_ANIMATION_START,i,n,a),a},reverse:function(){return this.isPlaying&&(this._reverse=!this._reverse,this.forward=!this.forward),this.parent},getProgress:function(){var t=this.currentFrame.progress;return this.forward||(t=1-t),t},setProgress:function(t){return this.forward||(t=1-t),this.setCurrentFrame(this.currentAnim.getFrameByProgress(t)),this.parent},remove:function(t,e){void 0===e&&(e=this.currentAnim),this.isPlaying&&e.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},getRepeat:function(){return this._repeat},setRepeat:function(t){return this._repeat=t,this.repeatCounter=-1===t?Number.MAX_VALUE:t,this.parent},getRepeatDelay:function(){return this._repeatDelay},setRepeatDelay:function(t){return this._repeatDelay=t,this.parent},restart:function(t){void 0===t&&(t=!1);var e=this.currentAnim;e.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this._paused=!1,this.updateFrame(e.frames[0]);var i=this.parent,a=this.currentFrame;return e.emit(s.ANIMATION_RESTART,e,a,i),i.emit(s.SPRITE_ANIMATION_KEY_RESTART+e.key,e,a,i),i.emit(s.SPRITE_ANIMATION_RESTART,e,a,i),this.parent},stop:function(){this._pendingStop=0,this.isPlaying=!1;var t=this.parent,e=this.currentAnim,i=this.currentFrame;if(e&&(e.emit(s.ANIMATION_COMPLETE,e,i,t),t.emit(s.SPRITE_ANIMATION_KEY_COMPLETE+e.key,e,i,t),t.emit(s.SPRITE_ANIMATION_COMPLETE,e,i,t)),this.nextAnim){var a=this.nextAnim;this.nextAnim=null,this.play(a)}return t},stopAfterDelay:function(t){return this._pendingStop=1,this._pendingStopValue=t,this.parent},stopOnRepeat:function(){return this._pendingStop=2,this.parent},stopOnFrame:function(t){return this._pendingStop=3,this._pendingStopValue=t,this.parent},setTimeScale:function(t){return void 0===t&&(t=1),this._timeScale=t,this.parent},getTimeScale:function(){return this._timeScale},getTotalFrames:function(){return this.currentAnim.frames.length},update:function(t,e){if(this.currentAnim&&this.isPlaying&&!this.currentAnim.paused){if(this.accumulator+=e*this._timeScale,1===this._pendingStop&&(this._pendingStopValue-=e,this._pendingStopValue<=0))return this.currentAnim.completeAnimation(this);this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this)}},setCurrentFrame:function(t){var e=this.parent;return this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,e.isCropped&&e.frame.updateCropUVs(e._crop,e.flipX,e.flipY),e.setSizeToFrame(),e._originComponent&&(t.frame.customPivot?e.setOrigin(t.frame.pivotX,t.frame.pivotY):e.updateDisplayOrigin()),e},updateFrame:function(t){var e=this.setCurrentFrame(t);if(this.isPlaying){t.setAlpha&&(e.alpha=t.alpha);var i=this.currentAnim;e.emit(s.SPRITE_ANIMATION_KEY_UPDATE+i.key,i,t,e),e.emit(s.SPRITE_ANIMATION_UPDATE,i,t,e),3===this._pendingStop&&this._pendingStopValue===t&&this.currentAnim.completeAnimation(this)}},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},setYoyo:function(t){return void 0===t&&(t=!1),this._yoyo=t,this.parent},getYoyo:function(){return this._yoyo},destroy:function(){this.animationManager.off(s.REMOVE_ANIMATION,this.remove,this),this.animationManager=null,this.parent=null,this.currentAnim=null,this.currentFrame=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(505),n=i(36),s=i(0),r=i(33),o=i(506),l=i(92),h=i(29),u=new s({initialize:function(t){this.game=t,this.type=r.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.config={clearBeforeRender:t.config.clearBeforeRender,backgroundColor:t.config.backgroundColor,resolution:t.config.resolution,antialias:t.config.antialias,roundPixels:t.config.roundPixels},this.gameCanvas=t.canvas;var e={alpha:t.config.transparent,desynchronized:t.config.desynchronized};this.gameContext=this.game.config.context?this.game.config.context:this.gameCanvas.getContext("2d",e),this.currentContext=this.gameContext,this.antialias=t.config.antialias,this.blendModes=o(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this._tempMatrix4=new h,this.init()},init:function(){this.game.scale.on(l.RESIZE,this.onResize,this);var t=this.game.scale.baseSize;this.resize(t.width,t.height)},onResize:function(t,e){e.width===this.width&&e.height===this.height||this.resize(e.width,e.height)},resize:function(t,e){this.width=t,this.height=e},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentContext.globalCompositeOperation=t,this},setContext:function(t){return this.currentContext=t||this.gameContext,this},setAlpha:function(t){return this.currentContext.globalAlpha=t,this},preRender:function(){var t=this.gameContext,e=this.config,i=this.width,a=this.height;t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),e.clearBeforeRender&&t.clearRect(0,0,i,a),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,a)),t.save(),this.drawCount=0},render:function(t,e,i,a){var s=e.list,r=s.length,o=a._cx,l=a._cy,h=a._cw,u=a._ch,c=a.renderToTexture?a.context:t.sys.context;c.save(),this.game.scene.customViewports&&(c.beginPath(),c.rect(o,l,h,u),c.clip()),this.currentContext=c;var d=a.mask;d&&d.preRenderCanvas(this,null,a._maskCamera),a.transparent||(c.fillStyle=a.backgroundColor.rgba,c.fillRect(o,l,h,u)),c.globalAlpha=a.alpha,c.globalCompositeOperation="source-over",this.drawCount+=s.length,a.renderToTexture&&a.emit(n.PRE_RENDER,a),a.matrix.copyToContext(c);for(var p=0;p<r;p++){var f=s[p];f.willRender(a)&&(f.mask&&f.mask.preRenderCanvas(this,f,a),f.renderCanvas(this,f,i,a),f.mask&&f.mask.postRenderCanvas(this,f,a))}c.setTransform(1,0,0,1,0,0),c.globalCompositeOperation="source-over",c.globalAlpha=1,a.flashEffect.postRenderCanvas(c),a.fadeEffect.postRenderCanvas(c),a.dirty=!1,d&&d.postRenderCanvas(this),c.restore(),a.renderToTexture&&(a.emit(n.POST_RENDER,a),a.renderToGame&&t.sys.context.drawImage(a.canvas,o,l))},postRender:function(){this.gameContext.restore();var t=this.snapshotState;t.callback&&(a(this.gameCanvas,t),t.callback=null)},snapshotCanvas:function(t,e,i,n,s,r,o,l,h){void 0===i&&(i=!1),this.snapshotArea(n,s,r,o,e,l,h);var u=this.snapshotState;return u.getPixel=i,a(this.canvas,u),u.callback=null,this},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,t,e,i)},snapshotArea:function(t,e,i,a,n,s,r){var o=this.snapshotState;return o.callback=n,o.type=s,o.encoder=r,o.getPixel=!1,o.x=t,o.y=e,o.width=Math.min(i,this.gameCanvas.width),o.height=Math.min(a,this.gameCanvas.height),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},batchSprite:function(t,e,i,a){var n=i.alpha*t.alpha;if(0!==n){var s=this.currentContext,r=this._tempMatrix1,o=this._tempMatrix2,l=this._tempMatrix3,h=e.canvasData,u=h.x,c=h.y,d=e.cutWidth,p=e.cutHeight,f=e.customPivot,m=e.source.resolution,g=t.displayOriginX,y=t.displayOriginY,k=-g+e.x,v=-y+e.y;if(t.isCropped){var b=t._crop;b.flipX===t.flipX&&b.flipY===t.flipY||e.updateCropUVs(b,t.flipX,t.flipY),d=b.cw,p=b.ch,u=b.cx,c=b.cy,k=-g+b.x,v=-y+b.y,t.flipX&&(k>=0?k=-(k+d):k<0&&(k=Math.abs(k)-d)),t.flipY&&(v>=0?v=-(v+p):v<0&&(v=Math.abs(v)-p))}var w=1,S=1;t.flipX&&(f||(k+=-e.realWidth+2*g),w=-1),t.flipY&&(f||(v+=-e.realHeight+2*y),S=-1),o.applyITRS(t.x,t.y,t.rotation,t.scaleX*w,t.scaleY*S),r.copyFrom(i.matrix),a?(r.multiplyWithOffset(a,-i.scrollX*t.scrollFactorX,-i.scrollY*t.scrollFactorY),o.e=t.x,o.f=t.y,r.multiply(o,l)):(o.e-=i.scrollX*t.scrollFactorX,o.f-=i.scrollY*t.scrollFactorY,r.multiply(o,l)),s.save(),l.setToContext(s),s.globalCompositeOperation=this.blendModes[t.blendMode],s.globalAlpha=n,s.imageSmoothingEnabled=!(!this.antialias||e.source.scaleMode),s.drawImage(e.source.image,u,c,d,p,k,v,d/m,p/m),s.restore()}},destroy:function(){this.gameCanvas=null,this.gameContext=null,this.game=null}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26),n=i(31),s=i(2);t.exports=function(t,e){var i=s(e,"callback"),r=s(e,"type","image/png"),o=s(e,"encoder",.92),l=Math.abs(Math.round(s(e,"x",0))),h=Math.abs(Math.round(s(e,"y",0))),u=s(e,"width",t.width),c=s(e,"height",t.height);if(s(e,"getPixel",!1)){var d=t.getContext("2d").getImageData(l,h,1,1).data;i.call(null,new n(d[0],d[1],d[2],d[3]/255))}else if(0!==l||0!==h||u!==t.width||c!==t.height){var p=a.createWebGL(this,u,c);p.getContext("2d").drawImage(t,l,h,u,c,0,0,u,c);var f=new Image;f.onerror=function(){i.call(null),a.remove(p)},f.onload=function(){i.call(null,f),a.remove(p)},f.src=p.toDataURL(r,o)}else{var m=new Image;m.onerror=function(){i.call(null)},m.onload=function(){i.call(null,m)},m.src=t.toDataURL(r,o)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(52),n=i(316);t.exports=function(){var t=[],e=n.supportNewBlendModes,i="source-over";return t[a.NORMAL]=i,t[a.ADD]="lighter",t[a.MULTIPLY]=e?"multiply":i,t[a.SCREEN]=e?"screen":i,t[a.OVERLAY]=e?"overlay":i,t[a.DARKEN]=e?"darken":i,t[a.LIGHTEN]=e?"lighten":i,t[a.COLOR_DODGE]=e?"color-dodge":i,t[a.COLOR_BURN]=e?"color-burn":i,t[a.HARD_LIGHT]=e?"hard-light":i,t[a.SOFT_LIGHT]=e?"soft-light":i,t[a.DIFFERENCE]=e?"difference":i,t[a.EXCLUSION]=e?"exclusion":i,t[a.HUE]=e?"hue":i,t[a.SATURATION]=e?"saturation":i,t[a.COLOR]=e?"color":i,t[a.LUMINOSITY]=e?"luminosity":i,t[a.ERASE]="destination-out",t[a.SOURCE_IN]="source-in",t[a.SOURCE_OUT]="source-out",t[a.SOURCE_ATOP]="source-atop",t[a.DESTINATION_OVER]="destination-over",t[a.DESTINATION_IN]="destination-in",t[a.DESTINATION_OUT]="destination-out",t[a.DESTINATION_ATOP]="destination-atop",t[a.LIGHTER]="lighter",t[a.COPY]="copy",t[a.XOR]="xor",t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(91),n=i(36),s=i(0),r=i(33),o=i(20),l=i(120),h=i(1),u=i(92),c=i(80),d=i(121),p=i(29),f=i(9),m=i(508),g=i(509),y=i(510),k=i(237),v=i(511),b=new s({initialize:function(t){var e=t.config,i={alpha:e.transparent,desynchronized:e.desynchronized,depth:!1,antialias:e.antialiasGL,premultipliedAlpha:e.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:e.failIfMajorPerformanceCaveat,powerPreference:e.powerPreference};this.config={clearBeforeRender:e.clearBeforeRender,antialias:e.antialias,backgroundColor:e.backgroundColor,contextCreation:i,resolution:e.resolution,roundPixels:e.roundPixels,maxTextures:e.maxTextures,maxTextureSize:e.maxTextureSize,batchSize:e.batchSize,maxLights:e.maxLights,mipmapFilter:e.mipmapFilter},this.game=t,this.type=r.WEBGL,this.width=0,this.height=0,this.canvas=t.canvas,this.blendModes=[],this.nativeTextures=[],this.contextLost=!1,this.pipelines=null,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTextureUnit=0,this.currentTextures=new Array(16),this.currentFramebuffer=null,this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.defaultCamera=new a(0,0,0,0),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this._tempMatrix4=new p,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.mipmapFilter=null,this.init(this.config)},init:function(t){var e,i=this.game,a=this.canvas,n=t.backgroundColor;if(!(e=i.config.context?i.config.context:a.getContext("webgl",t.contextCreation)||a.getContext("experimental-webgl",t.contextCreation))||e.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=e;var s=this;this.contextLostHandler=function(t){s.contextLost=!0,s.game.events.emit(o.CONTEXT_LOST,s),t.preventDefault()},this.contextRestoredHandler=function(){s.contextLost=!1,s.init(s.config),s.game.events.emit(o.CONTEXT_RESTORED,s)},a.addEventListener("webglcontextlost",this.contextLostHandler,!1),a.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),i.context=e;for(var l=0;l<=27;l++)this.blendModes.push({func:[e.ONE,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_ADD});this.blendModes[1].func=[e.ONE,e.DST_ALPHA],this.blendModes[2].func=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[e.ONE,e.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[e.ZERO,e.ONE_MINUS_SRC_ALPHA],equation:e.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=e.BYTE,this.glFormats[1]=e.SHORT,this.glFormats[2]=e.UNSIGNED_BYTE,this.glFormats[3]=e.UNSIGNED_SHORT,this.glFormats[4]=e.FLOAT,this.glFuncMap={mat2:{func:e.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:e.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:e.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:e.uniform1f,length:1},"1fv":{func:e.uniform1fv,length:1},"1i":{func:e.uniform1i,length:1},"1iv":{func:e.uniform1iv,length:1},"2f":{func:e.uniform2f,length:2},"2fv":{func:e.uniform2fv,length:1},"2i":{func:e.uniform2i,length:2},"2iv":{func:e.uniform2iv,length:1},"3f":{func:e.uniform3f,length:3},"3fv":{func:e.uniform3fv,length:1},"3i":{func:e.uniform3i,length:3},"3iv":{func:e.uniform3iv,length:1},"4f":{func:e.uniform4f,length:4},"4fv":{func:e.uniform4fv,length:1},"4i":{func:e.uniform4i,length:4},"4iv":{func:e.uniform4iv,length:1}};var h=e.getSupportedExtensions();t.maxTextures||(t.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),t.maxTextureSize||(t.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE));var u="WEBGL_compressed_texture_",c="WEBKIT_"+u;this.compression.ETC1=e.getExtension(u+"etc1")||e.getExtension(c+"etc1"),this.compression.PVRTC=e.getExtension(u+"pvrtc")||e.getExtension(c+"pvrtc"),this.compression.S3TC=e.getExtension(u+"s3tc")||e.getExtension(c+"s3tc"),this.supportedExtensions=h,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.clearColor(n.redGL,n.greenGL,n.blueGL,n.alphaGL),this.mipmapFilter=e[t.mipmapFilter];for(var p=0;p<this.currentTextures.length;++p)this.currentTextures[p]=null;return this.pipelines={},this.addPipeline("TextureTintPipeline",new k({game:i,renderer:this})),this.addPipeline("TextureTintStripPipeline",new v({game:i,renderer:this})),this.addPipeline("BitmapMaskPipeline",new g({game:i,renderer:this})),this.addPipeline("Light2D",new y({game:i,renderer:this,maxLights:t.maxLights})),this.setBlendMode(r.BlendModes.NORMAL),i.textures.once(d.READY,this.boot,this),this},boot:function(){for(var t in this.pipelines)this.pipelines[t].boot();var e=this.game.textures.getFrame("__DEFAULT");this.pipelines.TextureTintPipeline.currentFrame=e,this.blankTexture=e;var i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,null),i.enable(i.SCISSOR_TEST),this.setPipeline(this.pipelines.TextureTintPipeline),this.game.scale.on(u.RESIZE,this.onResize,this);var a=this.game.scale.baseSize;this.resize(a.width,a.height,this.game.scale.resolution)},onResize:function(t,e,i,a){e.width===this.width&&e.height===this.height&&a===this.resolution||this.resize(e.width,e.height,a)},resize:function(t,e,i){var a=this.gl,n=this.pipelines;for(var s in this.width=t,this.height=e,this.resolution=i,a.viewport(0,0,t,e),n)n[s].resize(t,e,i);return this.drawingBufferHeight=a.drawingBufferHeight,a.scissor(0,a.drawingBufferHeight-e,t,e),this.defaultCamera.setSize(t,e),this},hasExtension:function(t){return!!this.supportedExtensions&&this.supportedExtensions.indexOf(t)},getExtension:function(t){return this.hasExtension(t)?(t in this.extensions||(this.extensions[t]=this.gl.getExtension(t)),this.extensions[t]):null},flush:function(){this.currentPipeline&&this.currentPipeline.flush()},hasPipeline:function(t){return t in this.pipelines},getPipeline:function(t){return this.hasPipeline(t)?this.pipelines[t]:null},removePipeline:function(t){return delete this.pipelines[t],this},addPipeline:function(t,e){return this.hasPipeline(t)?console.warn("Pipeline exists: "+t):this.pipelines[t]=e,e.name=t,this.pipelines[t].resize(this.width,this.height,this.config.resolution),e},pushScissor:function(t,e,i,a,n){void 0===n&&(n=this.drawingBufferHeight);var s=[t,e,i,a];return this.scissorStack.push(s),this.setScissor(t,e,i,a,n),this.currentScissor=s,s},setScissor:function(t,e,i,a,n){void 0===n&&(n=this.drawingBufferHeight);var s=this.gl,r=this.currentScissor,o=i>0&&a>0;if(r&&o){var l=r[0],h=r[1],u=r[2],c=r[3];o=l!==t||h!==e||u!==i||c!==a}o&&(this.flush(),s.scissor(t,n-e-a,i,a))},popScissor:function(){var t=this.scissorStack;t.pop();var e=t[t.length-1];e&&this.setScissor(e[0],e[1],e[2],e[3]),this.currentScissor=e},setPipeline:function(t,e){return this.currentPipeline===t&&this.currentPipeline.vertexBuffer===this.currentVertexBuffer&&this.currentPipeline.program===this.currentProgram||(this.flush(),this.currentPipeline=t,this.currentPipeline.bind()),this.currentPipeline.onBind(e),this.currentPipeline},hasActiveStencilMask:function(){var t=this.currentMask.mask,e=this.currentCameraMask.mask;return t&&t.isStencil||e&&e.isStencil},rebindPipeline:function(t){var e=this.gl;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),this.hasActiveStencilMask()?e.clear(e.DEPTH_BUFFER_BIT):(e.disable(e.STENCIL_TEST),e.clear(e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)),e.viewport(0,0,this.width,this.height),this.setBlendMode(0,!0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.blankTexture.glTexture),this.currentActiveTextureUnit=0,this.currentTextures[0]=this.blankTexture.glTexture,this.currentPipeline=t,this.currentPipeline.bind(),this.currentPipeline.onBind()},clearPipeline:function(){this.flush(),this.currentPipeline=null,this.currentProgram=null,this.currentVertexBuffer=null,this.currentIndexBuffer=null,this.setBlendMode(0,!0)},setBlendMode:function(t,e){void 0===e&&(e=!1);var i=this.gl,a=this.blendModes[t];return!!(e||t!==r.BlendModes.SKIP_CHECK&&this.currentBlendMode!==t)&&(this.flush(),i.enable(i.BLEND),i.blendEquation(a.equation),a.func.length>2?i.blendFuncSeparate(a.func[0],a.func[1],a.func[2],a.func[3]):i.blendFunc(a.func[0],a.func[1]),this.currentBlendMode=t,!0)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>17&&this.blendModes[t]&&this.blendModes.splice(t,1),this},setBlankTexture:function(t){void 0===t&&(t=!1),!t&&0===this.currentActiveTextureUnit&&this.currentTextures[0]||this.setTexture2D(this.blankTexture.glTexture,0)},setTexture2D:function(t,e,i){void 0===i&&(i=!0);var a=this.gl;return t!==this.currentTextures[e]&&(i&&this.flush(),this.currentActiveTextureUnit!==e&&(a.activeTexture(a.TEXTURE0+e),this.currentActiveTextureUnit=e),a.bindTexture(a.TEXTURE_2D,t),this.currentTextures[e]=t),this},setFramebuffer:function(t,e){void 0===e&&(e=!1);var i=this.gl,a=this.width,n=this.height;return t!==this.currentFramebuffer&&(t&&t.renderTexture?(a=t.renderTexture.width,n=t.renderTexture.height):this.flush(),i.bindFramebuffer(i.FRAMEBUFFER,t),i.viewport(0,0,a,n),e&&(t?(this.drawingBufferHeight=n,this.pushScissor(0,0,a,n)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=t),this},setProgram:function(t){var e=this.gl;return t!==this.currentProgram&&(this.flush(),e.useProgram(t),this.currentProgram=t),this},setVertexBuffer:function(t){var e=this.gl;return t!==this.currentVertexBuffer&&(this.flush(),e.bindBuffer(e.ARRAY_BUFFER,t),this.currentVertexBuffer=t),this},setIndexBuffer:function(t){var e=this.gl;return t!==this.currentIndexBuffer&&(this.flush(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.currentIndexBuffer=t),this},createTextureFromSource:function(t,e,i,a){var n=this.gl,s=n.NEAREST,o=n.NEAREST,h=n.CLAMP_TO_EDGE;e=t?t.width:e,i=t?t.height:i;var u=l(e,i);return u&&(h=n.REPEAT),a===r.ScaleModes.LINEAR&&this.config.antialias&&(s=u?this.mipmapFilter:n.LINEAR,o=n.LINEAR),t||"number"!=typeof e||"number"!=typeof i?this.createTexture2D(0,s,o,h,h,n.RGBA,t):this.createTexture2D(0,s,o,h,h,n.RGBA,null,e,i)},createTexture2D:function(t,e,i,a,n,s,r,o,h,u,c,d){u=null==u||u,void 0===c&&(c=!1),void 0===d&&(d=!1);var p=this.gl,f=p.createTexture();return this.setTexture2D(f,0),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,e),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,i),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,n),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,a),p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,u),p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,d),null==r?p.texImage2D(p.TEXTURE_2D,t,s,o,h,0,s,p.UNSIGNED_BYTE,null):(c||(o=r.width,h=r.height),p.texImage2D(p.TEXTURE_2D,t,s,s,p.UNSIGNED_BYTE,r)),l(o,h)&&p.generateMipmap(p.TEXTURE_2D),this.setTexture2D(null,0),f.isAlphaPremultiplied=u,f.isRenderTexture=!1,f.width=o,f.height=h,this.nativeTextures.push(f),f},createFramebuffer:function(t,e,i,a){var n,s=this.gl,r=s.createFramebuffer();if(this.setFramebuffer(r),a){var o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}if(i.isRenderTexture=!0,i.isAlphaPremultiplied=!1,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i,0),(n=s.checkFramebufferStatus(s.FRAMEBUFFER))!==s.FRAMEBUFFER_COMPLETE){throw new Error("Framebuffer incomplete. Framebuffer status: "+{36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"}[n])}return r.renderTexture=i,this.setFramebuffer(null),r},createProgram:function(t,e){var i=this.gl,a=i.createProgram(),n=i.createShader(i.VERTEX_SHADER),s=i.createShader(i.FRAGMENT_SHADER);if(i.shaderSource(n,t),i.shaderSource(s,e),i.compileShader(n),i.compileShader(s),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error("Failed to compile Vertex Shader:\n"+i.getShaderInfoLog(n));if(!i.getShaderParameter(s,i.COMPILE_STATUS))throw new Error("Failed to compile Fragment Shader:\n"+i.getShaderInfoLog(s));if(i.attachShader(a,n),i.attachShader(a,s),i.linkProgram(a),!i.getProgramParameter(a,i.LINK_STATUS))throw new Error("Failed to link program:\n"+i.getProgramInfoLog(a));return a},createVertexBuffer:function(t,e){var i=this.gl,a=i.createBuffer();return this.setVertexBuffer(a),i.bufferData(i.ARRAY_BUFFER,t,e),this.setVertexBuffer(null),a},createIndexBuffer:function(t,e){var i=this.gl,a=i.createBuffer();return this.setIndexBuffer(a),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,e),this.setIndexBuffer(null),a},deleteTexture:function(t){var e=this.nativeTextures.indexOf(t);return-1!==e&&c(this.nativeTextures,e),this.gl.deleteTexture(t),this.currentTextures[0]!==t||this.game.pendingDestroy||this.setBlankTexture(!0),this},deleteFramebuffer:function(t){return this.gl.deleteFramebuffer(t),this},deleteProgram:function(t){return this.gl.deleteProgram(t),this},deleteBuffer:function(t){return this.gl.deleteBuffer(t),this},preRenderCamera:function(t){var e=t._cx,i=t._cy,a=t._cw,s=t._ch,r=this.pipelines.TextureTintPipeline,o=t.backgroundColor;if(t.renderToTexture){this.flush(),this.pushScissor(e,i,a,-s),this.setFramebuffer(t.framebuffer);var l=this.gl;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),r.projOrtho(e,a+e,i,s+i,-1e3,1e3),t.mask&&(this.currentCameraMask.mask=t.mask,this.currentCameraMask.camera=t._maskCamera,t.mask.preRenderWebGL(this,t,t._maskCamera)),o.alphaGL>0&&r.drawFillRect(e,i,a+e,s+i,f.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL),t.emit(n.PRE_RENDER,t)}else this.pushScissor(e,i,a,s),t.mask&&(this.currentCameraMask.mask=t.mask,this.currentCameraMask.camera=t._maskCamera,t.mask.preRenderWebGL(this,t,t._maskCamera)),o.alphaGL>0&&r.drawFillRect(e,i,a,s,f.getTintFromFloats(o.redGL,o.greenGL,o.blueGL,1),o.alphaGL)},getCurrentStencilMask:function(){var t=null,e=this.maskStack,i=this.currentCameraMask;return e.length>0?t=e[e.length-1]:i.mask&&i.mask.isStencil&&(t=i),t},postRenderCamera:function(t){this.setPipeline(this.pipelines.TextureTintPipeline);var e=this.pipelines.TextureTintPipeline;if(t.flashEffect.postRenderWebGL(e,f.getTintFromFloats),t.fadeEffect.postRenderWebGL(e,f.getTintFromFloats),t.dirty=!1,this.popScissor(),t.renderToTexture){if(e.flush(),this.setFramebuffer(null),t.emit(n.POST_RENDER,t),t.renderToGame){e.projOrtho(0,e.width,e.height,0,-1e3,1e3);var i=f.getTintAppendFloatAlpha;(t.pipeline?t.pipeline:e).batchTexture(t,t.glTexture,t.width,t.height,t.x,t.y,t.width,t.height,t.zoom,t.zoom,t.rotation,t.flipX,!t.flipY,1,1,0,0,0,0,t.width,t.height,i(t._tintTL,t._alphaTL),i(t._tintTR,t._alphaTR),i(t._tintBL,t._alphaBL),i(t._tintBR,t._alphaBR),t._isTinted&&t.tintFill,0,0,this.defaultCamera,null)}this.setBlankTexture(!0)}t.mask&&(this.currentCameraMask.mask=null,t.mask.postRenderWebGL(this,t._maskCamera))},preRender:function(){if(!this.contextLost){var t=this.gl,e=this.pipelines;if(t.bindFramebuffer(t.FRAMEBUFFER,null),this.config.clearBeforeRender){var i=this.config.backgroundColor;t.clearColor(i.redGL,i.greenGL,i.blueGL,i.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}for(var a in t.enable(t.SCISSOR_TEST),e)e[a].onPreRender();this.currentScissor=[0,0,this.width,this.height],this.scissorStack=[this.currentScissor],this.game.scene.customViewports&&t.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.setPipeline(this.pipelines.TextureTintPipeline)}},render:function(t,e,i,a){if(!this.contextLost){var n=e.list,s=n.length,o=this.pipelines;for(var l in o)o[l].onRender(t,a);if(this.preRenderCamera(a),0===s)return this.setBlendMode(r.BlendModes.NORMAL),void this.postRenderCamera(a);this.currentType="";for(var h=this.currentMask,u=0;u<s;u++){var c=n[u];if(c.willRender(a)){c.blendMode!==this.currentBlendMode&&this.setBlendMode(c.blendMode);var d=c.mask;(h=this.currentMask).mask&&h.mask!==d&&h.mask.postRenderWebGL(this,h.camera),d&&h.mask!==d&&d.preRenderWebGL(this,c,a);var p=c.type;p!==this.currentType&&(this.newType=!0,this.currentType=p),this.nextTypeMatch=u<s-1&&n[u+1].type===this.currentType,c.renderWebGL(this,c,i,a),this.newType=!1}}(h=this.currentMask).mask&&h.mask.postRenderWebGL(this,h.camera),this.setBlendMode(r.BlendModes.NORMAL),this.postRenderCamera(a)}},postRender:function(){if(!this.contextLost){this.flush();var t=this.snapshotState;t.callback&&(m(this.canvas,t),t.callback=null);var e=this.pipelines;for(var i in e)e[i].onPostRender()}},snapshot:function(t,e,i){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,t,e,i)},snapshotArea:function(t,e,i,a,n,s,r){var o=this.snapshotState;return o.callback=n,o.type=s,o.encoder=r,o.getPixel=!1,o.x=t,o.y=e,o.width=Math.min(i,this.gl.drawingBufferWidth),o.height=Math.min(a,this.gl.drawingBufferHeight),this},snapshotPixel:function(t,e,i){return this.snapshotArea(t,e,1,1,i),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(t,e,i,a,n,s,r,o,l,h,u){void 0===n&&(n=!1),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=e),void 0===l&&(l=i);var c=this.currentFramebuffer;this.snapshotArea(s,r,o,l,a,h,u);var d=this.snapshotState;return d.getPixel=n,d.isFramebuffer=!0,d.bufferWidth=e,d.bufferHeight=i,this.setFramebuffer(t),m(this.canvas,d),this.setFramebuffer(c),d.callback=null,d.isFramebuffer=!1,this},canvasToTexture:function(t,e,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),e?this.updateCanvasTexture(t,e,a):this.createCanvasTexture(t,i,a)},createCanvasTexture:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var a=this.gl,n=a.NEAREST,s=a.NEAREST,r=t.width,o=t.height,h=a.CLAMP_TO_EDGE,u=l(r,o);return!e&&u&&(h=a.REPEAT),this.config.antialias&&(n=u?this.mipmapFilter:a.LINEAR,s=a.LINEAR),this.createTexture2D(0,n,s,h,h,a.RGBA,t,r,o,!0,!1,i)},updateCanvasTexture:function(t,e,i){void 0===i&&(i=!1);var a=this.gl,n=t.width,s=t.height;return n>0&&s>0&&(this.setTexture2D(e,0),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,i),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t),e.width=n,e.height=s,this.setTexture2D(null,0)),e},createVideoTexture:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var a=this.gl,n=a.NEAREST,s=a.NEAREST,r=t.videoWidth,o=t.videoHeight,h=a.CLAMP_TO_EDGE,u=l(r,o);return!e&&u&&(h=a.REPEAT),this.config.antialias&&(n=u?this.mipmapFilter:a.LINEAR,s=a.LINEAR),this.createTexture2D(0,n,s,h,h,a.RGBA,t,r,o,!0,!0,i)},updateVideoTexture:function(t,e,i){void 0===i&&(i=!1);var a=this.gl,n=t.videoWidth,s=t.videoHeight;return n>0&&s>0&&(this.setTexture2D(e,0),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,i),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,t),e.width=n,e.height=s,this.setTexture2D(null,0)),e},setTextureFilter:function(t,e){var i=this.gl,a=[i.LINEAR,i.NEAREST][e];return this.setTexture2D(t,0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,a),this.setTexture2D(null,0),this},setFloat1:function(t,e,i){return this.setProgram(t),this.gl.uniform1f(this.gl.getUniformLocation(t,e),i),this},setFloat2:function(t,e,i,a){return this.setProgram(t),this.gl.uniform2f(this.gl.getUniformLocation(t,e),i,a),this},setFloat3:function(t,e,i,a,n){return this.setProgram(t),this.gl.uniform3f(this.gl.getUniformLocation(t,e),i,a,n),this},setFloat4:function(t,e,i,a,n,s){return this.setProgram(t),this.gl.uniform4f(this.gl.getUniformLocation(t,e),i,a,n,s),this},setFloat1v:function(t,e,i){return this.setProgram(t),this.gl.uniform1fv(this.gl.getUniformLocation(t,e),i),this},setFloat2v:function(t,e,i){return this.setProgram(t),this.gl.uniform2fv(this.gl.getUniformLocation(t,e),i),this},setFloat3v:function(t,e,i){return this.setProgram(t),this.gl.uniform3fv(this.gl.getUniformLocation(t,e),i),this},setFloat4v:function(t,e,i){return this.setProgram(t),this.gl.uniform4fv(this.gl.getUniformLocation(t,e),i),this},setInt1:function(t,e,i){return this.setProgram(t),this.gl.uniform1i(this.gl.getUniformLocation(t,e),i),this},setInt2:function(t,e,i,a){return this.setProgram(t),this.gl.uniform2i(this.gl.getUniformLocation(t,e),i,a),this},setInt3:function(t,e,i,a,n){return this.setProgram(t),this.gl.uniform3i(this.gl.getUniformLocation(t,e),i,a,n),this},setInt4:function(t,e,i,a,n,s){return this.setProgram(t),this.gl.uniform4i(this.gl.getUniformLocation(t,e),i,a,n,s),this},setMatrix2:function(t,e,i,a){return this.setProgram(t),this.gl.uniformMatrix2fv(this.gl.getUniformLocation(t,e),i,a),this},setMatrix3:function(t,e,i,a){return this.setProgram(t),this.gl.uniformMatrix3fv(this.gl.getUniformLocation(t,e),i,a),this},setMatrix4:function(t,e,i,a){return this.setProgram(t),this.gl.uniformMatrix4fv(this.gl.getUniformLocation(t,e),i,a),this},getMaxTextures:function(){return this.config.maxTextures},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){for(var t=0;t<this.nativeTextures.length;t++)this.gl.deleteTexture(this.nativeTextures[t]);for(var e in this.nativeTextures=[],this.pipelines)this.pipelines[e].destroy(),delete this.pipelines[e];this.defaultCamera.destroy(),this.currentMask=null,this.currentCameraMask=null,this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.game=null,this.gl=null,this.canvas=null,this.maskStack=[],this.contextLost=!0,this.extensions={}}});t.exports=b},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26),n=i(31),s=i(2);t.exports=function(t,e){var i=t.getContext("experimental-webgl"),r=s(e,"callback"),o=s(e,"type","image/png"),l=s(e,"encoder",.92),h=s(e,"x",0),u=s(e,"y",0),c=s(e,"getPixel",!1),d=s(e,"isFramebuffer",!1),p=d?s(e,"bufferWidth",1):i.drawingBufferWidth,f=d?s(e,"bufferHeight",1):i.drawingBufferHeight;if(c){var m=new Uint8Array(4),g=d?u:f-u;i.readPixels(h,g,1,1,i.RGBA,i.UNSIGNED_BYTE,m),r.call(null,new n(m[0],m[1],m[2],m[3]/255))}else{var y=s(e,"width",p),k=s(e,"height",f),v=y*k*4,b=new Uint8Array(v);i.readPixels(h,f-u-k,y,k,i.RGBA,i.UNSIGNED_BYTE,b);for(var w=a.createWebGL(this,y,k),S=w.getContext("2d"),x=S.getImageData(0,0,y,k),T=x.data,A=0;A<k;A++)for(var E=0;E<y;E++){var C=4*((k-A)*y+E),M=d?v-4*(A*y+(y-E)):4*(A*y+E);T[M+0]=b[C+0],T[M+1]=b[C+1],T[M+2]=b[C+2],T[M+3]=b[C+3]}S.putImageData(x,0,0);var _=new Image;_.onerror=function(){r.call(null),a.remove(w)},_.onload=function(){r.call(null,_),a.remove(w)},_.src=w.toDataURL(o,l)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(785),s=i(786),r=i(147),o=new a({Extends:r,initialize:function(t){r.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:t.topology?t.topology:t.renderer.gl.TRIANGLES,vertShader:t.vertShader?t.vertShader:s,fragShader:t.fragShader?t.fragShader:n,vertexCapacity:t.vertexCapacity?t.vertexCapacity:3,vertexSize:t.vertexSize?t.vertexSize:2*Float32Array.BYTES_PER_ELEMENT,vertices:new Float32Array([-1,1,-1,-7,7,1]).buffer,attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.maxQuads=1,this.resolutionDirty=!0},onBind:function(){r.prototype.onBind.call(this);var t=this.renderer,e=this.program;return this.resolutionDirty&&(t.setFloat2(e,"uResolution",this.width,this.height),t.setInt1(e,"uMainSampler",0),t.setInt1(e,"uMaskSampler",1),this.resolutionDirty=!1),this},resize:function(t,e,i){return r.prototype.resize.call(this,t,e,i),this.resolutionDirty=!0,this},beginMask:function(t,e,i){var a=this.renderer,n=this.gl;t.bitmapMask&&n&&(a.flush(),t.prevFramebuffer=a.currentFramebuffer,a.setFramebuffer(t.mainFramebuffer),n.disable(n.STENCIL_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),a.currentCameraMask.mask!==t&&(a.currentMask.mask=t,a.currentMask.camera=i))},endMask:function(t,e){var i=this.gl,a=this.renderer,n=t.bitmapMask;if(n&&i){a.flush(),a.setFramebuffer(t.maskFramebuffer),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),a.setBlendMode(0,!0),n.renderWebGL(a,n,0,e),a.flush(),a.setFramebuffer(t.prevFramebuffer);var s=a.getCurrentStencilMask();s?(i.enable(i.STENCIL_TEST),s.mask.applyStencil(a,s.camera,!0)):a.currentMask.mask=null,a.setPipeline(this),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,t.maskTexture),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.mainTexture),i.uniform1i(i.getUniformLocation(this.program,"uInvertMaskAlpha"),t.invertAlpha),i.drawArrays(this.topology,0,3)}}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(787),s=i(237),r=10,o=new a({Extends:s,initialize:function(t){r=t.maxLights,t.fragShader=n.replace("%LIGHT_COUNT%",r.toString()),s.call(this,t),this.defaultNormalMap,this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1])},boot:function(){this.defaultNormalMap=this.game.textures.getFrame("__DEFAULT")},onBind:function(t){s.prototype.onBind.call(this);var e=this.renderer,i=this.program;return this.mvpUpdate(),e.setInt1(i,"uNormSampler",1),e.setFloat2(i,"uResolution",this.width,this.height),t&&this.setNormalMap(t),this},onRender:function(t,e){this.active=!1;var i=t.sys.lights;if(!i||i.lights.length<=0||!i.active)return this;var a=i.cull(e),n=Math.min(a.length,r);if(0===n)return this;this.active=!0;var s,o=this.renderer,l=this.program,h=e.matrix,u={x:0,y:0},c=o.height;for(s=0;s<r;++s)o.setFloat1(l,"uLights["+s+"].radius",0);for(o.setFloat4(l,"uCamera",e.x,e.y,e.rotation,e.zoom),o.setFloat3(l,"uAmbientLightColor",i.ambientColor.r,i.ambientColor.g,i.ambientColor.b),s=0;s<n;++s){var d=a[s],p="uLights["+s+"].";h.transformPoint(d.x,d.y,u),o.setFloat2(l,p+"position",u.x-e.scrollX*d.scrollFactorX*e.zoom,c-(u.y-e.scrollY*d.scrollFactorY*e.zoom)),o.setFloat3(l,p+"color",d.r,d.g,d.b),o.setFloat1(l,p+"intensity",d.intensity),o.setFloat1(l,p+"radius",d.radius)}return this.currentNormalMapRotation=null,this},batchTexture:function(t,e,i,a,n,s,r,o,l,h,u,c,d,p,f,m,g,y,k,v,b,w,S,x,T,A,E,C,M,_){var B;if(this.active)if(this.renderer.setPipeline(this),t.displayTexture?B=t.displayTexture.dataSource[t.displayFrame.sourceIndex]:t.texture?B=t.texture.dataSource[t.frame.sourceIndex]:t.tileset&&(B=Array.isArray(t.tileset)?t.tileset[0].image.dataSource[0]:t.tileset.image.dataSource[0]),B){this.setTexture2D(B.glTexture,1),this.setNormalMapRotation(u);var I=this._tempMatrix1,D=this._tempMatrix2,P=this._tempMatrix3,L=y/i+E,O=k/a+C,N=(y+v)/i+E,G=(k+b)/a+C,R=r,F=o,Q=-m,U=-g;if(t.isCropped){var H=t._crop;R=H.width,F=H.height,r=H.width,o=H.height;var Y=y=H.x,W=k=H.y;c&&(Y=v-H.x-H.width),d&&!e.isRenderTexture&&(W=b-H.y-H.height),L=Y/i+E,O=W/a+C,N=(Y+H.width)/i+E,G=(W+H.height)/a+C,Q=-m+y,U=-g+k}c&&(R*=-1,Q+=r),(d^=e.isRenderTexture?1:0)&&(F*=-1,U+=o);var z=Q+R,V=U+F;D.applyITRS(n,s,u,l,h),I.copyFrom(M.matrix),_?(I.multiplyWithOffset(_,-M.scrollX*p,-M.scrollY*f),D.e=n,D.f=s,I.multiply(D,P)):(D.e-=M.scrollX*p,D.f-=M.scrollY*f,I.multiply(D,P));var X=P.getX(Q,U),j=P.getY(Q,U),q=P.getX(Q,V),K=P.getY(Q,V),J=P.getX(z,V),Z=P.getY(z,V),$=P.getX(z,U),tt=P.getY(z,U);M.roundPixels&&(X=Math.round(X),j=Math.round(j),q=Math.round(q),K=Math.round(K),J=Math.round(J),Z=Math.round(Z),$=Math.round($),tt=Math.round(tt)),this.setTexture2D(e,0),this.batchQuad(X,j,q,K,J,Z,$,tt,L,O,N,G,w,S,x,T,A,e,0)}else console.warn("Normal map missing or invalid")},setNormalMap:function(t){var e;this.active&&t&&(t.texture&&(e=t.texture.dataSource[t.frame.sourceIndex]),e||(e=this.defaultNormalMap),this.setTexture2D(e.glTexture,1),this.renderer.setPipeline(t.defaultPipeline))},setNormalMapRotation:function(t){if(t!==this.currentNormalMapRotation||0===this.batches.length){this.batches.length>0&&this.flush();var e=this.inverseRotationMatrix;if(t){var i=-t,a=Math.cos(i),n=Math.sin(i);e[1]=n,e[3]=-n,e[0]=e[4]=a}else e[0]=e[4]=1,e[1]=e[3]=0;this.renderer.setMatrix3(this.program,"uInverseRotationMatrix",!1,e),this.currentNormalMapRotation=t}},batchSprite:function(t,e,i){if(this.active){var a=t.texture.dataSource[t.frame.sourceIndex];a&&(this.renderer.setPipeline(this),this.setTexture2D(a.glTexture,1),this.setNormalMapRotation(t.rotation),s.prototype.batchSprite.call(this,t,e,i))}}});o.LIGHT_COUNT=r,t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(2),s=i(238),r=i(339),o=i(340),l=i(29),h=i(147),u=new a({Extends:h,Mixins:[s],initialize:function(t){var e=t.renderer.config;h.call(this,{game:t.game,renderer:t.renderer,gl:t.renderer.gl,topology:t.renderer.gl.TRIANGLE_STRIP,vertShader:n(t,"vertShader",o),fragShader:n(t,"fragShader",r),vertexCapacity:n(t,"vertexCapacity",6*e.batchSize),vertexSize:n(t,"vertexSize",5*Float32Array.BYTES_PER_ELEMENT+4*Uint8Array.BYTES_PER_ELEMENT),attributes:[{name:"inPosition",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:0},{name:"inTexCoord",size:2,type:t.renderer.gl.FLOAT,normalized:!1,offset:2*Float32Array.BYTES_PER_ELEMENT},{name:"inTintEffect",size:1,type:t.renderer.gl.FLOAT,normalized:!1,offset:4*Float32Array.BYTES_PER_ELEMENT},{name:"inTint",size:4,type:t.renderer.gl.UNSIGNED_BYTE,normalized:!0,offset:5*Float32Array.BYTES_PER_ELEMENT}]}),this.vertexViewF32=new Float32Array(this.vertexData),this.vertexViewU32=new Uint32Array(this.vertexData),this.maxQuads=e.batchSize,this.batches=[],this._tempMatrix1=new l,this._tempMatrix2=new l,this._tempMatrix3=new l,this.mvpInit()},onBind:function(){return h.prototype.onBind.call(this),this.mvpUpdate(),this},resize:function(t,e,i){return h.prototype.resize.call(this,t,e,i),this.projOrtho(0,this.width,this.height,0,-1e3,1e3),this},setTexture2D:function(t,e){return void 0===t&&(t=this.renderer.blankTexture.glTexture),void 0===e&&(e=0),this.requireTextureBatch(t,e)&&this.pushBatch(t,e),this},requireTextureBatch:function(t,e){var i=this.batches,a=i.length;return!(a>0)||!((e>0?i[a-1].textures[e-1]:i[a-1].texture)===t)},pushBatch:function(t,e){if(0===e)this.batches.push({first:this.vertexCount,texture:t,textures:[]});else{var i=[];i[e-1]=t,this.batches.push({first:this.vertexCount,texture:null,textures:i})}},flush:function(){if(this.flushLocked)return this;this.flushLocked=!0;var t,e,i,a=this.gl,n=this.vertexCount,s=this.topology,r=this.vertexSize,o=this.renderer,l=this.batches,h=l.length,u=0,c=null;if(0===h||0===n)return this.flushLocked=!1,this;a.bufferSubData(a.ARRAY_BUFFER,0,this.bytes.subarray(0,n*r));for(var d=0;d<h-1;d++){if(c=l[d],t=l[d+1],c.textures.length>0){for(e=0;e<c.textures.length;++e)(i=c.textures[e])&&o.setTexture2D(i,1+e,!1);a.activeTexture(a.TEXTURE0)}u=t.first-c.first,null===c.texture||u<=0||(o.setTexture2D(c.texture,0,!1),a.drawArrays(s,c.first,u))}if((c=l[h-1]).textures.length>0){for(e=0;e<c.textures.length;++e)(i=c.textures[e])&&o.setTexture2D(i,1+e,!1);a.activeTexture(a.TEXTURE0)}return u=n-c.first,c.texture&&u>0&&(o.setTexture2D(c.texture,0,!1),a.drawArrays(s,c.first,u)),this.vertexCount=0,l.length=0,this.flushLocked=!1,this}});t.exports=u},function(t,e,i){var a={};t.exports=a;var n=i(99),s=i(38);a.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var a=(i+1)%t.length,r=n.normalise({x:t[a].y-t[i].y,y:t[i].x-t[a].x}),o=0===r.y?1/0:r.x/r.y;e[o=o.toFixed(3).toString()]=r}return s.values(e)},a.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),a=Math.sin(e),n=0;n<t.length;n++){var s,r=t[n];s=r.x*i-r.y*a,r.y=r.x*a+r.y*i,r.x=s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Bounce:i(1394),Collision:i(1395),Force:i(1396),Friction:i(1397),Gravity:i(1398),Mass:i(1399),Static:i(1400),Sensor:i(1401),SetBody:i(1402),Sleep:i(1403),Transform:i(1420),Velocity:i(1421)}},function(t,e,i){var a={};t.exports=a;var n=i(515),s=i(472),r=i(100);a.collisions=function(t,e){for(var i=[],o=e.pairs.table,l=e.metrics,h=0;h<t.length;h++){var u=t[h][0],c=t[h][1];if((!u.isStatic&&!u.isSleeping||!c.isStatic&&!c.isSleeping)&&a.canCollide(u.collisionFilter,c.collisionFilter)&&(l.midphaseTests+=1,r.overlaps(u.bounds,c.bounds)))for(var d=u.parts.length>1?1:0;d<u.parts.length;d++)for(var p=u.parts[d],f=c.parts.length>1?1:0;f<c.parts.length;f++){var m=c.parts[f];if(p===u&&m===c||r.overlaps(p.bounds,m.bounds)){var g,y=o[s.id(p,m)];g=y&&y.isActive?y.collision:null;var k=n.collides(p,m,g);l.narrowphaseTests+=1,k.reused&&(l.narrowReuseCount+=1),k.collided&&(i.push(k),l.narrowDetections+=1)}}}return i},a.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}},function(t,e,i){var a={};t.exports=a;var n=i(86),s=i(99);a.collides=function(t,e,i){var r,o,l,h,u=!1;if(i){var c=t.parent,d=e.parent,p=c.speed*c.speed+c.angularSpeed*c.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;u=i&&i.collided&&p<.2,h=i}else h={collided:!1,bodyA:t,bodyB:e};if(i&&u){var f=h.axisBody,m=f===t?e:t,g=[f.axes[i.axisNumber]];if(l=a._overlapAxes(f.vertices,m.vertices,g),h.reused=!0,l.overlap<=0)return h.collided=!1,h}else{if((r=a._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return h.collided=!1,h;if((o=a._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return h.collided=!1,h;r.overlap<o.overlap?(l=r,h.axisBody=t):(l=o,h.axisBody=e),h.axisNumber=l.axisNumber}h.bodyA=t.id<e.id?t:e,h.bodyB=t.id<e.id?e:t,h.collided=!0,h.depth=l.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,t=h.bodyA,e=h.bodyB,s.dot(l.axis,s.sub(e.position,t.position))<0?h.normal={x:l.axis.x,y:l.axis.y}:h.normal={x:-l.axis.x,y:-l.axis.y},h.tangent=s.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var y=a._findSupports(t,e,h.normal),k=[];if(n.contains(t.vertices,y[0])&&k.push(y[0]),n.contains(t.vertices,y[1])&&k.push(y[1]),k.length<2){var v=a._findSupports(e,t,s.neg(h.normal));n.contains(e.vertices,v[0])&&k.push(v[0]),k.length<2&&n.contains(e.vertices,v[1])&&k.push(v[1])}return k.length<1&&(k=[y[0]]),h.supports=k,h},a._overlapAxes=function(t,e,i){for(var n,r,o=s._temp[0],l=s._temp[1],h={overlap:Number.MAX_VALUE},u=0;u<i.length;u++){if(r=i[u],a._projectToAxis(o,t,r),a._projectToAxis(l,e,r),(n=Math.min(o.max-l.min,l.max-o.min))<=0)return h.overlap=n,h;n<h.overlap&&(h.overlap=n,h.axis=r,h.axisNumber=u)}return h},a._projectToAxis=function(t,e,i){for(var a=s.dot(e[0],i),n=a,r=1;r<e.length;r+=1){var o=s.dot(e[r],i);o>n?n=o:o<a&&(a=o)}t.min=a,t.max=n},a._findSupports=function(t,e,i){for(var a,n,r,o,l=Number.MAX_VALUE,h=s._temp[0],u=e.vertices,c=t.position,d=0;d<u.length;d++)n=u[d],h.x=n.x-c.x,h.y=n.y-c.y,(a=-s.dot(i,h))<l&&(l=a,r=n);return n=u[r.index-1>=0?r.index-1:u.length-1],h.x=n.x-c.x,h.y=n.y-c.y,l=-s.dot(i,h),o=n,n=u[(r.index+1)%u.length],h.x=n.x-c.x,h.y=n.y-c.y,(a=-s.dot(i,h))<l&&(o=n),[r,o]}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(518),i(519),i(520),i(521),i(522),i(523),i(524),i(525)},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var a=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(a,e[n],n,e)})},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},function(t,e){!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var i=e?this.internal_createDelay(e):this.internal_createDelay();return t(i.delayTime),i},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,i,a){void 0!==a?e.internal_start(t||0,i,a):e.internal_start(t||0,i||0)}):e.start=function(t,e,i){e||i?this.noteGrainOn(t||0,e,i):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}()},function(t,e){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(t,e){Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)})},function(t,e){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},function(t,e){for(var i=Date.now(),a=["ms","moz","webkit","o"],n=0;n<a.length&&!window.requestAnimationFrame;n++)window.requestAnimationFrame=window[a[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[n]+"CancelAnimationFrame"]||window[a[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),a=16+i-e;return a<0&&(a=0),i=e,setTimeout((function(){i=Date.now(),t(performance.now())}),a)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})},function(t,e){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var i=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]};i("Float32Array"),i("Uint32Array"),i("Uint16Array"),i("Int16Array"),i("ArrayBuffer")}},function(t,e,i){
/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(242);t.exports=function(t,e,i,n){for(var s=t[0],r=1;r<t.length;r++){var o=t[r];a(o,s,e,i,n),s=o}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"angle",e,i,n,s)}},function(t,e){t.exports=function(t,e,i){for(var a=0;a<t.length;a++){var n=t[a];e.call(i,n)}return t}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var a=i;a<t.length;a++){var n=t[a],s=!0;for(var r in e)n[r]!==e[r]&&(s=!1);if(s)return n}return null}},function(t,e){t.exports=function(t,e,i){void 0===i&&(i=0);for(var a=i;a<t.length;a++){var n=t[a],s=!0;for(var r in e)n[r]!==e[r]&&(s=!1);if(s)return n}return null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(255),n=i(105),s=i(2),r=i(1),o=new(i(110))({sys:{queueDepthSort:r,events:{once:r}}},0,0,1,1);t.exports=function(t,e){void 0===e&&(e={});var i=e.hasOwnProperty("width"),r=e.hasOwnProperty("height"),l=s(e,"width",-1),h=s(e,"height",-1),u=s(e,"cellWidth",1),c=s(e,"cellHeight",u),d=s(e,"position",n.TOP_LEFT),p=s(e,"x",0),f=s(e,"y",0),m=0,g=0,y=l*u,k=h*c;o.setPosition(p,f),o.setSize(u,c);for(var v=0;v<t.length;v++)if(a(t[v],o,d),i&&-1===l)o.x+=u;else if(r&&-1===h)o.y+=c;else if(m+=u,o.x+=u,m===y&&(m=0,g+=c,o.x=p,o.y+=c,g===k))break;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,n){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=a(t,0,1),this._alphaTR=a(e,0,1),this._alphaBL=a(i,0,1),this._alphaBR=a(n,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=a(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=a(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=a(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=a(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=a(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="add"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="repeat"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="restart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pauseall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="remove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resumeall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationcomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationcomplete-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationrepeat-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationrestart-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationstart-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationupdate-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationrepeat"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationrestart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="animationupdate"},function(t,e){t.exports={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,a){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,a,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){t.exports={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11),n=i(276),s=i(3),r={prepareBoundsOutput:function(t,e){(void 0===e&&(e=!1),0!==this.rotation&&n(t,this.x,this.y,this.rotation),e&&this.parentContainer)&&this.parentContainer.getBoundsTransformMatrix().transformPoint(t.x,t.y,t);return t},getCenter:function(t){return void 0===t&&(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,t},getTopLeft:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getTopRight:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(t,e)},getLeftCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getRightCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(t,e)},getBottomLeft:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomCenter:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBottomRight:function(t,e){return t||(t=new s),t.x=this.x-this.displayWidth*this.originX+this.displayWidth,t.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(t,e)},getBounds:function(t){var e,i,n,s,r,o,l,h;if(void 0===t&&(t=new a),this.parentContainer){var u=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(t),u.transformPoint(t.x,t.y,t),e=t.x,i=t.y,this.getTopRight(t),u.transformPoint(t.x,t.y,t),n=t.x,s=t.y,this.getBottomLeft(t),u.transformPoint(t.x,t.y,t),r=t.x,o=t.y,this.getBottomRight(t),u.transformPoint(t.x,t.y,t),l=t.x,h=t.y}else this.getTopLeft(t),e=t.x,i=t.y,this.getTopRight(t),n=t.x,s=t.y,this.getBottomLeft(t),r=t.x,o=t.y,this.getBottomRight(t),l=t.x,h=t.y;return t.x=Math.min(e,n,r,l),t.y=Math.min(i,s,o,h),t.width=Math.max(e,n,r,l)-t.x,t.height=Math.max(i,s,o,h)-t.y,t}};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="blur"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="contextlost"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="contextrestored"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="focus"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="hidden"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postrender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="poststep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prerender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prestep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="ready"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="step"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="visible"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(t){this._displayOriginX=t,this.originX=t/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(t){this._displayOriginY=t,this.originY=t/this.height}},setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateDisplayOrigin()},setOriginFromFrame:function(){return this.frame&&this.frame.customPivot?(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin()):this.setOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(35),n=i(88),s=i(6),r=i(89),o=i(3),l={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:r.PLAYING_FORWARD,setPath:function(t,e){void 0===e&&(e=this.pathConfig);var i=this.pathTween;return i&&i.isPlaying()&&i.stop(),this.path=t,e&&this.startFollow(e),this},setRotateToPath:function(t,e){return void 0===e&&(e=0),this.rotateToPath=t,this.pathRotationOffset=e,this},isFollowing:function(){var t=this.pathTween;return t&&t.isPlaying()},startFollow:function(t,e){void 0===t&&(t={}),void 0===e&&(e=0);var i=this.pathTween;i&&i.isPlaying()&&i.stop(),"number"==typeof t&&(t={duration:t}),t.from=s(t,"from",0),t.to=s(t,"to",1);var l=n(t,"positionOnPath",!1);this.rotateToPath=n(t,"rotateToPath",!1),this.pathRotationOffset=s(t,"rotationOffset",0);var h=s(t,"startAt",e);if(h&&(t.onStart=function(t){var e=t.data[0];e.progress=h,e.elapsed=e.duration*h;var i=e.ease(e.progress);e.current=e.start+(e.end-e.start)*i,e.target[e.key]=e.current}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(t),this.path.getStartPoint(this.pathOffset),l&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=r.PLAYING_FORWARD,this.rotateToPath){var u=this.path.getPoint(.1);this.rotation=Math.atan2(u.y-this.y,u.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=t,this},pauseFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.pause(),this},resumeFollow:function(){var t=this.pathTween;return t&&t.isPaused()&&t.resume(),this},stopFollow:function(){var t=this.pathTween;return t&&t.isPlaying()&&t.stop(),this},pathUpdate:function(){var t=this.pathTween;if(t){var e=t.data[0],i=this.pathDelta,n=this.pathVector;if(i.copy(n).negate(),e.state===r.COMPLETE)return this.path.getPoint(1,n),i.add(n),n.add(this.pathOffset),void this.setPosition(n.x,n.y);if(e.state!==r.PLAYING_FORWARD&&e.state!==r.PLAYING_BACKWARD)return;this.path.getPoint(t.getValue(),n),i.add(n),n.add(this.pathOffset);var s=this.x,o=this.y;this.setPosition(n.x,n.y);var l=this.x-s,h=this.y-o;if(0===l&&0===h)return;if(e.state!==this._prevDirection)return void(this._prevDirection=e.state);this.rotateToPath&&(this.rotation=Math.atan2(h,l)+a(this.pathRotationOffset))}}};t.exports=l},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={texture:null,frame:null,isCropped:!1,setCrop:function(t,e,i,a){if(void 0===t)this.isCropped=!1;else if(this.frame){if("number"==typeof t)this.frame.setCropUVs(this._crop,t,e,i,a,this.flipX,this.flipY);else{var n=t;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t,e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this._sizeComponent&&e&&this.setSizeToFrame(),this._originComponent&&i&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};t.exports=i},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},a={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,_isTinted:!1,tintFill:!1,clearTint:function(){return this.setTint(16777215),this._isTinted=!1,this},setTint:function(t,e,a,n){return void 0===t&&(t=16777215),void 0===e&&(e=t,a=t,n=t),this._tintTL=i(t),this._tintTR=i(e),this._tintBL=i(a),this._tintBR=i(n),this._isTinted=!0,this.tintFill=!1,this},setTintFill:function(t,e,i,a){return this.setTint(t,e,i,a),this.tintFill=!0,this},tintTopLeft:{get:function(){return this._tintTL},set:function(t){this._tintTL=i(t),this._isTinted=!0}},tintTopRight:{get:function(){return this._tintTR},set:function(t){this._tintTR=i(t),this._isTinted=!0}},tintBottomLeft:{get:function(){return this._tintBL},set:function(t){this._tintBL=i(t),this._isTinted=!0}},tintBottomRight:{get:function(){return this._tintBR},set:function(t){this._tintBR=i(t),this._isTinted=!0}},tint:{set:function(t){this.setTint(t,t,t,t)}},isTinted:{get:function(){return this._isTinted}}};t.exports=a},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="changedata"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="changedata-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="removedata"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="setdata"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="created"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="error"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="play"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="seeked"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="seeking"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="stop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="timeout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="unlocked"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"alpha",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"x",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"x",e,n,r,o),a(t,"y",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"y",e,i,n,s)}},function(t,e){t.exports=function(t,e,i,a){void 0===i&&(i=0),void 0===a&&(a=6.28);for(var n=i,s=(a-i)/t.length,r=0;r<t.length;r++)t[r].x=e.x+e.radius*Math.cos(n),t[r].y=e.y+e.radius*Math.sin(n),n+=s;return t}},function(t,e){t.exports=function(t,e,i,a){void 0===i&&(i=0),void 0===a&&(a=6.28);for(var n=i,s=(a-i)/t.length,r=e.width/2,o=e.height/2,l=0;l<t.length;l++)t[l].x=e.x+r*Math.cos(n),t[l].y=e.y+o*Math.sin(n),n+=s;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(153);t.exports=function(t,e){for(var i=a(e,t.length),n=0;n<t.length;n++){var s=t[n],r=i[n];s.x=r.x,s.y=r.y}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(285),n=i(286),s=i(287);t.exports=function(t,e,i){void 0===i&&(i=0);var r=a(e,!1,t.length);i>0?n(r,i):i<0&&s(r,Math.abs(i));for(var o=0;o<t.length;o++)t[o].x=r[o].x,t[o].y=r[o].y;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(288);t.exports=function(t,e,i){var n=a({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),s=a({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),r=a({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);n.pop(),s.pop(),r.pop();for(var o=(n=n.concat(s,r)).length/t.length,l=0,h=0;h<t.length;h++){var u=t[h],c=n[Math.floor(l)];u.x=c.x,u.y=c.y,l+=o}return t}},function(t,e){t.exports=function(t,e,i){for(var a=0;a<t.length;a++)t[a].anims.play(e,i);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(150);t.exports=function(t,e){for(var i=0;i<t.length;i++)a(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(157);t.exports=function(t,e){for(var i=0;i<t.length;i++)a(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(154);t.exports=function(t,e){for(var i=0;i<t.length;i++)a(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(155);t.exports=function(t,e){for(var i=0;i<t.length;i++)a(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(158);t.exports=function(t,e){for(var i=0;i<t.length;i++)a(e,t[i]);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"rotation",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(159),n=i(53);t.exports=function(t,e,i){for(var s=e.x,r=e.y,o=0;o<t.length;o++){var l=t[o];a(l,s,r,i,Math.max(1,n(l.x,l.y,s,r)))}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(159);t.exports=function(t,e,i,n){var s=e.x,r=e.y;if(0===n)return t;for(var o=0;o<t.length;o++)a(t[o],s,r,i,n);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"scaleX",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"scaleX",e,n,r,o),a(t,"scaleY",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(34);t.exports=function(t,e,i,n,s){return a(t,"scaleY",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"alpha",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n){return a(t,"blendMode",e,0,i,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"depth",e,i,n,s)}},function(t,e){t.exports=function(t,e,i){for(var a=0;a<t.length;a++)t[a].setInteractive(e,i);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"originX",e,n,r,o),a(t,"originY",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"rotation",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"scaleX",e,n,r,o),a(t,"scaleY",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"scaleX",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"scaleY",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"scrollFactorX",e,n,r,o),a(t,"scrollFactorY",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"scrollFactorX",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"scrollFactorY",e,i,n,s)}},function(t,e){t.exports=function(t,e,i,a,n){for(var s=0;s<t.length;s++)t[s].setTint(e,i,a,n);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n){return a(t,"visible",e,0,i,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"x",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s,r,o){return null==i&&(i=e),a(t,"x",e,n,r,o),a(t,"y",i,s,r,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(25);t.exports=function(t,e,i,n,s){return a(t,"y",e,i,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(3);t.exports=function(t,e,i,n,s){var r,o,l,h,u,c;if(void 0===n&&(n=0),void 0===s&&(s=new a),t.length>1)if(0===n){var d=t.length-1;for(r=t[d].x,o=t[d].y,l=d-1;l>=0;l--)h=(c=t[l]).x,u=c.y,c.x=r,c.y=o,r=h,o=u;t[d].x=e,t[d].y=i}else{for(r=t[0].x,o=t[0].y,l=1;l<t.length;l++)h=(c=t[l]).x,u=c.y,c.x=r,c.y=o,r=h,o=u;t[0].x=e,t[0].y=i}else r=t[0].x,o=t[0].y,t[0].x=e,t[0].y=i;return s.x=r,s.y=o,s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(114);t.exports=function(t){return a(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(160);t.exports=function(t,e,i,n,s){void 0===s&&(s=!1);var r,o=Math.abs(n-i)/t.length;if(s)for(r=0;r<t.length;r++)t[r][e]+=a(r*o,i,n);else for(r=0;r<t.length;r++)t[r][e]=a(r*o,i,n);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(161);t.exports=function(t,e,i,n,s){void 0===s&&(s=!1);var r,o=Math.abs(n-i)/t.length;if(s)for(r=0;r<t.length;r++)t[r][e]+=a(r*o,i,n);else for(r=0;r<t.length;r++)t[r][e]=a(r*o,i,n);return t}},function(t,e){t.exports=function(t,e,i,a,n){void 0===n&&(n=!1);var s,r=Math.abs(a-i)/t.length;if(n)for(s=0;s<t.length;s++)t[s][e]+=s*r+i;else for(s=0;s<t.length;s++)t[s][e]=s*r+i;return t}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(58);t.exports=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++){var s=t[n];s.x=a(s.x,e.left-i,e.right+i),s.y=a(s.y,e.top-i,e.bottom+i)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Animation:i(151),AnimationFrame:i(271),AnimationManager:i(289),Events:i(111)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BaseCache:i(290),CacheManager:i(292),Events:i(291)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="add"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="remove"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Controls:i(642),Scene2D:i(645)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={FixedKeyControl:i(643),SmoothedKeyControl:i(644)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(6),s=new a({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.speedX=0,this.speedY=0;var e=n(t,"speed",null);"number"==typeof e?(this.speedX=e,this.speedY=e):(this.speedX=n(t,"speed.x",0),this.speedY=n(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<.1&&(e.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(6),s=new a({initialize:function(t){this.camera=n(t,"camera",null),this.left=n(t,"left",null),this.right=n(t,"right",null),this.up=n(t,"up",null),this.down=n(t,"down",null),this.zoomIn=n(t,"zoomIn",null),this.zoomOut=n(t,"zoomOut",null),this.zoomSpeed=n(t,"zoomSpeed",.01),this.accelX=0,this.accelY=0;var e=n(t,"acceleration",null);"number"==typeof e?(this.accelX=e,this.accelY=e):(this.accelX=n(t,"acceleration.x",0),this.accelY=n(t,"acceleration.y",0)),this.dragX=0,this.dragY=0;var i=n(t,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=n(t,"drag.x",0),this.dragY=n(t,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var a=n(t,"maxSpeed",null);"number"==typeof a?(this.maxSpeedX=a,this.maxSpeedY=a):(this.maxSpeedX=n(t,"maxSpeed.x",0),this.maxSpeedY=n(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){return this.active=null!==this.camera,this},stop:function(){return this.active=!1,this},setCamera:function(t){return this.camera=t,this},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<.001&&(e.zoom=.001))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Camera:i(293),BaseCamera:i(91),CameraManager:i(701),Effects:i(301),Events:i(36)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="cameradestroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerafadeincomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerafadeinstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerafadeoutcomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerafadeoutstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="cameraflashcomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="cameraflashstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerapancomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerapanstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postrender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="prerender"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerarotatecomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerarotatestart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerashakecomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerashakestart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerazoomcomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="camerazoomstart"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(36),r=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,a,n,r,o,l){if(void 0===t&&(t=!0),void 0===e&&(e=1e3),void 0===i&&(i=0),void 0===a&&(a=0),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene),!r&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=e,this.direction=t,this.progress=0,this.red=i,this.green=a,this.blue=n,this.alpha=t?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l;var h=t?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(h,this.camera,this,e,i,a,n),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(t){if(!this.isRunning&&!this.isComplete)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera,a=this.red/255,n=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(a,s,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var t=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(t,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(36),r=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,a,n,r,o){return void 0===t&&(t=250),void 0===e&&(e=255),void 0===i&&(i=255),void 0===a&&(a=255),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=this.camera.scene),!n&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,this.red=e,this.green=i,this.blue=a,this.alpha=1,this._elapsed=0,this._onUpdate=r,this._onUpdateScope=o,this.camera.emit(s.FLASH_START,this.camera,this,t,e,i,a)),this.camera},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(t){if(!this.isRunning)return!1;var e=this.camera;return t.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",t.fillRect(e._cx,e._cy,e._cw,e._ch),!0},postRenderWebGL:function(t,e){if(!this.isRunning)return!1;var i=this.camera,a=this.red/255,n=this.blue/255,s=this.green/255;return t.drawFillRect(i._cx,i._cy,i._cw,i._ch,e(a,s,n,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(115),r=i(36),o=i(3),l=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,a,n,o,l){void 0===i&&(i=1e3),void 0===a&&(a=s.Linear),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene);var h=this.camera;return!n&&this.isRunning||(this.isRunning=!0,this.duration=i,this.progress=0,this.source.set(h.scrollX,h.scrollY),this.destination.set(t,e),h.getScroll(t,e,this.current),"string"==typeof a&&s.hasOwnProperty(a)?this.ease=s[a]:"function"==typeof a&&(this.ease=a),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.camera.emit(r.PAN_START,this.camera,this,i,t,e)),h},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);n.getScroll(this.destination.x,this.destination.y,this.current);var r=this.source.x+(this.current.x-this.source.x)*s,o=this.source.y+(this.current.y-this.source.y)*s;n.setScroll(r,o),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,r,o)}else n.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,n.scrollX,n.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=l},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}},function(t,e){t.exports=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}},function(t,e){t.exports=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},function(t,e){t.exports=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}},function(t,e){t.exports=function(t){return 1-Math.sqrt(1-t*t)}},function(t,e){t.exports=function(t){return Math.sqrt(1- --t*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},function(t,e){t.exports=function(t){return t*t*t}},function(t,e){t.exports=function(t){return--t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var a=i/4;return e<1?e=1:a=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/i)}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var a=i/4;return e<1?e=1:a=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-a)*(2*Math.PI)/i)+1}},function(t,e){t.exports=function(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var a=i/4;return e<1?e=1:a=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-a)*(2*Math.PI)/i)*.5+1}},function(t,e){t.exports=function(t){return Math.pow(2,10*(t-1))-.001}},function(t,e){t.exports=function(t){return 1-Math.pow(2,-10*t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t){return t*t}},function(t,e){t.exports=function(t){return t*(2-t)}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},function(t,e){t.exports=function(t){return t*t*t*t}},function(t,e){t.exports=function(t){return 1- --t*t*t*t}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},function(t,e){t.exports=function(t){return t*t*t*t*t}},function(t,e){t.exports=function(t){return--t*t*t*t*t+1}},function(t,e){t.exports=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}},function(t,e){t.exports=function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t<=0?0:t>=1?1:1/e*(1+(e*t|0))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(36),r=i(3),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.intensity=new r,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,a,n){return void 0===t&&(t=100),void 0===e&&(e=.05),void 0===i&&(i=!1),void 0===a&&(a=null),void 0===n&&(n=this.camera.scene),!i&&this.isRunning||(this.isRunning=!0,this.duration=t,this.progress=0,"number"==typeof e?this.intensity.set(e):this.intensity.set(e.x,e.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=n,this.camera.emit(s.SHAKE_START,this.camera,this,t,e)),this.camera},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(t,e){if(this.isRunning)if(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var i=this.intensity,n=this.camera._cw,s=this.camera._ch,r=this.camera.zoom;this._offsetX=(Math.random()*i.x*n*2-i.x*n)*r,this._offsetY=(Math.random()*i.y*s*2-i.y*s)*r,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});t.exports=o},function(t,e,i){
/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */
var a=i(19),n=i(0),s=i(36),r=i(115),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(t,e,i,a,n,o,l){void 0===i&&(i=1e3),void 0===a&&(a=r.Linear),void 0===n&&(n=!1),void 0===o&&(o=null),void 0===l&&(l=this.camera.scene),void 0===e&&(e=!1),this.shortestPath=e;var h=t;t<0?(h=-1*t,this.clockwise=!1):this.clockwise=!0;var u=360*Math.PI/180;h-=Math.floor(h/u)*u;var c=this.camera;if(!n&&this.isRunning)return c;if(this.isRunning=!0,this.duration=i,this.progress=0,this.source=c.rotation,this.destination=h,"string"==typeof a&&r.hasOwnProperty(a)?this.ease=r[a]:"function"==typeof a&&(this.ease=a),this._elapsed=0,this._onUpdate=o,this._onUpdateScope=l,this.shortestPath){var d=0,p=0;(d=this.destination>this.source?Math.abs(this.destination-this.source):Math.abs(this.destination+u)-this.source)<(p=this.source>this.destination?Math.abs(this.source-this.destination):Math.abs(this.source+u)-this.destination)?this.clockwise=!0:d>p&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,i,h),c},update:function(t,e){if(this.isRunning){this._elapsed+=e;var i=a(this._elapsed/this.duration,0,1);this.progress=i;var n=this.camera;if(this._elapsed<this.duration){var s=this.ease(i);this.current=n.rotation;var r=0,o=360*Math.PI/180,l=this.destination,h=this.current;!1===this.clockwise&&(l=this.current,h=this.destination),r=l>=h?Math.abs(l-h):Math.abs(l+o)-h;var u=0;u=this.clockwise?n.rotation+r*s:n.rotation-r*s,n.rotation=u,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,u)}else n.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,n,i,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(115),r=i(36),o=new n({initialize:function(t){this.camera=t,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(t,e,i,a,n,o){void 0===e&&(e=1e3),void 0===i&&(i=s.Linear),void 0===a&&(a=!1),void 0===n&&(n=null),void 0===o&&(o=this.camera.scene);var l=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=e,this.progress=0,this.source=l.zoom,this.destination=t,"string"==typeof i&&s.hasOwnProperty(i)?this.ease=s[i]:"function"==typeof i&&(this.ease=i),this._elapsed=0,this._onUpdate=n,this._onUpdateScope=o,this.camera.emit(r.ZOOM_START,this.camera,this,e,t)),l},update:function(t,e){this.isRunning&&(this._elapsed+=e,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(r.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(293),n=i(0),s=i(2),r=i(23),o=i(48),l=i(92),h=i(22),u=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.roundPixels=t.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,t.sys.events.once(h.BOOT,this.boot,this),t.sys.events.on(h.START,this.start,this)},boot:function(){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,t.scale.width,t.scale.height).setScene(this.scene),t.game.scale.on(l.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var t=this.systems;t.settings.cameras?this.fromJSON(t.settings.cameras):this.add(),this.main=this.cameras[0]}var e=this.systems.events;e.on(h.UPDATE,this.update,this),e.once(h.SHUTDOWN,this.shutdown,this)},add:function(t,e,i,n,s,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===n&&(n=this.scene.sys.scale.height),void 0===s&&(s=!1),void 0===r&&(r="");var o=new a(t,e,i,n);return o.setName(r),o.setScene(this.scene),o.setRoundPixels(this.roundPixels),o.id=this.getNextID(),this.cameras.push(o),s&&(this.main=o),o},addExisting:function(t,e){return void 0===e&&(e=!1),-1===this.cameras.indexOf(t)?(t.id=this.getNextID(),t.setRoundPixels(this.roundPixels),this.cameras.push(t),e&&(this.main=t),t):null},getNextID:function(){for(var t=this.cameras,e=1,i=0;i<32;i++){for(var a=!1,n=0;n<t.length;n++){var s=t[n];s&&s.id===e&&(a=!0)}if(!a)return e;e<<=1}return 0},getTotal:function(t){void 0===t&&(t=!1);for(var e=0,i=this.cameras,a=0;a<i.length;a++){var n=i[a];(!t||t&&n.visible)&&e++}return e},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.scale.width,i=this.scene.sys.scale.height,a=0;a<t.length;a++){var n=t[a],r=s(n,"x",0),o=s(n,"y",0),l=s(n,"width",e),h=s(n,"height",i),u=this.add(r,o,l,h);u.name=s(n,"name",""),u.zoom=s(n,"zoom",1),u.rotation=s(n,"rotation",0),u.scrollX=s(n,"scrollX",0),u.scrollY=s(n,"scrollY",0),u.roundPixels=s(n,"roundPixels",!1),u.visible=s(n,"visible",!0);var c=s(n,"backgroundColor",!1);c&&u.setBackgroundColor(c);var d=s(n,"bounds",null);if(d){var p=s(d,"x",0),f=s(d,"y",0),m=s(d,"width",e),g=s(d,"height",i);u.setBounds(p,f,m,g)}}return this},getCamera:function(t){for(var e=this.cameras,i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},getCamerasBelowPointer:function(t){for(var e=this.cameras,i=t.x,a=t.y,n=[],s=0;s<e.length;s++){var r=e[s];r.visible&&r.inputEnabled&&o(r,i,a)&&n.unshift(r)}return n},remove:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0,a=this.cameras,n=0;n<t.length;n++){var s=a.indexOf(t[n]);-1!==s&&(e&&a[s].destroy(),a.splice(s,1),i++)}return!this.main&&a[0]&&(this.main=a[0]),i},render:function(t,e,i){for(var a=this.scene,n=this.cameras,s=0;s<this.cameras.length;s++){var r=n[s];r.visible&&r.alpha>0&&(r.preRender(1),t.render(a,e,i,r))}},resetAll:function(){for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].update(t,e)},onResize:function(t,e,i,a,n,s){for(var r=0;r<this.cameras.length;r++){var o=this.cameras[r];0===o._x&&0===o._y&&o._width===n&&o._height===s&&o.setSize(e.width,e.height)}},resize:function(t,e){for(var i=0;i<this.cameras.length;i++)this.cameras[i].setSize(t,e)},shutdown:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();this.cameras=[];var e=this.systems.events;e.off(h.UPDATE,this.update,this),e.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});r.register("CameraManager",u,"cameras"),t.exports=u},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="enterfullscreen"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="fullscreenfailed"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="fullscreenunsupported"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="leavefullscreen"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="orientationchange"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resize"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="create"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="preupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="ready"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="render"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="shutdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="sleep"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitioncomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitioninit"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="transitionwake"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="wake"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Config:i(314),CreateRenderer:i(337),DebugHeader:i(341),Events:i(20),TimeStep:i(342),VisibilityHandler:i(344)}},function(t,e){var i,a,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{a="function"==typeof clearTimeout?clearTimeout:r}catch(t){a=r}}();var l,h=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&p())}function p(){if(!u){var t=o(d);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(t){if(a===clearTimeout)return clearTimeout(t);if((a===r||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(t);try{a(t)}catch(e){try{return a.call(null,t)}catch(e){return a.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new f(t,e)),1!==h.length||u||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(118),n={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};t.exports=(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(n.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(n.mspointer=!0),navigator.getGamepads&&(n.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll"),n)},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(118),n={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};t.exports=function(){n.audioData=!!window.Audio,n.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(n.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(n.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(n.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(n.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(n.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(n.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(a.edge)n.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(10===i&&s>=11||i>10)&&(n.dolby=!0)}}catch(t){}return n}()},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};t.exports=function(){var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.ogg=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264=!0,i.mp4=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webm=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hls=!0))}catch(t){}return i}()},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={available:!1,cancel:"",keyboard:!1,request:""};t.exports=function(){var t,e="Fullscreen",a="FullScreen",n=["request"+e,"request"+a,"webkitRequest"+e,"webkitRequest"+a,"msRequest"+e,"msRequest"+a,"mozRequest"+a,"mozRequest"+e];for(t=0;t<n.length;t++)if(document.documentElement[n[t]]){i.available=!0,i.request=n[t];break}var s=["cancel"+a,"exit"+e,"webkitCancel"+a,"webkitExit"+e,"msCancel"+a,"msExit"+e,"mozCancel"+a,"mozExit"+e];if(i.available)for(t=0;t<s.length;t++)if(document[s[t]]){i.cancel=s[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(i.keyboard=!0),Object.defineProperty(i,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),i}()},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Between:i(317),BetweenPoints:i(734),BetweenPointsY:i(735),BetweenY:i(736),CounterClockwise:i(737),Normalize:i(318),Random:i(738),RandomDegrees:i(739),Reverse:i(740),RotateTo:i(741),ShortestBetween:i(742),Wrap:i(235),WrapDegrees:i(236)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}},function(t,e){t.exports=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)}},function(t,e){t.exports=function(t,e,i,a){return Math.atan2(i-t,a-e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15);t.exports=function(t){return t>Math.PI&&(t-=a.PI2),Math.abs(((t+a.TAU)%a.PI2-a.PI2)%a.PI2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(119);t.exports=function(){return a(-Math.PI,Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(119);t.exports=function(){return a(-180,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(318);t.exports=function(t){return a(t+Math.PI)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15);t.exports=function(t,e,i){return void 0===i&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=a.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=a.PI2:e-=a.PI2),e>t?t+=i:e<t&&(t-=i))),t}},function(t,e){t.exports=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Between:i(53),BetweenPoints:i(319),BetweenPointsSquared:i(744),Chebyshev:i(745),Power:i(746),Snake:i(747),Squared:i(320)}},function(t,e){t.exports=function(t,e){var i=t.x-e.x,a=t.y-e.y;return i*i+a*a}},function(t,e){t.exports=function(t,e,i,a){return Math.max(Math.abs(t-i),Math.abs(e-a))}},function(t,e){t.exports=function(t,e,i,a,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(a-e,n))}},function(t,e){t.exports=function(t,e,i,a){return Math.abs(t-i)+Math.abs(e-a)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Back:i(302),Bounce:i(303),Circular:i(304),Cubic:i(305),Elastic:i(306),Expo:i(307),Linear:i(308),Quadratic:i(309),Quartic:i(310),Quintic:i(311),Sine:i(312),Stepped:i(313)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Ceil:i(750),Equal:i(106),Floor:i(751),GreaterThan:i(321),LessThan:i(322)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Bezier:i(753),CatmullRom:i(754),CubicBezier:i(325),Linear:i(755),QuadraticBezier:i(326),SmoothStep:i(327),SmootherStep:i(756)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(323);t.exports=function(t,e){for(var i=0,n=t.length-1,s=0;s<=n;s++)i+=Math.pow(1-e,n-s)*Math.pow(e,s)*t[s]*a(n,s);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(171);t.exports=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return t[0]===t[i]?(e<0&&(s=Math.floor(n=i*(1+e))),a(n-s,t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i])):e<0?t[0]-(a(-n,t[0],t[0],t[1],t[1])-t[0]):e>1?t[i]-(a(n-i,t[i],t[i],t[i-1],t[i-1])-t[i]):a(n-s,t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2])}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(116);t.exports=function(t,e){var i=t.length-1,n=i*e,s=Math.floor(n);return e<0?a(t[0],t[1],n):e>1?a(t[i],t[i-1],i-n):a(t[s],t[s+1>i?i:s+1],n-s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(160);t.exports=function(t,e,i){return e+(i-e)*a(t,0,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={GetNext:i(328),IsSize:i(120),IsValue:i(758)}},function(t,e){t.exports=function(t){return t>0&&0==(t&t-1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Ceil:i(329),Floor:i(93),To:i(760)}},function(t,e){t.exports=function(t,e,i,a){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),a?(i+t)/e:i+t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=new(i(0))({initialize:function(t){void 0===t&&(t=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=this.n;t=t.toString();for(var a=0;a<t.length;a++)e=.02519603282416938*(i+=t.charCodeAt(a)),e-=i=e>>>0,i=(e*=i)>>>0,i+=4294967296*(e-=i);return this.n=i,2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+11102230246251565e-32*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(this.frac()*(e+1)),a=t[i];t[i]=t[e],t[e]=a}return t}});t.exports=a},function(t,e){t.exports=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var a=Math.pow(i,-e);return Math.ceil(t*a)/a}},function(t,e){t.exports=function(t,e){return Math.abs(t-e)}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var a=Math.pow(i,-e);return Math.floor(t*a)/a}},function(t,e){t.exports=function(t,e){return t/e/1e3}},function(t,e){t.exports=function(t){return t==parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t){return t===parseFloat(t)?!(t%2):void 0}},function(t,e){t.exports=function(t,e,i){return Math.min(t+e,i)}},function(t,e){t.exports=function(t,e,i){return Math.max(t-e,i)}},function(t,e){t.exports=function(t,e,i,a){void 0===i&&(i=e+1);var n=(t-e)/(i-e);return n>1?void 0!==a?(n=(a-t)/(a-i))<0&&(n=0):n=1:n<0&&(n=0),n}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI;return t.x=Math.cos(i)*e,t.y=Math.sin(i)*e,t}},function(t,e){t.exports=function(t,e){void 0===e&&(e=1);var i=2*Math.random()*Math.PI,a=2*Math.random()-1,n=Math.sqrt(1-a*a)*e;return t.x=Math.cos(i)*n,t.y=Math.sin(i)*n,t.z=a*e,t}},function(t,e){t.exports=function(t,e){return void 0===e&&(e=1),t.x=(2*Math.random()-1)*e,t.y=(2*Math.random()-1)*e,t.z=(2*Math.random()-1)*e,t.w=(2*Math.random()-1)*e,t}},function(t,e){t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var a=Math.pow(i,-e);return Math.round(t*a)/a}},function(t,e){t.exports=function(t,e,i,a){void 0===e&&(e=1),void 0===i&&(i=1),void 0===a&&(a=1),a*=Math.PI/t;for(var n=[],s=[],r=0;r<t;r++)e+=(i-=e*a)*a,n[r]=i,s[r]=e;return{sin:s,cos:n,length:t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(3);t.exports=function(t,e,i,n){void 0===n&&(n=new a);var s=0,r=0;return t>0&&t<=e*i&&(s=t>e-1?t-(r=Math.floor(t/e))*e:t,n.set(s,r)),n}},function(t,e){t.exports=function(t,e,i){return Math.abs(t-e)<=i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(174),n=i(335),s=i(336),r=new n,o=new s,l=new a;t.exports=function(t,e,i){return o.setAxisAngle(e,i),r.fromRotationTranslation(o,l.set(0,0,0)),t.transformMat4(r)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="addtexture"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="onerror"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="onload"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="ready"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="removetexture"},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join("\n")},function(t,e){t.exports=["#define SHADER_NAME PHASER_FORWARD_DIFFUSE_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.rgb * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","","}",""].join("\n")},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={GenerateTexture:i(345),Palettes:i(789)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ARNE16:i(346),C64:i(790),CGA:i(791),JMP:i(792),MSX:i(793)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Path:i(795),CubicBezier:i(347),Curve:i(81),Ellipse:i(348),Line:i(349),QuadraticBezier:i(350),Spline:i(351)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(347),s=i(348),r=i(5),o=i(349),l=i(796),h=i(350),u=i(11),c=i(351),d=i(3),p=i(15),f=new a({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new d,this._tmpVec2A=new d,this._tmpVec2B=new d,"object"==typeof t?this.fromJSON(t):this.startPoint.set(t,e)},add:function(t){return this.curves.push(t),this},circleTo:function(t,e,i){return void 0===e&&(e=!1),this.ellipseTo(t,t,0,360,e,i)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new o(e,t)),this},cubicBezierTo:function(t,e,i,a,s,r){var o,l,h,u=this.getEndPoint();return t instanceof d?(o=t,l=e,h=i):(o=new d(i,a),l=new d(s,r),h=new d(t,e)),this.add(new n(u,o,l,h))},quadraticBezierTo:function(t,e,i,a){var n,s,r=this.getEndPoint();return t instanceof d?(n=t,s=e):(n=new d(i,a),s=new d(t,e)),this.add(new h(r,n,s))},draw:function(t,e){for(var i=0;i<this.curves.length;i++){var a=this.curves[i];a.active&&a.draw(t,e)}return t},ellipseTo:function(t,e,i,a,n,r){var o=new s(0,0,t,e,i,a,n,r),l=this.getEndPoint(this._tmpVec2A),h=o.getStartPoint(this._tmpVec2B);return l.subtract(h),o.x=l.x,o.y=l.y,this.add(o)},fromJSON:function(t){this.curves=[],this.cacheLengths=[],this.startPoint.set(t.x,t.y),this.autoClose=t.autoClose;for(var e=0;e<t.curves.length;e++){var i=t.curves[e];switch(i.type){case"LineCurve":this.add(o.fromJSON(i));break;case"EllipseCurve":this.add(s.fromJSON(i));break;case"SplineCurve":this.add(c.fromJSON(i));break;case"CubicBezierCurve":this.add(n.fromJSON(i));break;case"QuadraticBezierCurve":this.add(h.fromJSON(i))}}return this},getBounds:function(t,e){void 0===t&&(t=new u),void 0===e&&(e=16),t.x=Number.MAX_VALUE,t.y=Number.MAX_VALUE;for(var i=new u,a=p.MIN_SAFE_INTEGER,n=p.MIN_SAFE_INTEGER,s=0;s<this.curves.length;s++){var r=this.curves[s];r.active&&(r.getBounds(i,e),t.x=Math.min(t.x,i.x),t.y=Math.min(t.y,i.y),a=Math.max(a,i.right),n=Math.max(n,i.bottom))}return t.right=a,t.bottom=n,t},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0;i<this.curves.length;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getEndPoint:function(t){return void 0===t&&(t=new d),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,t):t.copy(this.startPoint),t},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getPoint:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),a=this.getCurveLengths(),n=0;n<a.length;){if(a[n]>=i){var s=a[n]-i,r=this.curves[n],o=r.getLength(),l=0===o?0:1-s/o;return r.getPointAt(l,e)}n++}return null},getPoints:function(t){void 0===t&&(t=12);for(var e,i=[],a=0;a<this.curves.length;a++){var n=this.curves[a];if(n.active)for(var s=n.getResolution(t),r=n.getPoints(s),o=0;o<r.length;o++){var l=r[o];e&&e.equals(l)||(i.push(l),e=l)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},getRandomPoint:function(t){return void 0===t&&(t=new d),this.getPoint(Math.random(),t)},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getStartPoint:function(t){return void 0===t&&(t=new d),t.copy(this.startPoint)},getTangent:function(t,e){void 0===e&&(e=new d);for(var i=t*this.getLength(),a=this.getCurveLengths(),n=0;n<a.length;){if(a[n]>=i){var s=a[n]-i,r=this.curves[n],o=r.getLength(),l=0===o?0:1-s/o;return r.getTangentAt(l,e)}n++}return null},lineTo:function(t,e){t instanceof d?this._tmpVec2B.copy(t):this._tmpVec2B.set(t,e);var i=this.getEndPoint(this._tmpVec2A);return this.add(new o([i.x,i.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(t){return t.unshift(this.getEndPoint()),this.add(new c(t))},moveTo:function(t,e){return t instanceof d?this.add(new l(t.x,t.y)):this.add(new l(t,e))},toJSON:function(){for(var t=[],e=0;e<this.curves.length;e++)t.push(this.curves[e].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:t}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});r.register("path",(function(t,e){return new f(t,e)})),t.exports=f},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(3),s=new a({initialize:function(t,e){this.active=!1,this.p0=new n(t,e)},getPoint:function(t,e){return void 0===e&&(e=new n),e.copy(this.p0)},getPointAt:function(t,e){return this.getPoint(t,e)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={DataManager:i(113),DataManagerPlugin:i(798),Events:i(284)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(113),s=i(23),r=i(22),o=new a({Extends:n,initialize:function(t){n.call(this,t,t.sys.events),this.scene=t,this.systems=t.sys,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(r.DESTROY,this.destroy,this)},start:function(){this.events.once(r.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){n.prototype.destroy.call(this),this.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",o,"data"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Align:i(800),BaseShader:i(352),Bounds:i(803),Canvas:i(806),Color:i(353),Masks:i(815)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(105),n=i(18),s={In:i(801),To:i(802)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BottomCenter:i(256),BottomLeft:i(257),BottomRight:i(258),Center:i(259),LeftCenter:i(261),QuickSet:i(255),RightCenter:i(262),TopCenter:i(263),TopLeft:i(264),TopRight:i(265)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BottomCenter:i(243),BottomLeft:i(244),BottomRight:i(245),LeftBottom:i(246),LeftCenter:i(247),LeftTop:i(248),QuickSet:i(242),RightBottom:i(249),RightCenter:i(250),RightTop:i(251),TopCenter:i(252),TopLeft:i(253),TopRight:i(254)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CenterOn:i(260),GetBottom:i(39),GetCenterX:i(76),GetCenterY:i(78),GetLeft:i(41),GetOffsetX:i(804),GetOffsetY:i(805),GetRight:i(43),GetTop:i(46),SetBottom:i(45),SetCenterX:i(77),SetCenterY:i(79),SetLeft:i(42),SetRight:i(44),SetTop:i(40)}},function(t,e){t.exports=function(t){return t.width*t.originX}},function(t,e){t.exports=function(t){return t.height*t.originY}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CanvasInterpolation:i(338),CanvasPool:i(26),Smoothing:i(167),TouchAction:i(807),UserSelect:i(808)}},function(t,e){t.exports=function(t,e){return void 0===e&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t}},function(t,e){t.exports=function(t,e){void 0===e&&(e="none");return["-webkit-","-khtml-","-moz-","-ms-",""].forEach((function(i){t.style[i+"user-select"]=e})),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t}},function(t,e){t.exports=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(31),n=i(355);t.exports=function(t,e,i){var s=i,r=i,o=i;if(0!==e){var l=i<.5?i*(1+e):i+e-i*e,h=2*i-l;s=n(h,l,t+1/3),r=n(h,l,t),o=n(h,l,t-1/3)}return(new a).setGLTo(s,r,o,1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(166);t.exports=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],n=0;n<=359;n++)i.push(a(n/359,t,e));return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(116),n=function(t,e,i,n,s,r,o,l){void 0===o&&(o=100),void 0===l&&(l=0);var h=l/o;return{r:a(t,n,h),g:a(e,s,h),b:a(i,r,h)}};t.exports={RGBWithRGB:n,ColorWithRGB:function(t,e,i,a,s,r){return void 0===s&&(s=100),void 0===r&&(r=0),n(t.r,t.g,t.b,e,i,a,s,r)},ColorWithColor:function(t,e,i,a){return void 0===i&&(i=100),void 0===a&&(a=0),n(t.r,t.g,t.b,e.r,e.g,e.b,i,a)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(172),n=i(31);t.exports=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),new n(a(t,e),a(t,e),a(t,e))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(354);t.exports=function(t,e,i,n,s){return void 0===n&&(n=255),void 0===s&&(s="#"),"#"===s?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+a(n)+a(t)+a(e)+a(i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BitmapMask:i(278),GeometryMask:i(279)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a={AddToDOM:i(122),DOMContentLoaded:i(356),GetScreenOrientation:i(357),GetTarget:i(362),ParseXML:i(363),RemoveFromDOM:i(178),RequestAnimationFrame:i(343)};t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={EventEmitter:i(818)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(23),r=new a({Extends:n,initialize:function(){n.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",r,"events"),t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(122),n=i(289),s=i(292),r=i(26),o=i(0),l=i(314),h=i(820),u=i(337),c=i(113),d=i(341),p=i(315),f=i(356),m=i(10),g=i(20),y=i(364),k=i(23),v=i(369),b=i(370),w=i(372),S=i(121),x=i(375),T=i(342),A=i(344),E=i(379),C=new o({initialize:function(t){this.config=new l(t),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new n(this),this.textures=new x(this),this.cache=new s(this),this.registry=new c(this),this.input=new y(this,this.config),this.scene=new w(this,this.config.sceneConfig),this.device=p,this.scale=new b(this,this.config),this.sound=null,this.sound=E.create(this),this.loop=new T(this,this.config.fps),this.plugins=new v(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,f(this.boot.bind(this))},boot:function(){k.hasCore("EventEmitter")?(this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),u(this),h(this),d(this),a(this.canvas,this.config.parent),this.textures.once(S.READY,this.texturesReady,this),this.events.emit(g.BOOT)):console.warn("Aborting. Core Plugins missing.")},texturesReady:function(){this.events.emit(g.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),A(this);var t=this.events;t.on(g.HIDDEN,this.onHidden,this),t.on(g.VISIBLE,this.onVisible,this),t.on(g.BLUR,this.onBlur,this),t.on(g.FOCUS,this.onFocus,this)},step:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(g.PRE_STEP,t,e),i.emit(g.STEP,t,e),this.scene.update(t,e),i.emit(g.POST_STEP,t,e);var a=this.renderer;a.preRender(),i.emit(g.PRE_RENDER,a,t,e),this.scene.render(a),a.postRender(),i.emit(g.POST_RENDER,a,t,e)},headlessStep:function(t,e){if(this.pendingDestroy)return this.runDestroy();var i=this.events;i.emit(g.PRE_STEP,t,e),i.emit(g.STEP,t,e),this.scene.update(t,e),i.emit(g.POST_STEP,t,e),i.emit(g.PRE_RENDER),i.emit(g.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(g.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(g.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(t,e){void 0===e&&(e=!1),this.pendingDestroy=!0,this.removeCanvas=t,this.noReturn=e},runDestroy:function(){this.scene.destroy(),this.events.emit(g.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(r.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});t.exports=C},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(122);t.exports=function(t){var e=t.config;if(e.parent&&e.domCreateContainer){var i=document.createElement("div");i.style.cssText=["display: block;","width: "+t.scale.width+"px;","height: "+t.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: none;","transform: scale(1);","transform-origin: left top;"].join(" "),t.domContainer=i,a(i,e.parent)}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragend"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragenter"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="drag"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragleave"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="drop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragend"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragenter"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="drag"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragleave"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="drop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectmove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointermove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerup"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="wheel"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectup"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="gameobjectwheel"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="boot"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="process"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerdownoutside"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointermove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerout"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerover"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerup"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerupoutside"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="wheel"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pointerlockchange"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="preupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="shutdown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){t.exports=function(t){if(!t)return window.innerHeight;var e=Math.abs(window.orientation),i={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),i.w=90===e?a.offsetHeight:window.innerWidth,i.h=90===e?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,90!==Math.abs(window.orientation)?i.h:i.w}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="addfile"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="filecomplete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="filecomplete-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loaderror"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="load"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="fileprogress"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="postprocess"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="progress"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2),n=i(181);t.exports=function(t){var e=t.game.config.defaultPhysicsSystem,i=a(t.settings,"physics",!1);if(e||i){var s=[];if(e&&s.push(n(e+"Physics")),i)for(var r in i)r=n(r.concat("Physics")),-1===s.indexOf(r)&&s.push(r);return s}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2);t.exports=function(t){var e=t.plugins.getDefaultScenePlugins(),i=a(t.settings,"plugins",!1);return Array.isArray(i)?i:e||[]}},function(t,e,i){t.exports={game:"game",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"}},function(t,e){t.exports=function(t,e,i){if(i.getElementsByTagName("TextureAtlas")){var a=t.source[e];t.add("__BASE",e,0,0,a.width,a.height);for(var n,s=i.getElementsByTagName("SubTexture"),r=0;r<s.length;r++){var o=s[r].attributes,l=o.name.value,h=parseInt(o.x.value,10),u=parseInt(o.y.value,10),c=parseInt(o.width.value,10),d=parseInt(o.height.value,10);if(n=t.add(l,e,h,u,c,d),o.frameX){var p=Math.abs(parseInt(o.frameX.value,10)),f=Math.abs(parseInt(o.frameY.value,10)),m=parseInt(o.frameWidth.value,10),g=parseInt(o.frameHeight.value,10);n.setTrim(c,d,p,f,m,g)}}return t}console.warn("Invalid Texture Atlas XML given")}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e){t.exports=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(67);t.exports=function(t,e,i){if(i.frames||i.textures){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);for(var s,r=Array.isArray(i.textures)?i.textures[e].frames:i.frames,o=0;o<r.length;o++){var l=r[o];s=t.add(l.filename,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h),l.trimmed&&s.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(s.rotated=!0,s.updateUVsInverted());var h=l.anchor||l.pivot;h&&(s.customPivot=!0,s.pivotX=h.x,s.pivotY=h.y),s.customData=a(l)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}console.warn("Invalid Texture Atlas JSON Array")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(67);t.exports=function(t,e,i){if(i.frames){var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);var s,r=i.frames;for(var o in r){var l=r[o];s=t.add(o,e,l.frame.x,l.frame.y,l.frame.w,l.frame.h),l.trimmed&&s.setTrim(l.sourceSize.w,l.sourceSize.h,l.spriteSourceSize.x,l.spriteSourceSize.y,l.spriteSourceSize.w,l.spriteSourceSize.h),l.rotated&&(s.rotated=!0,s.updateUVsInverted());var h=l.anchor||l.pivot;h&&(s.customPivot=!0,s.pivotX=h.x,s.pivotY=h.y),s.customData=a(l)}for(var u in i)"frames"!==u&&(Array.isArray(i[u])?t.customData[u]=i[u].slice(0):t.customData[u]=i[u]);return t}console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2);t.exports=function(t,e,i,n,s,r,o){var l=a(o,"frameWidth",null),h=a(o,"frameHeight",l);if(null===l)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var u=t.source[e];t.add("__BASE",e,0,0,u.width,u.height);var c=a(o,"startFrame",0),d=a(o,"endFrame",-1),p=a(o,"margin",0),f=a(o,"spacing",0),m=Math.floor((s-p+f)/(l+f))*Math.floor((r-p+f)/(h+f));0===m&&console.warn("SpriteSheet frame dimensions will result in zero frames."),(c>m||c<-m)&&(c=0),c<0&&(c=m+c),-1!==d&&(m=c+(d+1));for(var g=p,y=p,k=0,v=0,b=0;b<m;b++){k=0,v=0;var w=g+l,S=y+h;w>s&&(k=w-s),S>r&&(v=S-r),t.add(b,e,i+g,n+y,l-k,h-v),(g+=l+f)+l>s&&(g=p,y+=h+f)}return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(2);t.exports=function(t,e,i){var n=a(i,"frameWidth",null),s=a(i,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var r=t.source[0];t.add("__BASE",0,0,0,r.width,r.height);var o,l=a(i,"startFrame",0),h=a(i,"endFrame",-1),u=a(i,"margin",0),c=a(i,"spacing",0),d=e.cutX,p=e.cutY,f=e.cutWidth,m=e.cutHeight,g=e.realWidth,y=e.realHeight,k=Math.floor((g-u+c)/(n+c)),v=Math.floor((y-u+c)/(s+c)),b=k*v,w=e.x,S=n-w,x=n-(g-f-w),T=e.y,A=s-T,E=s-(y-m-T);(l>b||l<-b)&&(l=0),l<0&&(l=b+l),-1!==h&&(b=l+(h+1));for(var C=u,M=u,_=0,B=e.sourceIndex,I=0;I<v;I++){for(var D=0===I,P=I===v-1,L=0;L<k;L++){var O=0===L,N=L===k-1;if(o=t.add(_,B,d+C,p+M,n,s),O||D||N||P){var G=O?w:0,R=D?T:0,F=0,Q=0;O&&(F+=n-S),N&&(F+=n-x),D&&(Q+=s-A),P&&(Q+=s-E);var U=n-F,H=s-Q;o.cutWidth=U,o.cutHeight=H,o.setTrim(n,s,G,R,U,H)}C+=c,C+=O?S:N?x:n,_++}C=u,M+=c,M+=D?A:P?E:s}return t}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i=0,a=function(t,e,a,n){var s=i-n.y-n.height;t.add(a,e,n.x,s,n.width,n.height)};t.exports=function(t,e,n){var s=t.source[e];t.add("__BASE",e,0,0,s.width,s.height),i=s.height;for(var r=n.split("\n"),o=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",h="",u={x:0,y:0,width:0,height:0},c=0;c<r.length;c++){var d=r[c].match(o);if(d){var p="- "===d[1],f=d[2],m=d[3];if(p&&(h!==l&&(a(t,e,h,u),l=h),u={x:0,y:0,width:0,height:0}),"name"!==f)switch(f){case"x":case"y":case"width":case"height":u[f]=parseInt(m,10)}else h=m}}return h!==l&&a(t,e,h,u),t}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="decoded"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="decodedall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="destroy"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="detune"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="detune"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="mute"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="rate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="volume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="looped"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="mute"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pauseall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="play"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="rate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resumeall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="seek"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="stopall"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="stop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="unlocked"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="volume"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a={Events:i(90),DisplayList:i(913),GameObjectCreator:i(16),GameObjectFactory:i(5),UpdateList:i(939),Components:i(12),BuildGameObject:i(27),BuildGameObjectAnimation:i(392),GameObject:i(13),BitmapText:i(132),Blitter:i(188),Container:i(189),DOMElement:i(394),DynamicBitmapText:i(190),Extern:i(396),Graphics:i(191),Group:i(97),Image:i(107),Particles:i(971),PathFollower:i(408),RenderTexture:i(195),RetroFont:i(980),Rope:i(197),Sprite:i(75),Text:i(198),TileSprite:i(199),Zone:i(110),Video:i(200),Shape:i(30),Arc:i(409),Curve:i(410),Ellipse:i(411),Grid:i(412),IsoBox:i(413),IsoTriangle:i(414),Line:i(415),Polygon:i(416),Rectangle:i(421),Star:i(422),Triangle:i(423),Factories:{Blitter:i(1031),Container:i(1032),DOMElement:i(1033),DynamicBitmapText:i(1034),Extern:i(1035),Graphics:i(1036),Group:i(1037),Image:i(1038),Particles:i(1039),PathFollower:i(1040),RenderTexture:i(1041),Rope:i(1042),Sprite:i(1043),StaticBitmapText:i(1044),Text:i(1045),TileSprite:i(1046),Zone:i(1047),Video:i(1048),Arc:i(1049),Curve:i(1050),Ellipse:i(1051),Grid:i(1052),IsoBox:i(1053),IsoTriangle:i(1054),Line:i(1055),Polygon:i(1056),Rectangle:i(1057),Star:i(1058),Triangle:i(1059)},Creators:{Blitter:i(1060),Container:i(1061),DynamicBitmapText:i(1062),Graphics:i(1063),Group:i(1064),Image:i(1065),Particles:i(1066),RenderTexture:i(1067),Rope:i(1068),Sprite:i(1069),StaticBitmapText:i(1070),Text:i(1071),TileSprite:i(1072),Zone:i(1073),Video:i(1074)}};a.Mesh=i(134),a.Quad=i(203),a.Shader=i(204),a.Factories.Mesh=i(1081),a.Factories.Quad=i(1082),a.Factories.Shader=i(1083),a.Creators.Mesh=i(1084),a.Creators.Quad=i(1085),a.Creators.Shader=i(1086),a.Light=i(427),i(428),i(1087),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(129),s=i(23),r=i(22),o=i(131),l=new a({Extends:n,initialize:function(t){n.call(this,t),this.sortChildrenFlag=!1,this.scene=t,this.systems=t.sys,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){this.systems.events.once(r.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o.inplace(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(t,e){return t._depth-e._depth},getChildren:function(){return this.list},shutdown:function(){for(var t=this.list.length;t--;)this.list[t].destroy(!0);this.list.length=0,this.systems.events.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("DisplayList",l,"displayList"),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CheckMatrix:i(184),MatrixToString:i(915),ReverseColumns:i(916),ReverseRows:i(917),Rotate180:i(918),RotateLeft:i(919),RotateMatrix:i(130),RotateRight:i(920),TransposeMatrix:i(389)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(163),n=i(184);t.exports=function(t){var e="";if(!n(t))return e;for(var i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++){var r=t[i][s].toString();e+="undefined"!==r?a(r,2):"?",s<t[i].length-1&&(e+=" |")}if(i<t.length-1){e+="\n";for(var o=0;o<t[i].length;o++)e+="---",o<t[i].length-1&&(e+="+");e+="\n"}}return e}},function(t,e){t.exports=function(t){return t.reverse()}},function(t,e){t.exports=function(t){for(var e=0;e<t.length;e++)t[e].reverse();return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(130);t.exports=function(t){return a(t,180)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(130);t.exports=function(t){return a(t,90)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(130);t.exports=function(t){return a(t,-90)}},function(t,e){t.exports=function(t,e,i,a,n){if(void 0===n&&(n=t),i>0){var s=i-t.length;if(s<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.push(e),a&&a.call(n,e),e):null;for(var r=e.length-1;r>=0;)-1!==t.indexOf(e[r])&&e.splice(r,1),r--;if(0===(r=e.length))return null;i>0&&r>s&&(e.splice(s),r=s);for(var o=0;o<r;o++){var l=e[o];t.push(l),a&&a.call(n,l)}return e}},function(t,e){t.exports=function(t,e,i,a,n,s){if(void 0===i&&(i=0),void 0===s&&(s=t),a>0){var r=a-t.length;if(r<=0)return null}if(!Array.isArray(e))return-1===t.indexOf(e)?(t.splice(i,0,e),n&&n.call(s,e),e):null;for(var o=e.length-1;o>=0;)-1!==t.indexOf(e[o])&&e.pop(),o--;if(0===(o=e.length))return null;a>0&&o>r&&(e.splice(r),o=r);for(var l=o-1;l>=0;l--){var h=e[l];t.splice(i,0,h),n&&n.call(s,h)}return e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i<t.length&&(t.splice(i,1),t.push(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=t.length);var r=0;if(a(t,n,s))for(var o=n;o<s;o++){t[o][e]===i&&r++}return r}},function(t,e){t.exports=function(t,e,i){var a,n=[null];for(a=3;a<arguments.length;a++)n.push(arguments[a]);for(a=0;a<t.length;a++)n[0]=t[a],e.apply(i,n);return t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),a(t,n,s)){var r,o=[null];for(r=5;r<arguments.length;r++)o.push(arguments[r]);for(r=n;r<s;r++)o[0]=t[r],e.apply(i,o)}return t}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(i>0){var a=t[i-1],n=t.indexOf(a);t[i]=a,t[n]=e}return t}},function(t,e){t.exports=function(t,e,i){var a=t.indexOf(e);if(-1===a||i<0||i>=t.length)throw new Error("Supplied index out of bounds");return a!==i&&(t.splice(a,1),t.splice(i,0,e)),e}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);if(-1!==i&&i<t.length-1){var a=t[i+1],n=t.indexOf(a);t[i]=a,t[n]=e}return t}},function(t,e){t.exports=function(t,e,i,a){for(var n=[],s=t;s<=e;s++)if(i||a){var r=i?i+s.toString():s.toString();a&&(r=r.concat(a)),n.push(r)}else n.push(s);return n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(331);t.exports=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var n=[],s=Math.max(a((e-t)/(i||1)),0),r=0;r<s;r++)n.push(t),t+=i;return n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(80);t.exports=function(t,e,i,n){if(void 0===n&&(n=t),e<0||e>t.length-1)throw new Error("Index out of bounds");var s=a(t,e);return i&&i.call(n,s),s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){if(void 0===e&&(e=0),void 0===i&&(i=t.length),void 0===s&&(s=t),a(t,e,i)){var r=i-e,o=t.splice(e,r);if(n)for(var l=0;l<o.length;l++){var h=o[l];n.call(s,h)}return o}return[]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(80);t.exports=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return a(t,n)}},function(t,e){t.exports=function(t,e,i){var a=t.indexOf(e),n=t.indexOf(i);return-1!==a&&-1===n&&(t[a]=i,!0)}},function(t,e){t.exports=function(t,e){var i=t.indexOf(e);return-1!==i&&i>0&&(t.splice(i,1),t.unshift(e)),e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(68);t.exports=function(t,e,i,n,s){if(void 0===n&&(n=0),void 0===s&&(s=t.length),a(t,n,s))for(var r=n;r<s;r++){var o=t[r];o.hasOwnProperty(e)&&(o[e]=i)}return t}},function(t,e){t.exports=function(t,e,i){if(e!==i){var a=t.indexOf(e),n=t.indexOf(i);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return t[a]=i,t[n]=e,t}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(186),s=i(23),r=i(22),o=new a({Extends:n,initialize:function(t){n.call(this),this.scene=t,this.systems=t.sys,t.sys.events.once(r.BOOT,this.boot,this),t.sys.events.on(r.START,this.start,this)},boot:function(){this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(r.PRE_UPDATE,this.update,this),t.on(r.UPDATE,this.sceneUpdate,this),t.once(r.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(t,e){for(var i=this._active,a=i.length,n=0;n<a;n++){var s=i[n];s.active&&s.preUpdate.call(s,t,e)}},shutdown:function(){for(var t=this._active.length;t--;)this._active[t].destroy(!0);for(t=this._pending.length;t--;)this._pending[t].destroy(!0);for(t=this._destroy.length;t--;)this._destroy[t].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var e=this.systems.events;e.off(r.PRE_UPDATE,this.preUpdate,this),e.off(r.UPDATE,this.sceneUpdate,this),e.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",o,"updateList"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={PROCESS_QUEUE_ADD:i(941),PROCESS_QUEUE_REMOVE:i(942)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="add"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="remove"},function(t,e){t.exports=function(t,e,i){if(void 0===i)return i={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],scaleX:0,scaleY:0};var a,n,s,r,o=t.text,l=o.length,h=t.maxWidth,u=t.wordWrapCharCode,c=Number.MAX_VALUE,d=Number.MAX_VALUE,p=0,f=0,m=t.fontData.chars,g=t.fontData.lineHeight,y=t.letterSpacing,k=0,v=0,b=0,w=null,S=0,x=0,T=t.fontSize/t.fontData.size,A=T*t.scaleX,E=T*t.scaleY,C=null,M=0,_=[],B=Number.MAX_VALUE,I=0,D=0,P=0,L=[],O=null;if(h>0){for(a=0;a<l;a++)if(10!==(b=o.charCodeAt(a))){if(w=m[b]){if(null!==C)var N=w.kerning[M];b===u?null!==O&&(L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E,cr:!1}),O=null):(null===O&&(O={word:"",i:a,x:k,y:v,w:0,h:g,cr:!1}),O.word=O.word.concat(o[a]),O.w+=w.xOffset+w.xAdvance+(void 0!==N?N:0)),k+=w.xAdvance+y,C=w,M=b}}else null!==O&&(L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E,cr:!0}),O=null),k=0,v+=g,C=null;var G;null!==O&&L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E,cr:!1}),k=0,v=0,C=null,M=0;var R=0,F=[];for(a=0;a<L.length;a++){var Q=L[a],U=Q.x,H=Q.x+Q.w;if(G)R=U-(U-(G.x+G.w)+G.w),G=null;U-R>h||H-R>h?(F.push(Q.i-1),Q.cr?(F.push(Q.i+Q.word.length),R=0,G=null):G=Q):Q.cr&&(F.push(Q.i+Q.word.length),R=0,G=null)}for(a=F.length-1;a>=0;a--)n=o,s=F[a],r="\n",o=n.substr(0,s)+r+n.substr(s+1);i.wrappedText=o,l=o.length,L=[],O=null}for(a=0;a<l;a++)if(10!==(b=o.charCodeAt(a))){if(w=m[b]){if(S=k,x=v,null!==C){var Y=w.kerning[M];S+=void 0!==Y?Y:0}c>S&&(c=S),d>x&&(d=x);var W=S+w.xAdvance,z=x+g;p<W&&(p=W),f<z&&(f=z),b===u?null!==O&&(L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E}),O=null):(null===O&&(O={word:"",i:a,x:k,y:v,w:0,h:g}),O.word=O.word.concat(o[a]),O.w+=w.xOffset+w.xAdvance+(void 0!==Y?Y:0)),k+=w.xAdvance+y,C=w,M=b,P=W*T}}else null!==O&&(L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E}),O=null),k=0,v+=g,C=null,_[D]=P,P>I&&(I=P),P<B&&(B=P),D++,P=0;null!==O&&L.push({word:O.word,i:O.i,x:O.x*A,y:O.y*E,w:O.w*A,h:O.h*E}),_[D]=P,P>I&&(I=P),P<B&&(B=P);var V=i.local,X=i.global,j=i.lines;return V.x=c*T,V.y=d*T,V.width=p*T,V.height=f*T,X.x=t.x-t.displayOriginX+c*A,X.y=t.y-t.displayOriginY+d*E,X.width=p*A,X.height=f*E,j.shortest=B,j.longest=I,j.lengths=_,e&&(V.x=Math.round(V.x),V.y=Math.round(V.y),V.width=Math.round(V.width),V.height=Math.round(V.height),X.x=Math.round(X.x),X.y=Math.round(X.y),X.width=Math.round(X.width),X.height=Math.round(X.height),j.shortest=Math.round(B),j.longest=Math.round(I)),i.words=L,i.lines.height=g,i.scaleX=t.scaleX,i.scaleY=t.scaleY,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(187);t.exports=function(t,e,i,n,s,r,o){var l=t.sys.textures.getFrame(i,n),h=t.sys.cache.xml.get(s);if(l&&h){var u=a(h,r,o,l);return t.sys.cache.bitmapFont.add(e,{data:u,texture:i,frame:n}),!0}return!1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(946),n=i(947),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e._text,o=r.length;if(0!==o){var l=this.pipeline;t.setPipeline(l,e);var h=l._tempMatrix1,u=l._tempMatrix2,c=l._tempMatrix3;u.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(n.matrix),s?(h.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),u.e=e.x,u.f=e.y,h.multiply(u,c)):(u.e-=n.scrollX*e.scrollFactorX,u.f-=n.scrollY*e.scrollFactorY,h.multiply(u,c));var d=e.frame,p=d.glTexture,f=d.cutX,m=d.cutY,g=p.width,y=p.height,k=e._isTinted&&e.tintFill,v=a.getTintAppendFloatAlpha(e._tintTL,n.alpha*e._alphaTL),b=a.getTintAppendFloatAlpha(e._tintTR,n.alpha*e._alphaTR),w=a.getTintAppendFloatAlpha(e._tintBL,n.alpha*e._alphaBL),S=a.getTintAppendFloatAlpha(e._tintBR,n.alpha*e._alphaBR);l.setTexture2D(p,0);var x,T,A=0,E=0,C=0,M=0,_=e._letterSpacing,B=0,I=0,D=0,P=0,L=e.fontData,O=L.chars,N=L.lineHeight,G=e._fontSize/L.size,R=e._align,F=0,Q=0,U=e.getTextBounds(!1);e.maxWidth>0&&(o=(r=U.wrappedText).length);var H=e._bounds.lines;1===R?Q=(H.longest-H.lengths[0])/2:2===R&&(Q=H.longest-H.lengths[0]);for(var Y=n.roundPixels,W=0;W<o;W++)if(10!==(C=r.charCodeAt(W))){if(x=O[C]){B=f+x.x,I=m+x.y,D=x.width,P=x.height;var z=x.xOffset+A,V=x.yOffset+E;if(null!==T){var X=x.kerning[M];z+=void 0!==X?X:0}if(A+=x.xAdvance+_,T=x,M=C,0!==D&&0!==P&&32!==C){z*=G,V*=G,z-=e.displayOriginX;var j=B/g,q=I/y,K=(B+D)/g,J=(I+P)/y,Z=(z+=Q)+D*G,$=(V-=e.displayOriginY)+P*G,tt=c.getX(z,V),et=c.getY(z,V),it=c.getX(z,$),at=c.getY(z,$),nt=c.getX(Z,$),st=c.getY(Z,$),rt=c.getX(Z,V),ot=c.getY(Z,V);Y&&(tt=Math.round(tt),et=Math.round(et),it=Math.round(it),at=Math.round(at),nt=Math.round(nt),st=Math.round(st),rt=Math.round(rt),ot=Math.round(ot)),l.batchQuad(tt,et,it,at,nt,st,rt,ot,j,q,K,J,v,b,w,S,k,p,0)}}}else F++,1===R?Q=(H.longest-H.lengths[F])/2:2===R&&(Q=H.longest-H.lengths[F]),A=0,E+=N,T=null}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(28);t.exports=function(t,e,i,n,s){var r=e._text,o=r.length,l=t.currentContext;if(0!==o&&a(t,l,e,n,s)){var h=e.frame,u=e.fontData.chars,c=e.fontData.lineHeight,d=e._letterSpacing,p=0,f=0,m=0,g=null,y=0,k=0,v=0,b=0,w=0,S=0,x=null,T=0,A=e.frame.source.image,E=h.cutX,C=h.cutY,M=e._fontSize/e.fontData.size,_=e._align,B=0,I=0,D=e.getTextBounds(!1);e.maxWidth>0&&(o=(r=D.wrappedText).length);var P=e._bounds.lines;1===_?I=(P.longest-P.lengths[0])/2:2===_&&(I=P.longest-P.lengths[0]),l.translate(-e.displayOriginX,-e.displayOriginY);for(var L=n.roundPixels,O=0;O<o;O++)if(10!==(m=r.charCodeAt(O))){if(g=u[m]){if(y=E+g.x,k=C+g.y,v=g.width,b=g.height,w=g.xOffset+p,S=g.yOffset+f,null!==x){var N=g.kerning[T];w+=void 0!==N?N:0}w*=M,S*=M,w+=I,p+=g.xAdvance+d,x=g,T=m,0!==v&&0!==b&&32!==m&&(L&&(w=Math.round(w),S=Math.round(S)),l.save(),l.translate(w,S),l.scale(M,M),l.drawImage(A,y,k,v,b,0,0,v,b),l.restore())}}else B++,1===_?I=(P.longest-P.lengths[B])/2:2===_&&(I=P.longest-P.lengths[B]),p=0,f+=c,x=null;l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(949),n=i(950),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e.getRenderList();if(0!==r.length){var o=this.pipeline;t.setPipeline(o,e);var l=n.scrollX*e.scrollFactorX,h=n.scrollY*e.scrollFactorY,u=o._tempMatrix1;u.copyFrom(n.matrix),s&&(u.multiplyWithOffset(s,-l,-h),l=0,h=0);for(var c=e.x-l,d=e.y-h,p=-1,f=n.alpha*e.alpha,m=n.roundPixels,g=0;g<r.length;g++){var y=r[g],k=y.frame,v=y.alpha*f;if(0!==v){var b=k.width,w=k.height,S=c+y.x+k.x,x=d+y.y+k.y;y.flipX&&(b*=-1,S+=k.width),y.flipY&&(w*=-1,x+=k.height);var T=S+b,A=x+w,E=u.getX(S,x),C=u.getY(S,x),M=u.getX(T,A),_=u.getY(T,A),B=a.getTintAppendFloatAlpha(y.tint,v);k.sourceIndex!==p&&(o.setTexture2D(k.glTexture,0),p=k.sourceIndex),m&&(E=Math.round(E),C=Math.round(C),M=Math.round(M),_=Math.round(_)),o.batchQuad(E,C,E,_,M,_,M,C,k.u0,k.v0,k.u1,k.v1,B,B,B,B,false,k.glTexture,0)&&(p=-1)}}}}},function(t,e){t.exports=function(t,e,i,a,n){var s=e.getRenderList();if(0!==s.length){var r=t.currentContext,o=a.alpha*e.alpha;if(0!==o){r.globalCompositeOperation=t.blendModes[e.blendMode],r.imageSmoothingEnabled=!(!t.antialias||e.frame.source.scaleMode);var l=e.x-a.scrollX*e.scrollFactorX,h=e.y-a.scrollY*e.scrollFactorY;r.save(),n&&n.copyToContext(r);for(var u=a.roundPixels,c=0;c<s.length;c++){var d=s[c],p=d.flipX||d.flipY,f=d.frame,m=f.canvasData,g=f.x,y=f.y,k=1,v=1,b=d.alpha*o;0!==b&&(r.globalAlpha=b,p?(d.flipX&&(k=-1,g-=m.width),d.flipY&&(v=-1,y-=m.height),r.save(),r.translate(d.x+l,d.y+h),r.scale(k,v),r.drawImage(f.source.image,m.x,m.y,m.width,m.height,g,y,m.width,m.height),r.restore()):(u&&(g=Math.round(g),y=Math.round(y)),r.drawImage(f.source.image,m.x,m.y,m.width,m.height,g+d.x+l,y+d.y+h,m.width,m.height)))}r.restore()}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(94),s=new a({initialize:function(t,e,i,a,n){this.parent=t,this.x=e,this.y=i,this.frame=a,this.data={},this.tint=16777215,this._visible=n,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(t){return void 0===t?this.frame=this.parent.frame:t instanceof n&&t.texture===this.parent.texture?this.frame=t:this.frame=this.parent.texture.get(t),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(t,e,i){return this.x=t,this.y=e,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(t,e){return this.x=t,this.y=e,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},setVisible:function(t){return this.visible=t,this},setAlpha:function(t){return this.alpha=t,this},setTint:function(t){return this.tint=t,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this.parent.dirty|=this._visible!==t,this._visible=t}},alpha:{get:function(){return this._alpha},set:function(t){this.parent.dirty|=this._alpha>0!=t>0,this._alpha=t}}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(953),n=i(954),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){var s=e.list;if(0!==s.length){var r=e.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var o=-1!==e.blendMode;o||t.setBlendMode(0);for(var l=e.alpha,h=e.scrollFactorX,u=e.scrollFactorY,c=s,d=s.length,p=0;p<d;p++){var f=s[p];if(f.willRender(a)){var m,g,y,k;if(void 0!==f.alphaTopLeft)m=f.alphaTopLeft,g=f.alphaTopRight,y=f.alphaBottomLeft,k=f.alphaBottomRight;else{var v=f.alpha;m=v,g=v,y=v,k=v}var b=f.scrollFactorX,w=f.scrollFactorY;o||f.blendMode===t.currentBlendMode||t.setBlendMode(f.blendMode);var S=f.mask;S&&S.preRenderWebGL(t,f,a);var x=f.type;x!==t.currentType&&(t.newType=!0,t.currentType=x),t.nextTypeMatch=p<d-1&&c[p+1].type===t.currentType,f.setScrollFactor(b*h,w*u),f.setAlpha(m*l,g*l,y*l,k*l),f.renderWebGL(t,f,i,a,r),f.setAlpha(m,g,y,k),f.setScrollFactor(b,w),S&&S.postRenderWebGL(t,a),t.newType=!1}}}}},function(t,e){t.exports=function(t,e,i,a,n){var s=e.list;if(0!==s.length){var r=e.localTransform;n?(r.loadIdentity(),r.multiply(n),r.translate(e.x,e.y),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY)):r.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);var o=-1!==e.blendMode;o||t.setBlendMode(0);for(var l=e._alpha,h=e.scrollFactorX,u=e.scrollFactorY,c=0;c<s.length;c++){var d=s[c];if(d.willRender(a)){var p=d.alpha,f=d.scrollFactorX,m=d.scrollFactorY;o||d.blendMode===t.currentBlendMode||t.setBlendMode(d.blendMode),d.setScrollFactor(f*h,m*u),d.setAlpha(p*l),d.renderCanvas(t,d,i,a,r),d.setAlpha(p),d.setScrollFactor(f,m)}}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(395),n=i(395),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(958),n=i(959),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e.text,o=r.length;if(0!==o){var l=this.pipeline;t.setPipeline(l,e);var h=e.cropWidth>0||e.cropHeight>0;h&&(l.flush(),t.pushScissor(e.x,e.y,e.cropWidth*e.scaleX,e.cropHeight*e.scaleY));var u=l._tempMatrix1,c=l._tempMatrix2,d=l._tempMatrix3,p=l._tempMatrix4;c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),u.copyFrom(n.matrix),s?(u.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),c.e=e.x,c.f=e.y,u.multiply(c,d)):(c.e-=n.scrollX*e.scrollFactorX,c.f-=n.scrollY*e.scrollFactorY,u.multiply(c,d));var f=e.frame,m=f.glTexture,g=f.cutX,y=f.cutY,k=m.width,v=m.height,b=e._isTinted&&e.tintFill,w=a.getTintAppendFloatAlpha(e._tintTL,n.alpha*e._alphaTL),S=a.getTintAppendFloatAlpha(e._tintTR,n.alpha*e._alphaTR),x=a.getTintAppendFloatAlpha(e._tintBL,n.alpha*e._alphaBL),T=a.getTintAppendFloatAlpha(e._tintBR,n.alpha*e._alphaBR);l.setTexture2D(m,0);var A,E,C=0,M=0,_=0,B=0,I=e.letterSpacing,D=0,P=0,L=0,O=0,N=e.scrollX,G=e.scrollY,R=e.fontData,F=R.chars,Q=R.lineHeight,U=e.fontSize/R.size,H=0,Y=e._align,W=0,z=0;e.getTextBounds(!1);var V=e._bounds.lines;1===Y?z=(V.longest-V.lengths[0])/2:2===Y&&(z=V.longest-V.lengths[0]);for(var X=n.roundPixels,j=e.displayCallback,q=e.callbackData,K=0;K<o;K++)if(10!==(_=r.charCodeAt(K))){if(A=F[_]){D=g+A.x,P=y+A.y,L=A.width,O=A.height;var J=A.xOffset+C-N,Z=A.yOffset+M-G;if(null!==E){var $=A.kerning[B];J+=void 0!==$?$:0}if(C+=A.xAdvance+I,E=A,B=_,0!==L&&0!==O&&32!==_){if(U=e.fontSize/e.fontData.size,H=0,j){q.color=0,q.tint.topLeft=w,q.tint.topRight=S,q.tint.bottomLeft=x,q.tint.bottomRight=T,q.index=K,q.charCode=_,q.x=J,q.y=Z,q.scale=U,q.rotation=H,q.data=A.data;var tt=j(q);J=tt.x,Z=tt.y,U=tt.scale,H=tt.rotation,tt.color?(w=tt.color,S=tt.color,x=tt.color,T=tt.color):(w=tt.tint.topLeft,S=tt.tint.topRight,x=tt.tint.bottomLeft,T=tt.tint.bottomRight),w=a.getTintAppendFloatAlpha(w,n.alpha*e._alphaTL),S=a.getTintAppendFloatAlpha(S,n.alpha*e._alphaTR),x=a.getTintAppendFloatAlpha(x,n.alpha*e._alphaBL),T=a.getTintAppendFloatAlpha(T,n.alpha*e._alphaBR)}J*=U,Z*=U,J-=e.displayOriginX,Z-=e.displayOriginY,J+=z,p.applyITRS(J,Z,H,U,U),d.multiply(p,c);var et=D/k,it=P/v,at=(D+L)/k,nt=(P+O)/v,st=L,rt=O,ot=c.e,lt=c.f,ht=rt*c.c+c.e,ut=rt*c.d+c.f,ct=st*c.a+rt*c.c+c.e,dt=st*c.b+rt*c.d+c.f,pt=st*c.a+c.e,ft=st*c.b+c.f;X&&(ot=Math.round(ot),lt=Math.round(lt),ht=Math.round(ht),ut=Math.round(ut),ct=Math.round(ct),dt=Math.round(dt),pt=Math.round(pt),ft=Math.round(ft)),l.batchQuad(ot,lt,ht,ut,ct,dt,pt,ft,et,it,at,nt,w,S,x,T,b,m,0)}}}else W++,1===Y?z=(V.longest-V.lengths[W])/2:2===Y&&(z=V.longest-V.lengths[W]),C=0,M+=Q,E=null;h&&(l.flush(),t.popScissor())}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(28);t.exports=function(t,e,i,n,s){var r=e._text,o=r.length,l=t.currentContext;if(0!==o&&a(t,l,e,n,s)){var h=e.frame,u=e.displayCallback,c=e.callbackData,d=e.fontData.chars,p=e.fontData.lineHeight,f=e._letterSpacing,m=0,g=0,y=0,k=null,v=0,b=0,w=0,S=0,x=0,T=0,A=null,E=0,C=e.frame.source.image,M=h.cutX,_=h.cutY,B=0,I=0,D=e._fontSize/e.fontData.size,P=e._align,L=0,O=0;e.getTextBounds(!1);var N=e._bounds.lines;1===P?O=(N.longest-N.lengths[0])/2:2===P&&(O=N.longest-N.lengths[0]),l.translate(-e.displayOriginX,-e.displayOriginY);var G=n.roundPixels;e.cropWidth>0&&e.cropHeight>0&&(l.beginPath(),l.rect(0,0,e.cropWidth,e.cropHeight),l.clip());for(var R=0;R<o;R++)if(I=D,B=0,10!==(y=r.charCodeAt(R))){if(k=d[y]){if(v=M+k.x,b=_+k.y,w=k.width,S=k.height,x=k.xOffset+m-e.scrollX,T=k.yOffset+g-e.scrollY,null!==A){var F=k.kerning[E];x+=void 0!==F?F:0}if(u){c.index=R,c.charCode=y,c.x=x,c.y=T,c.scale=I,c.rotation=B,c.data=k.data;var Q=u(c);x=Q.x,T=Q.y,I=Q.scale,B=Q.rotation}x*=I,T*=I,x+=O,m+=k.xAdvance+f,A=k,E=y,0!==w&&0!==S&&32!==y&&(G&&(x=Math.round(x),T=Math.round(T)),l.save(),l.translate(x,T),l.rotate(B),l.scale(I,I),l.drawImage(C,v,b,w,S,0,0,w,S),l.restore())}}else L++,1===P?O=(N.longest-N.lengths[L])/2:2===P&&(O=N.longest-N.lengths[L]),m=0,g+=p,A=null;l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(961),n=i(962),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){var s=t.currentPipeline;t.clearPipeline();var r=t._tempMatrix1,o=t._tempMatrix2,l=t._tempMatrix3;o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(a.matrix),n?(r.multiplyWithOffset(n,-a.scrollX*e.scrollFactorX,-a.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y,r.multiply(o,l)):(o.e-=a.scrollX*e.scrollFactorX,o.f-=a.scrollY*e.scrollFactorY,r.multiply(o,l)),e.render.call(e,t,a,l),t.rebindPipeline(s)}},function(t,e){},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(964),n=i(400),n=i(400),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(192),n=i(9),s=function(t,e,i){this.x=t,this.y=e,this.width=i},r=function(t,e,i){this.points=[],this.pointsLength=1,this.points[0]=new s(t,e,i)},o=[];t.exports=function(t,e,i,l,h){if(0!==e.commandBuffer.length){var u=this.pipeline;t.setPipeline(u,e);var c=e._tempMatrix1,d=e._tempMatrix2,p=e._tempMatrix3;p.loadIdentity(),d.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),c.copyFrom(l.matrix),h?(c.multiplyWithOffset(h,-l.scrollX*e.scrollFactorX,-l.scrollY*e.scrollFactorY),d.e=e.x,d.f=e.y,c.multiply(d)):(d.e-=l.scrollX*e.scrollFactorX,d.f-=l.scrollY*e.scrollFactorY,c.multiply(d));for(var f=e.commandBuffer,m=l.alpha*e.alpha,g=1,y=u.fillTint,k=u.strokeTint,v=0,b=0,w=0,S=2*Math.PI,x=[],T=0,A=!1,E=null,C=n.getTintAppendFloatAlphaAndSwap,M=t.blankTexture.glTexture,_=0;_<f.length;_++)switch(f[_]){case a.BEGIN_PATH:x.length=0,E=null,A=!0;break;case a.CLOSE_PATH:A=!1,E&&E.points.length&&E.points.push(E.points[0]);break;case a.FILL_PATH:for(T=0;T<x.length;T++)u.setTexture2D(M),u.batchFillPath(x[T].points,p,c);break;case a.STROKE_PATH:for(T=0;T<x.length;T++)u.setTexture2D(M),u.batchStrokePath(x[T].points,g,A,p,c);break;case a.LINE_STYLE:g=f[++_];var B=C(f[++_],f[++_]*m);k.TL=B,k.TR=B,k.BL=B,k.BR=B;break;case a.FILL_STYLE:var I=C(f[++_],f[++_]*m);y.TL=I,y.TR=I,y.BL=I,y.BR=I;break;case a.GRADIENT_FILL_STYLE:var D=f[++_]*m;y.TL=C(f[++_],D),y.TR=C(f[++_],D),y.BL=C(f[++_],D),y.BR=C(f[++_],D);break;case a.GRADIENT_LINE_STYLE:g=f[++_];var P=f[++_]*m;k.TL=C(f[++_],P),k.TR=C(f[++_],P),k.BL=C(f[++_],P),k.BR=C(f[++_],P);break;case a.ARC:var L=0,O=f[++_],N=f[++_],G=f[++_],R=f[++_],F=f[++_],Q=f[++_],U=f[++_];for(F-=R,Q?F<-S?F=-S:F>0&&(F=F%S-S):F>S?F=S:F<0&&(F=S+F%S),null===E&&(E=new r(O+Math.cos(R)*G,N+Math.sin(R)*G,g),x.push(E),L+=.01);L<1+U;)w=F*L+R,v=O+Math.cos(w)*G,b=N+Math.sin(w)*G,E.points.push(new s(v,b,g)),L+=.01;w=F+R,v=O+Math.cos(w)*G,b=N+Math.sin(w)*G,E.points.push(new s(v,b,g));break;case a.FILL_RECT:u.setTexture2D(M),u.batchFillRect(f[++_],f[++_],f[++_],f[++_],p,c);break;case a.FILL_TRIANGLE:u.setTexture2D(M),u.batchFillTriangle(f[++_],f[++_],f[++_],f[++_],f[++_],f[++_],p,c);break;case a.STROKE_TRIANGLE:u.setTexture2D(M),u.batchStrokeTriangle(f[++_],f[++_],f[++_],f[++_],f[++_],f[++_],g,p,c);break;case a.LINE_TO:null!==E?E.points.push(new s(f[++_],f[++_],g)):(E=new r(f[++_],f[++_],g),x.push(E));break;case a.MOVE_TO:E=new r(f[++_],f[++_],g),x.push(E);break;case a.SAVE:o.push(p.copyToArray());break;case a.RESTORE:p.copyFromArray(o.pop());break;case a.TRANSLATE:O=f[++_],N=f[++_],p.translate(O,N);break;case a.SCALE:O=f[++_],N=f[++_],p.scale(O,N);break;case a.ROTATE:p.rotate(f[++_]);break;case a.SET_TEXTURE:var H=f[++_],Y=f[++_];u.currentFrame=H,u.setTexture2D(H.glTexture,0),u.tintEffect=Y,M=H.glTexture;break;case a.CLEAR_TEXTURE:u.currentFrame=t.blankTexture,u.tintEffect=2,M=t.blankTexture.glTexture}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(966),n=i(967),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){this.pipeline.batchSprite(e,a,n)}},function(t,e){t.exports=function(t,e,i,a,n){t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(969),n=i(970),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){this.pipeline.batchSprite(e,a,n)}},function(t,e){t.exports=function(t,e,i,a,n){t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={GravityWell:i(401),Particle:i(402),ParticleEmitter:i(403),ParticleEmitterManager:i(194),Zones:i(976)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(119),s=i(69),r=i(2),o=i(58),l=new a({initialize:function(t,e,i,a){void 0===a&&(a=!1),this.propertyKey=e,this.propertyValue=i,this.defaultValue=i,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=a,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(t)},loadConfig:function(t,e){void 0===t&&(t={}),e&&(this.propertyKey=e),this.propertyValue=r(t,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(t){return this.propertyValue=t,this.setMethods()},setMethods:function(){var t=this.propertyValue,e=typeof t;if("number"===e)this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(t))this.onEmit=this.randomStaticValueEmit;else if("function"===e)this.emitOnly?this.onEmit=t:this.onUpdate=t;else if("object"===e&&(this.has(t,"random")||this.hasBoth(t,"start","end")||this.hasBoth(t,"min","max"))){this.start=this.has(t,"start")?t.start:t.min,this.end=this.has(t,"end")?t.end:t.max;var i=this.hasBoth(t,"min","max")||!!t.random;if(i){var a=t.random;Array.isArray(a)&&(this.start=a[0],this.end=a[1]),this.onEmit=this.randomRangedValueEmit}if(this.has(t,"steps"))this.steps=t.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var n=this.has(t,"ease")?t.ease:"Linear";this.ease=s(n),i||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else"object"===e&&this.hasEither(t,"onEmit","onUpdate")&&(this.has(t,"onEmit")&&(this.onEmit=t.onEmit),this.has(t,"onUpdate")&&(this.onUpdate=t.onUpdate));return this},has:function(t,e){return t.hasOwnProperty(e)},hasBoth:function(t,e,i){return t.hasOwnProperty(e)&&t.hasOwnProperty(i)},hasEither:function(t,e,i){return t.hasOwnProperty(e)||t.hasOwnProperty(i)},defaultEmit:function(t,e,i){return i},defaultUpdate:function(t,e,i,a){return a},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var t=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[t]},randomRangedValueEmit:function(t,e){var i=n(this.start,this.end);return t&&t.data[e]&&(t.data[e].min=i),i},steppedEmit:function(){var t=this.counter,e=this.counter+(this.end-this.start)/this.steps;return this.counter=o(e,this.start,this.end),t},easedValueEmit:function(t,e){if(t&&t.data[e]){var i=t.data[e];i.min=this.start,i.max=this.end}return this.start},easeValueUpdate:function(t,e,i){var a=t.data[e];return(a.max-a.min)*this.ease(i)+a.min}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(974),n=i(975),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e.emitters.list,o=r.length;if(0!==o){var l=this.pipeline,h=l._tempMatrix1.copyFrom(n.matrix),u=l._tempMatrix2,c=l._tempMatrix3,d=l._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);h.multiply(d),t.setPipeline(l);var p=n.roundPixels,f=e.defaultFrame.glTexture,m=a.getTintAppendFloatAlphaAndSwap;l.setTexture2D(f,0);for(var g=0;g<o;g++){var y=r[g],k=y.alive,v=k.length;if(y.visible&&0!==v){var b=n.scrollX*y.scrollFactorX,w=n.scrollY*y.scrollFactorY;s&&(h.multiplyWithOffset(s,-b,-w),b=0,w=0),t.setBlendMode(y.blendMode)&&l.setTexture2D(f,0),y.mask&&(y.mask.preRenderWebGL(t,y,n),l.setTexture2D(f,0));for(var S=0;S<v;S++){var x=k[S],T=x.alpha*n.alpha;if(!(T<=0)){var A=x.frame,E=-A.halfWidth,C=-A.halfHeight,M=E+A.width,_=C+A.height;c.applyITRS(0,0,x.rotation,x.scaleX,x.scaleY),c.e=x.x-b,c.f=x.y-w,h.multiply(c,u);var B=u.getX(E,C),I=u.getY(E,C),D=u.getX(E,_),P=u.getY(E,_),L=u.getX(M,_),O=u.getY(M,_),N=u.getX(M,C),G=u.getY(M,C);p&&(B=Math.round(B),I=Math.round(I),D=Math.round(D),P=Math.round(P),L=Math.round(L),O=Math.round(O),N=Math.round(N),G=Math.round(G));var R=m(x.tint,T);l.batchQuad(B,I,D,P,L,O,N,G,A.u0,A.v0,A.u1,A.v1,R,R,R,R,0,f,0)}}y.mask&&(y.mask.postRenderWebGL(t,n),l.setTexture2D(f,0))}}}}},function(t,e){t.exports=function(t,e,i,a,n){var s=e.emitters.list,r=s.length;if(0!==r){var o=t._tempMatrix1.copyFrom(a.matrix),l=t._tempMatrix2,h=t._tempMatrix3,u=t._tempMatrix4.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY);o.multiply(u);var c=a.roundPixels,d=t.currentContext;d.save();for(var p=0;p<r;p++){var f=s[p],m=f.alive,g=m.length;if(f.visible&&0!==g){var y=a.scrollX*f.scrollFactorX,k=a.scrollY*f.scrollFactorY;n&&(o.multiplyWithOffset(n,-y,-k),y=0,k=0),d.globalCompositeOperation=t.blendModes[f.blendMode];for(var v=0;v<g;v++){var b=m[v],w=b.alpha*a.alpha;if(!(w<=0)){var S=b.frame,x=S.canvasData,T=-S.halfWidth,A=-S.halfHeight;h.applyITRS(0,0,b.rotation,b.scaleX,b.scaleY),h.e=b.x-y,h.f=b.y-k,o.multiply(h,l),d.globalAlpha=w,d.save(),l.copyToContext(d),c&&(T=Math.round(T),A=Math.round(A)),d.imageSmoothingEnabled=!(!t.antialias||S.source.scaleMode),d.drawImage(S.source.image,x.x,x.y,x.width,x.height,T,A,x.width,x.height),d.restore()}}}}d.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={DeathZone:i(404),EdgeZone:i(405),RandomZone:i(407)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(978),n=i(979),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e.frame,o=r.width,l=r.height,h=a.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,r.glTexture,o,l,e.x,e.y,o,l,e.scaleX,e.scaleY,e.rotation,e.flipX,!e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,l,h(e._tintTL,n.alpha*e._alphaTL),h(e._tintTR,n.alpha*e._alphaTR),h(e._tintBL,n.alpha*e._alphaBL),h(e._tintBR,n.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,n,s),t.setBlankTexture(!0)}},function(t,e){t.exports=function(t,e,i,a,n){t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(981),n=i(18),s={Parse:i(982)};s=n(!1,s,a),t.exports=s},function(t,e){t.exports={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",TEXT_SET7:"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789"}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6);t.exports=function(t,e){var i=e.width,n=e.height,s=Math.floor(i/2),r=Math.floor(n/2),o=a(e,"chars","");if(""!==o){var l=a(e,"image",""),h=a(e,"offset.x",0),u=a(e,"offset.y",0),c=a(e,"spacing.x",0),d=a(e,"spacing.y",0),p=a(e,"lineSpacing",0),f=a(e,"charsPerRow",null);null===f&&(f=t.sys.textures.getFrame(l).width/i)>o.length&&(f=o.length);for(var m=h,g=u,y={retroFont:!0,font:l,size:i,lineHeight:n+p,chars:{}},k=0,v=0;v<o.length;v++){var b=o.charCodeAt(v);y.chars[b]={x:m,y:g,width:i,height:n,centerX:s,centerY:r,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},++k===f?(k=0,m=h,g+=n+d):m+=i+c}return{data:y,frame:null,texture:l}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(984),n=i(985),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=e.pipeline;t.setPipeline(r,e);var o=r._tempMatrix1,l=r._tempMatrix2,h=r._tempMatrix3;l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y,o.multiply(l,h)):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY,o.multiply(l,h));var u=e.frame.glTexture,c=e.vertices,d=e.uv,p=e.colors,f=e.alphas,m=e.alpha,g=a.getTintAppendFloatAlphaAndSwap,y=n.roundPixels,k=c.length,v=Math.floor(.5*k);r.flush(),r.setTexture2D(u,0);var b=r.vertexViewF32,w=r.vertexViewU32,S=r.vertexCount*r.vertexComponentCount-1,x=0,T=e.tintFill;e.dirty&&e.updateVertices();for(var A=e.debugCallback,E=[],C=0;C<k;C+=2){var M=c[C+0],_=c[C+1],B=M*h.a+_*h.c+h.e,I=M*h.b+_*h.d+h.f;y&&(B=Math.round(B),I=Math.round(I)),b[++S]=B,b[++S]=I,b[++S]=d[C+0],b[++S]=d[C+1],b[++S]=T,w[++S]=g(p[x],n.alpha*(f[x]*m)),x++,A&&(E[C+0]=B,E[C+1]=I)}A&&A.call(e,e,k,E),r.vertexCount+=v}},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,i){var a=t.canvas,n=t.context,s=t.style,r=[],o=0,l=i.length;s.maxLines>0&&s.maxLines<i.length&&(l=s.maxLines),s.syncFont(a,n);for(var h=0;h<l;h++){var u=s.strokeThickness;u+=n.measureText(i[h]).width,s.wordWrap&&(u-=n.measureText(" ").width),r[h]=Math.ceil(u),o=Math.max(o,r[h])}var c=e.fontSize+s.strokeThickness,d=c*l,p=t.lineSpacing;return l>1&&(d+=p*(l-1)),{width:o,height:d,lines:l,lineWidths:r,lineSpacing:p,lineHeight:c}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(988),n=i(989),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){if(0!==e.width&&0!==e.height){var r=e.frame,o=r.width,l=r.height,h=a.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,r.glTexture,o,l,e.x,e.y,o/e.style.resolution,l/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,o,l,h(e._tintTL,n.alpha*e._alphaTL),h(e._tintTR,n.alpha*e._alphaTR),h(e._tintBL,n.alpha*e._alphaBL),h(e._tintBR,n.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,n,s)}}},function(t,e){t.exports=function(t,e,i,a,n){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(14),s=i(6),r=i(991),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},l=new a({initialize:function(t,e){this.parent=t,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(e,!1,!0);var i=s(e,"metrics",!1);this.metrics=i?{ascent:s(i,"ascent",0),descent:s(i,"descent",0),fontSize:s(i,"fontSize",0)}:r(this)},setStyle:function(t,e,i){for(var a in void 0===e&&(e=!0),void 0===i&&(i=!1),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),o){var r=i?o[a][1]:this[a];this[a]="wordWrapCallback"===a||"wordWrapCallbackScope"===a?s(t,o[a][0],r):n(t,o[a][0],r)}var l=s(t,"font",null);null!==l&&this.setFont(l,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var h=s(t,"fill",null);return null!==h&&(this.color=h),e?this.update(!0):this.parent},syncFont:function(t,e){e.font=this._font},syncStyle:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=r(this)),this.parent.updateText()},setFont:function(t,e){void 0===e&&(e=!0);var i=t,a="",n="";if("string"!=typeof t)i=s(t,"fontFamily","Courier"),a=s(t,"fontSize","16px"),n=s(t,"fontStyle","");else{var r=t.split(" "),o=0;n=r.length>2?r[o++]:"",a=r[o++]||"16px",i=r[o++]||"Courier"}return i===this.fontFamily&&a===this.fontSize&&n===this.fontStyle||(this.fontFamily=i,this.fontSize=a,this.fontStyle=n,e&&this.update(!0)),this.parent},setFontFamily:function(t){return this.fontFamily!==t&&(this.fontFamily=t,this.update(!0)),this.parent},setFontStyle:function(t){return this.fontStyle!==t&&(this.fontStyle=t,this.update(!0)),this.parent},setFontSize:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize!==t&&(this.fontSize=t,this.update(!0)),this.parent},setTestString:function(t){return this.testString=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.color=t,this.update(!1)},setColor:function(t){return this.color=t,this.update(!1)},setResolution:function(t){return this.resolution=t,this.update(!1)},setStroke:function(t,e){return void 0===e&&(e=this.strokeThickness),void 0===t&&0!==this.strokeThickness?(this.strokeThickness=0,this.update(!0)):this.stroke===t&&this.strokeThickness===e||(this.stroke=t,this.strokeThickness=e,this.update(!0)),this.parent},setShadow:function(t,e,i,a,n,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===a&&(a=0),void 0===n&&(n=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=a,this.shadowStroke=n,this.shadowFill=s,this.update(!1)},setShadowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setWordWrapWidth:function(t,e){return void 0===e&&(e=!1),this.wordWrapWidth=t,this.wordWrapUseAdvanced=e,this.update(!1)},setWordWrapCallback:function(t,e){return void 0===e&&(e=null),this.wordWrapCallback=t,this.wordWrapCallbackScope=e,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in o)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(26);t.exports=function(t){var e=a.create(this),i=e.getContext("2d");t.syncFont(e,i);var n=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=n,r=2*s;s=s*t.baselineY|0,e.width=n,e.height=r,i.fillStyle="#f00",i.fillRect(0,0,n,r),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,r))return o.ascent=s,o.descent=s+6,o.fontSize=o.ascent+o.descent,a.remove(e),o;var l,h,u=i.getImageData(0,0,n,r).data,c=u.length,d=4*n,p=0,f=!1;for(l=0;l<s;l++){for(h=0;h<d;h+=4)if(255!==u[p+h]){f=!0;break}if(f)break;p+=d}for(o.ascent=s-l,p=c-d,f=!1,l=r;l>s;l--){for(h=0;h<d;h+=4)if(255!==u[p+h]){f=!0;break}if(f)break;p-=d}return o.descent=l-s,o.fontSize=o.ascent+o.descent,a.remove(e),o}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(993),n=i(994),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){e.updateCanvas();var r=a.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,e.fillPattern,e.displayFrame.width*e.tileScaleX,e.displayFrame.height*e.tileScaleY,e.x,e.y,e.width,e.height,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.originX*e.width,e.originY*e.height,0,0,e.width,e.height,r(e._tintTL,n.alpha*e._alphaTL),r(e._tintTR,n.alpha*e._alphaTR),r(e._tintBL,n.alpha*e._alphaBL),r(e._tintBR,n.alpha*e._alphaBR),e._isTinted&&e.tintFill,e.tilePositionX%e.displayFrame.width/e.displayFrame.width,e.tilePositionY%e.displayFrame.height/e.displayFrame.height,n,s)}},function(t,e){t.exports=function(t,e,i,a,n){e.updateCanvas(),t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(996),n=i(997),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){e.videoTexture&&this.pipeline.batchSprite(e,a,n)}},function(t,e){t.exports=function(t,e,i,a,n){e.videoTexture&&t.batchSprite(e,e.frame,a,n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(999),n=i(1e3),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(98),n=i(70);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;e.isFilled&&a(o,u,e,p,c,d),e.isStroked&&n(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(35),n=i(37),s=i(49),r=i(28);t.exports=function(t,e,i,o,l){var h=t.currentContext;if(r(t,h,e,o,l)){var u=e.radius;h.beginPath(),h.arc(u-e.originX*(2*u),u-e.originY*(2*u),u,a(e._startAngle),a(e._endAngle),e.anticlockwise),e.closePath&&h.closePath(),e.isFilled&&(n(h,e),h.fill()),e.isStroked&&(s(h,e),h.stroke()),h.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1002),n=i(1003),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(98),n=i(70);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX+e._curveBounds.x,d=e._displayOriginY+e._curveBounds.y,p=s.alpha*e.alpha;e.isFilled&&a(o,u,e,p,c,d),e.isStroked&&n(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX+e._curveBounds.x,u=e._displayOriginY+e._curveBounds.y,c=e.pathData,d=c.length-1,p=c[0]-h,f=c[1]-u;l.beginPath(),l.moveTo(p,f),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var g=c[m]-h,y=c[m+1]-u;l.lineTo(g,y)}e.closePath&&l.closePath(),e.isFilled&&(a(l,e),l.fill()),e.isStroked&&(n(l,e),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1005),n=i(1006),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(98),n=i(70);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;e.isFilled&&a(o,u,e,p,c,d),e.isStroked&&n(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX,u=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-h,f=c[1]-u;l.beginPath(),l.moveTo(p,f),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var g=c[m]-h,y=c[m+1]-u;l.lineTo(g,y)}l.closePath(),e.isFilled&&(a(l,e),l.fill()),e.isStroked&&(n(l,e),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1008),n=i(1009),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=this.pipeline,o=r._tempMatrix1,l=r._tempMatrix2,h=r._tempMatrix3;t.setPipeline(r),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY),o.multiply(l,h),h.translate(-e._displayOriginX,-e._displayOriginY);var u,c,d=n.alpha*e.alpha,p=e.width,f=e.height,m=e.cellWidth,g=e.cellHeight,y=Math.ceil(p/m),k=Math.ceil(f/g),v=m,b=g,w=m-(y*m-p),S=g-(k*g-f),x=e.showCells,T=e.showAltCells,A=e.showOutline,E=0,C=0,M=0,_=0,B=0;if(A&&(v--,b--,w===m&&w--,S===g&&S--),x&&e.fillAlpha>0)for(u=r.fillTint,c=a.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*d),u.TL=c,u.TR=c,u.BL=c,u.BR=c,C=0;C<k;C++)for(T&&(M=C%2),E=0;E<y;E++)T&&M?M=0:(M++,_=E<y-1?v:w,B=C<k-1?b:S,r.setTexture2D(),r.batchFillRect(E*m,C*g,_,B));if(T&&e.altFillAlpha>0)for(u=r.fillTint,c=a.getTintAppendFloatAlphaAndSwap(e.altFillColor,e.altFillAlpha*d),u.TL=c,u.TR=c,u.BL=c,u.BR=c,C=0;C<k;C++)for(T&&(M=C%2),E=0;E<y;E++)!T||M?(M=0,_=E<y-1?v:w,B=C<k-1?b:S,r.setTexture2D(),r.batchFillRect(E*m,C*g,_,B)):M=1;if(A&&e.outlineFillAlpha>0){var I=r.strokeTint,D=a.getTintAppendFloatAlphaAndSwap(e.outlineFillColor,e.outlineFillAlpha*d);for(I.TL=D,I.TR=D,I.BL=D,I.BR=D,E=1;E<y;E++){var P=E*m;r.setTexture2D(),r.batchLine(P,0,P,f,1,1,1,0,!1)}for(C=1;C<k;C++){var L=C*g;r.setTexture2D(),r.batchLine(0,L,p,L,1,1,1,0,!1)}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=-e._displayOriginX,u=-e._displayOriginY,c=r.alpha*e.alpha,d=e.width,p=e.height,f=e.cellWidth,m=e.cellHeight,g=Math.ceil(d/f),y=Math.ceil(p/m),k=f,v=m,b=f-(g*f-d),w=m-(y*m-p),S=e.showCells,x=e.showAltCells,T=e.showOutline,A=0,E=0,C=0,M=0,_=0;if(T&&(k--,v--,b===f&&b--,w===m&&w--),S&&e.fillAlpha>0)for(a(l,e),E=0;E<y;E++)for(x&&(C=E%2),A=0;A<g;A++)x&&C?C=0:(C++,M=A<g-1?k:b,_=E<y-1?v:w,l.fillRect(h+A*f,u+E*m,M,_));if(x&&e.altFillAlpha>0)for(a(l,e,e.altFillColor,e.altFillAlpha*c),E=0;E<y;E++)for(x&&(C=E%2),A=0;A<g;A++)!x||C?(C=0,M=A<g-1?k:b,_=E<y-1?v:w,l.fillRect(h+A*f,u+E*m,M,_)):C=1;if(T&&e.outlineFillAlpha>0){for(n(l,e,e.outlineFillColor,e.outlineFillAlpha*c),A=1;A<g;A++){var B=A*f;l.beginPath(),l.moveTo(B+h,u),l.lineTo(B+h,p+u),l.stroke()}for(E=1;E<y;E++){var I=E*m;l.beginPath(),l.moveTo(h,I+u),l.lineTo(h+d,I+u),l.stroke()}}l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1011),n=i(1012),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=this.pipeline,o=r._tempMatrix1,l=r._tempMatrix2,h=r._tempMatrix3;t.setPipeline(r),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY),o.multiply(l,h);var u,c,d,p,f,m,g,y,k,v=e.width,b=e.height,w=v/2,S=v/e.projection,x=n.alpha*e.alpha;e.isFilled&&(e.showTop&&(u=a.getTintAppendFloatAlphaAndSwap(e.fillTop,x),c=h.getX(-w,-b),d=h.getY(-w,-b),p=h.getX(0,-S-b),f=h.getY(0,-S-b),m=h.getX(w,-b),g=h.getY(w,-b),y=h.getX(0,S-b),k=h.getY(0,S-b),r.setTexture2D(),r.batchQuad(c,d,p,f,m,g,y,k,0,0,1,1,u,u,u,u,2)),e.showLeft&&(u=a.getTintAppendFloatAlphaAndSwap(e.fillLeft,x),c=h.getX(-w,0),d=h.getY(-w,0),p=h.getX(0,S),f=h.getY(0,S),m=h.getX(0,S-b),g=h.getY(0,S-b),y=h.getX(-w,-b),k=h.getY(-w,-b),r.setTexture2D(),r.batchQuad(c,d,p,f,m,g,y,k,0,0,1,1,u,u,u,u,2)),e.showRight&&(u=a.getTintAppendFloatAlphaAndSwap(e.fillRight,x),c=h.getX(w,0),d=h.getY(w,0),p=h.getX(0,S),f=h.getY(0,S),m=h.getX(0,S-b),g=h.getY(0,S-b),y=h.getX(w,-b),k=h.getY(w,-b),r.setTexture2D(),r.batchQuad(c,d,p,f,m,g,y,k,0,0,1,1,u,u,u,u,2)))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(28);t.exports=function(t,e,i,s,r){var o=t.currentContext;if(n(t,o,e,s,r)&&e.isFilled){var l=e.width,h=e.height,u=l/2,c=l/e.projection;e.showTop&&(a(o,e,e.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-c-h),o.lineTo(u,-h),o.lineTo(u,-1),o.lineTo(0,c-1),o.lineTo(-u,-1),o.lineTo(-u,-h),o.fill()),e.showLeft&&(a(o,e,e.fillLeft),o.beginPath(),o.moveTo(-u,0),o.lineTo(0,c),o.lineTo(0,c-h),o.lineTo(-u,-h),o.lineTo(-u,0),o.fill()),e.showRight&&(a(o,e,e.fillRight),o.beginPath(),o.moveTo(u,0),o.lineTo(0,c),o.lineTo(0,c-h),o.lineTo(u,-h),o.lineTo(u,0),o.fill()),o.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1014),n=i(1015),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=this.pipeline,o=r._tempMatrix1,l=r._tempMatrix2,h=r._tempMatrix3;t.setPipeline(r),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY),o.multiply(l,h);var u=e.width,c=e.height,d=u/2,p=u/e.projection,f=e.isReversed,m=n.alpha*e.alpha;if(e.isFilled){var g,y,k,v,b,w,S;if(e.showTop&&f){g=a.getTintAppendFloatAlphaAndSwap(e.fillTop,m),y=h.getX(-d,-c),k=h.getY(-d,-c),v=h.getX(0,-p-c),b=h.getY(0,-p-c),w=h.getX(d,-c),S=h.getY(d,-c);var x=h.getX(0,p-c),T=h.getY(0,p-c);r.setTexture2D(),r.batchQuad(y,k,v,b,w,S,x,T,0,0,1,1,g,g,g,g,2)}e.showLeft&&(g=a.getTintAppendFloatAlphaAndSwap(e.fillLeft,m),f?(y=h.getX(-d,-c),k=h.getY(-d,-c),v=h.getX(0,p),b=h.getY(0,p),w=h.getX(0,p-c),S=h.getY(0,p-c)):(y=h.getX(-d,0),k=h.getY(-d,0),v=h.getX(0,p),b=h.getY(0,p),w=h.getX(0,p-c),S=h.getY(0,p-c)),r.batchTri(y,k,v,b,w,S,0,0,1,1,g,g,g,2)),e.showRight&&(g=a.getTintAppendFloatAlphaAndSwap(e.fillRight,m),f?(y=h.getX(d,-c),k=h.getY(d,-c),v=h.getX(0,p),b=h.getY(0,p),w=h.getX(0,p-c),S=h.getY(0,p-c)):(y=h.getX(d,0),k=h.getY(d,0),v=h.getX(0,p),b=h.getY(0,p),w=h.getX(0,p-c),S=h.getY(0,p-c)),r.setTexture2D(),r.batchTri(y,k,v,b,w,S,0,0,1,1,g,g,g,2))}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(28);t.exports=function(t,e,i,s,r){var o=t.currentContext;if(n(t,o,e,s,r)&&e.isFilled){var l=e.width,h=e.height,u=l/2,c=l/e.projection,d=e.isReversed;e.showTop&&d&&(a(o,e,e.fillTop),o.beginPath(),o.moveTo(-u,-h),o.lineTo(0,-c-h),o.lineTo(u,-h),o.lineTo(0,c-h),o.fill()),e.showLeft&&(a(o,e,e.fillLeft),o.beginPath(),d?(o.moveTo(-u,-h),o.lineTo(0,c),o.lineTo(0,c-h)):(o.moveTo(-u,0),o.lineTo(0,c),o.lineTo(0,c-h)),o.fill()),e.showRight&&(a(o,e,e.fillRight),o.beginPath(),d?(o.moveTo(u,-h),o.lineTo(0,c),o.lineTo(0,c-h)):(o.moveTo(u,0),o.lineTo(0,c),o.lineTo(0,c-h)),o.fill()),o.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1017),n=i(1018),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=this.pipeline,o=r._tempMatrix1,l=r._tempMatrix2;t.setPipeline(r),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY);var h=e._displayOriginX,u=e._displayOriginY,c=n.alpha*e.alpha;if(e.isStroked){var d=r.strokeTint,p=a.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*c);d.TL=p,d.TR=p,d.BL=p,d.BR=p;var f=e._startWidth,m=e._endWidth;r.setTexture2D(),r.batchLine(e.geom.x1-h,e.geom.y1-u,e.geom.x2-h,e.geom.y2-u,f,m,1,0,!1,l,o)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(49),n=i(28);t.exports=function(t,e,i,s,r){var o=t.currentContext;if(n(t,o,e,s,r)){var l=e._displayOriginX,h=e._displayOriginY;e.isStroked&&(a(o,e),o.beginPath(),o.moveTo(e.geom.x1-l,e.geom.y1-h),o.lineTo(e.geom.x2-l,e.geom.y2-h),o.stroke()),o.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1020),n=i(1021),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(98),n=i(70);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;e.isFilled&&a(o,u,e,p,c,d),e.isStroked&&n(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX,u=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-h,f=c[1]-u;l.beginPath(),l.moveTo(p,f),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var g=c[m]-h,y=c[m+1]-u;l.lineTo(g,y)}l.closePath(),e.isFilled&&(a(l,e),l.fill()),e.isStroked&&(n(l,e),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1023),n=i(1024),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(70),n=i(9);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;if(e.isFilled){var f=o.fillTint,m=n.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*p);f.TL=m,f.TR=m,f.BL=m,f.BR=m,o.setTexture2D(),o.batchFillRect(-c,-d,e.width,e.height)}e.isStroked&&a(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX,u=e._displayOriginY;e.isFilled&&(a(l,e),l.fillRect(-h,-u,e.width,e.height)),e.isStroked&&(n(l,e),l.beginPath(),l.rect(-h,-u,e.width,e.height),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1026),n=i(1027),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(98),n=i(70);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;e.isFilled&&a(o,u,e,p,c,d),e.isStroked&&n(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX,u=e._displayOriginY,c=e.pathData,d=c.length-1,p=c[0]-h,f=c[1]-u;l.beginPath(),l.moveTo(p,f),e.closePath||(d-=2);for(var m=2;m<d;m+=2){var g=c[m]-h,y=c[m+1]-u;l.lineTo(g,y)}l.closePath(),e.isFilled&&(a(l,e),l.fill()),e.isStroked&&(n(l,e),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1029),n=i(1030),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(70),n=i(9);t.exports=function(t,e,i,s,r){var o=this.pipeline,l=o._tempMatrix1,h=o._tempMatrix2,u=o._tempMatrix3;t.setPipeline(o),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(s.matrix),r?(l.multiplyWithOffset(r,-s.scrollX*e.scrollFactorX,-s.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=s.scrollX*e.scrollFactorX,h.f-=s.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,d=e._displayOriginY,p=s.alpha*e.alpha;if(e.isFilled){var f=o.fillTint,m=n.getTintAppendFloatAlphaAndSwap(e.fillColor,e.fillAlpha*p);f.TL=m,f.TR=m,f.BL=m,f.BR=m;var g=e.geom.x1-c,y=e.geom.y1-d,k=e.geom.x2-c,v=e.geom.y2-d,b=e.geom.x3-c,w=e.geom.y3-d;o.setTexture2D(),o.batchFillTriangle(g,y,k,v,b,w,h,l)}e.isStroked&&a(o,e,p,c,d)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(37),n=i(49),s=i(28);t.exports=function(t,e,i,r,o){var l=t.currentContext;if(s(t,l,e,r,o)){var h=e._displayOriginX,u=e._displayOriginY,c=e.geom.x1-h,d=e.geom.y1-u,p=e.geom.x2-h,f=e.geom.y2-u,m=e.geom.x3-h,g=e.geom.y3-u;l.beginPath(),l.moveTo(c,d),l.lineTo(p,f),l.lineTo(m,g),l.closePath(),e.isFilled&&(a(l,e),l.fill()),e.isStroked&&(n(l,e),l.stroke()),l.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(188);i(5).register("blitter",(function(t,e,i,n){return this.displayList.add(new a(this.scene,t,e,i,n))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(189);i(5).register("container",(function(t,e,i){return this.displayList.add(new a(this.scene,t,e,i))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(394);i(5).register("dom",(function(t,e,i,n,s){var r=new a(this.scene,t,e,i,n,s);return this.displayList.add(r),this.updateList.add(r),r}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(190);i(5).register("dynamicBitmapText",(function(t,e,i,n,s){return this.displayList.add(new a(this.scene,t,e,i,n,s))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(396);i(5).register("extern",(function(){var t=new a(this.scene);return this.displayList.add(t),this.updateList.add(t),t}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(191);i(5).register("graphics",(function(t){return this.displayList.add(new a(this.scene,t))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(97);i(5).register("group",(function(t,e){return this.updateList.add(new a(this.scene,t,e))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(107);i(5).register("image",(function(t,e,i,n){return this.displayList.add(new a(this.scene,t,e,i,n))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(194);a.register("particles",(function(t,e,i){var a=new n(this.scene,t,e,i);return this.displayList.add(a),this.updateList.add(a),a}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(408);a.register("follower",(function(t,e,i,a,s){var r=new n(this.scene,t,e,i,a,s);return this.displayList.add(r),this.updateList.add(r),r}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(195);a.register("renderTexture",(function(t,e,i,a,s,r){return this.displayList.add(new n(this.scene,t,e,i,a,s,r))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(197);i(5).register("rope",(function(t,e,i,n,s,r,o,l){var h=new a(this.scene,t,e,i,n,s,r,o,l);return this.displayList.add(h),this.updateList.add(h)}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(75);a.register("sprite",(function(t,e,i,a){var s=new n(this.scene,t,e,i,a);return this.displayList.add(s),this.updateList.add(s),s}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(132);i(5).register("bitmapText",(function(t,e,i,n,s,r){return this.displayList.add(new a(this.scene,t,e,i,n,s,r))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(198);i(5).register("text",(function(t,e,i,n){return this.displayList.add(new a(this.scene,t,e,i,n))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(199);i(5).register("tileSprite",(function(t,e,i,n,s,r){return this.displayList.add(new a(this.scene,t,e,i,n,s,r))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(110);i(5).register("zone",(function(t,e,i,n){return this.displayList.add(new a(this.scene,t,e,i,n))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(200);i(5).register("video",(function(t,e,i){var n=new a(this.scene,t,e,i);return this.displayList.add(n),this.updateList.add(n),n}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(409),n=i(5);n.register("arc",(function(t,e,i,n,s,r,o,l){return this.displayList.add(new a(this.scene,t,e,i,n,s,r,o,l))})),n.register("circle",(function(t,e,i,n,s){return this.displayList.add(new a(this.scene,t,e,i,0,360,!1,n,s))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(410);a.register("curve",(function(t,e,i,a,s){return this.displayList.add(new n(this.scene,t,e,i,a,s))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(411);i(5).register("ellipse",(function(t,e,i,n,s,r){return this.displayList.add(new a(this.scene,t,e,i,n,s,r))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(412);a.register("grid",(function(t,e,i,a,s,r,o,l,h,u){return this.displayList.add(new n(this.scene,t,e,i,a,s,r,o,l,h,u))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(413);a.register("isobox",(function(t,e,i,a,s,r,o){return this.displayList.add(new n(this.scene,t,e,i,a,s,r,o))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(414);a.register("isotriangle",(function(t,e,i,a,s,r,o,l){return this.displayList.add(new n(this.scene,t,e,i,a,s,r,o,l))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(415);a.register("line",(function(t,e,i,a,s,r,o,l){return this.displayList.add(new n(this.scene,t,e,i,a,s,r,o,l))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(416);a.register("polygon",(function(t,e,i,a,s){return this.displayList.add(new n(this.scene,t,e,i,a,s))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(421);a.register("rectangle",(function(t,e,i,a,s,r){return this.displayList.add(new n(this.scene,t,e,i,a,s,r))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(422);i(5).register("star",(function(t,e,i,n,s,r,o){return this.displayList.add(new a(this.scene,t,e,i,n,s,r,o))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(423);a.register("triangle",(function(t,e,i,a,s,r,o,l,h,u){return this.displayList.add(new n(this.scene,t,e,i,a,s,r,o,l,h,u))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(188),n=i(27),s=i(16),r=i(14);s.register("blitter",(function(t,e){void 0===t&&(t={});var i=r(t,"key",null),s=r(t,"frame",null),o=new a(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),n(this.scene,o,t),o}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(189),s=i(16),r=i(14);s.register("container",(function(t,e){void 0===t&&(t={});var i=r(t,"x",0),s=r(t,"y",0),o=new n(this.scene,i,s);return void 0!==e&&(t.add=e),a(this.scene,o,t),o}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(190),n=i(27),s=i(16),r=i(14);s.register("dynamicBitmapText",(function(t,e){void 0===t&&(t={});var i=r(t,"font",""),s=r(t,"text",""),o=r(t,"size",!1),l=new a(this.scene,0,0,i,s,o);return void 0!==e&&(t.add=e),n(this.scene,l,t),l}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(16),n=i(191);a.register("graphics",(function(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var i=new n(this.scene,t);return t.add&&this.scene.sys.displayList.add(i),i}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(16),n=i(97);a.register("group",(function(t){return new n(this.scene,null,t)}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(107);n.register("image",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),o=new r(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),a(this.scene,o,t),o}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(16),n=i(14),s=i(2),r=i(194);a.register("particles",(function(t,e){void 0===t&&(t={});var i=n(t,"key",null),a=n(t,"frame",null),o=s(t,"emitters",null),l=new r(this.scene,i,a,o);return void 0!==e&&(t.add=e),s(t,"add",!1)&&this.displayList.add(l),this.updateList.add(l),l}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(195);n.register("renderTexture",(function(t,e){void 0===t&&(t={});var i=s(t,"x",0),n=s(t,"y",0),o=s(t,"width",32),l=s(t,"height",32),h=s(t,"key",void 0),u=s(t,"frame",void 0),c=new r(this.scene,i,n,o,l,h,u);return void 0!==e&&(t.add=e),a(this.scene,c,t),c}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(6),o=i(197);n.register("rope",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),l=s(t,"horizontal",!0),h=r(t,"points",void 0),u=r(t,"colors",void 0),c=r(t,"alphas",void 0),d=new o(this.scene,0,0,i,n,h,l,u,c);return void 0!==e&&(t.add=e),a(this.scene,d,t),d}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(392),s=i(16),r=i(14),o=i(75);s.register("sprite",(function(t,e){void 0===t&&(t={});var i=r(t,"key",null),s=r(t,"frame",null),l=new o(this.scene,0,0,i,s);return void 0!==e&&(t.add=e),a(this.scene,l,t),n(l,t),l}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(132),n=i(27),s=i(16),r=i(14),o=i(6);s.register("bitmapText",(function(t,e){void 0===t&&(t={});var i=o(t,"font",""),s=r(t,"text",""),l=r(t,"size",!1),h=o(t,"align",0),u=new a(this.scene,0,0,i,s,l,h);return void 0!==e&&(t.add=e),n(this.scene,u,t),u}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(198);n.register("text",(function(t,e){void 0===t&&(t={});var i=s(t,"text",""),n=s(t,"style",null),o=s(t,"padding",null);null!==o&&(n.padding=o);var l=new r(this.scene,0,0,i,n);return void 0!==e&&(t.add=e),a(this.scene,l,t),l.autoRound=s(t,"autoRound",!0),l.resolution=s(t,"resolution",1),l}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(199);n.register("tileSprite",(function(t,e){void 0===t&&(t={});var i=s(t,"x",0),n=s(t,"y",0),o=s(t,"width",512),l=s(t,"height",512),h=s(t,"key",""),u=s(t,"frame",""),c=new r(this.scene,i,n,o,l,h,u);return void 0!==e&&(t.add=e),a(this.scene,c,t),c}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(16),n=i(14),s=i(110);a.register("zone",(function(t){var e=n(t,"x",0),i=n(t,"y",0),a=n(t,"width",1),r=n(t,"height",a);return new s(this.scene,e,i,a,r)}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(200);n.register("video",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=new r(this.scene,0,0,i);return void 0!==e&&(t.add=e),a(this.scene,n,t),n}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1076),n=i(1077),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n,s){var r=this.pipeline;t.setPipeline(r,e);var o=r._tempMatrix1,l=r._tempMatrix2,h=r._tempMatrix3;l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(n.matrix),s?(o.multiplyWithOffset(s,-n.scrollX*e.scrollFactorX,-n.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y,o.multiply(l,h)):(l.e-=n.scrollX*e.scrollFactorX,l.f-=n.scrollY*e.scrollFactorY,o.multiply(l,h));var u=e.frame.glTexture,c=e.vertices,d=e.uv,p=e.colors,f=e.alphas,m=c.length,g=Math.floor(.5*m);r.vertexCount+g>r.vertexCapacity&&r.flush(),r.setTexture2D(u,0);for(var y=r.vertexViewF32,k=r.vertexViewU32,v=r.vertexCount*r.vertexComponentCount-1,b=0,w=e.tintFill,S=0;S<m;S+=2){var x=c[S+0],T=c[S+1],A=x*h.a+T*h.c+h.e,E=x*h.b+T*h.d+h.f;n.roundPixels&&(A=Math.round(A),E=Math.round(E)),y[++v]=A,y[++v]=E,y[++v]=d[S+0],y[++v]=d[S+1],y[++v]=w,k[++v]=a.getTintAppendFloatAlpha(p[b],n.alpha*f[b]),b++}r.vertexCount+=g}},function(t,e){t.exports=function(){}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1079),n=i(1080),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a,n){if(e.shader){var s=t.currentPipeline;if(t.clearPipeline(),e.renderToTexture)e.load(),e.flush();else{var r=e._tempMatrix1,o=e._tempMatrix2,l=e._tempMatrix3;o.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),r.copyFrom(a.matrix),n?(r.multiplyWithOffset(n,-a.scrollX*e.scrollFactorX,-a.scrollY*e.scrollFactorY),o.e=e.x,o.f=e.y):(o.e-=a.scrollX*e.scrollFactorX,o.f-=a.scrollY*e.scrollFactorY),r.multiply(o,l),t.width===e._rendererWidth&&t.height===e._rendererHeight||e.projOrtho(0,t.width,t.height,0),e.load(l.matrix),e.flush()}t.rebindPipeline(s)}}},function(t,e){t.exports=function(){}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(134);i(5).register("mesh",(function(t,e,i,n,s,r,o,l){return this.displayList.add(new a(this.scene,t,e,i,n,s,r,o,l))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(203);i(5).register("quad",(function(t,e,i,n){return this.displayList.add(new a(this.scene,t,e,i,n))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(204);i(5).register("shader",(function(t,e,i,n,s,r,o){return this.displayList.add(new a(this.scene,t,e,i,n,s,r,o))}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(6),o=i(134);n.register("mesh",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"frame",null),l=r(t,"vertices",[]),h=r(t,"colors",[]),u=r(t,"alphas",[]),c=r(t,"uv",[]),d=new o(this.scene,0,0,l,c,h,u,i,n);return void 0!==e&&(t.add=e),a(this.scene,d,t),d}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(203);n.register("quad",(function(t,e){void 0===t&&(t={});var i=s(t,"x",0),n=s(t,"y",0),o=s(t,"key",null),l=s(t,"frame",null),h=new r(this.scene,i,n,o,l);return void 0!==e&&(t.add=e),a(this.scene,h,t),h}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(27),n=i(16),s=i(14),r=i(204);n.register("shader",(function(t,e){void 0===t&&(t={});var i=s(t,"key",null),n=s(t,"x",0),o=s(t,"y",0),l=s(t,"width",128),h=s(t,"height",128),u=new r(this.scene,i,n,o,l,h);return void 0!==e&&(t.add=e),a(this.scene,u,t),u}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(428),s=i(23),r=i(22),o=new a({Extends:n,initialize:function(t){this.scene=t,this.systems=t.sys,t.sys.settings.isBooted||t.sys.events.once(r.BOOT,this.boot,this),n.call(this)},boot:function(){var t=this.systems.events;t.on(r.SHUTDOWN,this.shutdown,this),t.on(r.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",o,"lights"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(65);a.Area=i(1089),a.Circumference=i(268),a.CircumferencePoint=i(149),a.Clone=i(1090),a.Contains=i(55),a.ContainsPoint=i(1091),a.ContainsRect=i(1092),a.CopyFrom=i(1093),a.Equals=i(1094),a.GetBounds=i(1095),a.GetPoint=i(266),a.GetPoints=i(267),a.Offset=i(1096),a.OffsetPoint=i(1097),a.Random=i(150),t.exports=a},function(t,e){t.exports=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(65);t.exports=function(t){return new a(t.x,t.y,t.radius)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(55);t.exports=function(t,e){return a(t,e.x,e.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(55);t.exports=function(t,e){return a(t,e.x,e.y)&&a(t,e.right,e.y)&&a(t,e.x,e.bottom)&&a(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.radius)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(95);a.Area=i(1099),a.Circumference=i(399),a.CircumferencePoint=i(193),a.Clone=i(1100),a.Contains=i(96),a.ContainsPoint=i(1101),a.ContainsRect=i(1102),a.CopyFrom=i(1103),a.Equals=i(1104),a.GetBounds=i(1105),a.GetPoint=i(397),a.GetPoints=i(398),a.Offset=i(1106),a.OffsetPoint=i(1107),a.Random=i(157),t.exports=a},function(t,e){t.exports=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(95);t.exports=function(t){return new a(t.x,t.y,t.width,t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(96);t.exports=function(t,e){return a(t,e.x,e.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(96);t.exports=function(t,e){return a(t,e.x,e.y)&&a(t,e.right,e.y)&&a(t,e.x,e.bottom)&&a(t,e.right,e.bottom)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=t.left,e.y=t.top,e.width=t.width,e.height=t.height,e}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(205);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s,r,o,l,h=t.x,u=t.y,c=t.radius,d=e.x,p=e.y,f=e.radius;if(u===p)0===(o=(r=-2*p)*r-4*(s=1)*(d*d+(l=(f*f-c*c-d*d+h*h)/(2*(h-d)))*l-2*d*l+p*p-f*f))?i.push(new a(l,-r/(2*s))):o>0&&(i.push(new a(l,(-r+Math.sqrt(o))/(2*s))),i.push(new a(l,(-r-Math.sqrt(o))/(2*s))));else{var m=(h-d)/(u-p),g=(f*f-c*c-d*d+h*h-p*p+u*u)/(2*(u-p));0===(o=(r=2*u*m-2*g*m-2*h)*r-4*(s=m*m+1)*(h*h+u*u+g*g-c*c-2*u*g))?(l=-r/(2*s),i.push(new a(l,g-l*m))):o>0&&(l=(-r+Math.sqrt(o))/(2*s),i.push(new a(l,g-l*m)),l=(-r-Math.sqrt(o))/(2*s),i.push(new a(l,g-l*m)))}}return i}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(207),n=i(206);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=e.getLineA(),r=e.getLineB(),o=e.getLineC(),l=e.getLineD();a(s,t,i),a(r,t,i),a(o,t,i),a(l,t,i)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11),n=i(135);t.exports=function(t,e,i){return void 0===i&&(i=new a),n(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(209),n=i(135);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=t.getLineA(),r=t.getLineB(),o=t.getLineC(),l=t.getLineD();a(s,e,i),a(r,e,i),a(o,e,i),a(l,e,i)}return i}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(432),n=i(209);t.exports=function(t,e,i){if(void 0===i&&(i=[]),a(t,e)){var s=e.getLineA(),r=e.getLineB(),o=e.getLineC();n(s,t,i),n(r,t,i),n(o,t,i)}return i}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(207),n=i(434);t.exports=function(t,e,i){if(void 0===i&&(i=[]),n(t,e)){var s=t.getLineA(),r=t.getLineB(),o=t.getLineC();a(s,e,i),a(r,e,i),a(o,e,i)}return i}},function(t,e,i){
/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(437),n=i(435);t.exports=function(t,e,i){if(void 0===i&&(i=[]),a(t,e)){var s=e.getLineA(),r=e.getLineB(),o=e.getLineC();n(t,s,i),n(t,r,i),n(t,o,i)}return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(439);t.exports=function(t,e){if(!a(t,e))return!1;var i=Math.min(e.x1,e.x2),n=Math.max(e.x1,e.x2),s=Math.min(e.y1,e.y2),r=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=n&&t.y>=s&&t.y<=r}},function(t,e){t.exports=function(t,e,i,a,n,s){return void 0===s&&(s=0),!(e>t.right+s||i<t.left-s||a>t.bottom+s||n<t.top-s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(56);a.Angle=i(85),a.BresenhamPoints=i(288),a.CenterOn=i(1118),a.Clone=i(1119),a.CopyFrom=i(1120),a.Equals=i(1121),a.Extend=i(1122),a.GetEasedPoints=i(1123),a.GetMidPoint=i(1124),a.GetNearestPoint=i(1125),a.GetNormal=i(1126),a.GetPoint=i(275),a.GetPoints=i(153),a.GetShortestDistance=i(1127),a.Height=i(1128),a.Length=i(57),a.NormalAngle=i(440),a.NormalX=i(1129),a.NormalY=i(1130),a.Offset=i(1131),a.PerpSlope=i(1132),a.Random=i(154),a.ReflectAngle=i(1133),a.Rotate=i(1134),a.RotateAroundPoint=i(1135),a.RotateAroundXY=i(211),a.SetToAngle=i(1136),a.Slope=i(1137),a.Width=i(1138),t.exports=a},function(t,e){t.exports=function(t,e,i){var a=e-(t.x1+t.x2)/2,n=i-(t.y1+t.y2)/2;return t.x1+=a,t.y1+=n,t.x2+=a,t.y2+=n,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(56);t.exports=function(t){return new a(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57);t.exports=function(t,e,i){void 0===i&&(i=e);var n=a(t),s=t.x2-t.x1,r=t.y2-t.y1;return e&&(t.x1=t.x1-s/n*e,t.y1=t.y1-r/n*e),i&&(t.x2=t.x2+s/n*i,t.y2=t.y2+r/n*i),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(319),n=i(69),s=i(4);t.exports=function(t,e,i,r,o){void 0===r&&(r=0),void 0===o&&(o=[]);var l,h,u=[],c=t.x1,d=t.y1,p=t.x2-c,f=t.y2-d,m=n(e,o),g=i-1;for(l=0;l<g;l++)h=m(l/g),u.push(new s(c+p*h,d+f*h));if(h=m(1),u.push(new s(c+p*h,d+f*h)),r>0){var y=u[0],k=[y];for(l=1;l<u.length-1;l++){var v=u[l];a(y,v)>=r&&(k.push(v),y=v)}var b=u[u.length-1];return a(y,b)<r&&k.pop(),k.push(b),k}return u}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){void 0===i&&(i=new a);var n=t.x1,s=t.y1,r=t.x2,o=t.y2,l=(r-n)*(r-n)+(o-s)*(o-s);if(0===l)return i;var h=((e.x-n)*(r-n)+(e.y-s)*(o-s))/l;return i.x=n+h*(r-n),i.y=s+h*(o-s),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(85),s=i(4);t.exports=function(t,e){void 0===e&&(e=new s);var i=n(t)-a.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e}},function(t,e){t.exports=function(t,e){var i=t.x1,a=t.y1,n=t.x2,s=t.y2,r=(n-i)*(n-i)+(s-a)*(s-a);if(0===r)return!1;var o=((a-e.y)*(n-i)-(i-e.x)*(s-a))/r;return Math.abs(o)*Math.sqrt(r)}},function(t,e){t.exports=function(t){return Math.abs(t.y1-t.y2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(85);t.exports=function(t){return Math.cos(n(t)-a.TAU)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(15),n=i(85);t.exports=function(t){return Math.sin(n(t)-a.TAU)}},function(t,e){t.exports=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t}},function(t,e){t.exports=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(85),n=i(440);t.exports=function(t,e){return 2*n(e)-Math.PI-a(t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(211);t.exports=function(t,e){var i=(t.x1+t.x2)/2,n=(t.y1+t.y2)/2;return a(t,i,n,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(211);t.exports=function(t,e,i){return a(t,e.x,e.y,i)}},function(t,e){t.exports=function(t,e,i,a,n){return t.x1=e,t.y1=i,t.x2=e+Math.cos(a)*n,t.y2=i+Math.sin(a)*n,t}},function(t,e){t.exports=function(t){return(t.y2-t.y1)/(t.x2-t.x1)}},function(t,e){t.exports=function(t){return Math.abs(t.x1-t.x2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);a.Ceil=i(1140),a.Clone=i(1141),a.CopyFrom=i(1142),a.Equals=i(1143),a.Floor=i(1144),a.GetCentroid=i(1145),a.GetMagnitude=i(441),a.GetMagnitudeSq=i(442),a.GetRectangleFromPoints=i(1146),a.Interpolate=i(1147),a.Invert=i(1148),a.Negative=i(1149),a.Project=i(1150),a.ProjectUnit=i(1151),a.SetMagnitude=i(1152),t.exports=a},function(t,e){t.exports=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t){return new a(t.x,t.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y}},function(t,e){t.exports=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){if(void 0===e&&(e=new a),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(var n=0;n<i;n++)e.x+=t[n].x,e.y+=t[n].y;e.x/=i,e.y/=i}return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e){void 0===e&&(e=new a);for(var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,o=0;o<t.length;o++){var l=t[o];l.x>i&&(i=l.x),l.x<n&&(n=l.x),l.y>s&&(s=l.y),l.y<r&&(r=l.y)}return e.x=n,e.y=r,e.width=i-n,e.height=s-r,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i,n){return void 0===i&&(i=0),void 0===n&&(n=new a),n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i,n}},function(t,e){t.exports=function(t){return t.setTo(t.y,t.x)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.setTo(-t.x,-t.y)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(442);t.exports=function(t,e,i){void 0===i&&(i=new a);var s=(t.x*e.x+t.y*e.y)/n(e);return 0!==s&&(i.x=s*e.x,i.y=s*e.y),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e,i){void 0===i&&(i=new a);var n=t.x*e.x+t.y*e.y;return 0!==n&&(i.x=n*e.x,i.y=n*e.y),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(441);t.exports=function(t,e){if(0!==t.x||0!==t.y){var i=a(t);t.x/=i,t.y/=i}return t.x*=e,t.y*=e,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(201);a.Clone=i(1154),a.Contains=i(202),a.ContainsPoint=i(1155),a.GetAABB=i(417),a.GetNumberArray=i(1156),a.GetPoints=i(418),a.Perimeter=i(419),a.Reverse=i(1157),a.Smooth=i(420),t.exports=a},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(201);t.exports=function(t){return new a(t.points)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(202);t.exports=function(t,e){return a(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){void 0===e&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e}},function(t,e){t.exports=function(t){return t.points.reverse(),t}},function(t,e){t.exports=function(t){return t.width*t.height}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t){return new a(t.x,t.y,t.width,t.height)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(48);t.exports=function(t,e){return a(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)}},function(t,e){t.exports=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(212);t.exports=function(t,e){var i=a(t);return i<a(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(212);t.exports=function(t,e){var i=a(t);return i>a(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width/i),t.setPosition(e.centerX-t.width/2,e.centerY-t.height/2)}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t}},function(t,e){t.exports=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t}},function(t,e,i){
/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11);t.exports=function(t,e,i,n,s){return void 0===s&&(s=new a),s.setTo(Math.min(t,i),Math.min(e,n),Math.abs(t-i),Math.abs(e-n))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=t.centerX,e.y=t.centerY,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4);t.exports=function(t,e){return void 0===e&&(e=new a),e.x=t.width,e.y=t.height,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(168);t.exports=function(t,e,i){var n=t.centerX,s=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),a(t,n,s)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(11),n=i(135);t.exports=function(t,e,i){return void 0===i&&(i=new a),n(t,e)?(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y):i.setEmpty(),i}},function(t,e){t.exports=function(t,e){for(var i=t.x,a=t.right,n=t.y,s=t.bottom,r=0;r<e.length;r++)i=Math.min(i,e[r].x),a=Math.max(a,e[r].x),n=Math.min(n,e[r].y),s=Math.max(s,e[r].y);return t.x=i,t.y=n,t.width=a-i,t.height=s-n,t}},function(t,e){t.exports=function(t,e){var i=Math.min(t.x,e.x),a=Math.max(t.right,e.right);t.x=i,t.width=a-i;var n=Math.min(t.y,e.y),s=Math.max(t.bottom,e.bottom);return t.y=n,t.height=s-n,t}},function(t,e){t.exports=function(t,e,i){var a=Math.min(t.x,e),n=Math.max(t.right,e);t.x=a,t.width=n-a;var s=Math.min(t.y,i),r=Math.max(t.bottom,i);return t.y=s,t.height=r-s,t}},function(t,e){t.exports=function(t,e,i){return t.x+=e,t.y+=i,t}},function(t,e){t.exports=function(t,e){return t.x+=e.x,t.y+=e.y,t}},function(t,e){t.exports=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(4),n=i(35);t.exports=function(t,e,i){void 0===i&&(i=new a),e=n(e);var s=Math.sin(e),r=Math.cos(e),o=r>0?t.width/2:t.width/-2,l=s>0?t.height/2:t.height/-2;return Math.abs(o*s)<Math.abs(l*r)?l=o*s/r:o=l*r/s,i.x=o+t.centerX,i.y=l+t.centerY,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(172),n=i(444),s=i(4);t.exports=function(t,e,i){if(void 0===i&&(i=new s),n(t,e))switch(a(0,3)){case 0:i.x=t.x+Math.random()*(e.right-t.x),i.y=t.y+Math.random()*(e.top-t.y);break;case 1:i.x=e.x+Math.random()*(t.right-e.x),i.y=e.bottom+Math.random()*(t.bottom-e.bottom);break;case 2:i.x=t.x+Math.random()*(e.x-t.x),i.y=e.y+Math.random()*(t.bottom-e.y);break;case 3:i.x=e.right+Math.random()*(t.right-e.right),i.y=t.y+Math.random()*(e.bottom-t.y)}return i}},function(t,e){t.exports=function(t,e){return t.width===e.width&&t.height===e.height}},function(t,e){t.exports=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(71);a.Area=i(1185),a.BuildEquilateral=i(1186),a.BuildFromPolygon=i(1187),a.BuildRight=i(1188),a.CenterOn=i(1189),a.Centroid=i(445),a.CircumCenter=i(1190),a.CircumCircle=i(1191),a.Clone=i(1192),a.Contains=i(83),a.ContainsArray=i(210),a.ContainsPoint=i(1193),a.CopyFrom=i(1194),a.Decompose=i(438),a.Equals=i(1195),a.GetPoint=i(424),a.GetPoints=i(425),a.InCenter=i(447),a.Perimeter=i(1196),a.Offset=i(446),a.Random=i(158),a.Rotate=i(1197),a.RotateAroundPoint=i(1198),a.RotateAroundXY=i(213),t.exports=a},function(t,e){t.exports=function(t){var e=t.x1,i=t.y1,a=t.x2,n=t.y2,s=t.x3,r=t.y3;return Math.abs(((s-e)*(n-i)-(a-e)*(r-i))/2)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(71);t.exports=function(t,e,i){var n=i*(Math.sqrt(3)/2);return new a(t,e,t+i/2,e+n,t-i/2,e+n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(66),n=i(71);t.exports=function(t,e,i,s,r){void 0===e&&(e=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===r&&(r=[]);for(var o,l,h,u,c,d,p,f,m,g=a(t,e),y=0;y<g.length;y+=3)o=g[y],l=g[y+1],h=g[y+2],u=t[2*o]*i,c=t[2*o+1]*s,d=t[2*l]*i,p=t[2*l+1]*s,f=t[2*h]*i,m=t[2*h+1]*s,r.push(new n(u,c,d,p,f,m));return r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(71);t.exports=function(t,e,i,n){return void 0===n&&(n=i),new a(t,e,t,e-n,t+i,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(445),n=i(446);t.exports=function(t,e,i,s){void 0===s&&(s=a);var r=s(t),o=e-r.x,l=i-r.y;return n(t,o,l)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(3);function n(t,e,i,a){return t*a-e*i}t.exports=function(t,e){void 0===e&&(e=new a);var i=t.x3,s=t.y3,r=t.x1-i,o=t.y1-s,l=t.x2-i,h=t.y2-s,u=2*n(r,o,l,h),c=n(o,r*r+o*o,h,l*l+h*h),d=n(r,r*r+o*o,l,l*l+h*h);return e.x=i-c/u,e.y=s+d/u,e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(65);t.exports=function(t,e){void 0===e&&(e=new a);var i,n,s=t.x1,r=t.y1,o=t.x2,l=t.y2,h=t.x3,u=t.y3,c=o-s,d=l-r,p=h-s,f=u-r,m=c*(s+o)+d*(r+l),g=p*(s+h)+f*(r+u),y=2*(c*(u-l)-d*(h-o));if(Math.abs(y)<1e-6){var k=Math.min(s,o,h),v=Math.min(r,l,u);i=.5*(Math.max(s,o,h)-k),n=.5*(Math.max(r,l,u)-v),e.x=k+i,e.y=v+n,e.radius=Math.sqrt(i*i+n*n)}else e.x=(f*m-d*g)/y,e.y=(c*g-p*m)/y,i=e.x-s,n=e.y-r,e.radius=Math.sqrt(i*i+n*n);return e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(71);t.exports=function(t){return new a(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(83);t.exports=function(t,e){return a(t,e.x,e.y)}},function(t,e){t.exports=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}},function(t,e){t.exports=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(57);t.exports=function(t){var e=t.getLineA(),i=t.getLineB(),n=t.getLineC();return a(e)+a(i)+a(n)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(213),n=i(447);t.exports=function(t,e){var i=n(t);return a(t,i.x,i.y,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(213);t.exports=function(t,e,i){return a(t,e.x,e.y,i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(179),n=i(18),s={CreateInteractiveObject:i(448),Events:i(54),Gamepad:i(1200),InputManager:i(364),InputPlugin:i(1212),InputPluginCache:i(136),Keyboard:i(1214),Mouse:i(1231),Pointer:i(367),Touch:i(1232)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Axis:i(449),Button:i(450),Events:i(214),Gamepad:i(451),GamepadPlugin:i(1207),Configs:i(1208)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="down"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="up"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="connected"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="disconnected"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="down"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="up"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(214),r=i(451),o=i(6),l=i(136),h=i(54),u=new a({Extends:n,initialize:function(t){n.call(this),this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,t.pluginEvents.once(h.BOOT,this.boot,this),t.pluginEvents.on(h.START,this.start,this)},boot:function(){var t=this.scene.sys.game,e=this.settings.input,i=t.config;this.enabled=o(e,"gamepad",i.inputGamepad)&&t.device.input.gamepads,this.target=o(e,"gamepad.target",i.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var t=this,e=this.target,i=function(e){!e.defaultPrevented&&t.isActive()&&(t.refreshPads(),t.queue.push(e))};this.onGamepadHandler=i,e.addEventListener("gamepadconnected",i,!1),e.addEventListener("gamepaddisconnected",i,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},refreshPads:function(){var t=navigator.getGamepads();if(t)for(var e=this.gamepads,i=0;i<t.length;i++){var a=t[i];if(a){var n=a.id,s=a.index,o=e[s];if(o)o.id!==n?(o.destroy(),e[s]=new r(this,a)):o.update(a);else{var l=new r(this,a);e[s]=l,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=l):this._pad3=l:this._pad2=l:this._pad1=l}}}else this.disconnectAll()},getAll:function(){for(var t=[],e=this.gamepads,i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},getPad:function(t){for(var e=this.gamepads,i=0;i<e.length;i++)if(e[i]&&e[i].index===t)return e[i]},update:function(){if(this.enabled){this.refreshPads();var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var a=e[i],n=this.getPad(a.gamepad.index);"gamepadconnected"===a.type?this.emit(s.CONNECTED,n,a):"gamepaddisconnected"===a.type&&this.emit(s.DISCONNECTED,n,a)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var t=0;t<this.gamepads.length;t++)this.gamepads[t]&&this.gamepads[t].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});l.register("GamepadPlugin",u,"gamepad","gamepad","inputGamepad"),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={DUALSHOCK_4:i(1209),SNES_USB:i(1210),XBOX_360:i(1211)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(65),n=i(55),s=i(0),r=i(179),o=i(448),l=i(1213),h=i(53),u=i(95),c=i(96),d=i(54),p=i(10),f=i(2),m=i(47),g=i(136),y=i(7),k=i(23),v=i(11),b=i(48),w=i(22),S=i(71),x=i(83),T=new s({Extends:p,initialize:function(t){p.call(this),this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.manager=t.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,g.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var e={cancelled:!1};this._eventContainer={stopPropagation:function(){e.cancelled=!0}},this._eventData=e,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,t.sys.events.once(w.BOOT,this.boot,this),t.sys.events.on(w.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(w.DESTROY,this.destroy,this),this.pluginEvents.emit(d.BOOT)},start:function(){var t=this.systems.events;t.on(w.TRANSITION_START,this.transitionIn,this),t.on(w.TRANSITION_OUT,this.transitionOut,this),t.on(w.TRANSITION_COMPLETE,this.transitionComplete,this),t.on(w.PRE_UPDATE,this.preUpdate,this),t.once(w.SHUTDOWN,this.shutdown,this),this.manager.events.on(d.GAME_OUT,this.onGameOut,this),this.manager.events.on(d.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(d.START)},onGameOver:function(t){this.isActive()&&this.emit(d.GAME_OVER,t.timeStamp,t)},onGameOut:function(t){this.isActive()&&this.emit(d.GAME_OUT,t.timeStamp,t)},preUpdate:function(){this.pluginEvents.emit(d.PRE_UPDATE);var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,a=e.length;if(0!==i||0!==a){for(var n=this._list,s=0;s<i;s++){var r=t[s],o=n.indexOf(r);o>-1&&(n.splice(o,1),this.clear(r,!0))}t.length=0,this._pendingRemoval.length=0,this._list=n.concat(e.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(t,e){if(!this.isActive())return!1;if(this.pluginEvents.emit(d.UPDATE,t,e),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var i,a=this.manager,n=a.pointers,s=a.pointersTotal;for(i=0;i<s;i++)n[i].updateMotion();if(0===this._list.length)return!1;var r=this.pollRate;if(-1===r)return!1;if(r>0){if(this._pollTimer-=e,!(this._pollTimer<0))return!1;this._pollTimer=this.pollRate}var o=!1;for(i=0;i<s;i++){var l=0,h=n[i];this._tempZones=[],this._temp=this.hitTestPointer(h),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),l+=this.processOverOutEvents(h),2===this.getDragState(h)&&this.processDragThresholdEvent(h,t),l>0&&(o=!0)}return o},update:function(t,e){if(!this.isActive())return!1;for(var i=e.length,a=!1,n=0;n<i;n++){var s=0,o=e[n];switch(this._tempZones=[],this._temp=this.hitTestPointer(o),this.sortGameObjects(this._temp),this.sortGameObjects(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),t){case r.MOUSE_DOWN:s+=this.processDragDownEvent(o),s+=this.processDownEvents(o),s+=this.processOverOutEvents(o);break;case r.MOUSE_UP:s+=this.processDragUpEvent(o),s+=this.processUpEvents(o),s+=this.processOverOutEvents(o);break;case r.TOUCH_START:s+=this.processDragDownEvent(o),s+=this.processDownEvents(o),s+=this.processOverEvents(o);break;case r.TOUCH_END:case r.TOUCH_CANCEL:s+=this.processDragUpEvent(o),s+=this.processUpEvents(o),s+=this.processOutEvents(o);break;case r.MOUSE_MOVE:case r.TOUCH_MOVE:s+=this.processDragMoveEvent(o),s+=this.processMoveEvents(o),s+=this.processOverOutEvents(o);break;case r.MOUSE_WHEEL:s+=this.processWheelEvent(o)}s>0&&(a=!0)}return this._updatedThisFrame=!0,a},clear:function(t,e){void 0===e&&(e=!1);var i=t.input;if(i){e||this.queueForRemoval(t),i.gameObject=void 0,i.target=void 0,i.hitArea=void 0,i.hitAreaCallback=void 0,i.callbackContext=void 0,this.manager.resetCursor(i),t.input=null;var a=this._draggable.indexOf(t);return a>-1&&this._draggable.splice(a,1),(a=this._drag[0].indexOf(t))>-1&&this._drag[0].splice(a,1),(a=this._over[0].indexOf(t))>-1&&this._over[0].splice(a,1),t}},disable:function(t){t.input.enabled=!1},enable:function(t,e,i,a){return void 0===a&&(a=!1),t.input?t.input.enabled=!0:this.setHitArea(t,e,i),t.input&&a&&!t.input.dropZone&&(t.input.dropZone=a),this},hitTestPointer:function(t){for(var e=this.cameras.getCamerasBelowPointer(t),i=0;i<e.length;i++){for(var a=e[i],n=this.manager.hitTest(t,this._list,a),s=0;s<n.length;s++){var r=n[s];r.input.dropZone&&this._tempZones.push(r)}if(n.length>0)return t.camera=a,n}return t.camera=e[0],[]},processDownEvents:function(t){var e=0,i=this._temp,a=this._eventData,n=this._eventContainer;a.cancelled=!1;for(var s=!1,r=0;r<i.length;r++){var o=i[r];if(o.input){if(e++,o.emit(d.GAMEOBJECT_POINTER_DOWN,t,o.input.localX,o.input.localY,n),a.cancelled||!o.input){s=!0;break}if(this.emit(d.GAMEOBJECT_DOWN,t,o,n),a.cancelled||!o.input){s=!0;break}}}return!s&&this.manager&&(t.downElement===this.manager.game.canvas?this.emit(d.POINTER_DOWN,t,i):this.emit(d.POINTER_DOWN_OUTSIDE,t)),e},getDragState:function(t){return this._dragState[t.id]},setDragState:function(t,e){this._dragState[t.id]=e},processDragThresholdEvent:function(t,e){var i=!1,a=this.dragTimeThreshold,n=this.dragDistanceThreshold;if((n>0&&h(t.x,t.y,t.downX,t.downY)>=n||a>0&&e>=t.downTime+a)&&(i=!0),i)return this.setDragState(t,3),this.processDragStartList(t)},processDragStartList:function(t){if(3!==this.getDragState(t))return 0;for(var e=this._drag[t.id],i=0;i<e.length;i++){var a=e[i],n=a.input;n.dragState=2,n.dragStartX=a.x,n.dragStartY=a.y,n.dragStartXGlobal=t.x,n.dragStartYGlobal=t.y,n.dragX=n.dragStartXGlobal-n.dragStartX,n.dragY=n.dragStartYGlobal-n.dragStartY,a.emit(d.GAMEOBJECT_DRAG_START,t,n.dragX,n.dragY),this.emit(d.DRAG_START,t,a)}return this.setDragState(t,4),e.length},processDragDownEvent:function(t){var e=this._temp;if(0===this._draggable.length||0===e.length||!t.primaryDown||0!==this.getDragState(t))return 0;this.setDragState(t,1);for(var i=[],a=0;a<e.length;a++){var n=e[a];n.input.draggable&&0===n.input.dragState&&i.push(n)}return 0===i.length?(this.setDragState(t,0),0):(i.length>1&&(this.sortGameObjects(i),this.topOnly&&i.splice(1)),this._drag[t.id]=i,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?(this.setDragState(t,3),this.processDragStartList(t)):(this.setDragState(t,2),0))},processDragMoveEvent:function(t){if(2===this.getDragState(t)&&this.processDragThresholdEvent(t,this.manager.game.loop.now),4!==this.getDragState(t))return 0;for(var e=this._tempZones,i=this._drag[t.id],a=0;a<i.length;a++){var n,s,r=i[a],o=r.input,l=o.target;if(l){var h=e.indexOf(l);0===h?(r.emit(d.GAMEOBJECT_DRAG_OVER,t,l),this.emit(d.DRAG_OVER,t,r,l)):h>0?(r.emit(d.GAMEOBJECT_DRAG_LEAVE,t,l),this.emit(d.DRAG_LEAVE,t,r,l),o.target=e[0],l=o.target,r.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,r,l)):(r.emit(d.GAMEOBJECT_DRAG_LEAVE,t,l),this.emit(d.DRAG_LEAVE,t,r,l),e[0]?(o.target=e[0],l=o.target,r.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,r,l)):o.target=null)}else!l&&e[0]&&(o.target=e[0],l=o.target,r.emit(d.GAMEOBJECT_DRAG_ENTER,t,l),this.emit(d.DRAG_ENTER,t,r,l));if(r.parentContainer){var u=t.x-o.dragStartXGlobal,c=t.y-o.dragStartYGlobal,p=r.getParentRotation(),f=u*Math.cos(p)+c*Math.sin(p),m=c*Math.cos(p)-u*Math.sin(p);f*=1/r.parentContainer.scaleX,m*=1/r.parentContainer.scaleY,n=f+o.dragStartX,s=m+o.dragStartY}else n=t.x-o.dragX,s=t.y-o.dragY;r.emit(d.GAMEOBJECT_DRAG,t,n,s),this.emit(d.DRAG,t,r,n,s)}return i.length},processDragUpEvent:function(t){for(var e=this._drag[t.id],i=0;i<e.length;i++){var a=e[i],n=a.input;if(n&&2===n.dragState){n.dragState=0,n.dragX=n.localX-a.displayOriginX,n.dragY=n.localY-a.displayOriginY;var s=!1,r=n.target;r&&(a.emit(d.GAMEOBJECT_DROP,t,r),this.emit(d.DROP,t,a,r),n.target=null,s=!0),a.input&&(a.emit(d.GAMEOBJECT_DRAG_END,t,n.dragX,n.dragY,s),this.emit(d.DRAG_END,t,a,s))}}return this.setDragState(t,0),e.splice(0),0},processMoveEvents:function(t){var e=0,i=this._temp,a=this._eventData,n=this._eventContainer;a.cancelled=!1;for(var s=!1,r=0;r<i.length;r++){var o=i[r];if(o.input){if(e++,o.emit(d.GAMEOBJECT_POINTER_MOVE,t,o.input.localX,o.input.localY,n),a.cancelled||!o.input){s=!0;break}if(this.emit(d.GAMEOBJECT_MOVE,t,o,n),a.cancelled||!o.input){s=!0;break}if(this.topOnly)break}}return s||this.emit(d.POINTER_MOVE,t,i),e},processWheelEvent:function(t){var e=0,i=this._temp,a=this._eventData,n=this._eventContainer;a.cancelled=!1;for(var s=!1,r=t.deltaX,o=t.deltaY,l=t.deltaZ,h=0;h<i.length;h++){var u=i[h];if(u.input){if(e++,u.emit(d.GAMEOBJECT_POINTER_WHEEL,t,r,o,l,n),a.cancelled||!u.input){s=!0;break}if(this.emit(d.GAMEOBJECT_WHEEL,t,u,r,o,l,n),a.cancelled||!u.input){s=!0;break}}}return s||this.emit(d.POINTER_WHEEL,t,i,r,o,l),e},processOverEvents:function(t){var e=this._temp,i=0,a=e.length,n=[];if(a>0){var s=this.manager,r=this._eventData,o=this._eventContainer;r.cancelled=!1;for(var l=!1,h=0;h<a;h++){var u=e[h];if(u.input){if(n.push(u),s.setCursor(u.input),u.emit(d.GAMEOBJECT_POINTER_OVER,t,u.input.localX,u.input.localY,o),i++,r.cancelled||!u.input){l=!0;break}if(this.emit(d.GAMEOBJECT_OVER,t,u,o),r.cancelled||!u.input){l=!0;break}}}l||this.emit(d.POINTER_OVER,t,n)}return this._over[t.id]=n,i},processOutEvents:function(t){var e=this._over[t.id],i=0,a=e.length;if(a>0){var n=this.manager,s=this._eventData,r=this._eventContainer;s.cancelled=!1;var o=!1;this.sortGameObjects(e);for(var l=0;l<a;l++){var h=e[l];for(l=0;l<a;l++)if((h=e[l]).input){if(n.resetCursor(h.input),h.emit(d.GAMEOBJECT_POINTER_OUT,t,r),i++,s.cancelled||!h.input){o=!0;break}if(this.emit(d.GAMEOBJECT_OUT,t,h,r),s.cancelled||!h.input){o=!0;break}}o||this.emit(d.POINTER_OUT,t,e)}this._over[t.id]=[]}return i},processOverOutEvents:function(t){var e,i,a=this._temp,n=[],s=[],r=[],o=this._over[t.id],l=this._drag[t.id],h=this.manager;for(e=0;e<o.length;e++)i=o[e],-1===a.indexOf(i)&&-1===l.indexOf(i)?n.push(i):r.push(i);for(e=0;e<a.length;e++)i=a[e],-1===o.indexOf(i)&&s.push(i);var u=n.length,c=0,p=this._eventData,f=this._eventContainer;p.cancelled=!1;var m=!1;if(u>0){for(this.sortGameObjects(n),e=0;e<u;e++)if((i=n[e]).input){if(h.resetCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OUT,t,f),c++,p.cancelled||!i.input){m=!0;break}if(this.emit(d.GAMEOBJECT_OUT,t,i,f),p.cancelled||!i.input){m=!0;break}}m||this.emit(d.POINTER_OUT,t,n)}if(u=s.length,p.cancelled=!1,m=!1,u>0){for(this.sortGameObjects(s),e=0;e<u;e++)if((i=s[e]).input){if(h.setCursor(i.input),i.emit(d.GAMEOBJECT_POINTER_OVER,t,i.input.localX,i.input.localY,f),c++,p.cancelled||!i.input){m=!0;break}if(this.emit(d.GAMEOBJECT_OVER,t,i,f),p.cancelled||!i.input){m=!0;break}}m||this.emit(d.POINTER_OVER,t,s)}return o=r.concat(s),this._over[t.id]=this.sortGameObjects(o),c},processUpEvents:function(t){var e=this._temp,i=this._eventData,a=this._eventContainer;i.cancelled=!1;for(var n=!1,s=0;s<e.length;s++){var r=e[s];if(r.input){if(r.emit(d.GAMEOBJECT_POINTER_UP,t,r.input.localX,r.input.localY,a),i.cancelled||!r.input){n=!0;break}if(this.emit(d.GAMEOBJECT_UP,t,r,a),i.cancelled||!r.input){n=!0;break}}}return!n&&this.manager&&(t.upElement===this.manager.game.canvas?this.emit(d.POINTER_UP,t,e):this.emit(d.POINTER_UP_OUTSIDE,t)),e.length},queueForInsertion:function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this},queueForRemoval:function(t){return this._pendingRemoval.push(t),this},setDraggable:function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i];a.input.draggable=e;var n=this._draggable.indexOf(a);e&&-1===n?this._draggable.push(a):!e&&n>-1&&this._draggable.splice(n,1)}return this},makePixelPerfect:function(t){void 0===t&&(t=1);var e=this.systems.textures;return l(e,t)},setHitArea:function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);var a=!1,n=!1,s=!1,r=!1,l=!1,h=!0;if(y(e)){var u=e;e=f(u,"hitArea",null),i=f(u,"hitAreaCallback",null),a=f(u,"draggable",!1),n=f(u,"dropZone",!1),s=f(u,"cursor",!1),r=f(u,"useHandCursor",!1),l=f(u,"pixelPerfect",!1);var c=f(u,"alphaTolerance",1);l&&(e={},i=this.makePixelPerfect(c)),e&&i||(this.setHitAreaFromTexture(t),h=!1)}else"function"!=typeof e||i||(i=e,e={});for(var d=0;d<t.length;d++){var p=t[d];if(l&&"Container"===p.type)console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");else{var m=p.input?p.input:o(p,e,i);m.customHitArea=h,m.dropZone=n,m.cursor=r?"pointer":s,p.input=m,a&&this.setDraggable(p),this.queueForInsertion(p)}}return this},setHitAreaCircle:function(t,e,i,s,r){void 0===r&&(r=n);var o=new a(e,i,s);return this.setHitArea(t,o,r)},setHitAreaEllipse:function(t,e,i,a,n,s){void 0===s&&(s=c);var r=new u(e,i,a,n);return this.setHitArea(t,r,s)},setHitAreaFromTexture:function(t,e){void 0===e&&(e=b),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i],n=a.frame,s=0,r=0;a.width?(s=a.width,r=a.height):n&&(s=n.realWidth,r=n.realHeight),"Container"!==a.type||0!==s&&0!==r?0!==s&&0!==r&&(a.input=o(a,new v(0,0,s,r),e),this.queueForInsertion(a)):console.warn("Container.setInteractive must specify a Shape or call setSize() first")}return this},setHitAreaRectangle:function(t,e,i,a,n,s){void 0===s&&(s=b);var r=new v(e,i,a,n);return this.setHitArea(t,r,s)},setHitAreaTriangle:function(t,e,i,a,n,s,r,o){void 0===o&&(o=x);var l=new S(e,i,a,n,s,r);return this.setHitArea(t,l,o)},enableDebug:function(t,e){void 0===e&&(e=65280);var i=t.input;if(!i||!i.hitArea)return this;var a=i.hitArea,n=a.type,s=i.hitAreaDebug,r=this.systems.add,o=this.systems.updateList;s&&(o.remove(s),s.destroy(),s=null);var l=0,h=0;switch(n){case m.CIRCLE:s=r.arc(0,0,a.radius),l=a.x-a.radius,h=a.y-a.radius;break;case m.ELLIPSE:s=r.ellipse(0,0,a.width,a.height),l=a.x-a.width/2,h=a.y-a.height/2;break;case m.LINE:s=r.line(0,0,a.x1,a.y1,a.x2,a.y2);break;case m.POLYGON:s=r.polygon(0,0,a.points);break;case m.RECTANGLE:s=r.rectangle(0,0,a.width,a.height),l=a.x,h=a.y;break;case m.TRIANGLE:s=r.triangle(0,0,a.x1,a.y1,a.x2,a.y2,a.x3,a.y3)}return s&&(s.isFilled=!1,s.preUpdate=function(){s.setStrokeStyle(1/t.scale,e),s.setDisplayOrigin(t.displayOriginX,t.displayOriginY);var i=t.x,a=t.y,n=t.rotation,r=t.scaleX,o=t.scaleY;if(t.parentContainer){var u=t.getWorldTransformMatrix();i=u.tx,a=u.ty,n=u.rotation,r=u.scaleX,o=u.scaleY}s.setRotation(n),s.setScale(r,o),s.setPosition(i+l,a+h),s.setScrollFactor(t.scrollFactorX,t.scrollFactorY),s.setDepth(t.depth)},o.add(s),i.hitAreaDebug=s),this},removeDebug:function(t){var e=t.input;if(e&&e.hitAreaDebug){var i=e.hitAreaDebug;this.systems.updateList.remove(i),i.destroy(),e.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(t){return this.pollRate=t,this._pollTimer=0,this},setGlobalTopOnly:function(t){return this.manager.globalTopOnly=t,this},setTopOnly:function(t){return this.topOnly=t,this},sortGameObjects:function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))},sortHandlerGO:function(t,e){if(t.parentContainer||e.parentContainer){if(t.parentContainer===e.parentContainer)return e.parentContainer.getIndex(e)-t.parentContainer.getIndex(t);if(t.parentContainer===e)return-1;if(e.parentContainer===t)return 1;for(var i=t.getIndexList(),a=e.getIndexList(),n=Math.min(i.length,a.length),s=0;s<n;s++){var r=i[s],o=a[s];if(r!==o)return o-r}return a.length-i.length}return this.displayList.getIndex(e)-this.displayList.getIndex(t)},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(t){return this.manager.addPointer(t)},setDefaultCursor:function(t){return this.manager.setDefaultCursor(t),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(d.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[];this.removeAllListeners();var e=this.systems.events;e.off(w.TRANSITION_START,this.transitionIn,this),e.off(w.TRANSITION_OUT,this.transitionOut,this),e.off(w.TRANSITION_COMPLETE,this.transitionComplete,this),e.off(w.PRE_UPDATE,this.preUpdate,this),this.manager.events.off(d.GAME_OUT,this.onGameOut,this),this.manager.events.off(d.GAME_OVER,this.onGameOver,this),e.off(w.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(d.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(w.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});k.register("InputPlugin",T,"input"),t.exports=T},function(t,e){t.exports=function(t,e){return function(i,a,n,s){var r=t.getPixelAlpha(a,n,s.texture.key,s.frame.name);return r&&r>=e}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Events:i(137),KeyboardManager:i(365),KeyboardPlugin:i(1222),Key:i(452),KeyCodes:i(124),KeyCombo:i(453),JustDown:i(1227),JustUp:i(1228),DownDuration:i(1229),UpDuration:i(1230)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="keydown"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="keyup"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="keycombomatch"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="down"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="keydown-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="keyup-"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="up"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(10),s=i(137),r=i(20),o=i(6),l=i(54),h=i(136),u=i(452),c=i(124),d=i(453),p=i(1226),f=i(93),m=new a({Extends:n,initialize:function(t){n.call(this),this.game=t.systems.game,this.scene=t.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=t,this.manager=t.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],t.pluginEvents.once(l.BOOT,this.boot,this),t.pluginEvents.on(l.START,this.start,this)},boot:function(){var t=this.settings.input;this.enabled=o(t,"keyboard",!0);var e=o(t,"keyboard.capture",null);e&&this.addCaptures(e),this.sceneInputPlugin.pluginEvents.once(l.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(l.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(l.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(l.SHUTDOWN,this.shutdown,this),this.game.events.on(r.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(t){return this.manager.addCapture(t),this},removeCapture:function(t){return this.manager.removeCapture(t),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var a={};if("string"==typeof t){t=t.split(",");for(var n=0;n<t.length;n++){var s=t[n].trim();s&&(a[s]=this.addKey(s,e,i))}}else for(var r in t)a[r]=this.addKey(t[r],e,i);return a},addKey:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1);var a=this.keys;if(t instanceof u){var n=a.indexOf(t);return n>-1?a[n]=t:a[t.keyCode]=t,e&&this.addCapture(t.keyCode),t.setEmitOnRepeat(i),t}return"string"==typeof t&&(t=c[t.toUpperCase()]),a[t]||(a[t]=new u(this,t),e&&this.addCapture(t),a[t].setEmitOnRepeat(i)),a[t]},removeKey:function(t,e){void 0===e&&(e=!1);var i,a=this.keys;if(t instanceof u){var n=a.indexOf(t);n>-1&&(i=this.keys[n],this.keys[n]=void 0)}else"string"==typeof t&&(t=c[t.toUpperCase()]);return a[t]&&(i=a[t],a[t]=void 0),i&&(i.plugin=null,e&&i.destroy()),this},createCombo:function(t,e){return new d(this,t,e)},checkDown:function(t,e){if(this.enabled&&t.isDown){var i=f(this.time-t.timeDown,e);if(i>t._tick)return t._tick=i,!0}return!1},update:function(){var t=this.manager.queue,e=t.length;if(this.isActive()&&0!==e)for(var i=this.keys,a=0;a<e;a++){var n=t[a],r=n.keyCode,o=i[r],l=!1;void 0===n.cancelled&&(n.cancelled=0,n.stopImmediatePropagation=function(){n.cancelled=1},n.stopPropagation=function(){n.cancelled=-1}),-1!==n.cancelled&&("keydown"===n.type?(o&&(l=o.isDown,o.onDown(n)),n.cancelled||o&&l||(p[r]&&(this.emit(s.KEY_DOWN+p[r],n),this.emit("keydown_"+p[r],n)),n.cancelled||this.emit(s.ANY_KEY_DOWN,n))):(o&&o.onUp(n),n.cancelled||(p[r]&&(this.emit(s.KEY_UP+p[r],n),this.emit("keyup_"+p[r],n)),n.cancelled||this.emit(s.ANY_KEY_UP,n))),1===n.cancelled&&(n.cancelled=0))}},resetKeys:function(){for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(l.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(l.MANAGER_PROCESS,this.update,this),this.game.events.off(r.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var t=this.keys,e=0;e<t.length;e++)t[e]&&t[e].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),t.exports=m},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1224);t.exports=function(t,e){if(e.matched)return!0;var i=!1,n=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var s=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=s&&(n=!0,i=a(t,e))}else n=!0,i=a(t,e);return!n&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i}},function(t,e){t.exports=function(t,e){return e.timeLastMatched=t.timeStamp,e.index++,e.index===e.size||(e.current=e.keyCodes[e.index],!1)}},function(t,e){t.exports=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(124),n={};for(var s in a)n[a[s]]=s;t.exports=n},function(t,e){t.exports=function(t){return!!t._justDown&&(t._justDown=!1,!0)}},function(t,e){t.exports=function(t){return!!t._justUp&&(t._justUp=!1,!0)}},function(t,e){t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeDown;return t.isDown&&i<e}},function(t,e){t.exports=function(t,e){void 0===e&&(e=50);var i=t.plugin.game.loop.time-t.timeUp;return t.isUp&&i<e}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={MouseManager:i(366)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={TouchManager:i(368)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(17),n=i(18),s={Events:i(82),FileTypes:i(1234),File:i(21),FileTypesManager:i(8),GetURL:i(138),LoaderPlugin:i(1258),MergeXHRSettings:i(215),MultiFile:i(61),XHRLoader:i(454),XHRSettings:i(139)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={AnimationJSONFile:i(1235),AtlasJSONFile:i(1236),AtlasXMLFile:i(1237),AudioFile:i(455),AudioSpriteFile:i(1238),BinaryFile:i(1239),BitmapFontFile:i(1240),CSSFile:i(1241),GLSLFile:i(1242),HTML5AudioFile:i(456),HTMLFile:i(1243),HTMLTextureFile:i(1244),ImageFile:i(72),JSONFile:i(60),MultiAtlasFile:i(1245),MultiScriptFile:i(1246),PackFile:i(1247),PluginFile:i(1248),SceneFile:i(1249),ScenePluginFile:i(1250),ScriptFile:i(457),SpriteSheetFile:i(1251),SVGFile:i(1252),TextFile:i(458),TilemapCSVFile:i(1253),TilemapImpactFile:i(1254),TilemapJSONFile:i(1255),UnityAtlasFile:i(1256),VideoFile:i(1257),XMLFile:i(216)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(60),r=i(82),o=new a({Extends:s,initialize:function(t,e,i,a,n){s.call(this,t,e,i,a,n),this.type="animationJSON"},onProcess:function(){this.loader.once(r.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});n.register("animation",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new o(this,t[n]));else this.addFile(new o(this,t,e,a,i));return this})),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(72),o=i(7),l=i(60),h=i(61),u=new a({Extends:h,initialize:function(t,e,i,a,n,u){var c,d;if(o(e)){var p=e;e=s(p,"key"),c=new r(t,{key:e,url:s(p,"textureURL"),extension:s(p,"textureExtension","png"),normalMap:s(p,"normalMap"),xhrSettings:s(p,"textureXhrSettings")}),d=new l(t,{key:e,url:s(p,"atlasURL"),extension:s(p,"atlasExtension","json"),xhrSettings:s(p,"atlasXhrSettings")})}else c=new r(t,e,i,n),d=new l(t,e,a,u);c.linkFile?h.call(this,t,"atlasjson",e,[c,d,c.linkFile]):h.call(this,t,"atlasjson",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});n.register("atlas",(function(t,e,i,a,n){var s;if(Array.isArray(t))for(var r=0;r<t.length;r++)s=new u(this,t[r]),this.addFile(s.files);else s=new u(this,t,e,i,a,n),this.addFile(s.files);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(72),o=i(7),l=i(61),h=i(216),u=new a({Extends:l,initialize:function(t,e,i,a,n,u){var c,d;if(o(e)){var p=e;e=s(p,"key"),c=new r(t,{key:e,url:s(p,"textureURL"),extension:s(p,"textureExtension","png"),normalMap:s(p,"normalMap"),xhrSettings:s(p,"textureXhrSettings")}),d=new h(t,{key:e,url:s(p,"atlasURL"),extension:s(p,"atlasExtension","xml"),xhrSettings:s(p,"atlasXhrSettings")})}else c=new r(t,e,i,n),d=new h(t,e,a,u);c.linkFile?l.call(this,t,"atlasxml",e,[c,d,c.linkFile]):l.call(this,t,"atlasxml",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});n.register("atlasXML",(function(t,e,i,a,n){var s;if(Array.isArray(t))for(var r=0;r<t.length;r++)s=new u(this,t[r]),this.addFile(s.files);else s=new u(this,t,e,i,a,n),this.addFile(s.files);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(455),n=i(0),s=i(8),r=i(2),o=i(7),l=i(60),h=i(61),u=new n({Extends:h,initialize:function(t,e,i,n,s,u,c){if(o(e)){var d=e;e=r(d,"key"),i=r(d,"jsonURL"),n=r(d,"audioURL"),s=r(d,"audioConfig"),u=r(d,"audioXhrSettings"),c=r(d,"jsonXhrSettings")}var p;if(n){var f=a.create(t,e,n,s,u);f&&(p=new l(t,e,i,c),h.call(this,t,"audiosprite",e,[f,p]),this.config.resourceLoad=!1)}else p=new l(t,e,i,c),h.call(this,t,"audiosprite",e,[p]),this.config.resourceLoad=!0,this.config.audioConfig=s,this.config.audioXhrSettings=u},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,this.config.resourceLoad&&"json"===t.type&&t.data.hasOwnProperty("resources"))){var e=t.data.resources,i=r(this.config,"audioConfig"),n=r(this.config,"audioXhrSettings"),s=a.create(this.loader,t.key,e,i,n);s&&(this.addToMultiFile(s),this.loader.addFile(s))}},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.complete=!0}}});s.register("audioSprite",(function(t,e,i,a,n,s){var r,o=this.systems.game,l=o.config.audio,h=o.device.audio;if(l&&l.noAudio||!h.webAudio&&!h.audioData)return this;if(Array.isArray(t))for(var c=0;c<t.length;c++)(r=new u(this,t[c])).files&&this.addFile(r.files);else(r=new u(this,t,e,i,a,n,s)).files&&this.addFile(r.files);return this}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a,n){var r="bin";if(l(e)){var h=e;e=o(h,"key"),i=o(h,"url"),a=o(h,"xhrSettings"),r=o(h,"extension",r),n=o(h,"dataType",n)}var u={type:"binary",cache:t.cacheManager.binary,extension:r,responseType:"arraybuffer",key:e,url:i,xhrSettings:a,config:{dataType:n}};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.dataType;this.data=t?new t(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});r.register("binary",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new h(this,t[n]));else this.addFile(new h(this,t,e,a,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(72),o=i(7),l=i(61),h=i(187),u=i(216),c=new a({Extends:l,initialize:function(t,e,i,a,n,h){var c,d;if(o(e)){var p=e;e=s(p,"key"),c=new r(t,{key:e,url:s(p,"textureURL"),extension:s(p,"textureExtension","png"),normalMap:s(p,"normalMap"),xhrSettings:s(p,"textureXhrSettings")}),d=new u(t,{key:e,url:s(p,"fontDataURL"),extension:s(p,"fontDataExtension","xml"),xhrSettings:s(p,"fontDataXhrSettings")})}else c=new r(t,e,i,n),d=new u(t,e,a,h);c.linkFile?l.call(this,t,"bitmapfont",e,[c,d,c.linkFile]):l.call(this,t,"bitmapfont",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1];t.addToCache(),e.addToCache(),this.loader.cacheManager.bitmapFont.add(t.key,{data:h(e.data),texture:t.key,frame:null}),this.complete=!0}}});n.register("bitmapFont",(function(t,e,i,a,n){var s;if(Array.isArray(t))for(var r=0;r<t.length;r++)s=new c(this,t[r]),this.addFile(s.files);else s=new c(this,t,e,i,a,n),this.addFile(s.files);return this})),t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){var n="css";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"script",cache:!1,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});r.register("css",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=i(352),u=new a({Extends:s,initialize:function(t,e,i,a,n){var r="glsl";if(l(e)){var h=e;e=o(h,"key"),i=o(h,"url"),a=o(h,"shaderType","fragment"),n=o(h,"xhrSettings"),r=o(h,"extension",r)}else void 0===a&&(a="fragment");var u={type:"glsl",cache:t.cacheManager.shader,extension:r,responseType:"text",key:e,url:i,config:{shaderType:a},xhrSettings:n};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.split("\n"),e=this.extractBlock(t,0);if(e)for(;e;){var i=this.getShaderName(e.header),a=this.getShaderType(e.header),n=this.getShaderUniforms(e.header),s=e.shader;if(this.cache.has(i)){var r=this.cache.get(i);"fragment"===a?r.fragmentSrc=s:r.vertexSrc=s,r.uniforms||(r.uniforms=n)}else"fragment"===a?this.cache.add(i,new h(i,s,"",n)):this.cache.add(i,new h(i,"",s,n));e=this.extractBlock(t,e.offset)}else"fragment"===this.config.shaderType?this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("name:"===i.substring(0,5))return i.substring(5).trim()}return this.key},getShaderType:function(t){for(var e=0;e<t.length;e++){var i=t[e].trim();if("type:"===i.substring(0,5))return i.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(t){for(var e={},i=0;i<t.length;i++){var a=t[i].trim();if("uniform."===a.substring(0,8)){var n=a.indexOf(":");if(n){var s=a.substring(8,n);try{e[s]=JSON.parse(a.substring(n+1))}catch(t){console.warn("Invalid uniform JSON: "+s)}}}}return e},extractBlock:function(t,e){for(var i=-1,a=-1,n=-1,s=!1,r=!1,o=[],l=[],h=e;h<t.length;h++){var u=t[h].trim();if("---"===u)if(-1===i)i=h,s=!0;else{if(!s){r=!1;break}a=h,s=!1,r=!0}else s?o.push(u):r&&(l.push(u),n=h)}return s||-1===a?null:{header:o,shader:l.join("\n"),offset:n}}});r.register("glsl",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new u(this,t[n]));else this.addFile(new u(this,t,e,i,a));return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){var n="html";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:t.cacheManager.html,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});r.register("html",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a,n,r){void 0===a&&(a=512),void 0===n&&(n=512);var h="html";if(l(e)){var u=e;e=o(u,"key"),i=o(u,"url"),r=o(u,"xhrSettings"),h=o(u,"extension",h),a=o(u,"width",a),n=o(u,"height",n)}var c={type:"html",cache:t.textureManager,extension:h,responseType:"text",key:e,url:i,xhrSettings:r,config:{width:a,height:n}};s.call(this,t,c)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.config.width,e=this.config.height,i=[];i.push('<svg width="'+t+'px" height="'+e+'px" viewBox="0 0 '+t+" "+e+'" xmlns="http://www.w3.org/2000/svg">'),i.push('<foreignObject width="100%" height="100%">'),i.push('<body xmlns="http://www.w3.org/1999/xhtml">'),i.push(this.xhrLoader.responseText),i.push("</body>"),i.push("</foreignObject>"),i.push("</svg>");var a=[i.join("\n")],r=this;try{var o=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch(t){return r.state=n.FILE_ERRORED,void r.onProcessComplete()}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(r.data),r.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(r.data),r.onProcessError()},s.createObjectURL(this.data,o,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});r.register("htmlTexture",(function(t,e,i,a,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new h(this,t[s]));else this.addFile(new h(this,t,e,i,a,n));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(72),o=i(7),l=i(60),h=i(61),u=new a({Extends:h,initialize:function(t,e,i,a,n,r,u){if(o(e)){var c=e;e=s(c,"key"),i=s(c,"url",!1)?s(c,"url"):s(c,"atlasURL"),r=s(c,"xhrSettings"),a=s(c,"path"),n=s(c,"baseURL"),u=s(c,"textureXhrSettings")}var d=new l(t,e,i,r);h.call(this,t,"multiatlas",e,[d]),this.config.path=a,this.config.baseURL=n,this.config.textureXhrSettings=u},onFileComplete:function(t){if(-1!==this.files.indexOf(t)&&(this.pending--,"json"===t.type&&t.data.hasOwnProperty("textures"))){var e=t.data.textures,i=this.config,a=this.loader,n=a.baseURL,o=a.path,l=a.prefix,h=s(i,"baseURL",this.baseURL),u=s(i,"path",this.path),c=s(i,"prefix",this.prefix),d=s(i,"textureXhrSettings");a.setBaseURL(h),a.setPath(u),a.setPrefix(c);for(var p=0;p<e.length;p++){var f=e[p].image,m="MA"+this.multiKeyIndex+"_"+f,g=new r(a,m,f,d);if(this.addToMultiFile(g),a.addFile(g),e[p].normalMap){var y=new r(a,m,e[p].normalMap,d);y.type="normalMap",g.setLink(y),this.addToMultiFile(y),a.addFile(y)}}a.setBaseURL(n),a.setPath(o),a.setPrefix(l)}},addToCache:function(){if(this.isReadyToProcess()){for(var t=this.files[0],e=[],i=[],a=[],n=1;n<this.files.length;n++){var s=this.files[n];if("normalMap"!==s.type)for(var r=s.key.indexOf("_"),o=s.key.substr(r+1),l=s.data,h=0;h<t.data.textures.length;h++){var u=t.data.textures[h];if(u.image===o){i.push(l),e.push(u),s.linkFile&&a.push(s.linkFile.data);break}}}for(0===a.length&&(a=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,i,e,a),this.complete=!0,n=0;n<this.files.length;n++)this.files[n].pendingDestroy()}}});n.register("multiatlas",(function(t,e,i,a,n){var s;if(Array.isArray(t))for(var r=0;r<t.length;r++)s=new u(this,t[r]),this.addFile(s.files);else s=new u(this,t,e,i,a,n),this.addFile(s.files);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(7),o=i(61),l=i(457),h=new a({Extends:o,initialize:function(t,e,i,a){var n="js",h=[];if(r(e)){var u=e;e=s(u,"key"),i=s(u,"url"),a=s(u,"xhrSettings"),n=s(u,"extension",n)}Array.isArray(i)||(i=[i]);for(var c=0;c<i.length;c++){var d=new l(t,{key:e+"_"+c.toString(),url:i[c],extension:n,xhrSettings:a});d.onProcess=function(){this.onProcessComplete()},h.push(d)}o.call(this,t,"scripts",e,h)},addToCache:function(){if(this.isReadyToProcess()){for(var t=0;t<this.files.length;t++){var e=this.files[t];e.data=document.createElement("script"),e.data.language="javascript",e.data.type="text/javascript",e.data.defer=!1,e.data.text=e.xhrLoader.responseText,document.head.appendChild(e.data)}this.complete=!0}}});n.register("scripts",(function(t,e,i){var a;if(Array.isArray(t))for(var n=0;n<t.length;n++)a=new h(this,t[n]),this.addFile(a.files);else a=new h(this,t,e,i),this.addFile(a.files);return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(8),r=i(60),o=new a({Extends:r,initialize:function(t,e,i,a,n){r.call(this,t,e,i,a,n),this.type="packfile"},onProcess:function(){this.state!==n.FILE_POPULATED&&(this.state=n.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new o(this,t[n]));else this.addFile(new o(this,t,e,a,i));return this})),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a,r,h){var u="js";if(l(e)){var c=e;e=o(c,"key"),i=o(c,"url"),h=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"start"),r=o(c,"mapping")}var d={type:"plugin",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:h,config:{start:a,mapping:r}};s.call(this,t,d),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=o(e,"start",!1),a=o(e,"mapping",null);if(this.state===n.FILE_POPULATED)t.install(this.key,this.data,i,a);else{this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var s=t.install(this.key,window[this.key],i,a);(i||a)&&(this.loader.systems[a]=s,this.loader.scene[a]=s)}this.onProcessComplete()}});r.register("plugin",(function(t,e,i,a,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new h(this,t[s]));else this.addFile(new h(this,t,e,i,a,n));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a){var n="js";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var h={type:"text",cache:t.cacheManager.text,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,h)},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t=this.data.concat("(function(){\nreturn new "+this.key+"();\n}).call(this);"),e=eval;this.loader.sceneManager.add(this.key,e(t)),this.complete=!0}});r.register("sceneFile",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new h(this,t[a]));else this.addFile(new h(this,t,e,i));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a,r,h){var u="js";if(l(e)){var c=e;e=o(c,"key"),i=o(c,"url"),h=o(c,"xhrSettings"),u=o(c,"extension",u),a=o(c,"systemKey"),r=o(c,"sceneKey")}var d={type:"scenePlugin",cache:!1,extension:u,responseType:"text",key:e,url:i,xhrSettings:h,config:{systemKey:a,sceneKey:r}};s.call(this,t,d),"function"==typeof i&&(this.data=i,this.state=n.FILE_POPULATED)},onProcess:function(){var t=this.loader.systems.plugins,e=this.config,i=this.key,a=o(e,"systemKey",i),s=o(e,"sceneKey",i);this.state===n.FILE_POPULATED?t.installScenePlugin(a,this.data,s,this.loader.scene,!0):(this.state=n.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),t.installScenePlugin(a,window[this.key],s,this.loader.scene,!0)),this.onProcessComplete()}});r.register("scenePlugin",(function(t,e,i,a,n){if(Array.isArray(t))for(var s=0;s<t.length;s++)this.addFile(new h(this,t[s]));else this.addFile(new h(this,t,e,i,a,n));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(72),r=new a({Extends:s,initialize:function(t,e,i,a,n){s.call(this,t,e,i,n,a),this.type="spritesheet"},addToCache:function(){var t=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(t)}});n.register("spritesheet",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new r(this,t[n]));else this.addFile(new r(this,t,e,i,a));return this})),t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=new a({Extends:s,initialize:function(t,e,i,a,n){var r="svg";if(l(e)){var h=e;e=o(h,"key"),i=o(h,"url"),a=o(h,"svgConfig",{}),n=o(h,"xhrSettings"),r=o(h,"extension",r)}var u={type:"svg",cache:t.textureManager,extension:r,responseType:"text",key:e,url:i,xhrSettings:n,config:{width:o(a,"width"),height:o(a,"height"),scale:o(a,"scale")}};s.call(this,t,u)},onProcess:function(){this.state=n.FILE_PROCESSING;var t=this.xhrLoader.responseText,e=[t],i=this.config.width,a=this.config.height,r=this.config.scale;t:if(i&&a||r){var o=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("svg")[0],l=o.hasAttribute("viewBox"),h=parseFloat(o.getAttribute("width")),u=parseFloat(o.getAttribute("height"));if(!l&&h&&u)o.setAttribute("viewBox","0  0 "+h+" "+u);else if(l&&!h&&!u){var c=o.getAttribute("viewBox").split(/\s+|,/);h=c[2],u=c[3]}if(r){if(!h||!u)break t;i=h*r,a=u*r}o.setAttribute("width",i.toString()+"px"),o.setAttribute("height",a.toString()+"px"),e=[(new XMLSerializer).serializeToString(o)]}try{var d=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(t){return void this.onProcessError()}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var p=this,f=!1;this.data.onload=function(){f||s.revokeObjectURL(p.data),p.onProcessComplete()},this.data.onerror=function(){f?p.onProcessError():(f=!0,s.revokeObjectURL(p.data),p.data.src="data:image/svg+xml,"+encodeURIComponent(e.join("")))},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){var t=this.cache.addImage(this.key,this.data);this.pendingDestroy(t)}});r.register("svg",(function(t,e,i,a){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addFile(new h(this,t[n]));else this.addFile(new h(this,t,e,i,a));return this})),t.exports=h},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(2),l=i(7),h=i(32),u=new a({Extends:s,initialize:function(t,e,i,a){var n="csv";if(l(e)){var r=e;e=o(r,"key"),i=o(r,"url"),a=o(r,"xhrSettings"),n=o(r,"extension",n)}var u={type:"tilemapCSV",cache:t.cacheManager.tilemap,extension:n,responseType:"text",key:e,url:i,xhrSettings:a};s.call(this,t,u),this.tilemapFormat=h.CSV},onProcess:function(){this.state=n.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var t={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});r.register("tilemapCSV",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new u(this,t[a]));else this.addFile(new u(this,t,e,i));return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(60),r=i(32),o=new a({Extends:s,initialize:function(t,e,i,a){s.call(this,t,e,i,a),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:r.WELTMEISTER,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});n.register("tilemapImpact",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new o(this,t[a]));else this.addFile(new o(this,t,e,i));return this})),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(60),r=i(32),o=new a({Extends:s,initialize:function(t,e,i,a){s.call(this,t,e,i,a),this.type="tilemapJSON",this.cache=t.cacheManager.tilemap},addToCache:function(){var t={format:r.TILED_JSON,data:this.data};this.cache.add(this.key,t),this.pendingDestroy(t)}});n.register("tilemapTiledJSON",(function(t,e,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)this.addFile(new o(this,t[a]));else this.addFile(new o(this,t,e,i));return this})),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(8),s=i(2),r=i(72),o=i(7),l=i(61),h=i(458),u=new a({Extends:l,initialize:function(t,e,i,a,n,u){var c,d;if(o(e)){var p=e;e=s(p,"key"),c=new r(t,{key:e,url:s(p,"textureURL"),extension:s(p,"textureExtension","png"),normalMap:s(p,"normalMap"),xhrSettings:s(p,"textureXhrSettings")}),d=new h(t,{key:e,url:s(p,"atlasURL"),extension:s(p,"atlasExtension","txt"),xhrSettings:s(p,"atlasXhrSettings")})}else c=new r(t,e,i,n),d=new h(t,e,a,u);c.linkFile?l.call(this,t,"unityatlas",e,[c,d,c.linkFile]):l.call(this,t,"unityatlas",e,[c,d])},addToCache:function(){if(this.isReadyToProcess()){var t=this.files[0],e=this.files[1],i=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(t.key,t.data,e.data,i),e.addToCache(),this.complete=!0}}});n.register("unityAtlas",(function(t,e,i,a,n){var s;if(Array.isArray(t))for(var r=0;r<t.length;r++)s=new u(this,t[r]),this.addFile(s.files);else s=new u(this,t,e,i,a,n),this.addFile(s.files);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(21),r=i(8),o=i(138),l=i(2),h=i(7),u=new a({Extends:s,initialize:function(t,e,i,a,n,r,o){void 0===a&&(a="loadeddata"),void 0===n&&(n=!1),void 0===r&&(r=!1),"loadeddata"!==a&&"canplay"!==a&&"canplaythrough"!==a&&(a="loadeddata");var l={type:"video",cache:t.cacheManager.video,extension:i.type,responseType:"blob",key:e,url:i.url,xhrSettings:o,config:{loadEvent:a,asBlob:n,noAudio:r}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),s.call(this,t,l)},onProcess:function(){if(this.state=n.FILE_PROCESSING,this.config.asBlob){var t=this.createVideoElement();this.data=t;var e=this;this.data.onloadeddata=function(){e.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(e.data),e.onProcessError()},s.createObjectURL(t,this.xhrLoader.response,""),t.load()}else this.onProcessComplete()},createVideoElement:function(){var t=document.createElement("video");return t.controls=!1,t.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(t.muted=!0,t.defaultMuted=!0,t.setAttribute("autoplay","autoplay")),t.setAttribute("playsinline","playsinline"),t.setAttribute("preload","auto"),t},onVideoLoadHandler:function(t){var e=t.target;e.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),e.removeEventListener("error",this.onErrorCallback,!0),this.data=e,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(t){var e=t.target;e&&(e.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),e.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var t=this.config.loadEvent;if(this.config.asBlob)s.prototype.load.call(this);else{this.percentComplete=0;var e=this.createVideoElement();e.addEventListener(t,this.onLoadCallback,!0),e.addEventListener("error",this.onErrorCallback,!0),e.src=o(this,this.loader.baseURL),e.load()}}});u.create=function(t,e,i,a,n,s,r){var o=t.systems.game;h(e)&&(i=l(e,"url",[]),a=l(e,"loadEvent","loadeddata"),n=l(e,"asBlob",!1),s=l(e,"noAudio",!1),r=l(e,"xhrSettings"));var c=u.getVideoURL(o,i);if(c)return new u(t,e,c,a,n,s,r)},u.getVideoURL=function(t,e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var a,n=l(e[i],"url",e[i]);if(0===n.indexOf("blob:"))return{url:n,type:""};if(a=0===n.indexOf("data:")?n.split(",")[0].match(/\/(.*?);/):n.match(/\.([a-zA-Z0-9]+)($|\?)/),a=l(e[i],"type",a?a[1]:"").toLowerCase(),t.device.video[a])return{url:n,type:a}}return null},r.register("video",(function(t,e,i,a,n,s){var r;if(Array.isArray(t))for(var o=0;o<t.length;o++)(r=u.create(this,t[o]))&&this.addFile(r);else(r=u.create(this,t,e,i,a,n,s))&&this.addFile(r);return this})),t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(17),s=i(133),r=i(10),o=i(82),l=i(8),h=i(2),u=i(23),c=i(22),d=i(139),p=new a({Extends:r,initialize:function(t){r.call(this);var e=t.sys.game.config,i=t.sys.settings.loader;this.scene=t,this.systems=t.sys,this.cacheManager=t.sys.cache,this.textureManager=t.sys.textures,this.sceneManager=t.sys.game.scene,l.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(i,"baseURL",e.loaderBaseURL)),this.setPath(h(i,"path",e.loaderPath)),this.setPrefix(h(i,"prefix",e.loaderPrefix)),this.maxParallelDownloads=h(i,"maxParallelDownloads",e.loaderMaxParallelDownloads),this.xhr=d(h(i,"responseType",e.loaderResponseType),h(i,"async",e.loaderAsync),h(i,"user",e.loaderUser),h(i,"password",e.loaderPassword),h(i,"timeout",e.loaderTimeout),h(i,"withCredentials",e.loaderWithCredentials)),this.crossOrigin=h(i,"crossOrigin",e.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=n.LOADER_IDLE,this.multiKeyIndex=0,t.sys.events.once(c.BOOT,this.boot,this),t.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.baseURL=t,this},setPath:function(t){return void 0===t&&(t=""),""!==t&&"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},setPrefix:function(t){return void 0===t&&(t=""),this.prefix=t,this},setCORS:function(t){return this.crossOrigin=t,this},addFile:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];this.keyExists(i)||(this.list.set(i),this.emit(o.ADD,i.key,i.type,this,i),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(t){var e=t.hasCacheConflict();return e||this.list.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),!e&&this.isLoading()&&(this.inflight.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1})),this.queue.iterate((function(i){if(i.type===t.type&&i.key===t.key)return e=!0,!1}))),e},addPack:function(t,e){e&&t.hasOwnProperty(e)&&(t={packKey:t[e]});var i=0,a=this.baseURL,n=this.path,s=this.prefix;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r],l=h(o,"baseURL",a),u=h(o,"path",n),c=h(o,"prefix",s),d=h(o,"files",null),p=h(o,"defaultType","void");if(Array.isArray(d)){this.setBaseURL(l),this.setPath(u),this.setPrefix(c);for(var f=0;f<d.length;f++){var m=d[f],g=m.hasOwnProperty("type")?m.type:p;this[g]&&(this[g](m),i++)}}}return this.setBaseURL(a),this.setPath(n),this.setPrefix(s),i>0},isLoading:function(){return this.state===n.LOADER_LOADING||this.state===n.LOADER_PROCESSING},isReady:function(){return this.state===n.LOADER_IDLE||this.state===n.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),0===this.list.size?this.loadComplete():(this.state=n.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===n.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each((function(t){if((t.state===n.FILE_POPULATED||t.state===n.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(t),this.list.delete(t),t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load()),this.inflight.size===this.maxParallelDownloads)return!1}),this)},nextFile:function(t,e){this.inflight&&(this.inflight.delete(t),this.updateProgress(),e?(this.totalComplete++,this.queue.set(t),this.emit(o.FILE_LOAD,t),t.onProcess()):(this.totalFailed++,this._deleteQueue.set(t),this.emit(o.FILE_LOAD_ERROR,t),this.fileProcessComplete(t)))},fileProcessComplete:function(t){this.scene&&this.systems&&this.systems.game&&!this.systems.game.pendingDestroy&&(t.state===n.FILE_ERRORED?t.multiFile&&t.multiFile.onFileFailed(t):t.state===n.FILE_COMPLETE&&(t.multiFile?t.multiFile.isReadyToProcess()&&t.multiFile.addToCache():t.addToCache()),this.queue.delete(t),0===this.list.size&&0===this.inflight.size&&0===this.queue.size&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=n.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(t){this._deleteQueue.set(t)},saveJSON:function(t,e){return this.save(JSON.stringify(t),e)},save:function(t,e,i){void 0===e&&(e="file.json"),void 0===i&&(i="application/json");var a=new Blob([t],{type:i}),n=URL.createObjectURL(a),s=document.createElement("a");return s.download=e,s.textContent="Download "+e,s.href=n,s.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var t=this.systems.game.config,e=this.systems.settings.loader;this.setBaseURL(h(e,"baseURL",t.loaderBaseURL)),this.setPath(h(e,"path",t.loaderPath)),this.setPrefix(h(e,"prefix",t.loaderPrefix)),this.state=n.LOADER_IDLE},shutdown:function(){this.reset(),this.state=n.LOADER_SHUTDOWN,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=n.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});u.register("Loader",p,"load"),t.exports=p},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(50),n=i(18),s={ArcadePhysics:i(1260),Body:i(465),Collider:i(466),Components:i(217),Events:i(218),Factory:i(459),Group:i(461),Image:i(460),Sprite:i(140),StaticBody:i(471),StaticGroup:i(462),World:i(464)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(35),s=i(53),r=i(320),o=i(459),l=i(2),h=i(126),u=i(1273),c=i(463),d=i(23),p=i(22),f=i(3),m=i(464),g=new a({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(p.BOOT,this.boot,this),t.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new o(this.world));var t=this.systems.events;t.on(p.UPDATE,this.world.update,this.world),t.on(p.POST_UPDATE,this.world.postUpdate,this.world),t.once(p.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return h(l(e,"arcade",{}),l(t,"arcade",{}))},overlap:function(t,e,i,a,n){return void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,a,n,!0)},collide:function(t,e,i,a,n){return void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i),this.world.collideObjects(t,e,i,a,n,!1)},collideTiles:function(t,e,i,a,n){return this.world.collideTiles(t,e,i,a,n)},overlapTiles:function(t,e,i,a,n){return this.world.overlapTiles(t,e,i,a,n)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,a,n,s){void 0===a&&(a=60);var r=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(r,a),void 0!==n&&void 0!==s&&t.body.maxVelocity.set(n,s),r},accelerateToObject:function(t,e,i,a,n){return this.accelerateTo(t,e.x,e.y,i,a,n)},closest:function(t,e){e||(e=this.world.bodies.entries);for(var i=Number.MAX_VALUE,a=null,n=t.x,s=t.y,o=e.length,l=0;l<o;l++){var h=e[l],u=h.body||h;if(t!==h&&t!==u&&t!==u.gameObject&&t!==u.center){var c=r(n,s,u.center.x,u.center.y);c<i&&(a=h,i=c)}}return a},furthest:function(t,e){e||(e=this.world.bodies.entries);for(var i=-1,a=null,n=t.x,s=t.y,o=e.length,l=0;l<o;l++){var h=e[l],u=h.body||h;if(t!==h&&t!==u&&t!==u.gameObject&&t!==u.center){var c=r(n,s,u.center.x,u.center.y);c>i&&(a=h,i=c)}}return a},moveTo:function(t,e,i,a,n){void 0===a&&(a=60),void 0===n&&(n=0);var r=Math.atan2(i-t.y,e-t.x);return n>0&&(a=s(t.x,t.y,e,i)/(n/1e3)),t.body.velocity.setToPolar(r,a),r},moveToObject:function(t,e,i,a){return this.moveTo(t,e.x,e.y,i,a)},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new f),i.setToPolar(n(t),e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new f),i.setToPolar(t,e)},overlapRect:function(t,e,i,a,n,s){return c(this.world,t,e,i,a,n,s)},overlapCirc:function(t,e,i,a,n){return u(this.world,t,e,i,a,n)},shutdown:function(){if(this.world){var t=this.systems.events;t.off(p.UPDATE,this.world.update,this.world),t.off(p.POST_UPDATE,this.world.postUpdate,this.world),t.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});d.register("ArcadePhysics",g,"arcadePhysics"),t.exports=g},function(t,e){t.exports={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},function(t,e){t.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},function(t,e){t.exports={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,e,i){return this.body.setCollideWorldBounds(t,e,i),this}}},function(t,e){t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},function(t,e){t.exports={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={enableBody:function(t,e,i,a,n){return t&&this.body.reset(e,i),a&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};t.exports=i},function(t,e){t.exports={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},function(t,e){t.exports={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={setImmovable:function(t){return void 0===t&&(t=!0),this.body.immovable=t,this}};t.exports=i},function(t,e){t.exports={setMass:function(t){return this.body.mass=t,this}}},function(t,e){t.exports={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}}},function(t,e){t.exports={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}}},function(t,e,i){var a=i(463),n=i(65),s=i(205),r=i(206);t.exports=function(t,e,i,o,l,h){var u=a(t,e-o,i-o,2*o,2*o,l,h);if(0===u.length)return u;for(var c=new n(e,i,o),d=new n,p=[],f=0;f<u.length;f++){var m=u[f];m.isCircle?(d.setTo(m.center.x,m.center.y,m.halfWidth),s(c,d)&&p.push(m)):r(c,m)&&p.push(m)}return p}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="collide"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="overlap"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="tilecollide"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="tileoverlap"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="worldbounds"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="worldstep"},function(t,e){t.exports=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1284),n=i(1286),s=i(470);t.exports=function(t,e,i,r,o,l,h){var u=r.left,c=r.top,d=r.right,p=r.bottom,f=i.faceLeft||i.faceRight,m=i.faceTop||i.faceBottom;if(h||(f=!0,m=!0),!f&&!m)return!1;var g=0,y=0,k=0,v=1;if(e.deltaAbsX()>e.deltaAbsY()?k=-1:e.deltaAbsX()<e.deltaAbsY()&&(v=-1),0!==e.deltaX()&&0!==e.deltaY()&&f&&m&&(k=Math.min(Math.abs(e.position.x-d),Math.abs(e.right-u)),v=Math.min(Math.abs(e.position.y-p),Math.abs(e.bottom-c))),k<v){if(f&&0!==(g=a(e,i,u,d,l,h))&&!s(r,e))return!0;m&&(y=n(e,i,c,p,l,h))}else{if(m&&0!==(y=n(e,i,c,p,l,h))&&!s(r,e))return!0;f&&(g=a(e,i,u,d,l,h))}return 0!==g||0!==y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1285);t.exports=function(t,e,i,n,s,r){var o=0,l=e.faceLeft,h=e.faceRight,u=e.collideLeft,c=e.collideRight;return r||(l=!0,h=!0,u=!0,c=!0),t.deltaX()<0&&c&&t.checkCollision.left?h&&t.x<n&&(o=t.x-n)<-s&&(o=0):t.deltaX()>0&&u&&t.checkCollision.right&&l&&t.right>i&&(o=t.right-i)>s&&(o=0),0!==o&&(t.customSeparateX?t.overlapX=o:a(t,o)),o}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1287);t.exports=function(t,e,i,n,s,r){var o=0,l=e.faceTop,h=e.faceBottom,u=e.collideUp,c=e.collideDown;return r||(l=!0,h=!0,u=!0,c=!0),t.deltaY()<0&&c&&t.checkCollision.up?h&&t.y<n&&(o=t.y-n)<-s&&(o=0):t.deltaY()>0&&u&&t.checkCollision.down&&l&&t.bottom>i&&(o=t.bottom-i)>s&&(o=0),0!==o&&(t.customSeparateY?t.overlapY=o:a(t,o)),o}},function(t,e){t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(467);t.exports=function(t,e,i,n){var s=a(t,e,i,n);if(i||0===s||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==s||t.embedded&&e.embedded;var r=t.velocity.x,o=e.velocity.x;if(t.immovable||e.immovable)t.immovable?(e.x+=s,e.velocity.x=r-o*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=s,t.velocity.x=o-r*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y));else{s*=.5,t.x-=s,e.x+=s;var l=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),h=Math.sqrt(r*r*t.mass/e.mass)*(r>0?1:-1),u=.5*(l+h);l-=u,h-=u,t.velocity.x=u+l*t.bounce.x,e.velocity.x=u+h*e.bounce.x}return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(468);t.exports=function(t,e,i,n){var s=a(t,e,i,n);if(i||0===s||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return 0!==s||t.embedded&&e.embedded;var r=t.velocity.y,o=e.velocity.y;if(t.immovable||e.immovable)t.immovable?(e.y+=s,e.velocity.y=r-o*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=s,t.velocity.y=o-r*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x));else{s*=.5,t.y-=s,e.y+=s;var l=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),h=Math.sqrt(r*r*t.mass/e.mass)*(r>0?1:-1),u=.5*(l+h);l-=u,h-=u,t.velocity.y=u+l*t.bounce.y,e.velocity.y=u+h*e.bounce.y}return!0}},function(t,e,i){var a={};t.exports=a;var n=i(148),s=i(219),r=i(38),o=i(62),l=i(109);a.stack=function(t,e,i,a,s,r,l){for(var h,u=n.create({label:"Stack"}),c=t,d=e,p=0,f=0;f<a;f++){for(var m=0,g=0;g<i;g++){var y=l(c,d,g,f,h,p);if(y){var k=y.bounds.max.y-y.bounds.min.y,v=y.bounds.max.x-y.bounds.min.x;k>m&&(m=k),o.translate(y,{x:.5*v,y:.5*k}),c=y.bounds.max.x+s,n.addBody(u,y),h=y,p+=1}else c+=s}d+=m+r,c=t}return u},a.chain=function(t,e,i,a,o,l){for(var h=t.bodies,u=1;u<h.length;u++){var c=h[u-1],d=h[u],p=c.bounds.max.y-c.bounds.min.y,f=c.bounds.max.x-c.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,g={bodyA:c,pointA:{x:f*e,y:p*i},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*a,y:m*o}},y=r.extend(g,l);n.addConstraint(t,s.create(y))}return t.label+=" Chain",t},a.mesh=function(t,e,i,a,o){var l,h,u,c,d,p=t.bodies;for(l=0;l<i;l++){for(h=1;h<e;h++)u=p[h-1+l*e],c=p[h+l*e],n.addConstraint(t,s.create(r.extend({bodyA:u,bodyB:c},o)));if(l>0)for(h=0;h<e;h++)u=p[h+(l-1)*e],c=p[h+l*e],n.addConstraint(t,s.create(r.extend({bodyA:u,bodyB:c},o))),a&&h>0&&(d=p[h-1+(l-1)*e],n.addConstraint(t,s.create(r.extend({bodyA:d,bodyB:c},o)))),a&&h<e-1&&(d=p[h+1+(l-1)*e],n.addConstraint(t,s.create(r.extend({bodyA:d,bodyB:c},o))))}return t.label+=" Mesh",t},a.pyramid=function(t,e,i,n,s,r,l){return a.stack(t,e,i,n,s,r,(function(e,a,r,h,u,c){var d=Math.min(n,Math.ceil(i/2)),p=u?u.bounds.max.x-u.bounds.min.x:0;if(!(h>d||r<(h=d-h)||r>i-1-h))return 1===c&&o.translate(u,{x:(r+(i%2==1?1:-1))*p,y:0}),l(t+(u?r*p:0)+r*s,a,r,h,u,c)}))},a.newtonsCradle=function(t,e,i,a,r){for(var o=n.create({label:"Newtons Cradle"}),h=0;h<i;h++){var u=l.circle(t+h*(1.9*a),e+r,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),c=s.create({pointA:{x:t+h*(1.9*a),y:e},bodyB:u});n.addBody(o,u),n.addConstraint(o,c)}return o},a.car=function(t,e,i,a,r){var h=o.nextGroup(!0),u=.5*-i+20,c=.5*i-20,d=n.create({label:"Car"}),p=l.rectangle(t,e,i,a,{collisionFilter:{group:h},chamfer:{radius:.5*a},density:2e-4}),f=l.circle(t+u,e+0,r,{collisionFilter:{group:h},friction:.8}),m=l.circle(t+c,e+0,r,{collisionFilter:{group:h},friction:.8}),g=s.create({bodyB:p,pointB:{x:u,y:0},bodyA:f,stiffness:1,length:0}),y=s.create({bodyB:p,pointB:{x:c,y:0},bodyA:m,stiffness:1,length:0});return n.addBody(d,p),n.addBody(d,f),n.addBody(d,m),n.addConstraint(d,g),n.addConstraint(d,y),d},a.softBody=function(t,e,i,n,s,o,h,u,c,d){c=r.extend({inertia:1/0},c),d=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=a.stack(t,e,i,n,s,o,(function(t,e){return l.circle(t,e,u,c)}));return a.mesh(p,i,n,h,d),p.label="Soft Body",p}},function(t,e,i){var a={};t.exports=a;i(100);var n=i(38);a.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||n.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,s,r,o,l,h,u,c,d,p,f,m=[],g=0,y=0,k=0;e=e||15;var v=function(t,e,i){var a=i%2==1&&i>1;if(!d||t!=d.x||e!=d.y){d&&a?(p=d.x,f=d.y):(p=0,f=0);var n={x:p+t,y:f+e};!a&&d||(d=n),m.push(n),y=p+t,k=f+e}},b=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":y=t.x,k=t.y;break;case"H":y=t.x;break;case"V":k=t.y}v(y,k,t.pathSegType)}};for(a._svgPathToAbsolute(t),r=t.getTotalLength(),h=[],i=0;i<t.pathSegList.numberOfItems;i+=1)h.push(t.pathSegList.getItem(i));for(u=h.concat();g<r;){if((l=h[t.getPathSegAtLength(g)])!=c){for(;u.length&&u[0]!=l;)b(u.shift());c=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=t.getPointAtLength(g),v(o.x,o.y,0)}g+=e}for(i=0,s=u.length;i<s;++i)b(u[i]);return m},a._svgPathToAbsolute=function(t){for(var e,i,a,n,s,r,o=t.pathSegList,l=0,h=0,u=o.numberOfItems,c=0;c<u;++c){var d=o.getItem(c),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(l=d.x),"y"in d&&(h=d.y);else switch("x1"in d&&(a=l+d.x1),"x2"in d&&(s=l+d.x2),"y1"in d&&(n=h+d.y1),"y2"in d&&(r=h+d.y2),"x"in d&&(l+=d.x),"y"in d&&(h+=d.y),p){case"m":o.replaceItem(t.createSVGPathSegMovetoAbs(l,h),c);break;case"l":o.replaceItem(t.createSVGPathSegLinetoAbs(l,h),c);break;case"h":o.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),c);break;case"v":o.replaceItem(t.createSVGPathSegLinetoVerticalAbs(h),c);break;case"c":o.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,h,a,n,s,r),c);break;case"s":o.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,h,s,r),c);break;case"q":o.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,h,a,n),c);break;case"t":o.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,h),c);break;case"a":o.replaceItem(t.createSVGPathSegArcAbs(l,h,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),c);break;case"z":case"Z":l=e,h=i}"M"!=p&&"m"!=p||(e=l,i=h)}}},function(t,e,i){
/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(62),s=i(38),r=i(2),o=i(86),l={parseBody:function(t,e,i,a){void 0===a&&(a={});for(var o=r(i,"fixtures",[]),l=[],h=0;h<o.length;h++)for(var u=this.parseFixture(o[h]),c=0;c<u.length;c++)l.push(u[c]);var d=s.clone(i,!0);s.extend(d,a,!0),delete d.fixtures,delete d.type;var p=n.create(d);return n.setParts(p,l),n.setPosition(p,{x:t,y:e}),p},parseFixture:function(t){var e,i=s.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var n=r(t.circle,"x"),o=r(t.circle,"y"),l=r(t.circle,"radius");e=[a.circle(n,o,l,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){void 0===e&&(e={});for(var i=[],r=0;r<t.length;r++)o.clockwiseSort(t[r]),i.push(n.create(s.extend({position:o.centre(t[r]),vertices:t[r]},e)));return a.flagCoincidentParts(i)}};t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(62),s={parseBody:function(t,e,i,s){var r;void 0===s&&(s={});var o=i.vertices;if(1===o.length)s.vertices=o[0],r=n.create(s),a.flagCoincidentParts(r.parts);else{for(var l=[],h=0;h<o.length;h++){var u=n.create({vertices:o[h]});l.push(u)}a.flagCoincidentParts(l),s.parts=l,r=n.create(s)}return r.label=i.label,n.setPosition(r,{x:t,y:e}),r}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={AFTER_ADD:i(1404),AFTER_REMOVE:i(1405),AFTER_UPDATE:i(1406),BEFORE_ADD:i(1407),BEFORE_REMOVE:i(1408),BEFORE_UPDATE:i(1409),COLLISION_ACTIVE:i(1410),COLLISION_END:i(1411),COLLISION_START:i(1412),DRAG_END:i(1413),DRAG:i(1414),DRAG_START:i(1415),PAUSE:i(1416),RESUME:i(1417),SLEEP_END:i(1418),SLEEP_START:i(1419)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(62),s=i(0),r=i(513),o=i(10),l=i(2),h=i(108),u=i(86),c=new s({Extends:o,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(t,e,i){o.call(this),this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var a=l(i,"body",null),n=l(i,"addToWorld",!0);if(a)this.setBody(a,n);else{var s=e.getCollisionGroup();l(s,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,n=e.y+e.height/2,s=a.rectangle(i,n,e.width,e.height,t);return this.setBody(s,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),h(t,"isStatic")||(t.isStatic=!0),h(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,s=this.tile.getLeft(),r=this.tile.getTop(),o=this.tile.getCollisionGroup(),c=l(o,"objects",[]),d=[],p=0;p<c.length;p++){var f=c[p],m=s+f.x*e,g=r+f.y*i,y=f.width*e,k=f.height*i,v=null;if(f.rectangle)v=a.rectangle(m+y/2,g+k/2,y,k,t);else if(f.ellipse)v=a.circle(m+y/2,g+k/2,y/2,t);else if(f.polygon||f.polyline){var b=(f.polygon?f.polygon:f.polyline).map((function(t){return{x:t.x*e,y:t.y*i}})),w=u.create(b),S=u.centre(w);m+=S.x,g+=S.y,v=a.fromVertices(m,g,w,t)}v&&d.push(v)}return 1===d.length?this.setBody(d[0],t.addToWorld):d.length>1&&(t.parts=d,this.setBody(n.create(t),t.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});t.exports=c},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1386);a.Body=i(62),a.Composite=i(148),a.World=i(1298),a.Detector=i(514),a.Grid=i(1299),a.Pairs=i(1300),a.Pair=i(472),a.Query=i(1387),a.Resolver=i(1301),a.SAT=i(515),a.Constraint=i(219),a.Common=i(38),a.Engine=i(1388),a.Events=i(240),a.Sleeping=i(239),a.Plugin=i(1297),a.Bodies=i(109),a.Composites=i(1290),a.Axes=i(512),a.Bounds=i(100),a.Svg=i(1291),a.Vector=i(99),a.Vertices=i(86),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,t.exports=a},function(t,e,i){var a={};t.exports=a;var n=i(38);a._registry={},a.register=function(t){if(a.isPlugin(t)||n.warn("Plugin.register:",a.toString(t),"does not implement all required fields."),t.name in a._registry){var e=a._registry[t.name],i=a.versionParse(t.version).number,s=a.versionParse(e.version).number;i>s?(n.warn("Plugin.register:",a.toString(e),"was upgraded to",a.toString(t)),a._registry[t.name]=t):i<s?n.warn("Plugin.register:",a.toString(e),"can not be downgraded to",a.toString(t)):t!==e&&n.warn("Plugin.register:",a.toString(t),"is already registered to different plugin object")}else a._registry[t.name]=t;return t},a.resolve=function(t){return a._registry[a.dependencyParse(t).name]},a.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},a.isPlugin=function(t){return t&&t.name&&t.version&&t.install},a.isUsed=function(t,e){return t.used.indexOf(e)>-1},a.isFor=function(t,e){var i=t.for&&a.dependencyParse(t.for);return!t.for||e.name===i.name&&a.versionSatisfies(e.version,i.range)},a.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=a.dependencies(t),s=n.topologicalSort(i),r=[],o=0;o<s.length;o+=1)if(s[o]!==t.name){var l=a.resolve(s[o]);l?a.isUsed(t,l.name)||(a.isFor(l,t)||(n.warn("Plugin.use:",a.toString(l),"is for",l.for,"but installed on",a.toString(t)+"."),l._warned=!0),l.install?l.install(t):(n.warn("Plugin.use:",a.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(r.push(" "+a.toString(l)),delete l._warned):r.push(" "+a.toString(l)),t.used.push(l.name)):r.push(" "+s[o])}r.length>0&&!l.silent&&n.info(r.join("  "))}else n.warn("Plugin.use:",a.toString(t),"does not specify any dependencies to install.")},a.dependencies=function(t,e){var i=a.dependencyParse(t),s=i.name;if(!(s in(e=e||{}))){t=a.resolve(t)||t,e[s]=n.map(t.uses||[],(function(e){a.isPlugin(e)&&a.register(e);var s=a.dependencyParse(e),r=a.resolve(e);return r&&!a.versionSatisfies(r.version,s.range)?(n.warn("Plugin.dependencies:",a.toString(r),"does not satisfy",a.toString(s),"used by",a.toString(i)+"."),r._warned=!0,t._warned=!0):r||(n.warn("Plugin.dependencies:",a.toString(e),"used by",a.toString(i),"could not be resolved."),t._warned=!0),s.name}));for(var r=0;r<e[s].length;r+=1)a.dependencies(e[s][r],e);return e}},a.dependencyParse=function(t){return n.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||n.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},a.versionParse=function(t){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||n.warn("Plugin.versionParse:",t,"is not a valid version or range.");var e=t.split("-");t=e[0];var i=isNaN(Number(t[0])),a=i?t.substr(1):t,s=n.map(a.split("."),(function(t){return Number(t)}));return{isRange:i,version:a,range:t,operator:i?t[0]:"",parts:s,prerelease:e[1],number:1e8*s[0]+1e4*s[1]+s[2]}},a.versionSatisfies=function(t,e){e=e||"*";var i=a.versionParse(e),n=i.parts,s=a.versionParse(t),r=s.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return r[0]===n[0]&&r[1]===n[1]&&r[2]>=n[2];if("^"===i.operator)return n[0]>0?r[0]===n[0]&&s.number>=i.number:n[1]>0?r[1]===n[1]&&r[2]>=n[2]:r[2]===n[2]}return t===e||"*"===t}},function(t,e,i){var a={};t.exports=a;var n=i(148),s=(i(219),i(38));a.create=function(t){var e=n.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return s.extend(e,i,t)}},function(t,e,i){var a={};t.exports=a;var n=i(472),s=i(514),r=i(38);a.create=function(t){var e={controller:a,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(e,t)},a.update=function(t,e,i,n){var s,r,o,l,h,u=i.world,c=t.buckets,d=!1,p=i.metrics;for(p.broadphaseTests=0,s=0;s<e.length;s++){var f=e[s];if((!f.isSleeping||n)&&!(f.bounds.max.x<u.bounds.min.x||f.bounds.min.x>u.bounds.max.x||f.bounds.max.y<u.bounds.min.y||f.bounds.min.y>u.bounds.max.y)){var m=a._getRegion(t,f);if(!f.region||m.id!==f.region.id||n){p.broadphaseTests+=1,f.region&&!n||(f.region=m);var g=a._regionUnion(m,f.region);for(r=g.startCol;r<=g.endCol;r++)for(o=g.startRow;o<=g.endRow;o++){l=c[h=a._getBucketId(r,o)];var y=r>=m.startCol&&r<=m.endCol&&o>=m.startRow&&o<=m.endRow,k=r>=f.region.startCol&&r<=f.region.endCol&&o>=f.region.startRow&&o<=f.region.endRow;!y&&k&&k&&l&&a._bucketRemoveBody(t,l,f),(f.region===m||y&&!k||n)&&(l||(l=a._createBucket(c,h)),a._bucketAddBody(t,l,f))}f.region=m,d=!0}}}d&&(t.pairsList=a._createActivePairsList(t))},a.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},a._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),n=Math.max(t.endCol,e.endCol),s=Math.min(t.startRow,e.startRow),r=Math.max(t.endRow,e.endRow);return a._createRegion(i,n,s,r)},a._getRegion=function(t,e){var i=e.bounds,n=Math.floor(i.min.x/t.bucketWidth),s=Math.floor(i.max.x/t.bucketWidth),r=Math.floor(i.min.y/t.bucketHeight),o=Math.floor(i.max.y/t.bucketHeight);return a._createRegion(n,s,r,o)},a._createRegion=function(t,e,i,a){return{id:t+","+e+","+i+","+a,startCol:t,endCol:e,startRow:i,endRow:a}},a._getBucketId=function(t,e){return"C"+t+"R"+e},a._createBucket=function(t,e){return t[e]=[]},a._bucketAddBody=function(t,e,i){for(var a=0;a<e.length;a++){var s=e[a];if(!(i.id===s.id||i.isStatic&&s.isStatic)){var r=n.id(i,s),o=t.pairs[r];o?o[2]+=1:t.pairs[r]=[i,s,1]}}e.push(i)},a._bucketRemoveBody=function(t,e,i){e.splice(e.indexOf(i),1);for(var a=0;a<e.length;a++){var s=e[a],r=n.id(i,s),o=t.pairs[r];o&&(o[2]-=1)}},a._createActivePairsList=function(t){var e,i,a=[];e=r.keys(t.pairs);for(var n=0;n<e.length;n++)(i=t.pairs[e[n]])[2]>0?a.push(i):delete t.pairs[e[n]];return a}},function(t,e,i){var a={};t.exports=a;var n=i(472),s=i(38);a._pairMaxIdleLife=1e3,a.create=function(t){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},a.update=function(t,e,i){var a,s,r,o,l=t.list,h=t.table,u=t.collisionStart,c=t.collisionEnd,d=t.collisionActive;for(u.length=0,c.length=0,d.length=0,o=0;o<l.length;o++)l[o].confirmedActive=!1;for(o=0;o<e.length;o++)(a=e[o]).collided&&((r=h[s=n.id(a.bodyA,a.bodyB)])?(r.isActive?d.push(r):u.push(r),n.update(r,a,i),r.confirmedActive=!0):(r=n.create(a,i),h[s]=r,u.push(r),l.push(r)));for(o=0;o<l.length;o++)(r=l[o]).isActive&&!r.confirmedActive&&(n.setActive(r,!1,i),c.push(r))},a.removeOld=function(t,e){var i,n,s,r,o=t.list,l=t.table,h=[];for(r=0;r<o.length;r++)(n=(i=o[r]).collision).bodyA.isSleeping||n.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>a._pairMaxIdleLife&&h.push(r);for(r=0;r<h.length;r++)delete l[(i=o[s=h[r]-r]).id],o.splice(s,1)},a.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,i){var a={};t.exports=a;var n=i(86),s=i(99),r=i(38),o=i(100);a._restingThresh=4,a._restingThreshTangent=6,a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a.preSolvePosition=function(t){var e,i,a;for(e=0;e<t.length;e++)(i=t[e]).isActive&&(a=i.activeContacts.length,i.collision.parentA.totalContacts+=a,i.collision.parentB.totalContacts+=a)},a.solvePosition=function(t,e,i){var n,s,r,o,l,h,u,c,d,p,f,m,g,y,k,v,b=i*a._positionDampen;for(n=0;n<e.length;n++){var w=e[n];w.previousPositionImpulse.x=w.positionImpulse.x,w.previousPositionImpulse.y=w.positionImpulse.y}for(n=0;n<t.length;n++)(o=t[n]).isActive&&!o.isSensor&&(h=(l=o.collision).parentA,u=l.parentB,c=l.normal,f=h.previousPositionImpulse,m=u.previousPositionImpulse,p=l.penetration,y=m.x-f.x+p.x,k=m.y-f.y+p.y,d=(s=c.x)*y+(r=c.y)*k,o.separation=d,v=(d-o.slop)*b,(h.isStatic||u.isStatic)&&(v*=2),h.isStatic||h.isSleeping||(g=v/h.totalContacts,h.positionImpulse.x+=s*g,h.positionImpulse.y+=r*g),u.isStatic||u.isSleeping||(g=v/u.totalContacts,u.positionImpulse.x-=s*g,u.positionImpulse.y-=r*g))},a.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var r=0;r<i.parts.length;r++){var l=i.parts[r];n.translate(l.vertices,i.positionImpulse),o.update(l.bounds,l.vertices,i.velocity),l.position.x+=i.positionImpulse.x,l.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,s.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=a._positionWarming,i.positionImpulse.y*=a._positionWarming)}}},a.preSolveVelocity=function(t){var e,i,a,n,r,o,l,h,u,c,d,p,f,m,g=s._temp[0],y=s._temp[1];for(e=0;e<t.length;e++)if((a=t[e]).isActive&&!a.isSensor)for(n=a.activeContacts,o=(r=a.collision).parentA,l=r.parentB,h=r.normal,u=r.tangent,i=0;i<n.length;i++)d=(c=n[i]).vertex,p=c.normalImpulse,f=c.tangentImpulse,0===p&&0===f||(g.x=h.x*p+u.x*f,g.y=h.y*p+u.y*f,o.isStatic||o.isSleeping||(m=s.sub(d,o.position,y),o.positionPrev.x+=g.x*o.inverseMass,o.positionPrev.y+=g.y*o.inverseMass,o.anglePrev+=s.cross(m,g)*o.inverseInertia),l.isStatic||l.isSleeping||(m=s.sub(d,l.position,y),l.positionPrev.x-=g.x*l.inverseMass,l.positionPrev.y-=g.y*l.inverseMass,l.anglePrev-=s.cross(m,g)*l.inverseInertia))},a.solveVelocity=function(t,e){for(var i=e*e,n=s._temp[0],o=s._temp[1],l=s._temp[2],h=s._temp[3],u=s._temp[4],c=s._temp[5],d=0;d<t.length;d++){var p=t[d];if(p.isActive&&!p.isSensor){var f=p.collision,m=f.parentA,g=f.parentB,y=f.normal,k=f.tangent,v=p.activeContacts,b=1/v.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var w=0;w<v.length;w++){var S=v[w],x=S.vertex,T=s.sub(x,m.position,o),A=s.sub(x,g.position,l),E=s.add(m.velocity,s.mult(s.perp(T),m.angularVelocity),h),C=s.add(g.velocity,s.mult(s.perp(A),g.angularVelocity),u),M=s.sub(E,C,c),_=s.dot(y,M),B=s.dot(k,M),I=Math.abs(B),D=r.sign(B),P=(1+p.restitution)*_,L=r.clamp(p.separation+_,0,1)*a._frictionNormalMultiplier,O=B,N=1/0;I>p.friction*p.frictionStatic*L*i&&(N=I,O=r.clamp(p.friction*D*i,-N,N));var G=s.cross(T,y),R=s.cross(A,y),F=b/(m.inverseMass+g.inverseMass+m.inverseInertia*G*G+g.inverseInertia*R*R);if(P*=F,O*=F,_<0&&_*_>a._restingThresh*i)S.normalImpulse=0;else{var Q=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+P,0),P=S.normalImpulse-Q}if(B*B>a._restingThreshTangent*i)S.tangentImpulse=0;else{var U=S.tangentImpulse;S.tangentImpulse=r.clamp(S.tangentImpulse+O,-N,N),O=S.tangentImpulse-U}n.x=y.x*P+k.x*O,n.y=y.y*P+k.y*O,m.isStatic||m.isSleeping||(m.positionPrev.x+=n.x*m.inverseMass,m.positionPrev.y+=n.y*m.inverseMass,m.anglePrev+=s.cross(T,n)*m.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=n.x*g.inverseMass,g.positionPrev.y-=n.y*g.inverseMass,g.anglePrev-=s.cross(A,n)*g.inverseInertia)}}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BasePlugin:i(473),DefaultPlugins:i(175),PluginCache:i(23),PluginManager:i(369),ScenePlugin:i(1303)}},function(t,e,i){
/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/
var a=i(473),n=i(0),s=i(22),r=new n({Extends:a,initialize:function(t,e){a.call(this,e),this.scene=t,this.systems=t.sys,t.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});t.exports=r},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(18),n=i(177),s={Center:i(358),Events:i(92),Orientation:i(359),ScaleManager:i(370),ScaleModes:i(360),Zoom:i(361)};s=a(!1,s,n.CENTER),s=a(!1,s,n.ORIENTATION),s=a(!1,s,n.SCALE_MODE),s=a(!1,s,n.ZOOM),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(125),n=i(18),s={Events:i(22),SceneManager:i(372),ScenePlugin:i(1306),Settings:i(374),Systems:i(180)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(19),n=i(0),s=i(22),r=i(2),o=i(23),l=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",t,e),this},restart:function(t){var e=this.key;return this.manager.queueOp("stop",e),this.manager.queueOp("start",e,t),this},transition:function(t){void 0===t&&(t={});var e=r(t,"target",!1),i=this.manager.getScene(e);if(!e||!this.checkValidTransition(i))return!1;var a=r(t,"duration",1e3);this._elapsed=0,this._target=i,this._duration=a,this._willSleep=r(t,"sleep",!1),this._willRemove=r(t,"remove",!1);var n=r(t,"onUpdate",null);n&&(this._onUpdate=n,this._onUpdateScope=r(t,"onUpdateScope",this.scene));var o=r(t,"allowInput",!1);this.settings.transitionAllowInput=o;var l=i.sys.settings;return l.isTransition=!0,l.transitionFrom=this.scene,l.transitionDuration=a,l.transitionAllowInput=o,r(t,"moveAbove",!1)?this.manager.moveAbove(this.key,e):r(t,"moveBelow",!1)&&this.manager.moveBelow(this.key,e),i.sys.isSleeping()?i.sys.wake(r(t,"data")):this.manager.start(e,r(t,"data")),this.systems.events.emit(s.TRANSITION_OUT,i,a),this.systems.events.on(s.UPDATE,this.step,this),!0},checkValidTransition:function(t){return!(!t||t.sys.isActive()||t.sys.isTransitioning()||t===this.scene||this.systems.isTransitioning())},step:function(t,e){this._elapsed+=e,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var t=this._target.sys,e=this._target.sys.settings;this.systems.events.off(s.UPDATE,this.step,this),t.events.emit(s.TRANSITION_COMPLETE,this.scene),e.isTransition=!1,e.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(t,e,i,a){return this.manager.add(t,e,i,a)},launch:function(t,e){return t&&t!==this.key&&this.manager.queueOp("start",t,e),this},run:function(t,e){return t&&t!==this.key&&this.manager.queueOp("run",t,e),this},pause:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("pause",t,e),this},resume:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("resume",t,e),this},sleep:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("sleep",t,e),this},wake:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("wake",t,e),this},switch:function(t){return t!==this.key&&this.manager.queueOp("switch",this.key,t),this},stop:function(t,e){return void 0===t&&(t=this.key),this.manager.queueOp("stop",t,e),this},setActive:function(t,e,i){void 0===e&&(e=this.key);var a=this.manager.getScene(e);return a&&a.sys.setActive(t,i),this},setVisible:function(t,e){void 0===e&&(e=this.key);var i=this.manager.getScene(e);return i&&i.sys.setVisible(t),this},isSleeping:function(t){return void 0===t&&(t=this.key),this.manager.isSleeping(t)},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)},isPaused:function(t){return void 0===t&&(t=this.key),this.manager.isPaused(t)},isVisible:function(t){return void 0===t&&(t=this.key),this.manager.isVisible(t)},swapPosition:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.swapPosition(t,e),this},moveAbove:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveAbove(t,e),this},moveBelow:function(t,e){return void 0===e&&(e=this.key),t!==e&&this.manager.moveBelow(t,e),this},remove:function(t){return void 0===t&&(t=this.key),this.manager.remove(t),this},moveUp:function(t){return void 0===t&&(t=this.key),this.manager.moveUp(t),this},moveDown:function(t){return void 0===t&&(t=this.key),this.manager.moveDown(t),this},bringToTop:function(t){return void 0===t&&(t=this.key),this.manager.bringToTop(t),this},sendToBack:function(t){return void 0===t&&(t=this.key),this.manager.sendToBack(t),this},get:function(t){return this.manager.getScene(t)},getIndex:function(t){return void 0===t&&(t=this.key),this.manager.getIndex(t)},shutdown:function(){var t=this.systems.events;t.off(s.SHUTDOWN,this.shutdown,this),t.off(s.POST_UPDATE,this.step,this),t.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",l,"scenePlugin"),t.exports=l},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={List:i(129),Map:i(162),ProcessQueue:i(186),RTree:i(469),Set:i(133),Size:i(371)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(18),n=i(1309),s={CanvasTexture:i(376),Events:i(121),FilterMode:n,Frame:i(94),Parsers:i(378),Texture:i(182),TextureManager:i(375),TextureSource:i(377)};s=a(!1,s,n),t.exports=s},function(t,e){t.exports={LINEAR:0,NEAREST:1}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Components:i(141),Parsers:i(1340),Formats:i(32),ImageCollection:i(484),ParseToTilemap:i(227),Tile:i(74),Tilemap:i(493),TilemapCreator:i(1349),TilemapFactory:i(1350),Tileset:i(104),LayerData:i(102),MapData:i(103),ObjectLayer:i(487),DynamicTilemapLayer:i(494),StaticTilemapLayer:i(495)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(51);t.exports=function(t,e,i,s,r,o,l,h){t<0&&(t=0),e<0&&(e=0),void 0===l&&(l=!0);for(var u=a(t,e,i,s,null,h),c=r-t,d=o-e,p=0;p<u.length;p++){var f=u[p].x+c,m=u[p].y+d;f>=0&&f<h.width&&m>=0&&m<h.height&&h.data[m][f]&&h.data[m][f].copy(u[p])}l&&n(r-1,o-1,i+2,s+2,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(143),n=i(144),s=i(24),r=i(474);t.exports=function(t,e,i,o,l,h){void 0===i&&(i={}),Array.isArray(t)||(t=[t]);var u=h.tilemapLayer;void 0===o&&(o=u.scene),void 0===l&&(l=o.cameras.main);var c,d=s(0,0,h.width,h.height,null,h),p=[];for(c=0;c<d.length;c++){var f=d[c];if(-1!==t.indexOf(f.index)){i.x=a(f.x,l,h),i.y=n(f.y,l,h);var m=o.make.sprite(i);p.push(m)}}if("number"==typeof e)for(c=0;c<t.length;c++)r(t[c],e,0,0,h.width,h.height,h);else if(Array.isArray(e))for(c=0;c<t.length;c++)r(t[c],e[c],0,0,h.width,h.height,h);return p}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(93),n=i(329);t.exports=function(t,e,i,s){void 0===i&&(i=[]),void 0===s&&(s=0),i.length=0;var r,o,l,h=t.tilemapLayer.tilemap,u=t.tilemapLayer,c=t.data,d=t.width,p=t.height,f=Math.floor(h.tileWidth*u.scaleX),m=Math.floor(h.tileHeight*u.scaleY),g=0,y=d,k=0,v=p;if(!u.skipCull&&1===u.scrollFactorX&&1===u.scrollFactorY){var b=a(e.worldView.x-u.x,f,0,!0)-u.cullPaddingX,w=n(e.worldView.right-u.x,f,0,!0)+u.cullPaddingX,S=a(e.worldView.y-u.y,m,0,!0)-u.cullPaddingY,x=n(e.worldView.bottom-u.y,m,0,!0)+u.cullPaddingY;g=Math.max(0,b),y=Math.min(d,w),k=Math.max(0,S),v=Math.min(p,x)}if(0===s)for(o=k;o<v;o++)for(r=g;c[o]&&r<y;r++)(l=c[o][r])&&-1!==l.index&&l.visible&&0!==l.alpha&&i.push(l);else if(1===s)for(o=k;o<v;o++)for(r=y;c[o]&&r>=g;r--)(l=c[o][r])&&-1!==l.index&&l.visible&&0!==l.alpha&&i.push(l);else if(2===s)for(o=v;o>=k;o--)for(r=g;c[o]&&r<y;r++)(l=c[o][r])&&-1!==l.index&&l.visible&&0!==l.alpha&&i.push(l);else if(3===s)for(o=v;o>=k;o--)for(r=y;c[o]&&r>=g;r--)(l=c[o][r])&&-1!==l.index&&l.visible&&0!==l.alpha&&i.push(l);return u.tilesDrawn=i.length,u.tilesTotal=d*p,i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(51),s=i(73);t.exports=function(t,e,i,r,o,l,h){for(var u=-1!==h.collideIndexes.indexOf(t),c=a(e,i,r,o,null,h),d=0;d<c.length;d++)c[d].index=t,s(c[d],u);l&&n(e-1,i-1,r+2,o+2,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o,l){return a(i,n,s,r,o,l).filter(t,e)}},function(t,e){t.exports=function(t,e,i,a){void 0===e&&(e=0),void 0===i&&(i=!1);var n,s,r,o=0;if(i){for(s=a.height-1;s>=0;s--)for(n=a.width-1;n>=0;n--)if((r=a.data[s][n])&&r.index===t){if(o===e)return r;o+=1}}else for(s=0;s<a.height;s++)for(n=0;n<a.width;n++)if((r=a.data[s][n])&&r.index===t){if(o===e)return r;o+=1}return null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o,l){return a(i,n,s,r,o,l).find(t,e)||null}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o,l){a(i,n,s,r,o,l).forEach(t,e)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(142),n=i(63),s=i(64);t.exports=function(t,e,i,r,o){var l=n(t,!0,r,o),h=s(e,!0,r,o);return a(l,h,i,o)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(429),n=i(24),s=i(430),r=i(1),o=i(143),l=i(144),h=i(63),u=i(64),c=function(t,e){return s.RectangleToTriangle(e,t)};t.exports=function(t,e,i,d){if(void 0===t)return[];var p=r;t instanceof a.Circle?p=s.CircleToRectangle:t instanceof a.Rectangle?p=s.RectangleToRectangle:t instanceof a.Triangle?p=c:t instanceof a.Line&&(p=s.LineToRectangle);var f=h(t.left,!0,i,d),m=u(t.top,!0,i,d),g=Math.ceil(h(t.right,!1,i,d)),y=Math.ceil(u(t.bottom,!1,i,d)),k=Math.max(g-f,1),v=Math.max(y-m,1),b=n(f,m,k,v,e,d),w=d.tileWidth,S=d.tileHeight;d.tilemapLayer&&(w*=d.tilemapLayer.scaleX,S*=d.tilemapLayer.scaleY);for(var x=[],T=new a.Rectangle(0,0,w,S),A=0;A<b.length;A++){var E=b[A];T.x=o(E.x,i,d),T.y=l(E.y,i,d),p(t,T)&&x.push(E)}return x}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(63),s=i(64);t.exports=function(t,e,i,r,o,l,h){var u=n(t,!0,l,h),c=s(e,!0,l,h),d=Math.ceil(n(t+i,!1,l,h)),p=Math.ceil(s(e+r,!1,l,h));return a(u,c,d-u,p-c,o,h)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(475),n=i(63),s=i(64);t.exports=function(t,e,i,r){var o=n(t,!0,i,r),l=s(e,!0,i,r);return a(o,l,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(221),n=i(63),s=i(64);t.exports=function(t,e,i,r,o,l){var h=n(e,!0,o,l),u=s(i,!0,o,l);return a(t,h,u,r,l)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(51),n=i(221);t.exports=function(t,e,i,s,r){if(!Array.isArray(t))return null;void 0===s&&(s=!0),Array.isArray(t[0])||(t=[t]);for(var o=t.length,l=t[0].length,h=0;h<o;h++)for(var u=0;u<l;u++){var c=t[h][u];n(c,e+u,i+h,!1,r)}s&&a(e-1,i-1,l+2,o+2,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(185);t.exports=function(t,e,i,s,r,o){var l,h=a(t,e,i,s,null,o);if(void 0===r)for(r=[],l=0;l<h.length;l++)-1===r.indexOf(h[l].index)&&r.push(h[l].index);for(l=0;l<h.length;l++)h[l].index=n(r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(476),n=i(63),s=i(64);t.exports=function(t,e,i,r,o,l){var h=n(t,!0,o,l),u=s(e,!0,o,l);return a(h,u,i,r,l)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(353),s=new n(105,210,231,150),r=new n(243,134,48,200),o=new n(40,39,37,150);t.exports=function(t,e,i){void 0===e&&(e={});var n=void 0!==e.tileColor?e.tileColor:s,l=void 0!==e.collidingTileColor?e.collidingTileColor:r,h=void 0!==e.faceColor?e.faceColor:o,u=a(0,0,i.width,i.height,null,i);t.translateCanvas(i.tilemapLayer.x,i.tilemapLayer.y),t.scaleCanvas(i.tilemapLayer.scaleX,i.tilemapLayer.scaleY);for(var c=0;c<u.length;c++){var d=u[c],p=d.width,f=d.height,m=d.pixelX,g=d.pixelY,y=d.collides?l:n;null!==y&&(t.fillStyle(y.color,y.alpha/255),t.fillRect(m,g,p,f)),m+=1,g+=1,p-=2,f-=2,null!==h&&(t.lineStyle(1,h.color,h.alpha/255),d.faceTop&&t.lineBetween(m,g,m+p,g),d.faceRight&&t.lineBetween(m+p,g,m+p,g+f),d.faceBottom&&t.lineBetween(m,g+f,m+p,g+f),d.faceLeft&&t.lineBetween(m,g,m,g+f))}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(73),n=i(51),s=i(222);t.exports=function(t,e,i,r,o){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]),void 0===o&&(o=!0);for(var l=0;l<t.length;l++)s(t[l],e,r);if(o)for(var h=0;h<r.height;h++)for(var u=0;u<r.width;u++){var c=r.data[h][u];c&&-1!==t.indexOf(c.index)&&a(c,e)}i&&n(0,0,r.width,r.height,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(73),n=i(51),s=i(222);t.exports=function(t,e,i,r,o,l){if(void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===l&&(l=!0),!(t>e)){for(var h=t;h<=e;h++)s(h,i,o);if(l)for(var u=0;u<o.height;u++)for(var c=0;c<o.width;c++){var d=o.data[u][c];d&&d.index>=t&&d.index<=e&&a(d,i)}r&&n(0,0,o.width,o.height,o)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(73),n=i(51),s=i(222);t.exports=function(t,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0),Array.isArray(t)||(t=[t]);for(var o=0;o<r.height;o++)for(var l=0;l<r.width;l++){var h=r.data[o][l];h&&-1===t.indexOf(h.index)&&(a(h,e),s(h.index,e,r))}i&&n(0,0,r.width,r.height,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(73),n=i(51),s=i(108);t.exports=function(t,e,i,r){void 0===e&&(e=!0),void 0===i&&(i=!0);for(var o=0;o<r.height;o++)for(var l=0;l<r.width;l++){var h=r.data[o][l];if(h)for(var u in t)if(s(h.properties,u)){var c=t[u];Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)h.properties[u]===c[d]&&a(h,e)}}i&&n(0,0,r.width,r.height,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(73),n=i(51);t.exports=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=!0);for(var s=0;s<i.height;s++)for(var r=0;r<i.width;r++){var o=i.data[s][r];if(o){var l=o.getCollisionGroup();l&&l.objects&&l.objects.length>0&&a(o,t)}}e&&n(0,0,i.width,i.height,i)}},function(t,e){t.exports=function(t,e,i,a){if("number"==typeof t)a.callbacks[t]=null!==e?{callback:e,callbackContext:i}:void 0;else for(var n=0,s=t.length;n<s;n++)a.callbacks[t[n]]=null!==e?{callback:e,callbackContext:i}:void 0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o){for(var l=a(t,e,i,n,null,o),h=0;h<l.length;h++)l[h].setCollisionCallback(s,r)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24),n=i(114);t.exports=function(t,e,i,s,r){var o=a(t,e,i,s,null,r),l=o.map((function(t){return t.index}));n(l);for(var h=0;h<o.length;h++)o[h].index=l[h]}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r,o){for(var l=a(i,n,s,r,null,o),h=0;h<l.length;h++)l[h]&&(l[h].index===t?l[h].index=e:l[h].index===e&&(l[h].index=t))}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(143),n=i(144),s=i(3);t.exports=function(t,e,i,r,o){return void 0===i&&(i=new s(0,0)),i.x=a(t,r,o),i.y=n(e,r,o),i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(24);t.exports=function(t,e,i,n,s,r){if(void 0!==s){var o,l=a(t,e,i,n,null,r),h=0;for(o=0;o<s.length;o++)h+=s[o].weight;if(!(h<=0))for(o=0;o<l.length;o++){for(var u=Math.random()*h,c=0,d=-1,p=0;p<s.length;p++)if(u<=(c+=s[p].weight)){var f=s[p].index;d=Array.isArray(f)?f[Math.floor(Math.random()*f.length)]:f;break}l[o].index=d}}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(63),n=i(64),s=i(3);t.exports=function(t,e,i,r,o,l){return void 0===r&&(r=new s(0,0)),r.x=a(t,i,o,l),r.y=n(e,i,o,l),r}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Parse:i(477),Parse2DArray:i(223),ParseCSV:i(478),Impact:i(1341),Tiled:i(1342)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ParseTileLayers:i(491),ParseTilesets:i(492),ParseWeltmeister:i(490)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={AssignTileProperties:i(489),Base64Decode:i(481),BuildTilesetIndex:i(488),ParseGID:i(224),ParseImageLayers:i(482),ParseJSONTiled:i(479),ParseObject:i(226),ParseObjectLayers:i(486),ParseTileLayers:i(480),ParseTilesets:i(483)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1344),n=i(1345),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(9);t.exports=function(t,e,i,n){e.cull(n);var s=e.culledTiles,r=s.length,o=n.alpha*e.alpha;if(!(0===r||o<=0))for(var l=e.gidMap,h=e.pipeline,u=a.getTintAppendFloatAlphaAndSwap,c=e.scrollFactorX,d=e.scrollFactorY,p=e.x,f=e.y,m=e.scaleX,g=e.scaleY,y=e.tileset,k=0;k<y.length;k++)for(var v=y[k],b=v.glTexture,w=0;w<r;w++){var S=s[w],x=l[S.index];if(x===v){var T=x.getTileTextureCoordinates(S.index);if(null!==T){var A=S.width,E=S.height,C=T.x,M=T.y,_=.5*S.width,B=.5*S.height,I=u(S.tint,o*S.alpha);h.batchTexture(e,b,b.width,b.height,p+(_+S.pixelX)*m,f+(B+S.pixelY)*g,S.width,S.height,m,g,S.rotation,S.flipX,S.flipY,c,d,_,B,C,M,A,E,I,I,I,I,!1,0,0,n,null,!0)}}}}},function(t,e){t.exports=function(t,e,i,a,n){e.cull(a);var s=e.culledTiles,r=s.length;if(0!==r){var o=t._tempMatrix1,l=t._tempMatrix2,h=t._tempMatrix3;l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(a.matrix);var u=t.currentContext,c=e.gidMap;u.save(),n?(o.multiplyWithOffset(n,-a.scrollX*e.scrollFactorX,-a.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y,o.multiply(l,h),h.copyToContext(u)):(l.e-=a.scrollX*e.scrollFactorX,l.f-=a.scrollY*e.scrollFactorY,l.copyToContext(u));var d=a.alpha*e.alpha;(!t.antialias||e.scaleX>1||e.scaleY>1)&&(u.imageSmoothingEnabled=!1);for(var p=0;p<r;p++){var f=s[p],m=c[f.index];if(m){var g=m.image.getSourceImage(),y=m.getTileTextureCoordinates(f.index);if(y){var k=f.width/2,v=f.height/2;u.save(),u.translate(f.pixelX+k,f.pixelY+v),0!==f.rotation&&u.rotate(f.rotation),(f.flipX||f.flipY)&&u.scale(f.flipX?-1:1,f.flipY?-1:1),u.globalAlpha=d*f.alpha,u.drawImage(g,y.x,y.y,f.width,f.height,-k,-v,f.width,f.height),u.restore()}}}u.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1),n=i(1);a=i(1347),n=i(1348),t.exports={renderWebGL:a,renderCanvas:n}},function(t,e){t.exports=function(t,e,i,a){var n=e.tileset,s=e.pipeline,r=s.vertexBuffer;t.setPipeline(s),s.modelIdentity(),s.modelTranslate(e.x-a.scrollX*e.scrollFactorX,e.y-a.scrollY*e.scrollFactorY,0),s.modelScale(e.scaleX,e.scaleY,1),s.viewLoad2D(a.matrix.matrix);for(var o=0;o<n.length;o++)e.upload(a,o),e.vertexCount[o]>0&&(t.currentPipeline&&t.currentPipeline.vertexCount>0&&t.flush(),s.vertexBuffer=e.vertexBuffer[o],t.setPipeline(s),t.setTexture2D(n[o].glTexture,0),t.gl.drawArrays(s.topology,0,e.vertexCount[o]));s.vertexBuffer=r,s.viewIdentity(),s.modelIdentity()}},function(t,e){t.exports=function(t,e,i,a,n){e.cull(a);var s=e.culledTiles,r=s.length;if(0!==r){var o=t._tempMatrix1,l=t._tempMatrix2,h=t._tempMatrix3;l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),o.copyFrom(a.matrix);var u=t.currentContext,c=e.gidMap;u.save(),n?(o.multiplyWithOffset(n,-a.scrollX*e.scrollFactorX,-a.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y,o.multiply(l,h),h.copyToContext(u)):(l.e-=a.scrollX*e.scrollFactorX,l.f-=a.scrollY*e.scrollFactorY,l.copyToContext(u));var d=a.alpha*e.alpha;(!t.antialias||e.scaleX>1||e.scaleY>1)&&(u.imageSmoothingEnabled=!1);for(var p=0;p<r;p++){var f=s[p],m=c[f.index];if(m){var g=m.image.getSourceImage(),y=m.getTileTextureCoordinates(f.index);if(y){var k=m.tileWidth,v=m.tileHeight,b=k/2,w=v/2;u.save(),u.translate(f.pixelX+b,f.pixelY+w),0!==f.rotation&&u.rotate(f.rotation),(f.flipX||f.flipY)&&u.scale(f.flipX?-1:1,f.flipY?-1:1),u.globalAlpha=d*f.alpha,u.drawImage(g,y.x,y.y,k,v,-b,-w,k,v),u.restore()}}}u.restore()}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(16),n=i(227);a.register("tilemap",(function(t){var e=void 0!==t?t:{};return n(this.scene,e.key,e.tileWidth,e.tileHeight,e.width,e.height,e.data,e.insertNull)}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(5),n=i(227);a.register("tilemap",(function(t,e,i,a,s,r,o){return null===t&&(t=void 0),null===e&&(e=void 0),null===i&&(i=void 0),null===a&&(a=void 0),null===s&&(s=void 0),n(this.scene,t,e,i,a,s,r,o)}))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Clock:i(1352),TimerEvent:i(496)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(23),s=i(22),r=i(496),o=new a({initialize:function(t){this.scene=t,this.systems=t.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],t.sys.events.once(s.BOOT,this.boot,this),t.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(s.PRE_UPDATE,this.preUpdate,this),t.on(s.UPDATE,this.update,this),t.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(t){var e=new r(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,a){return this.addEvent({delay:t,callback:e,args:i,callbackScope:a})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,a;for(i=0;i<t;i++){a=this._pendingRemoval[i];var n=this._active.indexOf(a);n>-1&&this._active.splice(n,1),a.destroy()}for(i=0;i<e;i++)a=this._pendingInsertion[i],this._active.push(a);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){e*=this.timeScale;for(var i=0;i<this._active.length;i++){var a=this._active[i];if(!a.paused&&(a.elapsed+=e*a.timeScale,a.elapsed>=a.delay)){var n=a.elapsed-a.delay;a.elapsed=a.delay,!a.hasDispatched&&a.callback&&(a.hasDispatched=!0,a.callback.apply(a.callbackScope,a.args)),a.repeatCount>0?(a.repeatCount--,a.elapsed=n,a.hasDispatched=!1):this._pendingRemoval.push(a)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var e=this.systems.events;e.off(s.PRE_UPDATE,this.preUpdate,this),e.off(s.UPDATE,this.update,this),e.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});n.register("Clock",o,"time"),t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(89),n=i(18),s={Builders:i(1354),Events:i(232),TweenManager:i(1369),Tween:i(231),TweenData:i(233),Timeline:i(502)};s=n(!1,s,a),t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={GetBoolean:i(88),GetEaseFunction:i(69),GetNewValue:i(145),GetProps:i(497),GetTargets:i(228),GetTweens:i(498),GetValueOp:i(229),NumberTweenBuilder:i(499),StaggerBuilder:i(500),TimelineBuilder:i(501),TweenBuilder:i(146)}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="active"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="complete"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="loop"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="repeat"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="start"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="update"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="yoyo"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(123),n=i(0),s=i(499),r=i(23),o=i(22),l=i(500),h=i(501),u=i(89),c=i(146),d=new n({initialize:function(t){this.scene=t,this.systems=t.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,t.sys.events.once(o.BOOT,this.boot,this),t.sys.events.on(o.START,this.start,this)},boot:function(){this.systems.events.once(o.DESTROY,this.destroy,this)},start:function(){var t=this.systems.events;t.on(o.PRE_UPDATE,this.preUpdate,this),t.on(o.UPDATE,this.update,this),t.once(o.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(t){return h(this,t)},timeline:function(t){var e=h(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return c(this,t)},add:function(t){var e=c(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},addCounter:function(t){var e=s(this,t);return this._add.push(e),this._toProcess++,e},stagger:function(t,e){return l(t,e)},preUpdate:function(){if(0!==this._toProcess){var t,e,i=this._destroy,a=this._active,n=this._pending;for(t=0;t<i.length;t++){e=i[t];var s=a.indexOf(e);-1===s?(s=n.indexOf(e))>-1&&(e.state=u.REMOVED,n.splice(s,1)):(e.state=u.REMOVED,a.splice(s,1))}for(i.length=0,i=this._add,t=0;t<i.length;t++)(e=i[t]).state===u.PENDING_ADD&&(e.init()?(e.play(),this._active.push(e)):this._pending.push(e));i.length=0,this._toProcess=0}},update:function(t,e){var i,a=this._active;e*=this.timeScale;for(var n=0;n<a.length;n++)(i=a[n]).update(t,e)&&(this._destroy.push(i),this._toProcess++)},remove:function(t){return a(this._add,t),a(this._pending,t),a(this._active,t),a(this._destroy,t),t.state=u.REMOVED,this},makeActive:function(t){if(-1!==this._add.indexOf(t)||-1!==this._active.indexOf(t))return this;var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=u.PENDING_ADD,this._toProcess++,this},each:function(t,e){for(var i=[null],a=1;a<arguments.length;a++)i.push(arguments[a]);for(var n in this.list)i[0]=this.list[n],t.apply(e,i)},getAllTweens:function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(t){var e,i,a=this._active,n=[];if(Array.isArray(t))for(i=0;i<a.length;i++){e=a[i];for(var s=0;s<t.length;s++)e.hasTarget(t[s])&&n.push(e)}else for(i=0;i<a.length;i++)(e=a[i]).hasTarget(t)&&n.push(e);return n},isTweening:function(t){for(var e,i=this._active,a=0;a<i.length;a++)if((e=i[a]).hasTarget(t)&&e.isPlaying())return!0;return!1},killAll:function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this},killTweensOf:function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this},pauseAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this},resumeAll:function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this},setGlobalTimeScale:function(t){return this.timeScale=t,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var t=this.systems.events;t.off(o.PRE_UPDATE,this.preUpdate,this),t.off(o.UPDATE,this.update,this),t.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(o.START,this.start,this),this.scene=null,this.systems=null}});r.register("TweenManager",d,"tweens"),t.exports=d},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Array:i(183),Base64:i(1371),Objects:i(1373),String:i(1377)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={ArrayBufferToBase64:i(1372),Base64ToArrayBuffer:i(387)}},function(t,e){
/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports=function(t,e){for(var a=new Uint8Array(t),n=a.length,s=e?"data:"+e+";base64,":"",r=0;r<n;r+=3)s+=i[a[r]>>2],s+=i[(3&a[r])<<4|a[r+1]>>4],s+=i[(15&a[r+1])<<2|a[r+2]>>6],s+=i[63&a[r+2]];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Clone:i(67),Extend:i(18),GetAdvancedValue:i(14),GetFastValue:i(2),GetMinMaxValue:i(1374),GetValue:i(6),HasAll:i(1375),HasAny:i(406),HasValue:i(108),IsPlainObject:i(7),Merge:i(126),MergeRight:i(1376),Pick:i(485),SetValue:i(426)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(6),n=i(19);t.exports=function(t,e,i,s,r){void 0===r&&(r=i);var o=a(t,e,r);return n(o,i,s)}},function(t,e){t.exports=function(t,e){for(var i=0;i<e.length;i++)if(!t.hasOwnProperty(e[i]))return!1;return!0}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(67);t.exports=function(t,e){var i=a(t);for(var n in e)i.hasOwnProperty(n)&&(i[n]=e[n]);return i}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Format:i(1378),Pad:i(163),Reverse:i(1379),UppercaseFirst:i(181),UUID:i(196)}},function(t,e){t.exports=function(t,e){return t.replace(/%([0-9]+)/g,(function(t,i){return e[Number(i)-1]}))}},function(t,e){t.exports=function(t){return t.split("").reverse().join("")}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={SoundManagerCreator:i(379),Events:i(59),BaseSound:i(128),BaseSoundManager:i(127),WebAudioSound:i(388),WebAudioSoundManager:i(386),HTML5AudioSound:i(383),HTML5AudioSoundManager:i(380),NoAudioSound:i(385),NoAudioSoundManager:i(384)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(3),s=new a({initialize:function(){this.boundsCenter=new n,this.centerDiff=new n},parseBody:function(t){if(!(t=t.hasOwnProperty("body")?t.body:t).hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass"))return!1;var e=this.boundsCenter,i=this.centerDiff,a=t.bounds.max.x-t.bounds.min.x,n=t.bounds.max.y-t.bounds.min.y,s=a*t.centerOfMass.x,r=n*t.centerOfMass.y;return e.set(a/2,n/2),i.set(s-e.x,r-e.y),!0},getTopLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e+a.x+s.x,i+a.y+s.y)}return!1},getTopCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e+s.x,i+a.y+s.y)}return!1},getTopRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e-(a.x-s.x),i+a.y+s.y)}return!1},getLeftCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e+a.x+s.x,i+s.y)}return!1},getCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.centerDiff;return new n(e+a.x,i+a.y)}return!1},getRightCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e-(a.x-s.x),i+s.y)}return!1},getBottomLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e+a.x+s.x,i-(a.y-s.y))}return!1},getBottomCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e+s.x,i-(a.y-s.y))}return!1},getBottomRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var a=this.boundsCenter,s=this.centerDiff;return new n(e-(a.x-s.x),i-(a.y-s.y))}return!1}});t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(0),s=i(1290),r=i(219),o=i(1291),l=i(1393),h=i(1384),u=i(1385),c=i(1295),d=i(1292),p=i(1293),f=i(1422),m=i(86),g=new n({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,n,s){var r=a.rectangle(t,e,i,n,s);return this.world.add(r),r},trapezoid:function(t,e,i,n,s,r){var o=a.trapezoid(t,e,i,n,s,r);return this.world.add(o),o},circle:function(t,e,i,n,s){var r=a.circle(t,e,i,n,s);return this.world.add(r),r},polygon:function(t,e,i,n,s){var r=a.polygon(t,e,i,n,s);return this.world.add(r),r},fromVertices:function(t,e,i,n,s,r,o){"string"==typeof i&&(i=m.fromPath(i));var l=a.fromVertices(t,e,i,n,s,r,o);return this.world.add(l),l},fromPhysicsEditor:function(t,e,i,a,n){void 0===n&&(n=!0);var s=d.parseBody(t,e,i,a);return n&&!this.world.has(s)&&this.world.add(s),s},fromSVG:function(t,e,i,n,s,r){void 0===n&&(n=1),void 0===s&&(s={}),void 0===r&&(r=!0);for(var l=i.getElementsByTagName("path"),h=[],u=0;u<l.length;u++){var c=o.pathToVertices(l[u],30);1!==n&&m.scale(c,n,n),h.push(c)}var d=a.fromVertices(t,e,h,s);return r&&this.world.add(d),d},fromJSON:function(t,e,i,a,n){void 0===a&&(a={}),void 0===n&&(n=!0);var s=p.parseBody(t,e,i,a);return s&&n&&this.world.add(s),s},imageStack:function(t,e,i,a,n,r,o,l,u){void 0===o&&(o=0),void 0===l&&(l=0),void 0===u&&(u={});var c=this.world,d=this.sys.displayList;u.addToWorld=!1;var p=s.stack(i,a,n,r,o,l,(function(i,a){var n=new h(c,i,a,t,e,u);return d.add(n),n.body}));return c.add(p),p},stack:function(t,e,i,a,n,r,o){var l=s.stack(t,e,i,a,n,r,o);return this.world.add(l),l},pyramid:function(t,e,i,a,n,r,o){var l=s.pyramid(t,e,i,a,n,r,o);return this.world.add(l),l},chain:function(t,e,i,a,n,r){return s.chain(t,e,i,a,n,r)},mesh:function(t,e,i,a,n){return s.mesh(t,e,i,a,n)},newtonsCradle:function(t,e,i,a,n){var r=s.newtonsCradle(t,e,i,a,n);return this.world.add(r),r},car:function(t,e,i,a,n){var r=s.car(t,e,i,a,n);return this.world.add(r),r},softBody:function(t,e,i,a,n,r,o,l,h,u){var c=s.softBody(t,e,i,a,n,r,o,l,h,u);return this.world.add(c),c},joint:function(t,e,i,a,n){return this.constraint(t,e,i,a,n)},spring:function(t,e,i,a,n){return this.constraint(t,e,i,a,n)},constraint:function(t,e,i,a,n){void 0===a&&(a=1),void 0===n&&(n={}),n.bodyA="body"===t.type?t:t.body,n.bodyB="body"===e.type?e:e.body,isNaN(i)||(n.length=i),n.stiffness=a;var s=r.create(n);return this.world.add(s),s},worldConstraint:function(t,e,i,a){void 0===i&&(i=1),void 0===a&&(a={}),a.bodyB="body"===t.type?t:t.body,isNaN(e)||(a.length=e),a.stiffness=i;var n=r.create(a);return this.world.add(n),n},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new f(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,a,n){var s=new h(this.world,t,e,i,a,n);return this.sys.displayList.add(s),s},tileBody:function(t,e){return new c(this.world,t,e)},sprite:function(t,e,i,a,n){var s=new u(this.world,t,e,i,a,n);return this.sys.displayList.add(s),this.sys.updateList.add(s),s},gameObject:function(t,e,i){return l(this.world,t,e,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=g},function(t,e){function i(t,e,i){i=i||0;var a,n,s,r,o,l,h,u=[0,0];return a=t[1][1]-t[0][1],n=t[0][0]-t[1][0],s=a*t[0][0]+n*t[0][1],r=e[1][1]-e[0][1],o=e[0][0]-e[1][0],l=r*e[0][0]+o*e[0][1],T(h=a*o-r*n,0,i)||(u[0]=(o*s-n*l)/h,u[1]=(a*l-r*s)/h),u}function a(t,e,i,a){var n=e[0]-t[0],s=e[1]-t[1],r=a[0]-i[0],o=a[1]-i[1];if(r*s-o*n==0)return!1;var l=(n*(i[1]-t[1])+s*(t[0]-i[0]))/(r*s-o*n),h=(r*(t[1]-i[1])+o*(i[0]-t[0]))/(o*n-r*s);return l>=0&&l<=1&&h>=0&&h<=1}function n(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function s(t,e,i){return n(t,e,i)>0}function r(t,e,i){return n(t,e,i)>=0}function o(t,e,i){return n(t,e,i)<0}function l(t,e,i){return n(t,e,i)<=0}
/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={decomp:function(t){var e=w(t);return e.length>0?S(t,e):[t]},quickDecomp:function t(e,i,a,n,h,u,c){u=u||100,c=c||0,h=h||25,i=void 0!==i?i:[],a=a||[],n=n||[];var g=[0,0],y=[0,0],k=[0,0],b=0,w=0,S=0,T=0,A=0,E=0,C=0,M=[],_=[],B=e,I=e;if(I.length<3)return i;if(++c>u)return console.warn("quickDecomp: max level ("+u+") reached."),i;for(var D=0;D<e.length;++D)if(m(B,D)){a.push(B[D]),b=w=Number.MAX_VALUE;for(var P=0;P<e.length;++P)s(p(B,D-1),p(B,D),p(B,P))&&l(p(B,D-1),p(B,D),p(B,P-1))&&(k=x(p(B,D-1),p(B,D),p(B,P),p(B,P-1)),o(p(B,D+1),p(B,D),k)&&(S=d(B[D],k))<w&&(w=S,y=k,E=P)),s(p(B,D+1),p(B,D),p(B,P+1))&&l(p(B,D+1),p(B,D),p(B,P))&&(k=x(p(B,D+1),p(B,D),p(B,P),p(B,P+1)),s(p(B,D-1),p(B,D),k)&&(S=d(B[D],k))<b&&(b=S,g=k,A=P));if(E===(A+1)%e.length)k[0]=(y[0]+g[0])/2,k[1]=(y[1]+g[1])/2,n.push(k),D<A?(f(M,B,D,A+1),M.push(k),_.push(k),0!==E&&f(_,B,E,B.length),f(_,B,0,D+1)):(0!==D&&f(M,B,D,B.length),f(M,B,0,A+1),M.push(k),_.push(k),f(_,B,E,D+1));else{if(E>A&&(A+=e.length),T=Number.MAX_VALUE,A<E)return i;for(P=E;P<=A;++P)r(p(B,D-1),p(B,D),p(B,P))&&l(p(B,D+1),p(B,D),p(B,P))&&(S=d(p(B,D),p(B,P)))<T&&v(B,D,P)&&(T=S,C=P%e.length);D<C?(f(M,B,D,C+1),0!==C&&f(_,B,C,I.length),f(_,B,0,D+1)):(0!==D&&f(M,B,D,I.length),f(M,B,0,C+1),f(_,B,C,D+1))}return M.length<_.length?(t(M,i,a,n,h,u,c),t(_,i,a,n,h,u,c)):(t(_,i,a,n,h,u,c),t(M,i,a,n,h,u,c)),i}return i.push(e),i},isSimple:function(t){var e,i=t;for(e=0;e<i.length-1;e++)for(var n=0;n<e-1;n++)if(a(i[e],i[e+1],i[n],i[n+1]))return!1;for(e=1;e<i.length-2;e++)if(a(i[0],i[i.length-1],i[e],i[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,a=t.length-1;t.length>3&&a>=0;--a)c(p(t,a-1),p(t,a),p(t,a+1),e)&&(t.splice(a%t.length,1),i++);return i},removeDuplicatePoints:function(t,e){for(var i=t.length-1;i>=1;--i)for(var a=t[i],n=i-1;n>=0;--n)A(a,t[n],e)&&t.splice(i,1)},makeCCW:function(t){for(var e=0,i=t,a=1;a<t.length;++a)(i[a][1]<i[e][1]||i[a][1]===i[e][1]&&i[a][0]>i[e][0])&&(e=a);return!s(p(t,e-1),p(t,e),p(t,e+1))&&(function(t){for(var e=[],i=t.length,a=0;a!==i;a++)e.push(t.pop());for(a=0;a!==i;a++)t[a]=e[a]}(t),!0)}};var h=[],u=[];function c(t,e,i,a){if(a){var s=h,r=u;s[0]=e[0]-t[0],s[1]=e[1]-t[1],r[0]=i[0]-e[0],r[1]=i[1]-e[1];var o=s[0]*r[0]+s[1]*r[1],l=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(o/(l*c))<a}return 0===n(t,e,i)}function d(t,e){var i=e[0]-t[0],a=e[1]-t[1];return i*i+a*a}function p(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function f(t,e,i,a){for(var n=i;n<a;n++)t.push(e[n])}function m(t,e){return o(p(t,e-1),p(t,e),p(t,e+1))}var g=[],y=[];function k(t,e,a){var n,s,o=g,h=y;if(r(p(t,e+1),p(t,e),p(t,a))&&l(p(t,e-1),p(t,e),p(t,a)))return!1;s=d(p(t,e),p(t,a));for(var u=0;u!==t.length;++u)if((u+1)%t.length!==e&&u!==e&&r(p(t,e),p(t,a),p(t,u+1))&&l(p(t,e),p(t,a),p(t,u))&&(o[0]=p(t,e),o[1]=p(t,a),h[0]=p(t,u),h[1]=p(t,u+1),n=i(o,h),d(p(t,e),n)<s))return!1;return!0}function v(t,e,i){for(var n=0;n!==t.length;++n)if(n!==e&&n!==i&&(n+1)%t.length!==e&&(n+1)%t.length!==i&&a(p(t,e),p(t,i),p(t,n),p(t,n+1)))return!1;return!0}function b(t,e,i,a){var n=a||[];if(function(t){t.length=0}(n),e<i)for(var s=e;s<=i;s++)n.push(t[s]);else{for(s=0;s<=i;s++)n.push(t[s]);for(s=e;s<t.length;s++)n.push(t[s])}return n}function w(t){for(var e=[],i=[],a=[],n=[],s=Number.MAX_VALUE,r=0;r<t.length;++r)if(m(t,r))for(var o=0;o<t.length;++o)if(k(t,r,o)){i=w(b(t,r,o,n)),a=w(b(t,o,r,n));for(var l=0;l<a.length;l++)i.push(a[l]);i.length<s&&(e=i,s=i.length,e.push([p(t,r),p(t,o)]))}return e}function S(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var i=[t],a=0;a<e.length;a++)for(var n=e[a],s=0;s<i.length;s++){var r=S(i[s],n);if(r){i.splice(s,1),i.push(r[0],r[1]);break}}return i}n=e,a=t.indexOf(n[0]),s=t.indexOf(n[1]);return-1!==a&&-1!==s&&[b(t,a,s),b(t,s,a)]}function x(t,e,i,a,n){n=n||0;var s=e[1]-t[1],r=t[0]-e[0],o=s*t[0]+r*t[1],l=a[1]-i[1],h=i[0]-a[0],u=l*i[0]+h*i[1],c=s*h-l*r;return T(c,0,n)?[0,0]:[(h*o-r*u)/c,(s*u-l*o)/c]}function T(t,e,i){return i=i||0,Math.abs(t-e)<=i}function A(t,e,i){return T(t[0],e[0],i)&&T(t[1],e[1],i)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(0),n=i(513),s=i(13),r=i(2),o=i(107),l=i(156),h=i(3),u=new a({Extends:o,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,l],initialize:function(t,e,i,a,n,o){s.call(this,t.scene,"Image"),this.setTexture(a,n),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new h(e,i);var l=r(o,"shape",null);l?this.setBody(l,o):this.setRectangle(this.width,this.height,o),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(503),n=i(0),s=i(513),r=i(13),o=i(2),l=i(156),h=i(75),u=i(3),c=new n({Extends:h,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,l],initialize:function(t,e,i,n,s,l){r.call(this,t.scene,"Sprite"),this.anims=new a(this),this.setTexture(n,s),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new u(e,i);var h=o(l,"shape",null);h?this.setBody(h,l):this.setRectangle(this.width,this.height,l),this.setPosition(e,i),this.initPipeline("TextureTintPipeline")}});t.exports=c},function(t,e,i){var a={};t.exports=a;var n=i(1297),s=i(38);a.name="matter-js",a.version="0.14.2",a.uses=[],a.used=[],a.use=function(){n.use(a,Array.prototype.slice.call(arguments))},a.before=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathBefore(a,t,e)},a.after=function(t,e){return t=t.replace(/^Matter./,""),s.chainPathAfter(a,t,e)}},function(t,e,i){var a={};t.exports=a;var n=i(99),s=i(515),r=i(100),o=i(109),l=i(86);a.collides=function(t,e){for(var i=[],a=0;a<e.length;a++){var n=e[a];if(t!==n&&r.overlaps(n.bounds,t.bounds))for(var o=1===n.parts.length?0:1;o<n.parts.length;o++){var l=n.parts[o];if(r.overlaps(l.bounds,t.bounds)){var h=s.collides(l,t);if(h.collided){i.push(h);break}}}}return i},a.ray=function(t,e,i,s){s=s||1e-100;for(var r=n.angle(e,i),l=n.magnitude(n.sub(e,i)),h=.5*(i.x+e.x),u=.5*(i.y+e.y),c=o.rectangle(h,u,l,s,{angle:r}),d=a.collides(c,t),p=0;p<d.length;p+=1){var f=d[p];f.body=f.bodyB=f.bodyA}return d},a.region=function(t,e,i){for(var a=[],n=0;n<t.length;n++){var s=t[n],o=r.overlaps(s.bounds,e);(o&&!i||!o&&i)&&a.push(s)}return a},a.point=function(t,e){for(var i=[],a=0;a<t.length;a++){var n=t[a];if(r.contains(n.bounds,e))for(var s=1===n.parts.length?0:1;s<n.parts.length;s++){var o=n.parts[s];if(r.contains(o.bounds,e)&&l.contains(o.vertices,e)){i.push(n);break}}}return i}},function(t,e,i){var a={};t.exports=a;var n=i(1298),s=i(239),r=i(1301),o=i(1300),l=i(1423),h=i(1299),u=i(240),c=i(148),d=i(219),p=i(38),f=i(62);a.create=function(t,e){e=(e=p.isElement(t)?e:t)||{},((t=p.isElement(t)?t:null)||e.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:h}},a=p.extend(i,e);return a.world=e.world||n.create(a.world),a.pairs=o.create(),a.broadphase=a.broadphase.controller.create(a.broadphase),a.metrics=a.metrics||{extended:!1},a.metrics=l.create(a.metrics),a},a.update=function(t,e,i){e=e||1e3/60,i=i||1;var n,h=t.world,p=t.timing,f=t.broadphase,m=[];p.timestamp+=e*p.timeScale;var g={timestamp:p.timestamp};u.trigger(t,"beforeUpdate",g);var y=c.allBodies(h),k=c.allConstraints(h);for(l.reset(t.metrics),t.enableSleeping&&s.update(y,p.timeScale),a._bodiesApplyGravity(y,h.gravity),a._bodiesUpdate(y,e,p.timeScale,i,h.bounds),d.preSolveAll(y),n=0;n<t.constraintIterations;n++)d.solveAll(k,p.timeScale);d.postSolveAll(y),f.controller?(h.isModified&&f.controller.clear(f),f.controller.update(f,y,t,h.isModified),m=f.pairsList):m=y,h.isModified&&c.setModified(h,!1,!1,!0);var v=f.detector(m,t),b=t.pairs,w=p.timestamp;for(o.update(b,v,w),o.removeOld(b,w),t.enableSleeping&&s.afterCollisions(b.list,p.timeScale),b.collisionStart.length>0&&u.trigger(t,"collisionStart",{pairs:b.collisionStart}),r.preSolvePosition(b.list),n=0;n<t.positionIterations;n++)r.solvePosition(b.list,y,p.timeScale);for(r.postSolvePosition(y),d.preSolveAll(y),n=0;n<t.constraintIterations;n++)d.solveAll(k,p.timeScale);for(d.postSolveAll(y),r.preSolveVelocity(b.list),n=0;n<t.velocityIterations;n++)r.solveVelocity(b.list,p.timeScale);return b.collisionActive.length>0&&u.trigger(t,"collisionActive",{pairs:b.collisionActive}),b.collisionEnd.length>0&&u.trigger(t,"collisionEnd",{pairs:b.collisionEnd}),l.update(t.metrics,t),a._bodiesClearForces(y),u.trigger(t,"afterUpdate",g),t},a.merge=function(t,e){if(p.extend(t,e),e.world){t.world=e.world,a.clear(t);for(var i=c.allBodies(t.world),n=0;n<i.length;n++){var r=i[n];s.set(r,!1),r.id=p.nextId()}}},a.clear=function(t){var e=t.world;o.clear(t.pairs);var i=t.broadphase;if(i.controller){var a=c.allBodies(e);i.controller.clear(i),i.controller.update(i,a,t,!0)}},a._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},a._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var a=0;a<t.length;a++){var n=t[a];n.ignoreGravity||n.isStatic||n.isSleeping||(n.force.x+=n.mass*e.x*i*n.gravityScale.x,n.force.y+=n.mass*e.y*i*n.gravityScale.y)}},a._bodiesUpdate=function(t,e,i,a,n){for(var s=0;s<t.length;s++){var r=t[s];r.isStatic||r.isSleeping||f.update(r,e,i,a)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(62),s=i(0),r=i(38),o=i(148),l=i(1388),h=i(10),u=i(1294),c=i(2),d=i(6),p=i(62),f=i(240),m=i(1295),g=i(1298),y=i(99),k=new s({Extends:h,initialize:function(t,e){h.call(this),this.scene=t,this.engine=l.create(e),this.localWorld=this.engine.world;var i=d(e,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=d(e,"enabled",!0),this.correction=d(e,"correction",1),this.getDelta=d(e,"getDelta",this.update60Hz);var a=c(e,"runner",{}),n=c(a,"fps",!1),s=c(a,"fps",60),r=c(a,"delta",1e3/s),o=c(a,"deltaMin",1e3/s),u=c(a,"deltaMax",1e3/(.5*s));n||(s=1e3/r),this.runner={fps:s,correction:c(a,"correction",1),deltaSampleSize:c(a,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:c(a,"isFixed",!1),delta:r,deltaMin:o,deltaMax:u},this.autoUpdate=d(e,"autoUpdate",!0);var p=d(e,"debug",!1);if(this.drawDebug="object"==typeof p||p,this.debugGraphic,this.debugConfig={showAxes:c(p,"showAxes",!1),showAngleIndicator:c(p,"showAngleIndicator",!1),angleColor:c(p,"angleColor",15208787),showBroadphase:c(p,"showBroadphase",!1),broadphaseColor:c(p,"broadphaseColor",16757760),showBounds:c(p,"showBounds",!1),boundsColor:c(p,"boundsColor",16777215),showVelocity:c(p,"showVelocity",!1),velocityColor:c(p,"velocityColor",44783),showCollisions:c(p,"showCollisions",!1),collisionColor:c(p,"collisionColor",16094476),showSeparations:c(p,"showSeparations",!1),separationColor:c(p,"separationColor",16753920),showBody:c(p,"showBody",!0),showStaticBody:c(p,"showStaticBody",!0),showInternalEdges:c(p,"showInternalEdges",!1),renderFill:c(p,"renderFill",!1),renderLine:c(p,"renderLine",!0),fillColor:c(p,"fillColor",1075465),fillOpacity:c(p,"fillOpacity",1),lineColor:c(p,"lineColor",2678297),lineOpacity:c(p,"lineOpacity",1),lineThickness:c(p,"lineThickness",1),staticFillColor:c(p,"staticFillColor",857979),staticLineColor:c(p,"staticLineColor",1255396),showSleeping:c(p,"showSleeping",!1),staticBodySleepOpacity:c(p,"staticBodySleepOpacity",.7),sleepFillColor:c(p,"sleepFillColor",4605510),sleepLineColor:c(p,"sleepLineColor",10066585),showSensors:c(p,"showSensors",!0),sensorFillColor:c(p,"sensorFillColor",857979),sensorLineColor:c(p,"sensorLineColor",1255396),showPositions:c(p,"showPositions",!0),positionSize:c(p,"positionSize",4),positionColor:c(p,"positionColor",14697178),showJoint:c(p,"showJoint",!0),jointColor:c(p,"jointColor",14737474),jointLineOpacity:c(p,"jointLineOpacity",1),jointLineThickness:c(p,"jointLineThickness",2),pinSize:c(p,"pinSize",4),pinColor:c(p,"pinColor",4382944),springColor:c(p,"springColor",14697184),anchorColor:c(p,"anchorColor",15724527),anchorSize:c(p,"anchorSize",4),showConvexHulls:c(p,"showConvexHulls",!1),hullColor:c(p,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(e,"setBounds",!1)){var f=e.setBounds;if("boolean"==typeof f)this.setBounds();else{var m=c(f,"x",0),g=c(f,"y",0),y=c(f,"width",t.sys.scale.width),k=c(f,"height",t.sys.scale.height),v=c(f,"thickness",64),b=c(f,"left",!0),w=c(f,"right",!0),S=c(f,"top",!0),x=c(f,"bottom",!0);this.setBounds(m,g,y,k,v,b,w,S,x)}}},setCompositeRenderStyle:function(t){var e,i,a,n=t.bodies,s=t.constraints,r=t.composites;for(e=0;e<n.length;e++)a=(i=n[e]).render,this.setBodyRenderStyle(i,a.lineColor,a.lineOpacity,a.lineThickness,a.fillColor,a.fillOpacity);for(e=0;e<s.length;e++)a=(i=s[e]).render,this.setConstraintRenderStyle(i,a.lineColor,a.lineOpacity,a.lineThickness,a.pinSize,a.anchorColor,a.anchorSize);for(e=0;e<r.length;e++)i=r[e],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(t,e,i,a,n,s){var r=t.render,o=this.debugConfig;return r?(null==e&&(e=t.isStatic?o.staticLineColor:o.lineColor),null==i&&(i=o.lineOpacity),null==a&&(a=o.lineThickness),null==n&&(n=t.isStatic?o.staticFillColor:o.fillColor),null==s&&(s=o.fillOpacity),!1!==e&&(r.lineColor=e),!1!==i&&(r.lineOpacity=i),!1!==a&&(r.lineThickness=a),!1!==n&&(r.fillColor=n),!1!==s&&(r.fillOpacity=s),this):this},setConstraintRenderStyle:function(t,e,i,a,n,s,r){var o=t.render,l=this.debugConfig;if(!o)return this;if(null==e){var h=o.type;"line"===h?e=l.jointColor:"pin"===h?e=l.pinColor:"spring"===h&&(e=l.springColor)}return null==i&&(i=l.jointLineOpacity),null==a&&(a=l.jointLineThickness),null==n&&(n=l.pinSize),null==s&&(s=l.anchorColor),null==r&&(r=l.anchorSize),!1!==e&&(o.lineColor=e),!1!==i&&(o.lineOpacity=i),!1!==a&&(o.lineThickness=a),!1!==n&&(o.pinSize=n),!1!==s&&(o.anchorColor=s),!1!==r&&(o.anchorSize=r),this},setEventsProxy:function(){var t=this,e=this.engine,i=this.localWorld;this.drawDebug&&(f.on(i,"compositeModified",(function(e){t.setCompositeRenderStyle(e)})),f.on(i,"beforeAdd",(function(e){for(var i=[].concat(e.object),a=0;a<i.length;a++){var n=i[a],s=n.render;"body"===n.type?t.setBodyRenderStyle(n,s.lineColor,s.lineOpacity,s.lineThickness,s.fillColor,s.fillOpacity):"composite"===n.type?t.setCompositeRenderStyle(n):"constraint"===n.type&&t.setConstraintRenderStyle(n,s.lineColor,s.lineOpacity,s.lineThickness,s.pinSize,s.anchorColor,s.anchorSize)}}))),f.on(i,"beforeAdd",(function(e){t.emit(u.BEFORE_ADD,e)})),f.on(i,"afterAdd",(function(e){t.emit(u.AFTER_ADD,e)})),f.on(i,"beforeRemove",(function(e){t.emit(u.BEFORE_REMOVE,e)})),f.on(i,"afterRemove",(function(e){t.emit(u.AFTER_REMOVE,e)})),f.on(e,"beforeUpdate",(function(e){t.emit(u.BEFORE_UPDATE,e)})),f.on(e,"afterUpdate",(function(e){t.emit(u.AFTER_UPDATE,e)})),f.on(e,"collisionStart",(function(e){var i,a,n=e.pairs;n.length>0&&(i=n[0].bodyA,a=n[0].bodyB),t.emit(u.COLLISION_START,e,i,a)})),f.on(e,"collisionActive",(function(e){var i,a,n=e.pairs;n.length>0&&(i=n[0].bodyA,a=n[0].bodyB),t.emit(u.COLLISION_ACTIVE,e,i,a)})),f.on(e,"collisionEnd",(function(e){var i,a,n=e.pairs;n.length>0&&(i=n[0].bodyA,a=n[0].bodyB),t.emit(u.COLLISION_END,e,i,a)}))},setBounds:function(t,e,i,a,n,s,r,o,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===a&&(a=this.scene.sys.scale.height),void 0===n&&(n=64),void 0===s&&(s=!0),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===l&&(l=!0),this.updateWall(s,"left",t-n,e-n,n,a+2*n),this.updateWall(r,"right",t+i,e-n,n,a+2*n),this.updateWall(o,"top",t,e-n,i,n),this.updateWall(l,"bottom",t,e+a,i,n),this},updateWall:function(t,e,i,a,n,s){var r=this.walls[e];t?(r&&g.remove(this.localWorld,r),i+=n/2,a+=s/2,this.walls[e]=this.create(i,a,n,s,{isStatic:!0,friction:0,frictionStatic:0})):(r&&g.remove(this.localWorld,r),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,n,s){var r=a.rectangle(t,e,i,n,s);return g.add(this.localWorld,r),r},add:function(t){return g.add(this.localWorld,t),this},remove:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i],n=a.body?a.body:a;o.remove(this.localWorld,n,e)}return this},removeConstraint:function(t,e){return o.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,a=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(a,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new m(this,t[i],e);return this},nextGroup:function(t){return p.nextGroup(t)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(u.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(u.RESUME),this},update:function(t,e){if(this.enabled&&this.autoUpdate){var i=this.engine,a=this.runner,n=i.timing,s=this.correction;a.isFixed?e=this.getDelta(t,e):(e=t-a.timePrev||a.delta,a.timePrev=t,a.deltaHistory.push(e),a.deltaHistory=a.deltaHistory.slice(-a.deltaSampleSize),s=(e=(e=(e=Math.min.apply(null,a.deltaHistory))<a.deltaMin?a.deltaMin:e)>a.deltaMax?a.deltaMax:e)/a.delta,a.delta=e),0!==a.timeScalePrev&&(s*=n.timeScale/a.timeScalePrev),0===n.timeScale&&(s=0),a.timeScalePrev=n.timeScale,a.correction=s,a.frameCounter+=1,t-a.counterTimestamp>=1e3&&(a.fps=a.frameCounter*((t-a.counterTimestamp)/1e3),a.counterTimestamp=t,a.frameCounter=0),l.update(i,e,s)}},step:function(t,e){l.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return null!==o.get(this.localWorld,e.id,e.type)},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var t=this.debugConfig,e=this.engine,i=this.debugGraphic,a=o.allBodies(this.localWorld);this.debugGraphic.clear(),t.showBroadphase&&e.broadphase.controller&&this.renderGrid(e.broadphase,i,t.broadphaseColor,.5),t.showBounds&&this.renderBodyBounds(a,i,t.boundsColor,.5),(t.showBody||t.showStaticBody)&&this.renderBodies(a),t.showJoint&&this.renderJoints(),(t.showAxes||t.showAngleIndicator)&&this.renderBodyAxes(a,i,t.showAxes,t.angleColor,.5),t.showVelocity&&this.renderBodyVelocity(a,i,t.velocityColor,1,2),t.showSeparations&&this.renderSeparations(e.pairs.list,i,t.separationColor),t.showCollisions&&this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,a){e.lineStyle(1,i,a);for(var n=r.keys(t.buckets),s=0;s<n.length;s++){var o=n[s];if(!(t.buckets[o].length<2)){var l=o.split(/C|R/);e.strokeRect(parseInt(l[1],10)*t.bucketWidth,parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var a=0;a<t.length;a++){var n=t[a];if(n.isActive){var s=n.collision,r=s.bodyA,o=s.bodyB,l=r.position,h=o.position,u=s.penetration,c=r.isStatic||o.isStatic?1:4;o.isStatic&&(c=0),e.lineBetween(h.x,h.y,h.x-u.x*c,h.y-u.y*c),c=r.isStatic||o.isStatic?1:4,r.isStatic&&(c=0),e.lineBetween(l.x,l.y,l.x-u.x*c,l.y-u.y*c)}}return this},renderCollisions:function(t,e,i){var a,n;for(e.lineStyle(1,i,.5),e.fillStyle(i,1),a=0;a<t.length;a++)if((n=t[a]).isActive)for(var s=0;s<n.activeContacts.length;s++){var r=n.activeContacts[s].vertex;e.fillRect(r.x-2,r.y-2,5,5)}for(a=0;a<t.length;a++)if((n=t[a]).isActive){var o=n.collision,l=n.activeContacts;if(l.length>0){var h=l[0].vertex.x,u=l[0].vertex.y;2===l.length&&(h=(l[0].vertex.x+l[1].vertex.x)/2,u=(l[0].vertex.y+l[1].vertex.y)/2),o.bodyB===o.supports[0].body||o.bodyA.isStatic?e.lineBetween(h-8*o.normal.x,u-8*o.normal.y,h,u):e.lineBetween(h+8*o.normal.x,u+8*o.normal.y,h,u)}}return this},renderBodyBounds:function(t,e,i,a){e.lineStyle(1,i,a);for(var n=0;n<t.length;n++){var s=t[n];if(s.render.visible){var r=s.bounds;if(r)e.strokeRect(r.min.x,r.min.y,r.max.x-r.min.x,r.max.y-r.min.y);else for(var o=s.parts,l=o.length>1?1:0;l<o.length;l++){var h=o[l];e.strokeRect(h.bounds.min.x,h.bounds.min.y,h.bounds.max.x-h.bounds.min.x,h.bounds.max.y-h.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,a,n){e.lineStyle(1,a,n);for(var s=0;s<t.length;s++){var r,o,l,h=t[s],u=h.parts;if(h.render.visible)if(i)for(o=u.length>1?1:0;o<u.length;o++)for(r=u[o],l=0;l<r.axes.length;l++){var c=r.axes[l];e.lineBetween(r.position.x,r.position.y,r.position.x+20*c.x,r.position.y+20*c.y)}else for(o=u.length>1?1:0;o<u.length;o++)for(r=u[o],l=0;l<r.axes.length;l++)e.lineBetween(r.position.x,r.position.y,(r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(t,e,i,a,n){e.lineStyle(n,i,a);for(var s=0;s<t.length;s++){var r=t[s];r.render.visible&&e.lineBetween(r.position.x,r.position.y,r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y))}return this},renderBodies:function(t){for(var e=this.debugGraphic,i=this.debugConfig,a=i.showBody,n=i.showStaticBody,s=i.showSleeping,r=i.showInternalEdges,o=i.showConvexHulls,l=i.renderFill,h=i.renderLine,u=i.staticBodySleepOpacity,c=i.sleepFillColor,d=i.sleepLineColor,p=i.hullColor,f=0;f<t.length;f++){var m=t[f];if(m.render.visible&&((n||!m.isStatic)&&(a||m.isStatic))){var g=m.render.lineColor,y=m.render.lineOpacity,k=m.render.lineThickness,v=m.render.fillColor,b=m.render.fillOpacity;s&&m.isSleeping&&(m.isStatic?(y*=u,b*=u):(g=d,v=c)),l||(v=null),h||(g=null),this.renderBody(m,e,r,g,y,k,v,b);var w=m.parts.length;o&&w>1&&this.renderConvexHull(m,e,p,k)}}},renderBody:function(t,e,i,a,n,s,r,o){void 0===a&&(a=null),void 0===n&&(n=null),void 0===s&&(s=1),void 0===r&&(r=null),void 0===o&&(o=null);for(var l=this.debugConfig,h=l.sensorFillColor,u=l.sensorLineColor,c=t.parts,d=c.length,p=d>1?1:0;p<d;p++){var f=c[p],m=f.render,g=m.opacity;if(m.visible&&0!==g&&(!f.isSensor||l.showSensors)){var y=f.circleRadius;if(e.beginPath(),f.isSensor?(null!==r&&e.fillStyle(h,o*g),null!==a&&e.lineStyle(s,u,n*g)):(null!==r&&e.fillStyle(r,o*g),null!==a&&e.lineStyle(s,a,n*g)),y)e.arc(f.position.x,f.position.y,y,0,2*Math.PI);else{var k=f.vertices,v=k.length;e.moveTo(k[0].x,k[0].y);for(var b=1;b<v;b++){var w=k[b];if(!k[b-1].isInternal||i?e.lineTo(w.x,w.y):e.moveTo(w.x,w.y),b<v&&w.isInternal&&!i){var S=(b+1)%v;e.moveTo(k[S].x,k[S].y)}}e.closePath()}null!==r&&e.fillPath(),null!==a&&e.strokePath()}}if(l.showPositions&&!t.isStatic){var x=t.position.x,T=t.position.y,A=Math.ceil(l.positionSize/2);e.fillStyle(l.positionColor,1),e.fillRect(x-A,T-A,l.positionSize,l.positionSize)}return this},renderConvexHull:function(t,e,i,a){if(void 0===a&&(a=1),t.parts.length>1){var n=t.vertices;e.lineStyle(a,i),e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var s=1;s<n.length;s++)e.lineTo(n[s].x,n[s].y);e.lineTo(n[0].x,n[0].y),e.strokePath()}return this},renderJoints:function(){for(var t=this.debugGraphic,e=o.allConstraints(this.localWorld),i=0;i<e.length;i++){var a=e[i].render,n=a.lineColor,s=a.lineOpacity,r=a.lineThickness,l=a.pinSize,h=a.anchorColor,u=a.anchorSize;this.renderConstraint(e[i],t,n,s,r,l,h,u)}},renderConstraint:function(t,e,i,a,n,s,o,l){var h=t.render;if(!h.visible||!t.pointA||!t.pointB)return this;e.lineStyle(n,i,a);var u,c,d=t.bodyA,p=t.bodyB;if(u=d?y.add(d.position,t.pointA):t.pointA,"pin"===h.type)e.strokeCircle(u.x,u.y,s);else{if(c=p?y.add(p.position,t.pointB):t.pointB,e.beginPath(),e.moveTo(u.x,u.y),"spring"===h.type)for(var f,m=y.sub(c,u),g=y.perp(y.normalise(m)),k=Math.ceil(r.clamp(t.length/5,12,20)),v=1;v<k;v+=1)f=v%2==0?1:-1,e.lineTo(u.x+m.x*(v/k)+g.x*f*4,u.y+m.y*(v/k)+g.y*f*4);e.lineTo(c.x,c.y)}return e.strokePath(),h.anchors&&l>0&&(e.fillStyle(o),e.fillCircle(u.x,u.y,l),e.fillCircle(c.x,c.y,l)),this},resetCollisionIDs:function(){return n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,this},shutdown:function(){f.off(this.engine),this.removeAllListeners(),g.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=k},function(t,e,i){(function(e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
i(517);var a=i(33),n=i(18),s={Actions:i(241),Animations:i(637),BlendModes:i(52),Cache:i(638),Cameras:i(641),Core:i(727),Class:i(0),Create:i(788),Curves:i(794),Data:i(797),Display:i(799),DOM:i(816),Events:i(817),Game:i(819),GameObjects:i(912),Geom:i(429),Input:i(1199),Loader:i(1233),Math:i(170),Physics:i(1391),Plugins:i(1302),Renderer:i(1428),Scale:i(1304),ScaleModes:i(234),Scene:i(373),Scenes:i(1305),Structs:i(1307),Textures:i(1308),Tilemaps:i(1310),Time:i(1351),Tweens:i(1353),Utils:i(1370)};s.Sound=i(1380),s=n(!1,s,a),t.exports=s,e.Phaser=s}).call(this,i(516))},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Arcade:i(1259),Matter:i(1392)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BodyBounds:i(1381),Factory:i(1382),Image:i(1384),Matter:i(1296),MatterPhysics:i(1424),PolyDecomp:i(1383),Sprite:i(1385),TileBody:i(1295),PhysicsEditorParser:i(1292),PhysicsJSONParser:i(1293),World:i(1389)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(513),n=i(2),s=i(3);t.exports=function(t,e,i,r){void 0===i&&(i={}),void 0===r&&(r=!0);var o=e.x,l=e.y;if(e.body={temp:!0,position:{x:o,y:l}},[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity].forEach((function(t){for(var i in t)(a=t[i]).get&&"function"==typeof a.get||a.set&&"function"==typeof a.set?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]});var a})),e.world=t,e._tempVec2=new s(o,l),i.hasOwnProperty("type")&&"body"===i.type)e.setExistingBody(i,r);else{var h=n(i,"shape",null);h||(h="rectangle"),i.addToWorld=r,e.setBody(h,i)}return e}},function(t,e){t.exports={setBounce:function(t){return this.body.restitution=t,this}}},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(a,e)}return this}};t.exports=i},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(62),n={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return a.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=n},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var i={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}};t.exports=i},function(t,e){t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(62),n=i(3),s={setMass:function(t){return a.setMass(this.body,t),this},setDensity:function(t){return a.setDensity(this.body,t),this},centerOfMass:{get:function(){return new n(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=s},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(62),n={setStatic:function(t){return a.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=n},function(t,e){t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(109),n=i(62),s=i(106),r=i(2),o=i(1292),l=i(1293),h=i(86),u={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,a){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},a)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body,!0),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var a=this;if(t.destroy=function(){a.world.remove(a.body,!0),a.body.gameObject=null},e&&(this.world.has(t)&&this.world.remove(t,!0),this.world.add(t)),this._originComponent){var n=t.render.sprite.xOffset,r=t.render.sprite.yOffset,o=t.centerOfMass.x,l=t.centerOfMass.y;if(s(o,.5)&&s(l,.5))this.setOrigin(n+.5,r+.5);else{var h=t.centerOffset.x,u=t.centerOffset.y;this.setOrigin(n+h/this.displayWidth,r+u/this.displayHeight)}}return this},setBody:function(t,e){if(!t)return this;var i;"string"==typeof t&&(t={type:t});var s=r(t,"type","rectangle"),u=r(t,"x",this._tempVec2.x),c=r(t,"y",this._tempVec2.y),d=r(t,"width",this.width),p=r(t,"height",this.height);switch(s){case"rectangle":i=a.rectangle(u,c,d,p,e);break;case"circle":var f=r(t,"radius",Math.max(d,p)/2),m=r(t,"maxSides",25);i=a.circle(u,c,f,e,m);break;case"trapezoid":var g=r(t,"slope",.5);i=a.trapezoid(u,c,d,p,g,e);break;case"polygon":var y=r(t,"sides",5),k=r(t,"radius",Math.max(d,p)/2);i=a.polygon(u,c,y,k,e);break;case"fromVertices":case"fromVerts":var v=r(t,"verts",null);if(v)if("string"==typeof v&&(v=h.fromPath(v)),this.body&&!this.body.hasOwnProperty("temp"))n.setVertices(this.body,v),i=this.body;else{var b=r(t,"flagInternal",!1),w=r(t,"removeCollinear",.01),S=r(t,"minimumArea",10);i=a.fromVertices(u,c,v,e,b,w,S)}break;case"fromPhysicsEditor":i=o.parseBody(u,c,t,e);break;case"fromPhysicsTracer":i=l.parseBody(u,c,t,e)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=u},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(1294),n=i(239),s=i(240),r={setToSleep:function(){n.set(this.body,!0)},setAwake:function(){n.set(this.body,!1)},setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepStart",(function(t){e.emit(a.SLEEP_START,t,this)}))}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;s.on(this.body,"sleepEnd",(function(t){e.emit(a.SLEEP_END,t,this)}))}else s.off(this.body,"sleepEnd");return this}};t.exports=r},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="afteradd"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="afterremove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="afterupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="beforeadd"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="beforeremove"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="beforeupdate"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="collisionactive"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="collisionend"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="collisionstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragend"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="drag"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="dragstart"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="pause"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="resume"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="sleepend"},function(t,e){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports="sleepstart"},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(62),n=i(15),s=i(235),r=i(236),o={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,a.scale(this.body,e,i),a.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,a.scale(this.body,e,i),a.scale(this.body,this._scaleX,t)}},angle:{get:function(){return r(this.body.angle*n.RAD_TO_DEG)},set:function(t){this.rotation=r(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=s(t),a.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),a.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=s(t),a.setAngle(this.body,t),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,a.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var n=1/this._scaleX,s=1/this._scaleY;return this._scaleX=t,this._scaleY=e,a.scale(this.body,n,s,i),a.scale(this.body,t,e,i),this}};t.exports=o},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(62),n={setAngularVelocity:function(t){return a.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),a.setVelocity(this.body,this._tempVec2),this}};t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(100),n=i(0),s=i(148),r=i(219),o=i(514),l=i(1294),h=i(54),u=i(126),c=i(239),d=i(3),p=i(86),f=new n({initialize:function(t,e,i){void 0===i&&(i={});this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new d,this.body=null,this.part=null,this.constraint=r.create(u(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),t.sys.input.on(h.POINTER_DOWN,this.onDown,this),t.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(t){var e=this.position,i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);for(var n=s.allBodies(this.world.localWorld),r=0;r<n.length;r++){var h=n[r];if(!h.ignorePointer&&a.contains(h.bounds,e)&&o.canCollide(h.collisionFilter,i.collisionFilter)&&this.hitTestBody(h,e))return this.world.emit(l.DRAG_START,h,this.part,this),!0}return!1},hitTestBody:function(t,e){for(var i=this.constraint,a=t.parts.length,n=a>1?1:0;n<a;n++){var s=t.parts[n];if(p.contains(s.vertices,e))return i.pointA=e,i.pointB={x:e.x-t.position.x,y:e.y-t.position.y},i.bodyB=t,i.angleB=t.angle,c.set(t,!1),this.part=s,this.body=t,!0}return!1},update:function(){var t=this.pointer,e=this.body;if(this.active&&t)if(t.isDown||!e){if(t.isDown){if(!e&&!this.getBody(t))return;e=this.body;var i=this.position,a=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),a.pointA.x=i.x,a.pointA.y=i.y,c.set(e,!1),this.world.emit(l.DRAG,e,this)}}else this.stopDrag();else e&&this.stopDrag()},stopDrag:function(){var t=this.body,e=this.constraint;e.bodyB=null,e.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(l.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});t.exports=f},function(t,e,i){var a={};t.exports=a;var n=i(148),s=i(38);a.create=function(t){return s.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,t)},a.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},a.update=function(t,e){if(t.extended){var i=e.world,a=n.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=a.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(a.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
var a=i(105),n=i(512),s=i(109),r=i(62),o=i(1381),l=i(100),h=i(0),u=i(148),c=i(1290),d=i(219),p=i(514),f=i(53),m=i(1382),g=i(2),y=i(6),k=i(1299),v=i(1425),b=i(1426),w=i(1386),S=i(1427),x=i(126),T=i(472),A=i(1300),E=i(1297),C=i(23),M=i(1387),_=i(1301),B=i(515),I=i(22),D=i(1291),P=i(99),L=i(86),O=i(1389),N=new h({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=u,this.detector=p,this.grid=k,this.pair=T,this.pairs=A,this.query=M,this.resolver=_,this.sat=B,this.constraint=d,this.bodies=s,this.composites=c,this.axes=n,this.bounds=l,this.svg=D,this.vector=P,this.vertices=L,this.verts=L,this._tempVec2=P.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),_._restingThresh=y(this.config,"restingThresh",4),_._restingThreshTangent=y(this.config,"restingThreshTangent",6),_._positionDampen=y(this.config,"positionDampen",.9),_._positionWarming=y(this.config,"positionWarming",.8),_._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),t.sys.events.once(I.BOOT,this.boot,this),t.sys.events.on(I.START,this.start,this)},boot:function(){this.world=new O(this.scene,this.config),this.add=new m(this.world),this.bodyBounds=new o,this.systems.events.once(I.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new O(this.scene,this.config),this.add=new m(this.world));var t=this.systems.events;t.on(I.UPDATE,this.world.update,this.world),t.on(I.POST_UPDATE,this.world.postUpdate,this.world),t.once(I.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return x(g(e,"matter",{}),g(t,"matter",{}))},enableAttractorPlugin:function(){return E.register(v),E.use(w,v),this},enableWrapPlugin:function(){return E.register(S),E.use(w,S),this},enableCollisionEventsPlugin:function(){return E.register(b),E.use(w,b),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var a=P.create(e,i);return M.point(t,a).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var a=P.create(t,e),n=[];return M.point(i,a).forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n},intersectRect:function(t,e,i,a,n,s){void 0===n&&(n=!1),s=this.getMatterBodies(s);var r={min:{x:t,y:e},max:{x:t+i,y:e+a}},o=[];return M.region(s,r,n).forEach((function(t){-1===o.indexOf(t)&&o.push(t)})),o},intersectRay:function(t,e,i,a,n,s){void 0===n&&(n=1),s=this.getMatterBodies(s);for(var r=[],o=M.ray(s,P.create(t,e),P.create(i,a),n),l=0;l<o.length;l++)r.push(o[l].body);return r},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],a=M.collides(t,e),n=0;n<a.length;n++){var s=a[n];s.bodyA===t?i.push(s.bodyB):i.push(s.bodyA)}return i},overlap:function(t,e,i,a,n){void 0===i&&(i=null),void 0===a&&(a=null),void 0===n&&(n=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var s=!1,r=0;r<t.length;r++)for(var o=t[r],l=M.collides(o,e),h=0;h<l.length;h++){var u=l[h],c=u.bodyA.id===o.id?u.bodyB:u.bodyA;if(!a||a.call(n,o,c,u))if(s=!0,i)i.call(n,o,c,u);else if(!a)return!0}return s},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.category=e})),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.group=e})),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var a=0;a<e.length;a++)i|=e[a];else i=e;return t.forEach((function(t){t.collisionFilter.mask=i})),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var a=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(a)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var a=this._tempVec2;return a.x=e,a.y=i,t.forEach((function(t){r.setVelocity(t,a)})),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach((function(t){i.y=t.velocity.y,r.setVelocity(t,i)})),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach((function(t){i.x=t.velocity.x,r.setVelocity(t,i)})),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){r.setAngularVelocity(t,e)})),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach((function(t){i.x=t.position.x,i.y=t.position.y,r.applyForce(t,i,e)})),this},applyForceFromPosition:function(t,e,i,a){t=this.getMatterBodies(t);var n=this._tempVec2;return t.forEach((function(t){void 0===a&&(a=t.angle),n.x=i*Math.cos(a),n.y=i*Math.sin(a),r.applyForce(t,e,n)})),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var a=this._tempVec2;return t.forEach((function(t){void 0===i&&(i=t.angle),a.x=e*Math.cos(i),a.y=e*Math.sin(i),r.applyForce(t,{x:t.position.x,y:t.position.y},a)})),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,a=t.pointB.x,n=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(a+=t.bodyB.position.x,n+=t.bodyB.position.y),f(e,i,a,n)},alignBody:function(t,e,i,n){var s;switch(t=t.hasOwnProperty("body")?t.body:t,n){case a.TOP_LEFT:case a.LEFT_TOP:s=this.bodyBounds.getTopLeft(t,e,i);break;case a.TOP_CENTER:s=this.bodyBounds.getTopCenter(t,e,i);break;case a.TOP_RIGHT:case a.RIGHT_TOP:s=this.bodyBounds.getTopRight(t,e,i);break;case a.LEFT_CENTER:s=this.bodyBounds.getLeftCenter(t,e,i);break;case a.CENTER:s=this.bodyBounds.getCenter(t,e,i);break;case a.RIGHT_CENTER:s=this.bodyBounds.getRightCenter(t,e,i);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:s=this.bodyBounds.getBottomLeft(t,e,i);break;case a.BOTTOM_CENTER:s=this.bodyBounds.getBottomCenter(t,e,i);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:s=this.bodyBounds.getBottomRight(t,e,i)}return s&&r.setPosition(t,s),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(I.UPDATE,this.world.update,this.world),t.off(I.POST_UPDATE,this.world.postUpdate,this.world)),t.off(I.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(I.START,this.start,this),this.scene=null,this.systems=null}});C.register("MatterPhysics",N,"matterPhysics"),t.exports=N},function(t,e,i){var a=i(1296),n={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",(function(){n.Body.init(this)})),t.before("Engine.update",(function(t){n.Engine.update(t)}))},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=t.world,i=a.Composite.allBodies(e),n=0;n<i.length;n+=1){var s=i[n],r=s.plugin.attractors;if(r&&r.length>0)for(var o=n+1;o<i.length;o+=1)for(var l=i[o],h=0;h<r.length;h+=1){var u=r[h],c=u;a.Common.isFunction(u)&&(c=u(s,l)),c&&a.Body.applyForce(l,l.position,c)}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=a.Vector.sub(e.position,t.position),s=a.Vector.magnitudeSquared(i)||1e-4,r=a.Vector.normalise(i),o=-n.Attractors.gravityConstant*(t.mass*e.mass/s),l=a.Vector.mult(r,o);a.Body.applyForce(t,t.position,a.Vector.neg(l)),a.Body.applyForce(e,e.position,l)}}};t.exports=n},function(t,e){t.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.create",(function(){t.Events.on(this,"collisionStart",(function(e){e.pairs.map((function(e){var i=e.bodyA,a=e.bodyB;i.gameObject&&i.gameObject.emit("collide",i,a,e),a.gameObject&&a.gameObject.emit("collide",a,i,e),t.Events.trigger(i,"onCollide",{pair:e}),t.Events.trigger(a,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),a.onCollideCallback&&a.onCollideCallback(e),i.onCollideWith[a.id]&&i.onCollideWith[a.id](a,e),a.onCollideWith[i.id]&&a.onCollideWith[i.id](i,e)}))})),t.Events.on(this,"collisionActive",(function(e){e.pairs.map((function(e){var i=e.bodyA,a=e.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,a,e),a.gameObject&&a.gameObject.emit("collideActive",a,i,e),t.Events.trigger(i,"onCollideActive",{pair:e}),t.Events.trigger(a,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),a.onCollideActiveCallback&&a.onCollideActiveCallback(e)}))})),t.Events.on(this,"collisionEnd",(function(e){e.pairs.map((function(e){var i=e.bodyA,a=e.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,a,e),a.gameObject&&a.gameObject.emit("collideEnd",a,i,e),t.Events.trigger(i,"onCollideEnd",{pair:e}),t.Events.trigger(a,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),a.onCollideEndCallback&&a.onCollideEndCallback(e)}))}))}))}}},function(t,e,i){var a=i(1296),n={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.update",(function(){n.Engine.update(this)}))},Engine:{update:function(t){for(var e=t.world,i=a.Composite.allBodies(e),s=a.Composite.allComposites(e),r=0;r<i.length;r+=1){var o=i[r];o.plugin.wrap&&n.Body.wrap(o,o.plugin.wrap)}for(r=0;r<s.length;r+=1){var l=s[r];l.plugin.wrap&&n.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,a=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?a=e.min.y-t.max.y:t.max.y<e.min.y&&(a=e.max.y-t.min.y)),null!==i||null!==a)return{x:i||0,y:a||0}}},Body:{wrap:function(t,e){var i=n.Bounds.wrap(t.bounds,e);return i&&a.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=a.Composite.allBodies(t),i=[],n=0;n<e.length;n+=1){var s=e[n];i.push(s.bounds.min,s.bounds.max)}return a.Bounds.create(i)},wrap:function(t,e){var i=n.Bounds.wrap(n.Composite.bounds(t),e);return i&&a.Composite.translate(t,i),i}}};t.exports=n},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Canvas:i(1429),Snapshot:i(1430),WebGL:i(1431)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={CanvasRenderer:i(504),GetBlendModes:i(506),SetTransform:i(28)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Canvas:i(505),WebGL:i(508)}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={Utils:i(9),WebGLPipeline:i(147),WebGLRenderer:i(507),Pipelines:i(1432),BYTE:0,SHORT:1,UNSIGNED_BYTE:2,UNSIGNED_SHORT:3,FLOAT:4}},function(t,e,i){
/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */
t.exports={BitmapMaskPipeline:i(509),ForwardDiffuseLightPipeline:i(510),TextureTintPipeline:i(237),TextureTintStripPipeline:i(511),ModelViewProjection:i(238)}}])})),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap={},t.jQuery)}(this,(function(t,e){"use strict";function i(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function a(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}).apply(this,arguments)}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var s={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration"),a=e(t).css("transition-delay"),n=parseFloat(i),s=parseFloat(a);return n||s?(i=i.split(",")[0],a=a.split(",")[0],1e3*(parseFloat(i)+parseFloat(a))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var n=i[a],r=e[a],o=r&&s.isElement(r)?"element":null===(l=r)||void 0===l?""+l:{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(o))throw new Error(t.toUpperCase()+': Option "'+a+'" provided type "'+o+'" but expected type "'+n+'".')}var l},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?s.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};s.jQueryDetection(),e.fn.emulateTransitionEnd=function(t){var i=this,a=!1;return e(this).one(s.TRANSITION_END,(function(){a=!0})),setTimeout((function(){a||s.triggerTransitionEnd(i)}),t),this},e.event.special[s.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var r="alert",o=e.fn[r],l=function(){function t(t){this._element=t}var i=t.prototype;return i.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},i.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},i._getRootElement=function(t){var i=s.getSelectorFromElement(t),a=!1;return i&&(a=document.querySelector(i)),a||(a=e(t).closest(".alert")[0]),a},i._triggerCloseEvent=function(t){var i=e.Event("close.bs.alert");return e(t).trigger(i),i},i._removeElement=function(t){var i=this;if(e(t).removeClass("show"),e(t).hasClass("fade")){var a=s.getTransitionDurationFromElement(t);e(t).one(s.TRANSITION_END,(function(e){return i._destroyElement(t,e)})).emulateTransitionEnd(a)}else this._destroyElement(t)},i._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(i){return this.each((function(){var a=e(this),n=a.data("bs.alert");n||(n=new t(this),a.data("bs.alert",n)),"close"===i&&n[i](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),t}();e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',l._handleDismiss(new l)),e.fn[r]=l._jQueryInterface,e.fn[r].Constructor=l,e.fn[r].noConflict=function(){return e.fn[r]=o,l._jQueryInterface};var h=e.fn.button,u=function(){function t(t){this._element=t}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,a=e(this._element).closest('[data-toggle="buttons"]')[0];if(a){var n=this._element.querySelector('input:not([type="hidden"])');if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains("active"))t=!1;else{var s=a.querySelector(".active");s&&e(s).removeClass("active")}t&&("checkbox"!==n.type&&"radio"!==n.type||(n.checked=!this._element.classList.contains("active")),e(n).trigger("change")),n.focus(),i=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&e(this._element).toggleClass("active"))},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each((function(){var a=e(this).data("bs.button");a||(a=new t(this),e(this).data("bs.button",a)),"toggle"===i&&a[i]()}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),t}();e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var i=t.target,a=i;if(e(i).hasClass("btn")||(i=e(i).closest(".btn")[0]),!i||i.hasAttribute("disabled")||i.classList.contains("disabled"))t.preventDefault();else{var n=i.querySelector('input:not([type="hidden"])');if(n&&(n.hasAttribute("disabled")||n.classList.contains("disabled")))return void t.preventDefault();("LABEL"!==a.tagName||n&&"checkbox"!==n.type)&&u._jQueryInterface.call(e(i),"toggle")}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var i=e(t.target).closest(".btn")[0];e(i).toggleClass("focus",/^focus(in)?$/.test(t.type))})),e(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,i=t.length;e<i;e++){var a=t[e],n=a.querySelector('input:not([type="hidden"])');n.checked||n.hasAttribute("checked")?a.classList.add("active"):a.classList.remove("active")}for(var s=0,r=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;s<r;s++){var o=t[s];"true"===o.getAttribute("aria-pressed")?o.classList.add("active"):o.classList.remove("active")}})),e.fn.button=u._jQueryInterface,e.fn.button.Constructor=u,e.fn.button.noConflict=function(){return e.fn.button=h,u._jQueryInterface};var c="carousel",d=e.fn[c],p={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},f={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},m={TOUCH:"touch",PEN:"pen"},g=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var i=t.prototype;return i.next=function(){this._isSliding||this._slide("next")},i.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},i.prev=function(){this._isSliding||this._slide("prev")},i.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},i.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},i.to=function(t){var i=this;this._activeElement=this._element.querySelector(".active.carousel-item");var a=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one("slid.bs.carousel",(function(){return i.to(t)}));else{if(a===t)return this.pause(),void this.cycle();var n=t>a?"next":"prev";this._slide(n,this._items[t])}},i.dispose=function(){e(this._element).off(".bs.carousel"),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},i._getConfig=function(t){return t=n({},p,t),s.typeCheckConfig(c,t,f),t},i._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},i._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},i._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var i=function(e){t._pointerEvent&&m[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},a=function(e){t._pointerEvent&&m[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on("pointerdown.bs.carousel",(function(t){return i(t)})),e(this._element).on("pointerup.bs.carousel",(function(t){return a(t)})),this._element.classList.add("pointer-event")):(e(this._element).on("touchstart.bs.carousel",(function(t){return i(t)})),e(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on("touchend.bs.carousel",(function(t){return a(t)})))}},i._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},i._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},i._getItemByDirection=function(t,e){var i="next"===t,a="prev"===t,n=this._getItemIndex(e),s=this._items.length-1;if((a&&0===n||i&&n===s)&&!this._config.wrap)return e;var r=(n+("prev"===t?-1:1))%this._items.length;return-1===r?this._items[this._items.length-1]:this._items[r]},i._triggerSlideEvent=function(t,i){var a=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(".active.carousel-item")),s=e.Event("slide.bs.carousel",{relatedTarget:t,direction:i,from:n,to:a});return e(this._element).trigger(s),s},i._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));e(i).removeClass("active");var a=this._indicatorsElement.children[this._getItemIndex(t)];a&&e(a).addClass("active")}},i._slide=function(t,i){var a,n,r,o=this,l=this._element.querySelector(".active.carousel-item"),h=this._getItemIndex(l),u=i||l&&this._getItemByDirection(t,l),c=this._getItemIndex(u),d=Boolean(this._interval);if("next"===t?(a="carousel-item-left",n="carousel-item-next",r="left"):(a="carousel-item-right",n="carousel-item-prev",r="right"),u&&e(u).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(u,r).isDefaultPrevented()&&l&&u){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(u);var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:r,from:h,to:c});if(e(this._element).hasClass("slide")){e(u).addClass(n),s.reflow(u),e(l).addClass(a),e(u).addClass(a);var f=parseInt(u.getAttribute("data-interval"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var m=s.getTransitionDurationFromElement(l);e(l).one(s.TRANSITION_END,(function(){e(u).removeClass(a+" "+n).addClass("active"),e(l).removeClass("active "+n+" "+a),o._isSliding=!1,setTimeout((function(){return e(o._element).trigger(p)}),0)})).emulateTransitionEnd(m)}else e(l).removeClass("active"),e(u).addClass("active"),this._isSliding=!1,e(this._element).trigger(p);d&&this.cycle()}},t._jQueryInterface=function(i){return this.each((function(){var a=e(this).data("bs.carousel"),s=n({},p,e(this).data());"object"==typeof i&&(s=n({},s,i));var r="string"==typeof i?i:s.slide;if(a||(a=new t(this,s),e(this).data("bs.carousel",a)),"number"==typeof i)a.to(i);else if("string"==typeof r){if(void 0===a[r])throw new TypeError('No method named "'+r+'"');a[r]()}else s.interval&&s.ride&&(a.pause(),a.cycle())}))},t._dataApiClickHandler=function(i){var a=s.getSelectorFromElement(this);if(a){var r=e(a)[0];if(r&&e(r).hasClass("carousel")){var o=n({},e(r).data(),e(this).data()),l=this.getAttribute("data-slide-to");l&&(o.interval=!1),t._jQueryInterface.call(e(r),o),l&&e(r).data("bs.carousel").to(l),i.preventDefault()}}},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return p}}]),t}();e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",g._dataApiClickHandler),e(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),i=0,a=t.length;i<a;i++){var n=e(t[i]);g._jQueryInterface.call(n,n.data())}})),e.fn[c]=g._jQueryInterface,e.fn[c].Constructor=g,e.fn[c].noConflict=function(){return e.fn[c]=d,g._jQueryInterface};var y="collapse",k=e.fn[y],v={toggle:!0,parent:""},b={toggle:"boolean",parent:"(string|element)"},w=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),a=0,n=i.length;a<n;a++){var r=i[a],o=s.getSelectorFromElement(r),l=[].slice.call(document.querySelectorAll(o)).filter((function(e){return e===t}));null!==o&&l.length>0&&(this._selector=o,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var i=t.prototype;return i.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},i.show=function(){var i,a,n=this;if(!(this._isTransitioning||e(this._element).hasClass("show")||(this._parent&&0===(i=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof n._config.parent?t.getAttribute("data-parent")===n._config.parent:t.classList.contains("collapse")}))).length&&(i=null),i&&(a=e(i).not(this._selector).data("bs.collapse"))&&a._isTransitioning))){var r=e.Event("show.bs.collapse");if(e(this._element).trigger(r),!r.isDefaultPrevented()){i&&(t._jQueryInterface.call(e(i).not(this._selector),"hide"),a||e(i).data("bs.collapse",null));var o=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[o]=0,this._triggerArray.length&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var l="scroll"+(o[0].toUpperCase()+o.slice(1)),h=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,(function(){e(n._element).removeClass("collapsing").addClass("collapse show"),n._element.style[o]="",n.setTransitioning(!1),e(n._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(h),this._element.style[o]=this._element[l]+"px"}}},i.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var i=e.Event("hide.bs.collapse");if(e(this._element).trigger(i),!i.isDefaultPrevented()){var a=this._getDimension();this._element.style[a]=this._element.getBoundingClientRect()[a]+"px",s.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse show");var n=this._triggerArray.length;if(n>0)for(var r=0;r<n;r++){var o=this._triggerArray[r],l=s.getSelectorFromElement(o);null!==l&&(e([].slice.call(document.querySelectorAll(l))).hasClass("show")||e(o).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[a]="";var h=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(h)}}},i.setTransitioning=function(t){this._isTransitioning=t},i.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},i._getConfig=function(t){return(t=n({},v,t)).toggle=Boolean(t.toggle),s.typeCheckConfig(y,t,b),t},i._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},i._getParent=function(){var i,a=this;s.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var n='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(i.querySelectorAll(n));return e(r).each((function(e,i){a._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])})),i},i._addAriaAndCollapsedClass=function(t,i){var a=e(t).hasClass("show");i.length&&e(i).toggleClass("collapsed",!a).attr("aria-expanded",a)},t._getTargetFromElement=function(t){var e=s.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(i){return this.each((function(){var a=e(this),s=a.data("bs.collapse"),r=n({},v,a.data(),"object"==typeof i&&i?i:{});if(!s&&r.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(r.toggle=!1),s||(s=new t(this,r),a.data("bs.collapse",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return v}}]),t}();e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),a=s.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(a));e(n).each((function(){var t=e(this),a=t.data("bs.collapse")?"toggle":i.data();w._jQueryInterface.call(t,a)}))})),e.fn[y]=w._jQueryInterface,e.fn[y].Constructor=w,e.fn[y].noConflict=function(){return e.fn[y]=k,w._jQueryInterface};var S="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,x=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(S&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}(),T=S&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),x))}};function A(t){return t&&"[object Function]"==={}.toString.call(t)}function E(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function C(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function M(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=E(t),i=e.overflow,a=e.overflowX,n=e.overflowY;return/(auto|scroll|overlay)/.test(i+n+a)?t:M(C(t))}function _(t){return t&&t.referenceNode?t.referenceNode:t}var B=S&&!(!window.MSInputMethodContext||!document.documentMode),I=S&&/MSIE 10/.test(navigator.userAgent);function D(t){return 11===t?B:10===t?I:B||I}function P(t){if(!t)return document.documentElement;for(var e=D(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var a=i&&i.nodeName;return a&&"BODY"!==a&&"HTML"!==a?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===E(i,"position")?P(i):i:t?t.ownerDocument.documentElement:document.documentElement}function L(t){return null!==t.parentNode?L(t.parentNode):t}function O(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,a=i?t:e,n=i?e:t,s=document.createRange();s.setStart(a,0),s.setEnd(n,0);var r,o,l=s.commonAncestorContainer;if(t!==l&&e!==l||a.contains(n))return"BODY"===(o=(r=l).nodeName)||"HTML"!==o&&P(r.firstElementChild)!==r?P(l):l;var h=L(t);return h.host?O(h.host,e):O(t,L(e).host)}function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i="top"===e?"scrollTop":"scrollLeft",a=t.nodeName;if("BODY"===a||"HTML"===a){var n=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||n;return s[i]}return t[i]}function G(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=N(e,"top"),n=N(e,"left"),s=i?-1:1;return t.top+=a*s,t.bottom+=a*s,t.left+=n*s,t.right+=n*s,t}function R(t,e){var i="x"===e?"Left":"Top",a="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"])+parseFloat(t["border"+a+"Width"])}function F(t,e,i,a){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],D(10)?parseInt(i["offset"+t])+parseInt(a["margin"+("Height"===t?"Top":"Left")])+parseInt(a["margin"+("Height"===t?"Bottom":"Right")]):0)}function Q(t){var e=t.body,i=t.documentElement,a=D(10)&&getComputedStyle(i);return{height:F("Height",e,i,a),width:F("Width",e,i,a)}}var U=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},H=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),Y=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t};function z(t){return W({},t,{right:t.left+t.width,bottom:t.top+t.height})}function V(t){var e={};try{if(D(10)){e=t.getBoundingClientRect();var i=N(t,"top"),a=N(t,"left");e.top+=i,e.left+=a,e.bottom+=i,e.right+=a}else e=t.getBoundingClientRect()}catch(t){}var n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?Q(t.ownerDocument):{},r=s.width||t.clientWidth||n.width,o=s.height||t.clientHeight||n.height,l=t.offsetWidth-r,h=t.offsetHeight-o;if(l||h){var u=E(t);l-=R(u,"x"),h-=R(u,"y"),n.width-=l,n.height-=h}return z(n)}function X(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=D(10),n="HTML"===e.nodeName,s=V(t),r=V(e),o=M(t),l=E(e),h=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);i&&n&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var c=z({top:s.top-r.top-h,left:s.left-r.left-u,width:s.width,height:s.height});if(c.marginTop=0,c.marginLeft=0,!a&&n){var d=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);c.top-=h-d,c.bottom-=h-d,c.left-=u-p,c.right-=u-p,c.marginTop=d,c.marginLeft=p}return(a&&!i?e.contains(o):e===o&&"BODY"!==o.nodeName)&&(c=G(c,e)),c}function j(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,a=X(t,i),n=Math.max(i.clientWidth,window.innerWidth||0),s=Math.max(i.clientHeight,window.innerHeight||0),r=e?0:N(i),o=e?0:N(i,"left"),l={top:r-a.top+a.marginTop,left:o-a.left+a.marginLeft,width:n,height:s};return z(l)}function q(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===E(t,"position"))return!0;var i=C(t);return!!i&&q(i)}function K(t){if(!t||!t.parentElement||D())return document.documentElement;for(var e=t.parentElement;e&&"none"===E(e,"transform");)e=e.parentElement;return e||document.documentElement}function J(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},r=n?K(t):O(t,_(e));if("viewport"===a)s=j(r,n);else{var o=void 0;"scrollParent"===a?"BODY"===(o=M(C(e))).nodeName&&(o=t.ownerDocument.documentElement):o="window"===a?t.ownerDocument.documentElement:a;var l=X(o,r,n);if("HTML"!==o.nodeName||q(r))s=l;else{var h=Q(t.ownerDocument),u=h.height,c=h.width;s.top+=l.top-l.marginTop,s.bottom=u+l.top,s.left+=l.left-l.marginLeft,s.right=c+l.left}}var d="number"==typeof(i=i||0);return s.left+=d?i:i.left||0,s.top+=d?i:i.top||0,s.right-=d?i:i.right||0,s.bottom-=d?i:i.bottom||0,s}function Z(t){return t.width*t.height}function $(t,e,i,a,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var r=J(i,a,s,n),o={top:{width:r.width,height:e.top-r.top},right:{width:r.right-e.right,height:r.height},bottom:{width:r.width,height:r.bottom-e.bottom},left:{width:e.left-r.left,height:r.height}},l=Object.keys(o).map((function(t){return W({key:t},o[t],{area:Z(o[t])})})).sort((function(t,e){return e.area-t.area})),h=l.filter((function(t){var e=t.width,a=t.height;return e>=i.clientWidth&&a>=i.clientHeight})),u=h.length>0?h[0].key:l[0].key,c=t.split("-")[1];return u+(c?"-"+c:"")}function tt(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=a?K(e):O(e,_(i));return X(i,n,a)}function et(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),a=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+a,height:t.offsetHeight+i}}function it(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function at(t,e,i){i=i.split("-")[0];var a=et(t),n={width:a.width,height:a.height},s=-1!==["right","left"].indexOf(i),r=s?"top":"left",o=s?"left":"top",l=s?"height":"width",h=s?"width":"height";return n[r]=e[r]+e[l]/2-a[l]/2,n[o]=i===o?e[o]-a[h]:e[it(o)],n}function nt(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function st(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===i}));var a=nt(t,(function(t){return t[e]===i}));return t.indexOf(a)}(t,"name",i))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&A(i)&&(e.offsets.popper=z(e.offsets.popper),e.offsets.reference=z(e.offsets.reference),e=i(e,t))})),e}function rt(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=tt(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=$(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=at(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=st(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function ot(t,e){return t.some((function(t){var i=t.name;return t.enabled&&i===e}))}function lt(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),a=0;a<e.length;a++){var n=e[a],s=n?""+n+i:t;if(void 0!==document.body.style[s])return s}return null}function ht(){return this.state.isDestroyed=!0,ot(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[lt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ut(t){var e=t.ownerDocument;return e?e.defaultView:window}function ct(){this.state.eventsEnabled||(this.state=function(t,e,i,a){i.updateBound=a,ut(t).addEventListener("resize",i.updateBound,{passive:!0});var n=M(t);return function t(e,i,a,n){var s="BODY"===e.nodeName,r=s?e.ownerDocument.defaultView:e;r.addEventListener(i,a,{passive:!0}),s||t(M(r.parentNode),i,a,n),n.push(r)}(n,"scroll",i.updateBound,i.scrollParents),i.scrollElement=n,i.eventsEnabled=!0,i}(this.reference,this.options,this.state,this.scheduleUpdate))}function dt(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,ut(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function pt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function ft(t,e){Object.keys(e).forEach((function(i){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&pt(e[i])&&(a="px"),t.style[i]=e[i]+a}))}var mt=S&&/Firefox/i.test(navigator.userAgent);function gt(t,e,i){var a=nt(t,(function(t){return t.name===e})),n=!!a&&t.some((function(t){return t.name===i&&t.enabled&&t.order<a.order}));if(!n){var s="`"+e+"`",r="`"+i+"`";console.warn(r+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return n}var yt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],kt=yt.slice(3);function vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=kt.indexOf(t),a=kt.slice(i+1).concat(kt.slice(0,i));return e?a.reverse():a}var bt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],a=e.split("-")[1];if(a){var n=t.offsets,s=n.reference,r=n.popper,o=-1!==["bottom","top"].indexOf(i),l=o?"left":"top",h=o?"width":"height",u={start:Y({},l,s[l]),end:Y({},l,s[l]+s[h]-r[h])};t.offsets.popper=W({},r,u[a])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i,a=e.offset,n=t.placement,s=t.offsets,r=s.popper,o=s.reference,l=n.split("-")[0];return i=pt(+a)?[+a,0]:function(t,e,i,a){var n=[0,0],s=-1!==["right","left"].indexOf(a),r=t.split(/(\+|\-)/).map((function(t){return t.trim()})),o=r.indexOf(nt(r,(function(t){return-1!==t.search(/,|\s/)})));r[o]&&-1===r[o].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,h=-1!==o?[r.slice(0,o).concat([r[o].split(l)[0]]),[r[o].split(l)[1]].concat(r.slice(o+1))]:[r];return(h=h.map((function(t,a){var n=(1===a?!s:s)?"height":"width",r=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,i,a){var n=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+n[1],r=n[2];if(!s)return t;if(0===r.indexOf("%")){var o=void 0;switch(r){case"%p":o=i;break;case"%":case"%r":default:o=a}return z(o)[e]/100*s}return"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*s:s}(t,n,e,i)}))}))).forEach((function(t,e){t.forEach((function(i,a){pt(i)&&(n[e]+=i*("-"===t[a-1]?-1:1))}))})),n}(a,r,o,l),"left"===l?(r.top+=i[0],r.left-=i[1]):"right"===l?(r.top+=i[0],r.left+=i[1]):"top"===l?(r.left+=i[0],r.top-=i[1]):"bottom"===l&&(r.left+=i[0],r.top+=i[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||P(t.instance.popper);t.instance.reference===i&&(i=P(i));var a=lt("transform"),n=t.instance.popper.style,s=n.top,r=n.left,o=n[a];n.top="",n.left="",n[a]="";var l=J(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);n.top=s,n.left=r,n[a]=o,e.boundaries=l;var h=e.priority,u=t.offsets.popper,c={primary:function(t){var i=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(u[t],l[t])),Y({},t,i)},secondary:function(t){var i="right"===t?"left":"top",a=u[i];return u[t]>l[t]&&!e.escapeWithReference&&(a=Math.min(u[i],l[t]-("right"===t?u.width:u.height))),Y({},i,a)}};return h.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=W({},u,c[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,a=e.reference,n=t.placement.split("-")[0],s=Math.floor,r=-1!==["top","bottom"].indexOf(n),o=r?"right":"bottom",l=r?"left":"top",h=r?"width":"height";return i[o]<s(a[l])&&(t.offsets.popper[l]=s(a[l])-i[h]),i[l]>s(a[o])&&(t.offsets.popper[l]=s(a[o])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!gt(t.instance.modifiers,"arrow","keepTogether"))return t;var a=e.element;if("string"==typeof a){if(!(a=t.instance.popper.querySelector(a)))return t}else if(!t.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var n=t.placement.split("-")[0],s=t.offsets,r=s.popper,o=s.reference,l=-1!==["left","right"].indexOf(n),h=l?"height":"width",u=l?"Top":"Left",c=u.toLowerCase(),d=l?"left":"top",p=l?"bottom":"right",f=et(a)[h];o[p]-f<r[c]&&(t.offsets.popper[c]-=r[c]-(o[p]-f)),o[c]+f>r[p]&&(t.offsets.popper[c]+=o[c]+f-r[p]),t.offsets.popper=z(t.offsets.popper);var m=o[c]+o[h]/2-f/2,g=E(t.instance.popper),y=parseFloat(g["margin"+u]),k=parseFloat(g["border"+u+"Width"]),v=m-t.offsets.popper[c]-y-k;return v=Math.max(Math.min(r[h]-f,v),0),t.arrowElement=a,t.offsets.arrow=(Y(i={},c,Math.round(v)),Y(i,d,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(ot(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=J(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),a=t.placement.split("-")[0],n=it(a),s=t.placement.split("-")[1]||"",r=[];switch(e.behavior){case"flip":r=[a,n];break;case"clockwise":r=vt(a);break;case"counterclockwise":r=vt(a,!0);break;default:r=e.behavior}return r.forEach((function(o,l){if(a!==o||r.length===l+1)return t;a=t.placement.split("-")[0],n=it(a);var h=t.offsets.popper,u=t.offsets.reference,c=Math.floor,d="left"===a&&c(h.right)>c(u.left)||"right"===a&&c(h.left)<c(u.right)||"top"===a&&c(h.bottom)>c(u.top)||"bottom"===a&&c(h.top)<c(u.bottom),p=c(h.left)<c(i.left),f=c(h.right)>c(i.right),m=c(h.top)<c(i.top),g=c(h.bottom)>c(i.bottom),y="left"===a&&p||"right"===a&&f||"top"===a&&m||"bottom"===a&&g,k=-1!==["top","bottom"].indexOf(a),v=!!e.flipVariations&&(k&&"start"===s&&p||k&&"end"===s&&f||!k&&"start"===s&&m||!k&&"end"===s&&g),b=!!e.flipVariationsByContent&&(k&&"start"===s&&f||k&&"end"===s&&p||!k&&"start"===s&&g||!k&&"end"===s&&m),w=v||b;(d||y||w)&&(t.flipped=!0,(d||y)&&(a=r[l+1]),w&&(s=function(t){return"end"===t?"start":"start"===t?"end":t}(s)),t.placement=a+(s?"-"+s:""),t.offsets.popper=W({},t.offsets.popper,at(t.instance.popper,t.offsets.reference,t.placement)),t=st(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],a=t.offsets,n=a.popper,s=a.reference,r=-1!==["left","right"].indexOf(i),o=-1===["top","left"].indexOf(i);return n[r?"left":"top"]=s[i]-(o?n[r?"width":"height"]:0),t.placement=it(e),t.offsets.popper=z(n),t}},hide:{order:800,enabled:!0,fn:function(t){if(!gt(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=nt(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,a=e.y,n=t.offsets.popper,s=nt(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r,o,l=void 0!==s?s:e.gpuAcceleration,h=P(t.instance.popper),u=V(h),c={position:n.position},d=function(t,e){var i=t.offsets,a=i.popper,n=i.reference,s=Math.round,r=Math.floor,o=function(t){return t},l=s(n.width),h=s(a.width),u=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),d=e?u||c||l%2==h%2?s:r:o,p=e?s:o;return{left:d(l%2==1&&h%2==1&&!c&&e?a.left-1:a.left),top:p(a.top),bottom:p(a.bottom),right:d(a.right)}}(t,window.devicePixelRatio<2||!mt),p="bottom"===i?"top":"bottom",f="right"===a?"left":"right",m=lt("transform");if(o="bottom"===p?"HTML"===h.nodeName?-h.clientHeight+d.bottom:-u.height+d.bottom:d.top,r="right"===f?"HTML"===h.nodeName?-h.clientWidth+d.right:-u.width+d.right:d.left,l&&m)c[m]="translate3d("+r+"px, "+o+"px, 0)",c[p]=0,c[f]=0,c.willChange="transform";else{var g="bottom"===p?-1:1,y="right"===f?-1:1;c[p]=o*g,c[f]=r*y,c.willChange=p+", "+f}var k={"x-placement":t.placement};return t.attributes=W({},k,t.attributes),t.styles=W({},c,t.styles),t.arrowStyles=W({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return ft(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach((function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&ft(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,a,n){var s=tt(n,e,t,i.positionFixed),r=$(i.placement,s,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",r),ft(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},wt=function(){function t(e,i){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=T(this.update.bind(this)),this.options=W({},t.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(W({},t.Defaults.modifiers,n.modifiers)).forEach((function(e){a.options.modifiers[e]=W({},t.Defaults.modifiers[e]||{},n.modifiers?n.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return W({name:t},a.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&A(t.onLoad)&&t.onLoad(a.reference,a.popper,a.options,t,a.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return H(t,[{key:"update",value:function(){return rt.call(this)}},{key:"destroy",value:function(){return ht.call(this)}},{key:"enableEventListeners",value:function(){return ct.call(this)}},{key:"disableEventListeners",value:function(){return dt.call(this)}}]),t}();wt.Utils=("undefined"!=typeof window?window:global).PopperUtils,wt.placements=yt,wt.Defaults=bt;var St="dropdown",xt=e.fn[St],Tt=new RegExp("38|40|27"),At={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Et={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Ct=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var i=e(this._menu).hasClass("show");t._clearMenus(),i||this.show(!0)}},i.show=function(i){if(void 0===i&&(i=!1),!(this._element.disabled||e(this._element).hasClass("disabled")||e(this._menu).hasClass("show"))){var a={relatedTarget:this._element},n=e.Event("show.bs.dropdown",a),r=t._getParentFromElement(this._element);if(e(r).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&i){if(void 0===wt)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var o=this._element;"parent"===this._config.reference?o=r:s.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(r).addClass("position-static"),this._popper=new wt(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(r).closest(".navbar-nav").length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(r).toggleClass("show").trigger(e.Event("shown.bs.dropdown",a))}}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")&&e(this._menu).hasClass("show")){var i={relatedTarget:this._element},a=e.Event("hide.bs.dropdown",i),n=t._getParentFromElement(this._element);e(n).trigger(a),a.isDefaultPrevented()||(this._popper&&this._popper.destroy(),e(this._menu).toggleClass("show"),e(n).toggleClass("show").trigger(e.Event("hidden.bs.dropdown",i)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=n({},this.constructor.Default,e(this._element).data(),t),s.typeCheckConfig(St,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),i="bottom-start";return t.hasClass("dropup")?i=e(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?i="right-start":t.hasClass("dropleft")?i="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(i="bottom-end"),i},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=n({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),n({},t,this._config.popperConfig)},t._jQueryInterface=function(i){return this.each((function(){var a=e(this).data("bs.dropdown");if(a||(a=new t(this,"object"==typeof i?i:null),e(this).data("bs.dropdown",a)),"string"==typeof i){if(void 0===a[i])throw new TypeError('No method named "'+i+'"');a[i]()}}))},t._clearMenus=function(i){if(!i||3!==i.which&&("keyup"!==i.type||9===i.which))for(var a=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),n=0,s=a.length;n<s;n++){var r=t._getParentFromElement(a[n]),o=e(a[n]).data("bs.dropdown"),l={relatedTarget:a[n]};if(i&&"click"===i.type&&(l.clickEvent=i),o){var h=o._menu;if(e(r).hasClass("show")&&!(i&&("click"===i.type&&/input|textarea/i.test(i.target.tagName)||"keyup"===i.type&&9===i.which)&&e.contains(r,i.target))){var u=e.Event("hide.bs.dropdown",l);e(r).trigger(u),u.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),a[n].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),e(h).removeClass("show"),e(r).removeClass("show").trigger(e.Event("hidden.bs.dropdown",l)))}}}},t._getParentFromElement=function(t){var e,i=s.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(i){if(!(/input|textarea/i.test(i.target.tagName)?32===i.which||27!==i.which&&(40!==i.which&&38!==i.which||e(i.target).closest(".dropdown-menu").length):!Tt.test(i.which))&&!this.disabled&&!e(this).hasClass("disabled")){var a=t._getParentFromElement(this),n=e(a).hasClass("show");if(n||27!==i.which){if(i.preventDefault(),i.stopPropagation(),!n||n&&(27===i.which||32===i.which))return 27===i.which&&e(a.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void e(this).trigger("click");var s=[].slice.call(a.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return e(t).is(":visible")}));if(0!==s.length){var r=s.indexOf(i.target);38===i.which&&r>0&&r--,40===i.which&&r<s.length-1&&r++,r<0&&(r=0),s[r].focus()}}}},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return At}},{key:"DefaultType",get:function(){return Et}}]),t}();e(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',Ct._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",Ct._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",Ct._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),Ct._jQueryInterface.call(e(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),e.fn[St]=Ct._jQueryInterface,e.fn[St].Constructor=Ct,e.fn[St].noConflict=function(){return e.fn[St]=xt,Ct._jQueryInterface};var Mt=e.fn.modal,_t={backdrop:!0,keyboard:!0,focus:!0,show:!0},Bt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},It=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var i=t.prototype;return i.toggle=function(t){return this._isShown?this.hide():this.show(t)},i.show=function(t){var i=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var a=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(a),this._isShown||a.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return i.hide(t)})),e(this._dialog).on("mousedown.dismiss.bs.modal",(function(){e(i._element).one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return i._showElement(t)})))}},i.hide=function(t){var i=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var a=e.Event("hide.bs.modal");if(e(this._element).trigger(a),this._isShown&&!a.isDefaultPrevented()){this._isShown=!1;var n=e(this._element).hasClass("fade");if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),n){var r=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,(function(t){return i._hideModal(t)})).emulateTransitionEnd(r)}else this._hideModal()}}},i.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off("focusin.bs.modal"),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(t){return t=n({},_t,t),s.typeCheckConfig("modal",t,Bt),t},i._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var i=e.Event("hidePrevented.bs.modal");if(e(this._element).trigger(i),i.defaultPrevented)return;var a=this._element.scrollHeight>document.documentElement.clientHeight;a||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var n=s.getTransitionDurationFromElement(this._dialog);e(this._element).off(s.TRANSITION_END),e(this._element).one(s.TRANSITION_END,(function(){t._element.classList.remove("modal-static"),a||e(t._element).one(s.TRANSITION_END,(function(){t._element.style.overflowY=""})).emulateTransitionEnd(t._element,n)})).emulateTransitionEnd(n),this._element.focus()}else this.hide()},i._showElement=function(t){var i=this,a=e(this._element).hasClass("fade"),n=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),e(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,a&&s.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t}),o=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(r)};if(a){var l=s.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(s.TRANSITION_END,o).emulateTransitionEnd(l)}else o()},i._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()}))},i._setEscapeEvent=function(){var t=this;this._isShown?e(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},i._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):e(window).off("resize.bs.modal")},i._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")}))},i._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(t){var i=this,a=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",a&&this._backdrop.classList.add(a),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",(function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&i._triggerBackdropTransition()})),a&&s.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!a)return void t();var n=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var r=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass("fade")){var o=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},i._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},i._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},i._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),a=[].slice.call(document.querySelectorAll(".sticky-top"));e(i).each((function(i,a){var n=a.style.paddingRight,s=e(a).css("padding-right");e(a).data("padding-right",n).css("padding-right",parseFloat(s)+t._scrollbarWidth+"px")})),e(a).each((function(i,a){var n=a.style.marginRight,s=e(a).css("margin-right");e(a).data("margin-right",n).css("margin-right",parseFloat(s)-t._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,s=e(document.body).css("padding-right");e(document.body).data("padding-right",n).css("padding-right",parseFloat(s)+this._scrollbarWidth+"px")}e(document.body).addClass("modal-open")},i._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));e(t).each((function(t,i){var a=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=a||""}));var i=[].slice.call(document.querySelectorAll(".sticky-top"));e(i).each((function(t,i){var a=e(i).data("margin-right");void 0!==a&&e(i).css("margin-right",a).removeData("margin-right")}));var a=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=a||""},i._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(i,a){return this.each((function(){var s=e(this).data("bs.modal"),r=n({},_t,e(this).data(),"object"==typeof i&&i?i:{});if(s||(s=new t(this,r),e(this).data("bs.modal",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i](a)}else r.show&&s.show(a)}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return _t}}]),t}();e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var i,a=this,r=s.getSelectorFromElement(this);r&&(i=document.querySelector(r));var o=e(i).data("bs.modal")?"toggle":n({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=e(i).one("show.bs.modal",(function(t){t.isDefaultPrevented()||l.one("hidden.bs.modal",(function(){e(a).is(":visible")&&a.focus()}))}));It._jQueryInterface.call(e(i),o,this)})),e.fn.modal=It._jQueryInterface,e.fn.modal.Constructor=It,e.fn.modal.noConflict=function(){return e.fn.modal=Mt,It._jQueryInterface};var Dt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Pt=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Ot(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var a=(new window.DOMParser).parseFromString(t,"text/html"),n=Object.keys(e),s=[].slice.call(a.body.querySelectorAll("*")),r=function(t,i){var a=s[t],r=a.nodeName.toLowerCase();if(-1===n.indexOf(a.nodeName.toLowerCase()))return a.parentNode.removeChild(a),"continue";var o=[].slice.call(a.attributes),l=[].concat(e["*"]||[],e[r]||[]);o.forEach((function(t){(function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===Dt.indexOf(i)||Boolean(t.nodeValue.match(Pt)||t.nodeValue.match(Lt));for(var a=e.filter((function(t){return t instanceof RegExp})),n=0,s=a.length;n<s;n++)if(i.match(a[n]))return!0;return!1})(t,l)||a.removeAttribute(t.nodeName)}))},o=0,l=s.length;o<l;o++)r(o);return a.body.innerHTML}var Nt="tooltip",Gt=e.fn[Nt],Rt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ft=["sanitize","whiteList","sanitizeFn"],Qt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Ut={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ht={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Yt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Wt=function(){function t(t,e){if(void 0===wt)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,a=e(t.currentTarget).data(i);a||(a=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,a)),a._activeTrigger.click=!a._activeTrigger.click,a._isWithActiveTrigger()?a._enter(null,a):a._leave(null,a)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var a=s.findShadowRoot(this.element),n=e.contains(null!==a?a:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!n)return;var r=this.getTipElement(),o=s.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&e(r).addClass("fade");var l="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var u=this._getContainer();e(r).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(r).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new wt(this.element,r,this._getPopperConfig(h)),e(r).addClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var c=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===i&&t._leave(null,t)};if(e(this.tip).hasClass("fade")){var d=s.getTransitionDurationFromElement(this.tip);e(this.tip).one(s.TRANSITION_END,c).emulateTransitionEnd(d)}else c()}},i.hide=function(t){var i=this,a=this.getTipElement(),n=e.Event(this.constructor.Event.HIDE),r=function(){"show"!==i._hoverState&&a.parentNode&&a.parentNode.removeChild(a),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(n),!n.isDefaultPrevented()){if(e(a).removeClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,e(this.tip).hasClass("fade")){var o=s.getTransitionDurationFromElement(a);e(a).one(s.TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(".tooltip-inner")),this.getTitle()),e(t).removeClass("fade show")},i.setElementContent=function(t,i){"object"!=typeof i||!i.nodeType&&!i.jquery?this.config.html?(this.config.sanitize&&(i=Ot(i,this.config.whiteList,this.config.sanitizeFn)),t.html(i)):t.text(i):this.config.html?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getPopperConfig=function(t){var e=this;return n({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=n({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:s.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return Ut[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==i){var a="hover"===i?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,n="hover"===i?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(a,t.config.selector,(function(e){return t._enter(e)})).on(n,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},e(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=n({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,i){var a=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(a))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(a,i)),t&&(i._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(i.getTipElement()).hasClass("show")||"show"===i._hoverState?i._hoverState="show":(clearTimeout(i._timeout),i._hoverState="show",i.config.delay&&i.config.delay.show?i._timeout=setTimeout((function(){"show"===i._hoverState&&i.show()}),i.config.delay.show):i.show())},i._leave=function(t,i){var a=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(a))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(a,i)),t&&(i._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState="out",i.config.delay&&i.config.delay.hide?i._timeout=setTimeout((function(){"out"===i._hoverState&&i.hide()}),i.config.delay.hide):i.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var i=e(this.element).data();return Object.keys(i).forEach((function(t){-1!==Ft.indexOf(t)&&delete i[t]})),"number"==typeof(t=n({},this.constructor.Default,i,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),s.typeCheckConfig(Nt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Ot(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(Rt);null!==i&&i.length&&t.removeClass(i.join(""))},i._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},t._jQueryInterface=function(i){return this.each((function(){var a=e(this).data("bs.tooltip"),n="object"==typeof i&&i;if((a||!/dispose|hide/.test(i))&&(a||(a=new t(this,n),e(this).data("bs.tooltip",a)),"string"==typeof i)){if(void 0===a[i])throw new TypeError('No method named "'+i+'"');a[i]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return Ht}},{key:"NAME",get:function(){return Nt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Yt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Qt}}]),t}();e.fn[Nt]=Wt._jQueryInterface,e.fn[Nt].Constructor=Wt,e.fn[Nt].noConflict=function(){return e.fn[Nt]=Gt,Wt._jQueryInterface};var zt="popover",Vt=e.fn[zt],Xt=new RegExp("(^|\\s)bs-popover\\S+","g"),jt=n({},Wt.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),qt=n({},Wt.DefaultType,{content:"(string|element|function)"}),Kt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Jt=function(t){var i,n;function s(){return t.apply(this,arguments)||this}n=t,(i=s).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var r=s.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},r.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},r.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(".popover-body"),i),t.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(Xt);null!==i&&i.length>0&&t.removeClass(i.join(""))},s._jQueryInterface=function(t){return this.each((function(){var i=e(this).data("bs.popover"),a="object"==typeof t?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new s(this,a),e(this).data("bs.popover",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}}))},a(s,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return jt}},{key:"NAME",get:function(){return zt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Kt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return qt}}]),s}(Wt);e.fn[zt]=Jt._jQueryInterface,e.fn[zt].Constructor=Jt,e.fn[zt].noConflict=function(){return e.fn[zt]=Vt,Jt._jQueryInterface};var Zt="scrollspy",$t=e.fn[Zt],te={offset:10,method:"auto",target:""},ee={offset:"number",method:"string",target:"(string|element)"},ie=function(){function t(t,i){var a=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return a._process(t)})),this.refresh(),this._process()}var i=t.prototype;return i.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?"offset":"position",a="auto"===this._config.method?i:this._config.method,n="position"===a?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var i,r=s.getSelectorFromElement(t);if(r&&(i=document.querySelector(r)),i){var o=i.getBoundingClientRect();if(o.width||o.height)return[e(i)[a]().top+n,r]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},i.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i._getConfig=function(t){if("string"!=typeof(t=n({},te,"object"==typeof t&&t?t:{})).target&&s.isElement(t.target)){var i=e(t.target).attr("id");i||(i=s.getUID(Zt),e(t.target).attr("id",i)),t.target="#"+i}return s.typeCheckConfig(Zt,t,ee),t},i._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},i._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},i._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){var a=this._targets[this._targets.length-1];this._activeTarget!==a&&this._activate(a)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&(void 0===this._offsets[n+1]||t<this._offsets[n+1])&&this._activate(this._targets[n])}},i._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),a=e([].slice.call(document.querySelectorAll(i.join(","))));a.hasClass("dropdown-item")?(a.closest(".dropdown").find(".dropdown-toggle").addClass("active"),a.addClass("active")):(a.addClass("active"),a.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),a.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),e(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},i._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(i){return this.each((function(){var a=e(this).data("bs.scrollspy");if(a||(a=new t(this,"object"==typeof i&&i),e(this).data("bs.scrollspy",a)),"string"==typeof i){if(void 0===a[i])throw new TypeError('No method named "'+i+'"');a[i]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"Default",get:function(){return te}}]),t}();e(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),i=t.length;i--;){var a=e(t[i]);ie._jQueryInterface.call(a,a.data())}})),e.fn[Zt]=ie._jQueryInterface,e.fn[Zt].Constructor=ie,e.fn[Zt].noConflict=function(){return e.fn[Zt]=$t,ie._jQueryInterface};var ae=e.fn.tab,ne=function(){function t(t){this._element=t}var i=t.prototype;return i.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var i,a,n=e(this._element).closest(".nav, .list-group")[0],r=s.getSelectorFromElement(this._element);if(n){var o="UL"===n.nodeName||"OL"===n.nodeName?"> li > .active":".active";a=(a=e.makeArray(e(n).find(o)))[a.length-1]}var l=e.Event("hide.bs.tab",{relatedTarget:this._element}),h=e.Event("show.bs.tab",{relatedTarget:a});if(a&&e(a).trigger(l),e(this._element).trigger(h),!h.isDefaultPrevented()&&!l.isDefaultPrevented()){r&&(i=document.querySelector(r)),this._activate(this._element,n);var u=function(){var i=e.Event("hidden.bs.tab",{relatedTarget:t._element}),n=e.Event("shown.bs.tab",{relatedTarget:a});e(a).trigger(i),e(t._element).trigger(n)};i?this._activate(i,i.parentNode,u):u()}}},i.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},i._activate=function(t,i,a){var n=this,r=(!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?e(i).children(".active"):e(i).find("> li > .active"))[0],o=a&&r&&e(r).hasClass("fade"),l=function(){return n._transitionComplete(t,r,a)};if(r&&o){var h=s.getTransitionDurationFromElement(r);e(r).removeClass("show").one(s.TRANSITION_END,l).emulateTransitionEnd(h)}else l()},i._transitionComplete=function(t,i,a){if(i){e(i).removeClass("active");var n=e(i.parentNode).find("> .dropdown-menu .active")[0];n&&e(n).removeClass("active"),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),s.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var r=e(t).closest(".dropdown")[0];if(r){var o=[].slice.call(r.querySelectorAll(".dropdown-toggle"));e(o).addClass("active")}t.setAttribute("aria-expanded",!0)}a&&a()},t._jQueryInterface=function(i){return this.each((function(){var a=e(this),n=a.data("bs.tab");if(n||(n=new t(this),a.data("bs.tab",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}}]),t}();e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),ne._jQueryInterface.call(e(this),"show")})),e.fn.tab=ne._jQueryInterface,e.fn.tab.Constructor=ne,e.fn.tab.noConflict=function(){return e.fn.tab=ae,ne._jQueryInterface};var se=e.fn.toast,re={animation:"boolean",autohide:"boolean",delay:"number"},oe={animation:!0,autohide:!0,delay:500},le=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var i=t.prototype;return i.show=function(){var t=this,i=e.Event("show.bs.toast");if(e(this._element).trigger(i),!i.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var a=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),e(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),s.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var n=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,a).emulateTransitionEnd(n)}else a()}},i.hide=function(){if(this._element.classList.contains("show")){var t=e.Event("hide.bs.toast");e(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},i.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),e(this._element).off("click.dismiss.bs.toast"),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},i._getConfig=function(t){return t=n({},oe,e(this._element).data(),"object"==typeof t&&t?t:{}),s.typeCheckConfig("toast",t,this.constructor.DefaultType),t},i._setListeners=function(){var t=this;e(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},i._close=function(){var t=this,i=function(){t._element.classList.add("hide"),e(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var a=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,i).emulateTransitionEnd(a)}else i()},i._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(i){return this.each((function(){var a=e(this),n=a.data("bs.toast");if(n||(n=new t(this,"object"==typeof i&&i),a.data("bs.toast",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i](this)}}))},a(t,null,[{key:"VERSION",get:function(){return"4.5.2"}},{key:"DefaultType",get:function(){return re}},{key:"Default",get:function(){return oe}}]),t}();e.fn.toast=le._jQueryInterface,e.fn.toast.Constructor=le,e.fn.toast.noConflict=function(){return e.fn.toast=se,le._jQueryInterface},t.Alert=l,t.Button=u,t.Carousel=g,t.Collapse=w,t.Dropdown=Ct,t.Modal=It,t.Popover=Jt,t.Scrollspy=ie,t.Tab=ne,t.Toast=le,t.Tooltip=Wt,t.Util=s,Object.defineProperty(t,"__esModule",{value:!0})})),function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function t(e,i,a){function n(r,o){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[r]={exports:{}};e[r][0].call(u.exports,(function(t){return n(e[r][1][t]||t)}),u,u.exports,t,e,i,a)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<a.length;r++)n(a[r]);return n}({1:[function(t,e,i){"use strict";var a=t("./utils"),n=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,r,o,l,h,u=[],c=0,d=t.length,p=d,f="string"!==a.getTypeOf(t);c<t.length;)p=d-c,n=f?(e=t[c++],i=c<d?t[c++]:0,c<d?t[c++]:0):(e=t.charCodeAt(c++),i=c<d?t.charCodeAt(c++):0,c<d?t.charCodeAt(c++):0),r=e>>2,o=(3&e)<<4|i>>4,l=1<p?(15&i)<<2|n>>6:64,h=2<p?63&n:64,u.push(s.charAt(r)+s.charAt(o)+s.charAt(l)+s.charAt(h));return u.join("")},i.decode=function(t){var e,i,a,r,o,l,h=0,u=0,c="data:";if(t.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===s.charAt(64)&&p--,t.charAt(t.length-2)===s.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|p):new Array(0|p);h<t.length;)e=s.indexOf(t.charAt(h++))<<2|(r=s.indexOf(t.charAt(h++)))>>4,i=(15&r)<<4|(o=s.indexOf(t.charAt(h++)))>>2,a=(3&o)<<6|(l=s.indexOf(t.charAt(h++))),d[u++]=e,64!==o&&(d[u++]=i),64!==l&&(d[u++]=a);return d}},{"./support":30,"./utils":32}],2:[function(t,e,i){"use strict";var a=t("./external"),n=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),r=t("./stream/Crc32Probe");function o(t,e,i,a,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=a,this.compressedContent=n}s=t("./stream/DataLengthProbe"),o.prototype={getContentWorker:function(){var t=new n(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new n(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(t,e,i){return t.pipe(new r).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){"use strict";var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(t){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,i){"use strict";var a=t("./utils"),n=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==a.getTypeOf(t)?function(t,e,i,a){var s=n,r=0+i;t^=-1;for(var o=0;o<r;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}(0|e,t,t.length):function(t,e,i,a){var s=n,r=0+i;t^=-1;for(var o=0;o<r;o++)t=t>>>8^s[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){"use strict";var a;a="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:a}},{lie:37}],7:[function(t,e,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=t("pako"),s=t("./utils"),r=t("./stream/GenericWorker"),o=a?"uint8array":"array";function l(t,e){r.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}i.magic="\b\0",s.inherits(l,r),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},l.prototype.flush=function(){r.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new l("Deflate",t)},i.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,i){"use strict";function a(t,e){var i,a="";for(i=0;i<e;i++)a+=String.fromCharCode(255&t),t>>>=8;return a}function n(t,e,i,n,r,u){var c,d,p=t.file,f=t.compression,m=u!==o.utf8encode,g=s.transformTo("string",u(p.name)),y=s.transformTo("string",o.utf8encode(p.name)),k=p.comment,v=s.transformTo("string",u(k)),b=s.transformTo("string",o.utf8encode(k)),w=y.length!==p.name.length,S=b.length!==k.length,x="",T="",A="",E=p.dir,C=p.date,M={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(M.crc32=t.crc32,M.compressedSize=t.compressedSize,M.uncompressedSize=t.uncompressedSize);var _=0;e&&(_|=8),m||!w&&!S||(_|=2048);var B=0,I=0;E&&(B|=16),"UNIX"===r?(I=798,B|=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16}(p.unixPermissions,E)):(I=20,B|=function(t){return 63&(t||0)}(p.dosPermissions)),c=C.getUTCHours(),c<<=6,c|=C.getUTCMinutes(),c<<=5,c|=C.getUTCSeconds()/2,d=C.getUTCFullYear()-1980,d<<=4,d|=C.getUTCMonth()+1,d<<=5,d|=C.getUTCDate(),w&&(T=a(1,1)+a(l(g),4)+y,x+="up"+a(T.length,2)+T),S&&(A=a(1,1)+a(l(v),4)+b,x+="uc"+a(A.length,2)+A);var D="";return D+="\n\0",D+=a(_,2),D+=f.magic,D+=a(c,2),D+=a(d,2),D+=a(M.crc32,4),D+=a(M.compressedSize,4),D+=a(M.uncompressedSize,4),D+=a(g.length,2),D+=a(x.length,2),{fileRecord:h.LOCAL_FILE_HEADER+D+g+x,dirRecord:h.CENTRAL_FILE_HEADER+a(I,2)+D+a(v.length,2)+"\0\0\0\0"+a(B,4)+a(n,4)+g+x+v}}var s=t("../utils"),r=t("../stream/GenericWorker"),o=t("../utf8"),l=t("../crc32"),h=t("../signature");function u(t,e,i,a){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=a,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(u,r),u.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-a-1))/i:100}}))},u.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=n(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=n(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:function(t){return h.DATA_DESCRIPTOR+a(t.crc32,4)+a(t.compressedSize,4)+a(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,n=function(t,e,i,n,r){var o=s.transformTo("string",r(n));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(t,2)+a(t,2)+a(e,4)+a(i,4)+a(o.length,2)+o}(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},u.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},u.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){"use strict";var a=t("../compressions"),n=t("./ZipFileWorker");i.generateWorker=function(t,e,i){var s=new n(e.streamFiles,i,e.platform,e.encodeFileName),r=0;try{t.forEach((function(t,i){r++;var n=function(t,e){var i=t||e,n=a[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,e.compression),o=i.options.compressionOptions||e.compressionOptions||{},l=i.dir,h=i.date;i._compressWorker(n,o).withStreamInfo("file",{name:t,dir:l,date:h,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(s)})),s.entriesCount=r}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,i){"use strict";function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new a;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.2.0",a.loadAsync=function(t,e){return(new a).loadAsync(t,e)},a.external=t("./external"),e.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,i){"use strict";var a=t("./utils"),n=t("./external"),s=t("./utf8"),r=(a=t("./utils"),t("./zipEntries")),o=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function h(t){return new n.Promise((function(e,i){var a=t.decompressed.getContentWorker().pipe(new o);a.on("error",(function(t){i(t)})).on("end",(function(){a.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var i=this;return e=a.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),l.isNode&&l.isStream(t)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var i=new r(e);return i.load(t),i})).then((function(t){var i=[n.Promise.resolve(t)],a=t.files;if(e.checkCRC32)for(var s=0;s<a.length;s++)i.push(h(a[s]));return n.Promise.all(i)})).then((function(t){for(var a=t.shift(),n=a.files,s=0;s<n.length;s++){var r=n[s];i.file(r.fileNameStr,r.decompressed,{binary:!0,optimizedBinaryString:!0,date:r.date,dir:r.dir,comment:r.fileCommentStr.length?r.fileCommentStr:null,unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions,createFolders:e.createFolders})}return a.zipComment.length&&(i.comment=a.zipComment),i}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,i){"use strict";var a=t("../utils"),n=t("../stream/GenericWorker");function s(t,e){n.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}a.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,i){"use strict";var a=t("readable-stream").Readable;function n(t,e,i){a.call(this,e),this._helper=t;var n=this;t.on("data",(function(t,e){n.push(t)||n._helper.pause(),i&&i(e)})).on("error",(function(t){n.emit("error",t)})).on("end",(function(){n.push(null)}))}t("../utils").inherits(n,a),n.prototype._read=function(){this._helper.resume()},e.exports=n},{"../utils":32,"readable-stream":16}],14:[function(t,e,i){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,i){"use strict";function a(t,e,i){var a,n=s.getTypeOf(e),o=s.extend(i||{},l);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=m(t)),o.createFolders&&(a=f(t))&&g.call(this,a,!0);var c="string"===n&&!1===o.binary&&!1===o.base64;i&&void 0!==i.binary||(o.binary=!c),(e instanceof h&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE",n="string");var y;y=e instanceof h||e instanceof r?e:d.isNode&&d.isStream(e)?new p(t,e):s.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64);var k=new u(t,y,o);this.files[t]=k}var n=t("./utf8"),s=t("./utils"),r=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),l=t("./defaults"),h=t("./compressedObject"),u=t("./zipObject"),c=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),f=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},m=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:l.createFolders,t=m(t),this.files[t]||a.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function y(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,a;for(e in this.files)this.files.hasOwnProperty(e)&&(a=this.files[e],(i=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(i,a))},filter:function(t){var e=[];return this.forEach((function(i,a){t(i,a)&&e.push(a)})),e},file:function(t,e,i){if(1!==arguments.length)return t=this.root+t,a.call(this,t,e,i),this;if(y(t)){var n=t;return this.filter((function(t,e){return!e.dir&&n.test(t)}))}var s=this.files[this.root+t];return s&&!s.dir?s:null},folder:function(t){if(!t)return this;if(y(t))return this.filter((function(e,i){return i.dir&&t.test(e)}));var e=this.root+t,i=g.call(this,e),a=this.clone();return a.root=i.name,a},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter((function(e,i){return i.name.slice(0,t.length)===t})),a=0;a<i.length;a++)delete this.files[i[a].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if((i=s.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");s.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var a=i.comment||this.comment||"";e=c.generateWorker(this,i,a)}catch(t){(e=new r("error")).error(t)}return new o(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,i){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,i){"use strict";var a=t("./DataReader");function n(t){a.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(n,a),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===i&&this.data[s+2]===a&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),a=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&i===s[1]&&a===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],18:[function(t,e,i){"use strict";var a=t("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return a.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{"../utils":32}],19:[function(t,e,i){"use strict";var a=t("./Uint8ArrayReader");function n(t){a.call(this,t)}t("../utils").inherits(n,a),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,i){"use strict";var a=t("./DataReader");function n(t){a.call(this,t)}t("../utils").inherits(n,a),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./DataReader":18}],21:[function(t,e,i){"use strict";var a=t("./ArrayReader");function n(t){a.call(this,t)}t("../utils").inherits(n,a),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,i){"use strict";var a=t("../utils"),n=t("../support"),s=t("./ArrayReader"),r=t("./StringReader"),o=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=a.getTypeOf(t);return a.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new o(t):n.uint8array?new l(a.transformTo("uint8array",t)):new s(a.transformTo("array",t)):new r(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,i){"use strict";var a=t("./GenericWorker"),n=t("../utils");function s(t){a.call(this,"ConvertWorker to "+t),this.destType=t}n.inherits(s,a),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,i){"use strict";var a=t("./GenericWorker"),n=t("../crc32");function s(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,a),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,i){"use strict";var a=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}a.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,i){"use strict";var a=t("../utils"),n=t("./GenericWorker");function s(t){n.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=a.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}a.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,i){"use strict";function a(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=a},{}],29:[function(t,e,i){"use strict";var a=t("../utils"),n=t("./ConvertWorker"),s=t("./GenericWorker"),r=t("../base64"),o=t("../support"),l=t("../external"),h=null;if(o.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function u(t,e,i){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=i,a.checkSupport(r),this._worker=t.pipe(new n(r)),t.lock()}catch(t){this._worker=new s("error"),this._worker.error(t)}}u.prototype={accumulate:function(t){return function(t,e){return new l.Promise((function(i,n){var s=[],o=t._internalType,l=t._outputType,h=t._mimeType;t.on("data",(function(t,i){s.push(t),e&&e(i)})).on("error",(function(t){s=[],n(t)})).on("end",(function(){try{var t=function(t,e,i){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),i);case"base64":return r.encode(e);default:return a.transformTo(t,e)}}(l,function(t,e){var i,a=0,n=null,s=0;for(i=0;i<e.length;i++)s+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(s),i=0;i<e.length;i++)n.set(e[i],a),a+=e[i].length;return n;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(o,s),h);i(t)}catch(t){n(t)}s=[]})).resume()}))}(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,(function(t){e.call(i,t.data,t.meta)})):this._worker.on(t,(function(){a.delay(e,arguments,i)})),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=0===new Blob([a],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(a),i.blob=0===n.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";for(var a=t("./utils"),n=t("./support"),s=t("./nodejsUtils"),r=t("./stream/GenericWorker"),o=new Array(256),l=0;l<256;l++)o[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function h(){r.call(this,"utf-8 decode"),this.leftOver=null}function u(){r.call(this,"utf-8 encode")}o[254]=o[254]=1,i.utf8encode=function(t){return n.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,i,a,s,r,o=t.length,l=0;for(s=0;s<o;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=n.uint8array?new Uint8Array(l):new Array(l),s=r=0;r<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(a=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(a-56320),s++),i<128?e[r++]=i:(i<2048?e[r++]=192|i>>>6:(i<65536?e[r++]=224|i>>>12:(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63),e[r++]=128|i>>>6&63),e[r++]=128|63&i);return e}(t)},i.utf8decode=function(t){return n.nodebuffer?a.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,i,n,s,r=t.length,l=new Array(2*r);for(e=i=0;e<r;)if((n=t[e++])<128)l[i++]=n;else if(4<(s=o[n]))l[i++]=65533,e+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&e<r;)n=n<<6|63&t[e++],s--;1<s?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),a.applyFromCharCode(l)}(t=a.transformTo(n.uint8array?"uint8array":"array",t))},a.inherits(h,r),h.prototype.processChunk=function(t){var e=a.transformTo(n.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=e;(e=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),e.set(s,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var r=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+o[t[i]]>e?i:e}(e),l=e;r!==e.length&&(n.uint8array?(l=e.subarray(0,r),this.leftOver=e.subarray(r,e.length)):(l=e.slice(0,r),this.leftOver=e.slice(r,e.length))),this.push({data:i.utf8decode(l),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(u,r),u.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";var a=t("./support"),n=t("./base64"),s=t("./nodejsUtils"),r=t("set-immediate-shim"),o=t("./external");function l(t){return t}function h(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(i){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(t),a.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(t,e,i){var a=[],n=0,s=t.length;if(s<=i)return String.fromCharCode.apply(null,t);for(;n<s;)"array"===e||"nodebuffer"===e?a.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,s)))):a.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,s)))),n+=i;return a.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,a=i.getTypeOf(t),n=!0;if("uint8array"===a?n=u.applyCanBeUsed.uint8array:"nodebuffer"===a&&(n=u.applyCanBeUsed.nodebuffer),n)for(;1<e;)try{return u.stringifyByChunk(t,a,e)}catch(t){e=Math.floor(e/2)}return u.stringifyByChar(t)}function d(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}i.applyFromCharCode=c;var p={};p.string={string:l,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,s.allocBuffer(t.length))}},p.array={string:c,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(t)}},p.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return s.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return s.newBufferFrom(t)}},p.nodebuffer={string:c,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:l},i.transformTo=function(t,e){if(e=e||"",!t)return e;i.checkSupport(t);var a=i.getTypeOf(e);return p[a][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&s.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,a="";for(i=0;i<(t||"").length;i++)a+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return a},i.delay=function(t,e,i){r((function(){t.apply(i||null,e||[])}))},i.inherits=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,s,r,l){return o.Promise.resolve(e).then((function(t){return a.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new o.Promise((function(e,i){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.onerror=function(t){i(t.target.error)},a.readAsArrayBuffer(t)})):t})).then((function(e){var u=i.getTypeOf(e);return u?("arraybuffer"===u?e=i.transformTo("uint8array",e):"string"===u&&(l?e=n.decode(e):s&&!0!==r&&(e=function(t){return h(t,a.uint8array?new Uint8Array(t.length):new Array(t.length))}(e))),e):o.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,i){"use strict";var a=t("./reader/readerFor"),n=t("./utils"),s=t("./signature"),r=t("./zipEntry"),o=(t("./utf8"),t("./support"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(e)+", expected "+n.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var a=this.reader.readString(4)===e;return this.reader.setIndex(i),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?"uint8array":"array",i=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,a=this.zip64EndOfCentralSize-44;0<a;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new r({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var a=e-i;if(0<a)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")},prepareReader:function(t){this.reader=a(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,i){"use strict";var a=t("./reader/readerFor"),n=t("./utils"),s=t("./compressedObject"),r=t("./crc32"),o=t("./utf8"),l=t("./compressions"),h=t("./support");function u(t,e){this.options=t,this.loadOptions=e}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=a(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,a,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),a=t.readData(i),this.extraFields[e]={id:e,length:i,value:a}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=n.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var a=this.findExtraFieldUnicodeComment();if(null!==a)this.fileCommentStr=a;else{var s=n.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=a(t.value);return 1!==e.readInt(1)||r(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=a(t.value);return 1!==e.readInt(1)||r(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,i){"use strict";function a(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var n=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),r=t("./utf8"),o=t("./compressedObject"),l=t("./stream/GenericWorker");a.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");var a="string"===(i=t.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!a&&(e=e.pipe(new r.Utf8EncodeWorker)),!s&&a&&(e=e.pipe(new r.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new n(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new r.Utf8EncodeWorker)),o.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof l?this._data:new s(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<h.length;c++)a.prototype[h[c]]=u;e.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){(function(t){"use strict";var i,a,n=t.MutationObserver||t.WebKitMutationObserver;if(n){var s=0,r=new n(u),o=t.document.createTextNode("");r.observe(o,{characterData:!0}),i=function(){o.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)};else{var l=new t.MessageChannel;l.port1.onmessage=u,i=function(){l.port2.postMessage(0)}}var h=[];function u(){var t,e;a=!0;for(var i=h.length;i;){for(e=h,h=[],t=-1;++t<i;)e[t]();i=h.length}a=!1}e.exports=function(t){1!==h.push(t)||a||i()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,i){"use strict";var a=t("immediate");function n(){}var s={},r=["REJECTED"],o=["FULFILLED"],l=["PENDING"];function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==n&&p(this,t)}function u(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function c(t,e,i){a((function(){var a;try{a=e(i)}catch(a){return s.reject(t,a)}a===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,a)}))}function d(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var i=!1;function a(e){i||(i=!0,s.reject(t,e))}function n(e){i||(i=!0,s.resolve(t,e))}var r=f((function(){e(n,a)}));"error"===r.status&&a(r.value)}function f(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}(e.exports=h).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){throw i}))}))},h.prototype.catch=function(t){return this.then(null,t)},h.prototype.then=function(t,e){if("function"!=typeof t&&this.state===o||"function"!=typeof e&&this.state===r)return this;var i=new this.constructor(n);return this.state!==l?c(i,this.state===o?t:e,this.outcome):this.queue.push(new u(i,t,e)),i},u.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},u.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},u.prototype.callRejected=function(t){s.reject(this.promise,t)},u.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},s.resolve=function(t,e){var i=f(d,e);if("error"===i.status)return s.reject(t,i.value);var a=i.value;if(a)p(t,a);else{t.state=o,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callFulfilled(e)}return t},s.reject=function(t,e){t.state=r,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callRejected(e);return t},h.resolve=function(t){return t instanceof this?t:s.resolve(new this(n),t)},h.reject=function(t){var e=new this(n);return s.reject(e,t)},h.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,a=!1;if(!i)return this.resolve([]);for(var r=new Array(i),o=0,l=-1,h=new this(n);++l<i;)u(t[l],l);return h;function u(t,n){e.resolve(t).then((function(t){r[n]=t,++o!==i||a||(a=!0,s.resolve(h,r))}),(function(t){a||(a=!0,s.reject(h,t))}))}},h.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,i=!1;if(!e)return this.resolve([]);for(var a,r=-1,o=new this(n);++r<e;)a=t[r],this.resolve(a).then((function(t){i||(i=!0,s.resolve(o,t))}),(function(t){i||(i=!0,s.reject(o,t))}));return o}},{immediate:36}],38:[function(t,e,i){"use strict";var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,i){"use strict";var a=t("./zlib/deflate"),n=t("./utils/common"),s=t("./utils/strings"),r=t("./zlib/messages"),o=t("./zlib/zstream"),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(r[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var u;if(u="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(i=a.deflateSetDictionary(this.strm,u)))throw new Error(r[i]);this._dict_set=!0}}function u(t,e){var i=new h(e);if(i.push(t,!0),i.err)throw i.msg||r[i.err];return i.result}h.prototype.push=function(t,e){var i,r,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===l.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(h),o.next_out=0,o.avail_out=h),1!==(i=a.deflate(o,r))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==i);return 4===r?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==r||(this.onEnd(0),!(o.avail_out=0))},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=h,i.deflate=u,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,u(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,u(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,i){"use strict";var a=t("./zlib/inflate"),n=t("./utils/common"),s=t("./utils/strings"),r=t("./zlib/constants"),o=t("./zlib/messages"),l=t("./zlib/zstream"),h=t("./zlib/gzheader"),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=a.inflateInit2(this.strm,e.windowBits);if(i!==r.Z_OK)throw new Error(o[i]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function d(t,e){var i=new c(e);if(i.push(t,!0),i.err)throw i.msg||o[i.err];return i.result}c.prototype.push=function(t,e){var i,o,l,h,c,d,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;o=e===~~e?e:!0===e?r.Z_FINISH:r.Z_NO_FLUSH,"string"==typeof t?p.input=s.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(f),p.next_out=0,p.avail_out=f),(i=a.inflate(p,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===u.call(m)?new Uint8Array(m):m,i=a.inflateSetDictionary(this.strm,d)),i===r.Z_BUF_ERROR&&!0===g&&(i=r.Z_OK,g=!1),i!==r.Z_STREAM_END&&i!==r.Z_OK)return this.onEnd(i),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&i!==r.Z_STREAM_END&&(0!==p.avail_in||o!==r.Z_FINISH&&o!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(l=s.utf8border(p.output,p.next_out),h=p.next_out-l,c=s.buf2string(p.output,l),p.next_out=h,p.avail_out=f-h,h&&n.arraySet(p.output,p.output,l,h,0),this.onData(c)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&i!==r.Z_STREAM_END);return i===r.Z_STREAM_END&&(o=r.Z_FINISH),o===r.Z_FINISH?(i=a.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===r.Z_OK):o!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),!(p.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===r.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=c,i.inflate=d,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},i.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,i){"use strict";var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,a,n){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+a),n);else for(var s=0;s<a;s++)t[n+s]=e[i+s]},flattenChunks:function(t){var e,i,a,n,s,r;for(e=a=0,i=t.length;e<i;e++)a+=t[e].length;for(r=new Uint8Array(a),e=n=0,i=t.length;e<i;e++)s=t[e],r.set(s,n),n+=s.length;return r}},s={arraySet:function(t,e,i,a,n){for(var s=0;s<a;s++)t[n+s]=e[i+s]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(a)},{}],42:[function(t,e,i){"use strict";var a=t("./common"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var r=new a.Buf8(256),o=0;o<256;o++)r[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,a.shrinkBuf(t,e));for(var i="",r=0;r<e;r++)i+=String.fromCharCode(t[r]);return i}r[254]=r[254]=1,i.string2buf=function(t){var e,i,n,s,r,o=t.length,l=0;for(s=0;s<o;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),l+=i<128?1:i<2048?2:i<65536?3:4;for(e=new a.Buf8(l),s=r=0;r<l;s++)55296==(64512&(i=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=t.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?e[r++]=i:(i<2048?e[r++]=192|i>>>6:(i<65536?e[r++]=224|i>>>12:(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63),e[r++]=128|i>>>6&63),e[r++]=128|63&i);return e},i.buf2binstring=function(t){return l(t,t.length)},i.binstring2buf=function(t){for(var e=new a.Buf8(t.length),i=0,n=e.length;i<n;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,a,n,s,o=e||t.length,h=new Array(2*o);for(i=a=0;i<o;)if((n=t[i++])<128)h[a++]=n;else if(4<(s=r[n]))h[a++]=65533,i+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&i<o;)n=n<<6|63&t[i++],s--;1<s?h[a++]=65533:n<65536?h[a++]=n:(n-=65536,h[a++]=55296|n>>10&1023,h[a++]=56320|1023&n)}return l(h,a)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;0<=i&&128==(192&t[i]);)i--;return i<0||0===i?e:i+r[t[i]]>e?i:e}},{"./common":41}],43:[function(t,e,i){"use strict";e.exports=function(t,e,i,a){for(var n=65535&t|0,s=t>>>16&65535|0,r=0;0!==i;){for(i-=r=2e3<i?2e3:i;s=s+(n=n+e[a++]|0)|0,--r;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,i){"use strict";var a=function(){for(var t,e=[],i=0;i<256;i++){t=i;for(var a=0;a<8;a++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,i,n){var s=a,r=n+i;t^=-1;for(var o=n;o<r;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}},{}],46:[function(t,e,i){"use strict";var a,n=t("../utils/common"),s=t("./trees"),r=t("./adler32"),o=t("./crc32"),l=t("./messages"),h=-2,u=258,c=262,d=113;function p(t,e){return t.msg=l[e],e}function f(t){return(t<<1)-(4<t?9:0)}function m(t){for(var e=t.length;0<=--e;)t[e]=0}function g(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(n.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function y(t,e){s._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,g(t.strm)}function k(t,e){t.pending_buf[t.pending++]=e}function v(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function b(t,e){var i,a,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,h=t.window,d=t.w_mask,p=t.prev,f=t.strstart+u,m=h[s+r-1],g=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(i=e)+r]===g&&h[i+r-1]===m&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<f);if(a=u-(f-s),s=f-u,r<a){if(t.match_start=e,o<=(r=a))break;m=h[s+r-1],g=h[s+r]}}}while((e=p[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead}function w(t){var e,i,a,s,l,h,u,d,p,f,m=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-c)){for(n.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=i=t.hash_size;a=t.head[--e],t.head[e]=m<=a?a-m:0,--i;);for(e=i=m;a=t.prev[--e],t.prev[e]=m<=a?a-m:0,--i;);s+=m}if(0===t.strm.avail_in)break;if(h=t.strm,u=t.window,d=t.strstart+t.lookahead,f=void 0,(p=s)<(f=h.avail_in)&&(f=p),i=0===f?0:(h.avail_in-=f,n.arraySet(u,h.input,h.next_in,f,d),1===h.state.wrap?h.adler=r(h.adler,u,f,d):2===h.state.wrap&&(h.adler=o(h.adler,u,f,d)),h.next_in+=f,h.total_in+=f,f),t.lookahead+=i,t.lookahead+t.insert>=3)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+3-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function S(t,e){for(var i,a;;){if(t.lookahead<c){if(w(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-c&&(t.match_length=b(t,i)),t.match_length>=3)if(a=s._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function x(t,e){for(var i,a,n;;){if(t.lookahead<c){if(w(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-c&&(t.match_length=b(t,i),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-3,a=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,a&&(y(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((a=s._tr_tally(t,0,t.window[t.strstart-1]))&&y(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}function T(t,e,i,a,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=a,this.func=n}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:d,t.adler=2===e.wrap?0:1,e.last_flush=0,s._tr_init(e),0):p(t,h)}function C(t){var e=E(t);return 0===e&&function(t){t.window_size=2*t.w_size,m(t.head),t.max_lazy_match=a[t.level].max_lazy,t.good_match=a[t.level].good_length,t.nice_match=a[t.level].nice_length,t.max_chain_length=a[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function M(t,e,i,a,s,r){if(!t)return h;var o=1;if(-1===e&&(e=6),a<0?(o=0,a=-a):15<a&&(o=2,a-=16),s<1||9<s||8!==i||a<8||15<a||e<0||9<e||r<0||4<r)return p(t,h);8===a&&(a=9);var l=new A;return(t.state=l).strm=t,l.wrap=o,l.gzhead=null,l.w_bits=a,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new n.Buf8(2*l.w_size),l.head=new n.Buf16(l.hash_size),l.prev=new n.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new n.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=r,l.method=i,C(t)}a=[new T(0,0,0,0,(function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(w(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+i;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,y(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-c&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(y(t,!1),t.strm.avail_out),1)})),new T(4,4,8,4,S),new T(4,5,16,8,S),new T(4,6,32,32,S),new T(4,4,16,16,x),new T(8,16,32,32,x),new T(8,16,128,128,x),new T(8,32,128,256,x),new T(32,128,258,1024,x),new T(32,258,258,4096,x)],i.deflateInit=function(t,e){return M(t,e,8,15,8,0)},i.deflateInit2=M,i.deflateReset=C,i.deflateResetKeep=E,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?h:(t.state.gzhead=e,0):h},i.deflate=function(t,e){var i,n,r,l;if(!t||!t.state||5<e||e<0)return t?p(t,h):h;if(n=t.state,!t.output||!t.input&&0!==t.avail_in||666===n.status&&4!==e)return p(t,0===t.avail_out?-5:h);if(n.strm=t,i=n.last_flush,n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,k(n,31),k(n,139),k(n,8),n.gzhead?(k(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),k(n,255&n.gzhead.time),k(n,n.gzhead.time>>8&255),k(n,n.gzhead.time>>16&255),k(n,n.gzhead.time>>24&255),k(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),k(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(k(n,255&n.gzhead.extra.length),k(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=o(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(k(n,0),k(n,0),k(n,0),k(n,0),k(n,0),k(n,9===n.level?2:2<=n.strategy||n.level<2?4:0),k(n,3),n.status=d);else{var c=8+(n.w_bits-8<<4)<<8;c|=(2<=n.strategy||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(c|=32),c+=31-c%31,n.status=d,v(n,c),0!==n.strstart&&(v(n,t.adler>>>16),v(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),g(t),r=n.pending,n.pending!==n.pending_buf_size));)k(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),g(t),r=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,k(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),0===l&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),g(t),r=n.pending,n.pending===n.pending_buf_size)){l=1;break}l=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,k(n,l)}while(0!==l);n.gzhead.hcrc&&n.pending>r&&(t.adler=o(t.adler,n.pending_buf,n.pending-r,r)),0===l&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&g(t),n.pending+2<=n.pending_buf_size&&(k(n,255&t.adler),k(n,t.adler>>8&255),t.adler=0,n.status=d)):n.status=d),0!==n.pending){if(g(t),0===t.avail_out)return n.last_flush=-1,0}else if(0===t.avail_in&&f(e)<=f(i)&&4!==e)return p(t,-5);if(666===n.status&&0!==t.avail_in)return p(t,-5);if(0!==t.avail_in||0!==n.lookahead||0!==e&&666!==n.status){var b=2===n.strategy?function(t,e){for(var i;;){if(0===t.lookahead&&(w(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(n,e):3===n.strategy?function(t,e){for(var i,a,n,r,o=t.window;;){if(t.lookahead<=u){if(w(t),t.lookahead<=u&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(a=o[n=t.strstart-1])===o[++n]&&a===o[++n]&&a===o[++n]){r=t.strstart+u;do{}while(a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&n<r);t.match_length=u-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=s._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(y(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(y(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(y(t,!1),0===t.strm.avail_out)?1:2}(n,e):a[n.level].func(n,e);if(3!==b&&4!==b||(n.status=666),1===b||3===b)return 0===t.avail_out&&(n.last_flush=-1),0;if(2===b&&(1===e?s._tr_align(n):5!==e&&(s._tr_stored_block(n,0,0,!1),3===e&&(m(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),g(t),0===t.avail_out))return n.last_flush=-1,0}return 4!==e?0:n.wrap<=0?1:(2===n.wrap?(k(n,255&t.adler),k(n,t.adler>>8&255),k(n,t.adler>>16&255),k(n,t.adler>>24&255),k(n,255&t.total_in),k(n,t.total_in>>8&255),k(n,t.total_in>>16&255),k(n,t.total_in>>24&255)):(v(n,t.adler>>>16),v(n,65535&t.adler)),g(t),0<n.wrap&&(n.wrap=-n.wrap),0!==n.pending?0:1)},i.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==d&&666!==e?p(t,h):(t.state=null,e===d?p(t,-3):0):h},i.deflateSetDictionary=function(t,e){var i,a,s,o,l,u,c,d,p=e.length;if(!t||!t.state)return h;if(2===(o=(i=t.state).wrap)||1===o&&42!==i.status||i.lookahead)return h;for(1===o&&(t.adler=r(t.adler,e,p,0)),i.wrap=0,p>=i.w_size&&(0===o&&(m(i.head),i.strstart=0,i.block_start=0,i.insert=0),d=new n.Buf8(i.w_size),n.arraySet(d,e,p-i.w_size,i.w_size,0),e=d,p=i.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=p,t.next_in=0,t.input=e,w(i);i.lookahead>=3;){for(a=i.strstart,s=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+3-1])&i.hash_mask,i.prev[a&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=a,a++,--s;);i.strstart=a,i.lookahead=2,w(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,i.wrap=o,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,i){"use strict";e.exports=function(t,e){var i,a,n,s,r,o,l,h,u,c,d,p,f,m,g,y,k,v,b,w,S,x,T,A,E;i=t.state,a=t.next_in,A=t.input,n=a+(t.avail_in-5),s=t.next_out,E=t.output,r=s-(e-t.avail_out),o=s+(t.avail_out-257),l=i.dmax,h=i.wsize,u=i.whave,c=i.wnext,d=i.window,p=i.hold,f=i.bits,m=i.lencode,g=i.distcode,y=(1<<i.lenbits)-1,k=(1<<i.distbits)-1;t:do{f<15&&(p+=A[a++]<<f,f+=8,p+=A[a++]<<f,f+=8),v=m[p&y];e:for(;;){if(p>>>=b=v>>>24,f-=b,0==(b=v>>>16&255))E[s++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=m[(65535&v)+(p&(1<<b)-1)];continue e}if(32&b){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&v,(b&=15)&&(f<b&&(p+=A[a++]<<f,f+=8),w+=p&(1<<b)-1,p>>>=b,f-=b),f<15&&(p+=A[a++]<<f,f+=8,p+=A[a++]<<f,f+=8),v=g[p&k];i:for(;;){if(p>>>=b=v>>>24,f-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=g[(65535&v)+(p&(1<<b)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(S=65535&v,f<(b&=15)&&(p+=A[a++]<<f,(f+=8)<b&&(p+=A[a++]<<f,f+=8)),l<(S+=p&(1<<b)-1)){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=b,f-=b,(b=s-r)<S){if(u<(b=S-b)&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(T=d,(x=0)===c){if(x+=h-b,b<w){for(w-=b;E[s++]=d[x++],--b;);x=s-S,T=E}}else if(c<b){if(x+=h+c-b,(b-=c)<w){for(w-=b;E[s++]=d[x++],--b;);if(x=0,c<w){for(w-=b=c;E[s++]=d[x++],--b;);x=s-S,T=E}}}else if(x+=c-b,b<w){for(w-=b;E[s++]=d[x++],--b;);x=s-S,T=E}for(;2<w;)E[s++]=T[x++],E[s++]=T[x++],E[s++]=T[x++],w-=3;w&&(E[s++]=T[x++],1<w&&(E[s++]=T[x++]))}else{for(x=s-S;E[s++]=E[x++],E[s++]=E[x++],E[s++]=E[x++],2<(w-=3););w&&(E[s++]=E[x++],1<w&&(E[s++]=E[x++]))}break}}break}}while(a<n&&s<o);a-=w=f>>3,p&=(1<<(f-=w<<3))-1,t.next_in=a,t.next_out=s,t.avail_in=a<n?n-a+5:5-(a-n),t.avail_out=s<o?o-s+257:257-(s-o),i.hold=p,i.bits=f}},{}],49:[function(t,e,i){"use strict";var a=t("../utils/common"),n=t("./adler32"),s=t("./crc32"),r=t("./inffast"),o=t("./inftrees"),l=-2;function h(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new a.Buf32(852),e.distcode=e.distdyn=new a.Buf32(592),e.sane=1,e.back=-1,0):l}function d(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):l}function p(t,e){var i,a;return t&&t.state?(a=t.state,e<0?(i=0,e=-e):(i=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?l:(null!==a.window&&a.wbits!==e&&(a.window=null),a.wrap=i,a.wbits=e,d(t))):l}function f(t,e){var i,a;return t?(a=new u,(t.state=a).window=null,0!==(i=p(t,e))&&(t.state=null),i):l}var m,g,y=!0;function k(t){if(y){var e;for(m=new a.Buf32(512),g=new a.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(o(1,t.lens,0,288,m,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;o(2,t.lens,0,32,g,0,t.work,{bits:5}),y=!1}t.lencode=m,t.lenbits=9,t.distcode=g,t.distbits=5}function v(t,e,i,n){var s,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new a.Buf8(r.wsize)),n>=r.wsize?(a.arraySet(r.window,e,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(n<(s=r.wsize-r.wnext)&&(s=n),a.arraySet(r.window,e,i-n,s,r.wnext),(n-=s)?(a.arraySet(r.window,e,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0}i.inflateReset=d,i.inflateReset2=p,i.inflateResetKeep=c,i.inflateInit=function(t){return f(t,15)},i.inflateInit2=f,i.inflate=function(t,e){var i,u,c,d,p,f,m,g,y,b,w,S,x,T,A,E,C,M,_,B,I,D,P,L,O=0,N=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return l;12===(i=t.state).mode&&(i.mode=13),p=t.next_out,c=t.output,m=t.avail_out,d=t.next_in,u=t.input,f=t.avail_in,g=i.hold,y=i.bits,b=f,w=m,D=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;y<16;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(2&i.wrap&&35615===g){N[i.check=0]=255&g,N[1]=g>>>8&255,i.check=s(i.check,N,2,0),y=g=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",i.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",i.mode=30;break}if(y-=4,I=8+(15&(g>>>=4)),0===i.wbits)i.wbits=I;else if(I>i.wbits){t.msg="invalid window size",i.mode=30;break}i.dmax=1<<I,t.adler=i.check=1,i.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(i.flags=g,8!=(255&i.flags)){t.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=g>>8&1),512&i.flags&&(N[0]=255&g,N[1]=g>>>8&255,i.check=s(i.check,N,2,0)),y=g=0,i.mode=3;case 3:for(;y<32;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.head&&(i.head.time=g),512&i.flags&&(N[0]=255&g,N[1]=g>>>8&255,N[2]=g>>>16&255,N[3]=g>>>24&255,i.check=s(i.check,N,4,0)),y=g=0,i.mode=4;case 4:for(;y<16;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.head&&(i.head.xflags=255&g,i.head.os=g>>8),512&i.flags&&(N[0]=255&g,N[1]=g>>>8&255,i.check=s(i.check,N,2,0)),y=g=0,i.mode=5;case 5:if(1024&i.flags){for(;y<16;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.length=g,i.head&&(i.head.extra_len=g),512&i.flags&&(N[0]=255&g,N[1]=g>>>8&255,i.check=s(i.check,N,2,0)),y=g=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(f<(S=i.length)&&(S=f),S&&(i.head&&(I=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,u,d,S,I)),512&i.flags&&(i.check=s(i.check,u,S,d)),f-=S,d+=S,i.length-=S),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===f)break t;for(S=0;I=u[d+S++],i.head&&I&&i.length<65536&&(i.head.name+=String.fromCharCode(I)),I&&S<f;);if(512&i.flags&&(i.check=s(i.check,u,S,d)),f-=S,d+=S,I)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===f)break t;for(S=0;I=u[d+S++],i.head&&I&&i.length<65536&&(i.head.comment+=String.fromCharCode(I)),I&&S<f;);if(512&i.flags&&(i.check=s(i.check,u,S,d)),f-=S,d+=S,I)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;y<16;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(g!==(65535&i.check)){t.msg="header crc mismatch",i.mode=30;break}y=g=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=12;break;case 10:for(;y<32;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}t.adler=i.check=h(g),y=g=0,i.mode=11;case 11:if(0===i.havedict)return t.next_out=p,t.avail_out=m,t.next_in=d,t.avail_in=f,i.hold=g,i.bits=y,2;t.adler=i.check=1,i.mode=12;case 12:if(5===e||6===e)break t;case 13:if(i.last){g>>>=7&y,y-=7&y,i.mode=27;break}for(;y<3;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}switch(i.last=1&g,y-=1,3&(g>>>=1)){case 0:i.mode=14;break;case 1:if(k(i),i.mode=20,6!==e)break;g>>>=2,y-=2;break t;case 2:i.mode=17;break;case 3:t.msg="invalid block type",i.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&g,y=g=0,i.mode=15,6===e)break t;case 15:i.mode=16;case 16:if(S=i.length){if(f<S&&(S=f),m<S&&(S=m),0===S)break t;a.arraySet(c,u,d,S,p),f-=S,d+=S,m-=S,p+=S,i.length-=S;break}i.mode=12;break;case 17:for(;y<14;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(i.nlen=257+(31&g),g>>>=5,y-=5,i.ndist=1+(31&g),g>>>=5,y-=5,i.ncode=4+(15&g),g>>>=4,y-=4,286<i.nlen||30<i.ndist){t.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;y<3;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.lens[G[i.have++]]=7&g,g>>>=3,y-=3}for(;i.have<19;)i.lens[G[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,P={bits:i.lenbits},D=o(0,i.lens,0,19,i.lencode,0,i.work,P),i.lenbits=P.bits,D){t.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;E=(O=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,C=65535&O,!((A=O>>>24)<=y);){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(C<16)g>>>=A,y-=A,i.lens[i.have++]=C;else{if(16===C){for(L=A+2;y<L;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(g>>>=A,y-=A,0===i.have){t.msg="invalid bit length repeat",i.mode=30;break}I=i.lens[i.have-1],S=3+(3&g),g>>>=2,y-=2}else if(17===C){for(L=A+3;y<L;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}y-=A,I=0,S=3+(7&(g>>>=A)),g>>>=3,y-=3}else{for(L=A+7;y<L;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}y-=A,I=0,S=11+(127&(g>>>=A)),g>>>=7,y-=7}if(i.have+S>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=30;break}for(;S--;)i.lens[i.have++]=I}}if(30===i.mode)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,P={bits:i.lenbits},D=o(1,i.lens,0,i.nlen,i.lencode,0,i.work,P),i.lenbits=P.bits,D){t.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,P={bits:i.distbits},D=o(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,P),i.distbits=P.bits,D){t.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===e)break t;case 20:i.mode=21;case 21:if(6<=f&&258<=m){t.next_out=p,t.avail_out=m,t.next_in=d,t.avail_in=f,i.hold=g,i.bits=y,r(t,w),p=t.next_out,c=t.output,m=t.avail_out,d=t.next_in,u=t.input,f=t.avail_in,g=i.hold,y=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;E=(O=i.lencode[g&(1<<i.lenbits)-1])>>>16&255,C=65535&O,!((A=O>>>24)<=y);){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(E&&0==(240&E)){for(M=A,_=E,B=C;E=(O=i.lencode[B+((g&(1<<M+_)-1)>>M)])>>>16&255,C=65535&O,!(M+(A=O>>>24)<=y);){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}g>>>=M,y-=M,i.back+=M}if(g>>>=A,y-=A,i.back+=A,i.length=C,0===E){i.mode=26;break}if(32&E){i.back=-1,i.mode=12;break}if(64&E){t.msg="invalid literal/length code",i.mode=30;break}i.extra=15&E,i.mode=22;case 22:if(i.extra){for(L=i.extra;y<L;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.length+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;E=(O=i.distcode[g&(1<<i.distbits)-1])>>>16&255,C=65535&O,!((A=O>>>24)<=y);){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(0==(240&E)){for(M=A,_=E,B=C;E=(O=i.distcode[B+((g&(1<<M+_)-1)>>M)])>>>16&255,C=65535&O,!(M+(A=O>>>24)<=y);){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}g>>>=M,y-=M,i.back+=M}if(g>>>=A,y-=A,i.back+=A,64&E){t.msg="invalid distance code",i.mode=30;break}i.offset=C,i.extra=15&E,i.mode=24;case 24:if(i.extra){for(L=i.extra;y<L;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}i.offset+=g&(1<<i.extra)-1,g>>>=i.extra,y-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===m)break t;if(S=w-m,i.offset>S){if((S=i.offset-S)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=30;break}x=S>i.wnext?(S-=i.wnext,i.wsize-S):i.wnext-S,S>i.length&&(S=i.length),T=i.window}else T=c,x=p-i.offset,S=i.length;for(m<S&&(S=m),m-=S,i.length-=S;c[p++]=T[x++],--S;);0===i.length&&(i.mode=21);break;case 26:if(0===m)break t;c[p++]=i.length,m--,i.mode=21;break;case 27:if(i.wrap){for(;y<32;){if(0===f)break t;f--,g|=u[d++]<<y,y+=8}if(w-=m,t.total_out+=w,i.total+=w,w&&(t.adler=i.check=i.flags?s(i.check,c,w,p-w):n(i.check,c,w,p-w)),w=m,(i.flags?g:h(g))!==i.check){t.msg="incorrect data check",i.mode=30;break}y=g=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;y<32;){if(0===f)break t;f--,g+=u[d++]<<y,y+=8}if(g!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=30;break}y=g=0}i.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;case 32:default:return l}return t.next_out=p,t.avail_out=m,t.next_in=d,t.avail_in=f,i.hold=g,i.bits=y,(i.wsize||w!==t.avail_out&&i.mode<30&&(i.mode<27||4!==e))&&v(t,t.output,t.next_out,w-t.avail_out)?(i.mode=31,-4):(b-=t.avail_in,w-=t.avail_out,t.total_in+=b,t.total_out+=w,i.total+=w,i.wrap&&w&&(t.adler=i.check=i.flags?s(i.check,c,w,t.next_out-w):n(i.check,c,w,t.next_out-w)),t.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==b&&0===w||4===e)&&0===D&&(D=-5),D)},i.inflateEnd=function(t){if(!t||!t.state)return l;var e=t.state;return e.window&&(e.window=null),t.state=null,0},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?l:((i.head=e).done=!1,0):l},i.inflateSetDictionary=function(t,e){var i,a=e.length;return t&&t.state?0!==(i=t.state).wrap&&11!==i.mode?l:11===i.mode&&n(1,e,a,0)!==i.check?-3:v(t,e,a,a)?(i.mode=31,-4):(i.havedict=1,0):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,i){"use strict";var a=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,l,h,u,c,d){var p,f,m,g,y,k,v,b,w,S=d.bits,x=0,T=0,A=0,E=0,C=0,M=0,_=0,B=0,I=0,D=0,P=null,L=0,O=new a.Buf16(16),N=new a.Buf16(16),G=null,R=0;for(x=0;x<=15;x++)O[x]=0;for(T=0;T<l;T++)O[e[i+T]]++;for(C=S,E=15;1<=E&&0===O[E];E--);if(E<C&&(C=E),0===E)return h[u++]=20971520,h[u++]=20971520,d.bits=1,0;for(A=1;A<E&&0===O[A];A++);for(C<A&&(C=A),x=B=1;x<=15;x++)if(B<<=1,(B-=O[x])<0)return-1;if(0<B&&(0===t||1!==E))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+O[x];for(T=0;T<l;T++)0!==e[i+T]&&(c[N[e[i+T]]++]=T);if(k=0===t?(P=G=c,19):1===t?(P=n,L-=257,G=s,R-=257,256):(P=r,G=o,-1),x=A,y=u,_=T=D=0,m=-1,g=(I=1<<(M=C))-1,1===t&&852<I||2===t&&592<I)return 1;for(;;){for(v=x-_,w=c[T]<k?(b=0,c[T]):c[T]>k?(b=G[R+c[T]],P[L+c[T]]):(b=96,0),p=1<<x-_,A=f=1<<M;h[y+(D>>_)+(f-=p)]=v<<24|b<<16|w|0,0!==f;);for(p=1<<x-1;D&p;)p>>=1;if(0!==p?(D&=p-1,D+=p):D=0,T++,0==--O[x]){if(x===E)break;x=e[i+c[T]]}if(C<x&&(D&g)!==m){for(0===_&&(_=C),y+=A,B=1<<(M=x-_);M+_<E&&!((B-=O[M+_])<=0);)M++,B<<=1;if(I+=1<<M,1===t&&852<I||2===t&&592<I)return 1;h[m=D&g]=C<<24|M<<16|y-u|0}}return 0!==D&&(h[y+D]=x-_<<24|64<<16|0),d.bits=C,0}},{"../utils/common":41}],51:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,i){"use strict";var a=t("../utils/common");function n(t){for(var e=t.length;0<=--e;)t[e]=0}var s=256,r=286,o=30,l=15,h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);n(p);var f=new Array(60);n(f);var m=new Array(512);n(m);var g=new Array(256);n(g);var y=new Array(29);n(y);var k,v,b,w=new Array(o);function S(t,e,i,a,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=a,this.max_length=n,this.has_stree=t&&t.length}function x(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function T(t){return t<256?m[t]:m[256+(t>>>7)]}function A(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function E(t,e,i){t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,A(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function C(t,e,i){E(t,i[2*e],i[2*e+1])}function M(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,0<--e;);return i>>>1}function _(t,e,i){var a,n,s=new Array(16),r=0;for(a=1;a<=l;a++)s[a]=r=r+i[a-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=M(s[o]++,o))}}function B(t){var e;for(e=0;e<r;e++)t.dyn_ltree[2*e]=0;for(e=0;e<o;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function I(t){8<t.bi_valid?A(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function D(t,e,i,a){var n=2*e,s=2*i;return t[n]<t[s]||t[n]===t[s]&&a[e]<=a[i]}function P(t,e,i){for(var a=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&D(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!D(e,a,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=a}function L(t,e,i){var a,n,r,o,l=0;if(0!==t.last_lit)for(;a=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],n=t.pending_buf[t.l_buf+l],l++,0===a?C(t,n,e):(C(t,(r=g[n])+s+1,e),0!==(o=h[r])&&E(t,n-=y[r],o),C(t,r=T(--a),i),0!==(o=u[r])&&E(t,a-=w[r],o)),l<t.last_lit;);C(t,256,e)}function O(t,e){var i,a,n,s=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,i=0;i<h;i++)0!==s[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):s[2*i+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=r[2*n+1]);for(e.max_code=u,i=t.heap_len>>1;1<=i;i--)P(t,s,i);for(n=h;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],P(t,s,1),a=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=a,s[2*n]=s[2*i]+s[2*a],t.depth[n]=(t.depth[i]>=t.depth[a]?t.depth[i]:t.depth[a])+1,s[2*i+1]=s[2*a+1]=n,t.heap[1]=n++,P(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,a,n,s,r,o,h=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,m=e.stat_desc.max_length,g=0;for(s=0;s<=l;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;i<573;i++)m<(s=h[2*h[2*(a=t.heap[i])+1]+1]+1)&&(s=m,g++),h[2*a+1]=s,u<a||(t.bl_count[s]++,r=0,f<=a&&(r=p[a-f]),o=h[2*a],t.opt_len+=o*(s+r),d&&(t.static_len+=o*(c[2*a+1]+r)));if(0!==g){do{for(s=m-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[m]--,g-=2}while(0<g);for(s=m;0!==s;s--)for(a=t.bl_count[s];0!==a;)u<(n=t.heap[--i])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),a--)}}(t,e),_(s,u,t.bl_count)}function N(t,e,i){var a,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(i+1)+1]=65535,a=0;a<=i;a++)n=r,r=e[2*(a+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=n,h=(o=0)===r?(l=138,3):n===r?(l=6,3):(l=7,4))}function G(t,e,i){var a,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),a=0;a<=i;a++)if(n=r,r=e[2*(a+1)+1],!(++o<l&&n===r)){if(o<h)for(;C(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(C(t,n,t.bl_tree),o--),C(t,16,t.bl_tree),E(t,o-3,2)):o<=10?(C(t,17,t.bl_tree),E(t,o-3,3)):(C(t,18,t.bl_tree),E(t,o-11,7));s=n,h=(o=0)===r?(l=138,3):n===r?(l=6,3):(l=7,4)}}n(w);var R=!1;function F(t,e,i,n){E(t,0+(n?1:0),3),function(t,e,i,n){I(t),A(t,i),A(t,~i),a.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}(t,e,i)}i._tr_init=function(t){R||(function(){var t,e,i,a,n,s=new Array(16);for(a=i=0;a<28;a++)for(y[a]=i,t=0;t<1<<h[a];t++)g[i++]=a;for(g[i-1]=a,a=n=0;a<16;a++)for(w[a]=n,t=0;t<1<<u[a];t++)m[n++]=a;for(n>>=7;a<o;a++)for(w[a]=n<<7,t=0;t<1<<u[a]-7;t++)m[256+n++]=a;for(e=0;e<=l;e++)s[e]=0;for(t=0;t<=143;)p[2*t+1]=8,t++,s[8]++;for(;t<=255;)p[2*t+1]=9,t++,s[9]++;for(;t<=279;)p[2*t+1]=7,t++,s[7]++;for(;t<=287;)p[2*t+1]=8,t++,s[8]++;for(_(p,287,s),t=0;t<o;t++)f[2*t+1]=5,f[2*t]=M(t,5);k=new S(p,h,257,r,l),v=new S(f,u,0,o,l),b=new S(new Array(0),c,0,19,7)}(),R=!0),t.l_desc=new x(t.dyn_ltree,k),t.d_desc=new x(t.dyn_dtree,v),t.bl_desc=new x(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,B(t)},i._tr_stored_block=F,i._tr_flush_block=function(t,e,i,a){var n,r,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<s;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),O(t,t.l_desc),O(t,t.d_desc),o=function(t){var e;for(N(t,t.dyn_ltree,t.l_desc.max_code),N(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=i+5,i+4<=n&&-1!==e?F(t,e,i,a):4===t.strategy||r===n?(E(t,2+(a?1:0),3),L(t,p,f)):(E(t,4+(a?1:0),3),function(t,e,i,a){var n;for(E(t,e-257,5),E(t,i-1,5),E(t,a-4,4),n=0;n<a;n++)E(t,t.bl_tree[2*d[n]+1],3);G(t,t.dyn_ltree,e-1),G(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),L(t,t.dyn_ltree,t.dyn_dtree)),B(t),a&&I(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(g[i]+s+1)]++,t.dyn_dtree[2*T(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){E(t,2,3),C(t,256,p),function(t){16===t.bi_valid?(A(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":41}],53:[function(t,e,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,i){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)})),function(){function t(e){if(!(this instanceof t))return null==e?new t:new t(e);if("function"==typeof e)return this.random=e,this;arguments.length&&(this.seed=0);for(var i=0;i<arguments.length;i++){var a=0;if("[object String]"===Object.prototype.toString.call(arguments[i]))for(var n=0;n<arguments[i].length;n++){for(var s=0,r=0;r<arguments[i].length;r++)s=arguments[i].charCodeAt(r)+(s<<6)+(s<<16)-s;a+=s}else a=arguments[i];this.seed+=(arguments.length-i)*a}return this.mt=this.mersenne_twister(this.seed),this.bimd5=this.blueimp_md5(),this.random=function(){return this.mt.random(this.seed)},this}function e(t,e){if(t||(t={}),e)for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t}function i(t,e){if(t)throw new RangeError(e)}function a(t){return function(){return this.natural(t)}}function n(t,e){var i=Array.isArray(t),a=e||(i?new Array(t.length):{});return i?function(t,e){for(var i=0,a=t.length;a>i;i++)e[i]=t[i]}(t,a):function(t,e){for(var i,a=f(t),n=0,s=a.length;s>n;n++)e[i=a[n]]=t[i]||e[i]}(t,a),a}var s=9007199254740992,r="0123456789",o="abcdefghijklmnopqrstuvwxyz",l=o.toUpperCase(),h=r+"abcdef",u=Array.prototype.slice;t.prototype.VERSION="1.0.4";var c=function(){throw new Error("No Base64 encoder available.")};"function"==typeof btoa?c=btoa:"function"==typeof Buffer&&(c=function(t){return new Buffer(t).toString("base64")}),t.prototype.bool=function(t){return i((t=e(t,{likelihood:50})).likelihood<0||t.likelihood>100,"Chance: Likelihood accepts values from 0 to 100."),100*this.random()<t.likelihood},t.prototype.character=function(t){i((t=e(t)).alpha&&t.symbols,"Chance: Cannot specify both alpha and symbols.");var a,n,s="!@#$%^&*()[]";return a="lower"===t.casing?o:"upper"===t.casing?l:o+l,(n=t.pool?t.pool:t.alpha?a:t.symbols?s:a+r+s).charAt(this.natural({max:n.length-1}))},t.prototype.floating=function(t){i((t=e(t,{fixed:4})).fixed&&t.precision,"Chance: Cannot specify both fixed and precision.");var a=Math.pow(10,t.fixed),n=s/a,r=-n;i(t.min&&t.fixed&&t.min<r,"Chance: Min specified is out of range with fixed. Min should be, at least, "+r),i(t.max&&t.fixed&&t.max>n,"Chance: Max specified is out of range with fixed. Max should be, at most, "+n),t=e(t,{min:r,max:n});var o=(this.integer({min:t.min*a,max:t.max*a})/a).toFixed(t.fixed);return parseFloat(o)},t.prototype.integer=function(t){return i((t=e(t,{min:-9007199254740992,max:s})).min>t.max,"Chance: Min cannot be greater than Max."),Math.floor(this.random()*(t.max-t.min+1)+t.min)},t.prototype.natural=function(t){return i((t=e(t,{min:0,max:s})).min<0,"Chance: Min cannot be less than zero."),this.integer(t)},t.prototype.string=function(t){i((t=e(t,{length:this.natural({min:5,max:20})})).length<0,"Chance: Length cannot be less than zero.");var a=t.length;return this.n(this.character,a,t).join("")},t.prototype.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},t.prototype.mixin=function(e){for(var i in e)t.prototype[i]=e[i];return this},t.prototype.unique=function(t,e,a){i("function"!=typeof t,"Chance: The first argument must be a function.");var n=function(t,e){return-1!==t.indexOf(e)};a&&(n=a.comparator||n);for(var s,r=[],o=0,l=50*e,h=u.call(arguments,2);r.length<e;){var c=JSON.parse(JSON.stringify(h));if(n(r,s=t.apply(this,c))||(r.push(s),o=0),++o>l)throw new RangeError("Chance: num is likely too large for sample set")}return r},t.prototype.n=function(t,e){i("function"!=typeof t,"Chance: The first argument must be a function."),void 0===e&&(e=1);var a=e,n=[],s=u.call(arguments,2);for(a=Math.max(0,a);a--;null)n.push(t.apply(this,s));return n},t.prototype.pad=function(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t},t.prototype.pick=function(t,e){if(0===t.length)throw new RangeError("Chance: Cannot pick() from an empty array");return e&&1!==e?this.shuffle(t).slice(0,e):t[this.natural({max:t.length-1})]},t.prototype.pickone=function(t){if(0===t.length)throw new RangeError("Chance: Cannot pickone() from an empty array");return t[this.natural({max:t.length-1})]},t.prototype.pickset=function(t,e){if(0===e)return[];if(0===t.length)throw new RangeError("Chance: Cannot pickset() from an empty array");if(0>e)throw new RangeError("Chance: count must be positive number");return e&&1!==e?this.shuffle(t).slice(0,e):[this.pickone(t)]},t.prototype.shuffle=function(t){for(var e=t.slice(0),i=[],a=0,n=Number(e.length),s=0;n>s;s++)a=this.natural({max:e.length-1}),i[s]=e[a],e.splice(a,1);return i},t.prototype.weighted=function(t,e,i){if(t.length!==e.length)throw new RangeError("Chance: length of array and weights must match");for(var a,n=0,s=0;s<e.length;++s)(a=e[s])>0&&(n+=a);if(0===n)throw new RangeError("Chance: no valid entries in array weights");var r,o=this.random()*n,l=0,h=-1;for(s=0;s<e.length;++s){if(l+=a=e[s],a>0){if(l>=o){r=s;break}h=s}s===e.length-1&&(r=h)}var u=t[r];return(i=void 0!==i&&i)&&(t.splice(r,1),e.splice(r,1)),u},t.prototype.paragraph=function(t){var i=(t=e(t)).sentences||this.natural({min:3,max:7});return this.n(this.sentence,i).join(" ")},t.prototype.sentence=function(t){var i,a=(t=e(t)).words||this.natural({min:12,max:18}),n=t.punctuation;return i=this.n(this.word,a).join(" "),i=this.capitalize(i),!1===n||/^[\.\?;!:]$/.test(n)||(n="."),n&&(i+=n),i},t.prototype.syllable=function(t){for(var i,a=(t=e(t)).length||this.natural({min:2,max:3}),n="bcdfghjklmnprstvwz",s="aeiou",r="",o=0;a>o;o++)r+=i=0===o?this.character({pool:"bcdfghjklmnprstvwzaeiou"}):-1===n.indexOf(i)?this.character({pool:n}):this.character({pool:s});return t.capitalize&&(r=this.capitalize(r)),r},t.prototype.word=function(t){i((t=e(t)).syllables&&t.length,"Chance: Cannot specify both syllables AND length.");var a=t.syllables||this.natural({min:1,max:3}),n="";if(t.length){do{n+=this.syllable()}while(n.length<t.length);n=n.substring(0,t.length)}else for(var s=0;a>s;s++)n+=this.syllable();return t.capitalize&&(n=this.capitalize(n)),n},t.prototype.age=function(t){var i;switch((t=e(t)).type){case"child":i={min:0,max:12};break;case"teen":i={min:13,max:19};break;case"adult":i={min:18,max:65};break;case"senior":i={min:65,max:100};break;case"all":i={min:0,max:100};break;default:i={min:18,max:65}}return this.natural(i)},t.prototype.birthday=function(t){var i=this.age(t),a=(new Date).getFullYear();if(t&&t.type){var n=new Date,s=new Date;n.setFullYear(a-i-1),s.setFullYear(a-i),t=e(t,{min:n,max:s})}else t=e(t,{year:a-i});return this.date(t)},t.prototype.cpf=function(t){t=e(t,{formatted:!0});var i=this.n(this.natural,9,{max:9}),a=2*i[8]+3*i[7]+4*i[6]+5*i[5]+6*i[4]+7*i[3]+8*i[2]+9*i[1]+10*i[0];(a=11-a%11)>=10&&(a=0);var n=2*a+3*i[8]+4*i[7]+5*i[6]+6*i[5]+7*i[4]+8*i[3]+9*i[2]+10*i[1]+11*i[0];(n=11-n%11)>=10&&(n=0);var s=""+i[0]+i[1]+i[2]+"."+i[3]+i[4]+i[5]+"."+i[6]+i[7]+i[8]+"-"+a+n;return t.formatted?s:s.replace(/\D/g,"")},t.prototype.cnpj=function(t){t=e(t,{formatted:!0});var i=this.n(this.natural,12,{max:12}),a=2*i[11]+3*i[10]+4*i[9]+5*i[8]+6*i[7]+7*i[6]+8*i[5]+9*i[4]+2*i[3]+3*i[2]+4*i[1]+5*i[0];2>(a=11-a%11)&&(a=0);var n=2*a+3*i[11]+4*i[10]+5*i[9]+6*i[8]+7*i[7]+8*i[6]+9*i[5]+2*i[4]+3*i[3]+4*i[2]+5*i[1]+6*i[0];2>(n=11-n%11)&&(n=0);var s=""+i[0]+i[1]+"."+i[2]+i[3]+i[4]+"."+i[5]+i[6]+i[7]+"/"+i[8]+i[9]+i[10]+i[11]+"-"+a+n;return t.formatted?s:s.replace(/\D/g,"")},t.prototype.first=function(t){return t=e(t,{gender:this.gender(),nationality:"en"}),this.pick(this.get("firstNames")[t.gender.toLowerCase()][t.nationality.toLowerCase()])},t.prototype.gender=function(t){return t=e(t,{extraGenders:[]}),this.pick(["Male","Female"].concat(t.extraGenders))},t.prototype.last=function(t){return t=e(t,{nationality:"en"}),this.pick(this.get("lastNames")[t.nationality.toLowerCase()])},t.prototype.israelId=function(){for(var t=this.string({pool:"0123456789",length:8}),e=0,i=0;i<t.length;i++){var a=t[i]*(i/2===parseInt(i/2)?1:2);a=this.pad(a,2).toString(),e+=a=parseInt(a[0])+parseInt(a[1])}return t+(10-parseInt(e.toString().slice(-1))).toString().slice(-1)},t.prototype.mrz=function(t){var i=function(t){var e="<ABCDEFGHIJKLMNOPQRSTUVWXYXZ".split(""),i=[7,3,1],a=0;return"string"!=typeof t&&(t=t.toString()),t.split("").forEach((function(t,n){var s=e.indexOf(t);t=-1!==s?0===s?0:s+9:parseInt(t,10),a+=t*=i[n%i.length]})),a%10},a=this;return function(t){var e=function(t){return new Array(t+1).join("<")},a=["P<",t.issuer,t.last.toUpperCase(),"<<",t.first.toUpperCase(),e(39-(t.last.length+t.first.length+2)),t.passportNumber,i(t.passportNumber),t.nationality,t.dob,i(t.dob),t.gender,t.expiry,i(t.expiry),e(14),i(e(14))].join("");return a+i(a.substr(44,10)+a.substr(57,7)+a.substr(65,7))}(t=e(t,{first:this.first(),last:this.last(),passportNumber:this.integer({min:1e8,max:999999999}),dob:function(){var t=a.birthday({type:"adult"});return[t.getFullYear().toString().substr(2),a.pad(t.getMonth()+1,2),a.pad(t.getDate(),2)].join("")}(),expiry:function(){var t=new Date;return[(t.getFullYear()+5).toString().substr(2),a.pad(t.getMonth()+1,2),a.pad(t.getDate(),2)].join("")}(),gender:"Female"===this.gender()?"F":"M",issuer:"GBR",nationality:"GBR"}))},t.prototype.name=function(t){t=e(t);var i,a=this.first(t),n=this.last(t);return i=t.middle?a+" "+this.first(t)+" "+n:t.middle_initial?a+" "+this.character({alpha:!0,casing:"upper"})+". "+n:a+" "+n,t.prefix&&(i=this.prefix(t)+" "+i),t.suffix&&(i=i+" "+this.suffix(t)),i},t.prototype.name_prefixes=function(t){var e=[{name:"Doctor",abbreviation:"Dr."}];return("male"===(t=(t=t||"all").toLowerCase())||"all"===t)&&e.push({name:"Mister",abbreviation:"Mr."}),("female"===t||"all"===t)&&(e.push({name:"Miss",abbreviation:"Miss"}),e.push({name:"Misses",abbreviation:"Mrs."})),e},t.prototype.prefix=function(t){return this.name_prefix(t)},t.prototype.name_prefix=function(t){return(t=e(t,{gender:"all"})).full?this.pick(this.name_prefixes(t.gender)).name:this.pick(this.name_prefixes(t.gender)).abbreviation},t.prototype.HIDN=function(){var t="";return(t+=this.string({pool:"0123456789",length:6}))+this.string({pool:"ABCDEFGHIJKLMNOPQRSTUVWXYXZ",length:2})},t.prototype.ssn=function(t){var i="1234567890",a=(t=e(t,{ssnFour:!1,dashes:!0})).dashes?"-":"";return t.ssnFour?this.string({pool:i,length:4}):this.string({pool:i,length:3})+a+this.string({pool:i,length:2})+a+this.string({pool:i,length:4})},t.prototype.name_suffixes=function(){return[{name:"Doctor of Osteopathic Medicine",abbreviation:"D.O."},{name:"Doctor of Philosophy",abbreviation:"Ph.D."},{name:"Esquire",abbreviation:"Esq."},{name:"Junior",abbreviation:"Jr."},{name:"Juris Doctor",abbreviation:"J.D."},{name:"Master of Arts",abbreviation:"M.A."},{name:"Master of Business Administration",abbreviation:"M.B.A."},{name:"Master of Science",abbreviation:"M.S."},{name:"Medical Doctor",abbreviation:"M.D."},{name:"Senior",abbreviation:"Sr."},{name:"The Third",abbreviation:"III"},{name:"The Fourth",abbreviation:"IV"},{name:"Bachelor of Engineering",abbreviation:"B.E"},{name:"Bachelor of Technology",abbreviation:"B.TECH"}]},t.prototype.suffix=function(t){return this.name_suffix(t)},t.prototype.name_suffix=function(t){return(t=e(t)).full?this.pick(this.name_suffixes()).name:this.pick(this.name_suffixes()).abbreviation},t.prototype.nationalities=function(){return this.get("nationalities")},t.prototype.nationality=function(){return this.pick(this.nationalities()).name},t.prototype.android_id=function(){return"APA91"+this.string({pool:"0123456789abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",length:178})},t.prototype.apple_token=function(){return this.string({pool:"abcdef1234567890",length:64})},t.prototype.wp8_anid2=function(){return c(this.hash({length:32}))},t.prototype.wp7_anid=function(){return"A="+this.guid().replace(/-/g,"").toUpperCase()+"&E="+this.hash({length:3})+"&W="+this.integer({min:0,max:9})},t.prototype.bb_pin=function(){return this.hash({length:8})},t.prototype.avatar=function(t){var i={protocol:null,email:null,fileExtension:null,size:null,fallback:null,rating:null};if(t)if("string"==typeof t)i.email=t,t={};else{if("object"!=typeof t)return null;if("Array"===t.constructor)return null}else i.email=this.email(),t={};return(i=e(t,i)).email||(i.email=this.email()),i.protocol={http:"http",https:"https"}[i.protocol]?i.protocol+":":"",i.size=parseInt(i.size,0)?i.size:"",i.rating={g:"g",pg:"pg",r:"r",x:"x"}[i.rating]?i.rating:"",i.fallback={404:"404",mm:"mm",identicon:"identicon",monsterid:"monsterid",wavatar:"wavatar",retro:"retro",blank:"blank"}[i.fallback]?i.fallback:"",i.fileExtension={bmp:"bmp",gif:"gif",jpg:"jpg",png:"png"}[i.fileExtension]?i.fileExtension:"",i.protocol+"//www.gravatar.com/avatar/"+this.bimd5.md5(i.email)+(i.fileExtension?"."+i.fileExtension:"")+(i.size||i.rating||i.fallback?"?":"")+(i.size?"&s="+i.size.toString():"")+(i.rating?"&r="+i.rating:"")+(i.fallback?"&d="+i.fallback:"")},t.prototype.color=function(t){function i(t,e){return[t,t,t].join(e||"")}function a(t){var e=t?"rgba":"rgb",a=t?","+this.floating({min:0,max:1}):"";return e+"("+(r?i(this.natural({max:255}),","):this.natural({max:255})+","+this.natural({max:255})+","+this.natural({max:255}))+a+")"}function n(t,e,a){return(a?"#":"")+(r?i(this.hash({length:t})):this.hash({length:e}))}var s,r=(t=e(t,{format:this.pick(["hex","shorthex","rgb","rgba","0x","name"]),grayscale:!1,casing:"lower"})).grayscale;if("hex"===t.format)s=n.call(this,2,6,!0);else if("shorthex"===t.format)s=n.call(this,1,3,!0);else if("rgb"===t.format)s=a.call(this,!1);else if("rgba"===t.format)s=a.call(this,!0);else{if("0x"!==t.format){if("name"===t.format)return this.pick(this.get("colorNames"));throw new RangeError('Invalid format provided. Please provide one of "hex", "shorthex", "rgb", "rgba", "0x" or "name".')}s="0x"+n.call(this,2,6)}return"upper"===t.casing&&(s=s.toUpperCase()),s},t.prototype.domain=function(t){return t=e(t),this.word()+"."+(t.tld||this.tld())},t.prototype.email=function(t){return t=e(t),this.word({length:t.length})+"@"+(t.domain||this.domain())},t.prototype.fbid=function(){return parseInt("10000"+this.natural({max:1e11}),10)},t.prototype.google_analytics=function(){return"UA-"+this.pad(this.natural({max:999999}),6)+"-"+this.pad(this.natural({max:99}),2)},t.prototype.hashtag=function(){return"#"+this.word()},t.prototype.ip=function(){return this.natural({min:1,max:254})+"."+this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({min:1,max:254})},t.prototype.ipv6=function(){return this.n(this.hash,8,{length:4}).join(":")},t.prototype.klout=function(){return this.natural({min:1,max:99})},t.prototype.semver=function(t){t=e(t,{include_prerelease:!0});var i=this.pickone(["^","~","<",">","<=",">=","="]);t.range&&(i=t.range);var a="";return t.include_prerelease&&(a=this.weighted(["","-dev","-beta","-alpha"],[50,10,5,1])),i+this.rpg("3d10").join(".")+a},t.prototype.tlds=function(){return["com","org","edu","gov","co.uk","net","io","ac","ad","ae","af","ag","ai","al","am","an","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","bq","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw"]},t.prototype.tld=function(){return this.pick(this.tlds())},t.prototype.twitter=function(){return"@"+this.word()},t.prototype.url=function(t){var i=(t=e(t,{protocol:"http",domain:this.domain(t),domain_prefix:"",path:this.word(),extensions:[]})).extensions.length>0?"."+this.pick(t.extensions):"",a=t.domain_prefix?t.domain_prefix+"."+t.domain:t.domain;return t.protocol+"://"+a+"/"+t.path+i},t.prototype.port=function(){return this.integer({min:0,max:65535})},t.prototype.address=function(t){return t=e(t),this.natural({min:5,max:2e3})+" "+this.street(t)},t.prototype.altitude=function(t){return t=e(t,{fixed:5,min:0,max:8848}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},t.prototype.areacode=function(t){t=e(t,{parens:!0});var i=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return t.parens?"("+i+")":i},t.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},t.prototype.coordinates=function(t){return this.latitude(t)+", "+this.longitude(t)},t.prototype.countries=function(){return this.get("countries")},t.prototype.country=function(t){t=e(t);var i=this.pick(this.countries());return t.full?i.name:i.abbreviation},t.prototype.depth=function(t){return t=e(t,{fixed:5,min:-10994,max:0}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},t.prototype.geohash=function(t){return t=e(t,{length:7}),this.string({length:t.length,pool:"0123456789bcdefghjkmnpqrstuvwxyz"})},t.prototype.geojson=function(t){return this.latitude(t)+", "+this.longitude(t)+", "+this.altitude(t)},t.prototype.latitude=function(t){return t=e(t,{fixed:5,min:-90,max:90}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},t.prototype.longitude=function(t){return t=e(t,{fixed:5,min:-180,max:180}),this.floating({min:t.min,max:t.max,fixed:t.fixed})},t.prototype.phone=function(t){var i,a,n=this,s=function(t){var e=[];return t.sections.forEach((function(t){e.push(n.string({pool:"0123456789",length:t}))})),t.area+e.join(" ")};switch((t=e(t,{formatted:!0,country:"us",mobile:!1})).formatted||(t.parens=!1),t.country){case"fr":t.mobile?(i=this.pick(["06","07"])+n.string({pool:"0123456789",length:8}),a=t.formatted?i.match(/../g).join(" "):i):(i=this.pick(["01"+this.pick(["30","34","39","40","41","42","43","44","45","46","47","48","49","53","55","56","58","60","64","69","70","72","73","74","75","76","77","78","79","80","81","82","83"])+n.string({pool:"0123456789",length:6}),"02"+this.pick(["14","18","22","23","28","29","30","31","32","33","34","35","36","37","38","40","41","43","44","45","46","47","48","49","50","51","52","53","54","56","57","61","62","69","72","76","77","78","85","90","96","97","98","99"])+n.string({pool:"0123456789",length:6}),"03"+this.pick(["10","20","21","22","23","24","25","26","27","28","29","39","44","45","51","52","54","55","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","80","81","82","83","84","85","86","87","88","89","90"])+n.string({pool:"0123456789",length:6}),"04"+this.pick(["11","13","15","20","22","26","27","30","32","34","37","42","43","44","50","56","57","63","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","88","89","90","91","92","93","94","95","97","98"])+n.string({pool:"0123456789",length:6}),"05"+this.pick(["08","16","17","19","24","31","32","33","34","35","40","45","46","47","49","53","55","56","57","58","59","61","62","63","64","65","67","79","81","82","86","87","90","94"])+n.string({pool:"0123456789",length:6}),"09"+n.string({pool:"0123456789",length:8})]),a=t.formatted?i.match(/../g).join(" "):i);break;case"uk":t.mobile?(i=this.pick([{area:"07"+this.pick(["4","5","7","8","9"]),sections:[2,6]},{area:"07624 ",sections:[6]}]),a=t.formatted?s(i):s(i).replace(" ","")):(i=this.pick([{area:"01"+this.character({pool:"234569"})+"1 ",sections:[3,4]},{area:"020 "+this.character({pool:"378"}),sections:[3,4]},{area:"023 "+this.character({pool:"89"}),sections:[3,4]},{area:"024 7",sections:[3,4]},{area:"028 "+this.pick(["25","28","37","71","82","90","92","95"]),sections:[2,4]},{area:"012"+this.pick(["04","08","54","76","97","98"])+" ",sections:[6]},{area:"013"+this.pick(["63","64","84","86"])+" ",sections:[6]},{area:"014"+this.pick(["04","20","60","61","80","88"])+" ",sections:[6]},{area:"015"+this.pick(["24","27","62","66"])+" ",sections:[6]},{area:"016"+this.pick(["06","29","35","47","59","95"])+" ",sections:[6]},{area:"017"+this.pick(["26","44","50","68"])+" ",sections:[6]},{area:"018"+this.pick(["27","37","84","97"])+" ",sections:[6]},{area:"019"+this.pick(["00","05","35","46","49","63","95"])+" ",sections:[6]}]),a=t.formatted?s(i):s(i).replace(" ","","g"));break;case"us":var r=this.areacode(t).toString(),o=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),l=this.natural({min:1e3,max:9999}).toString();a=t.formatted?r+" "+o+"-"+l:r+o+l}return a},t.prototype.postal=function(){return this.character({pool:"XVTSRPNKLMHJGECBA"})+this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+" "+(this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+this.natural({max:9}))},t.prototype.counties=function(t){return t=e(t,{country:"uk"}),this.get("counties")[t.country.toLowerCase()]},t.prototype.county=function(t){return this.pick(this.counties(t)).name},t.prototype.provinces=function(t){return t=e(t,{country:"ca"}),this.get("provinces")[t.country.toLowerCase()]},t.prototype.province=function(t){return t&&t.full?this.pick(this.provinces(t)).name:this.pick(this.provinces(t)).abbreviation},t.prototype.state=function(t){return t&&t.full?this.pick(this.states(t)).name:this.pick(this.states(t)).abbreviation},t.prototype.states=function(t){var i;switch((t=e(t,{country:"us",us_states_and_dc:!0})).country.toLowerCase()){case"us":var a=this.get("us_states_and_dc"),n=this.get("territories"),s=this.get("armed_forces");i=[],t.us_states_and_dc&&(i=i.concat(a)),t.territories&&(i=i.concat(n)),t.armed_forces&&(i=i.concat(s));break;case"it":i=this.get("country_regions")[t.country.toLowerCase()];break;case"uk":i=this.get("counties")[t.country.toLowerCase()]}return i},t.prototype.street=function(t){var i;switch((t=e(t,{country:"us",syllables:2})).country.toLowerCase()){case"us":i=this.word({syllables:t.syllables}),i=this.capitalize(i),i+=" ",i+=t.short_suffix?this.street_suffix(t).abbreviation:this.street_suffix(t).name;break;case"it":i=this.word({syllables:t.syllables}),i=this.capitalize(i),i=(t.short_suffix?this.street_suffix(t).abbreviation:this.street_suffix(t).name)+" "+i}return i},t.prototype.street_suffix=function(t){return t=e(t,{country:"us"}),this.pick(this.street_suffixes(t))},t.prototype.street_suffixes=function(t){return t=e(t,{country:"us"}),this.get("street_suffixes")[t.country.toLowerCase()]},t.prototype.zip=function(t){var e=this.n(this.natural,5,{max:9});return t&&!0===t.plusfour&&(e.push("-"),e=e.concat(this.n(this.natural,4,{max:9}))),e.join("")},t.prototype.ampm=function(){return this.bool()?"am":"pm"},t.prototype.date=function(t){var i,a;if(t&&(t.min||t.max)){var n=void 0!==(t=e(t,{american:!0,string:!1})).min?t.min.getTime():1,s=void 0!==t.max?t.max.getTime():864e13;a=new Date(this.integer({min:n,max:s}))}else{var r=this.month({raw:!0}),o=r.days;t&&t.month&&(o=this.get("months")[(t.month%12+12)%12].days),t=e(t,{year:parseInt(this.year(),10),month:r.numeric-1,day:this.natural({min:1,max:o}),hour:this.hour({twentyfour:!0}),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1}),a=new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond)}return i=t.american?a.getMonth()+1+"/"+a.getDate()+"/"+a.getFullYear():a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear(),t.string?i:a},t.prototype.hammertime=function(t){return this.date(t).getTime()},t.prototype.hour=function(t){return i((t=e(t,{min:t&&t.twentyfour?0:1,max:t&&t.twentyfour?23:12})).min<0,"Chance: Min cannot be less than 0."),i(t.twentyfour&&t.max>23,"Chance: Max cannot be greater than 23 for twentyfour option."),i(!t.twentyfour&&t.max>12,"Chance: Max cannot be greater than 12."),i(t.min>t.max,"Chance: Min cannot be greater than Max."),this.natural({min:t.min,max:t.max})},t.prototype.millisecond=function(){return this.natural({max:999})},t.prototype.minute=t.prototype.second=function(t){return i((t=e(t,{min:0,max:59})).min<0,"Chance: Min cannot be less than 0."),i(t.max>59,"Chance: Max cannot be greater than 59."),i(t.min>t.max,"Chance: Min cannot be greater than Max."),this.natural({min:t.min,max:t.max})},t.prototype.month=function(t){i((t=e(t,{min:1,max:12})).min<1,"Chance: Min cannot be less than 1."),i(t.max>12,"Chance: Max cannot be greater than 12."),i(t.min>t.max,"Chance: Min cannot be greater than Max.");var a=this.pick(this.months().slice(t.min-1,t.max));return t.raw?a:a.name},t.prototype.months=function(){return this.get("months")},t.prototype.second=function(){return this.natural({max:59})},t.prototype.timestamp=function(){return this.natural({min:1,max:parseInt((new Date).getTime()/1e3,10)})},t.prototype.weekday=function(t){var i=["Monday","Tuesday","Wednesday","Thursday","Friday"];return(t=e(t,{weekday_only:!1})).weekday_only||(i.push("Saturday"),i.push("Sunday")),this.pickone(i)},t.prototype.year=function(t){return(t=e(t,{min:(new Date).getFullYear()})).max=void 0!==t.max?t.max:t.min+100,this.natural(t).toString()},t.prototype.cc=function(t){var i,a,n;return a=(i=(t=e(t)).type?this.cc_type({name:t.type,raw:!0}):this.cc_type({raw:!0})).prefix.split(""),n=i.length-i.prefix.length-1,(a=a.concat(this.n(this.integer,n,{min:0,max:9}))).push(this.luhn_calculate(a.join(""))),a.join("")},t.prototype.cc_types=function(){return this.get("cc_types")},t.prototype.cc_type=function(t){t=e(t);var i=this.cc_types(),a=null;if(t.name){for(var n=0;n<i.length;n++)if(i[n].name===t.name||i[n].short_name===t.name){a=i[n];break}if(null===a)throw new RangeError("Credit card type '"+t.name+"'' is not supported")}else a=this.pick(i);return t.raw?a:a.name},t.prototype.currency_types=function(){return this.get("currency_types")},t.prototype.currency=function(){return this.pick(this.currency_types())},t.prototype.timezones=function(){return this.get("timezones")},t.prototype.timezone=function(){return this.pick(this.timezones())},t.prototype.currency_pair=function(t){var e=this.unique(this.currency,2,{comparator:function(t,e){return t.reduce((function(t,i){return t||i.code===e.code}),!1)}});return t?e[0].code+"/"+e[1].code:e},t.prototype.dollar=function(t){t=e(t,{max:1e4,min:0});var i=this.floating({min:t.min,max:t.max,fixed:2}).toString(),a=i.split(".")[1];return void 0===a?i+=".00":a.length<2&&(i+="0"),0>i?"-$"+i.replace("-",""):"$"+i},t.prototype.euro=function(t){return Number(this.dollar(t).replace("$","")).toLocaleString()+""},t.prototype.exp=function(t){t=e(t);var i={};return i.year=this.exp_year(),i.year===(new Date).getFullYear().toString()?i.month=this.exp_month({future:!0}):i.month=this.exp_month(),t.raw?i:i.month+"/"+i.year},t.prototype.exp_month=function(t){t=e(t);var i,a,n=(new Date).getMonth()+1;if(t.future&&12!==n)do{i=this.month({raw:!0}).numeric,a=parseInt(i,10)}while(n>=a);else i=this.month({raw:!0}).numeric;return i},t.prototype.exp_year=function(){var t=(new Date).getMonth()+1,e=(new Date).getFullYear();return this.year({min:12===t?e+1:e,max:e+10})},t.prototype.vat=function(t){switch((t=e(t,{country:"it"})).country.toLowerCase()){case"it":return this.it_vat()}},t.prototype.it_vat=function(){var t=this.natural({min:1,max:18e5});return(t=this.pad(t,7)+this.pad(this.pick(this.provinces({country:"it"})).code,3))+this.luhn_calculate(t)},t.prototype.cf=function(t){var e=(t=t||{}).gender?t.gender:this.gender(),i=t.first?t.first:this.first({gender:e,nationality:"it"}),a=t.last?t.last:this.last({nationality:"it"}),n=t.birthday?t.birthday:this.birthday(),s=t.city?t.city:this.pickone(["A","B","C","D","E","F","G","H","I","L","M","Z"])+this.pad(this.natural({max:999}),3),r=[],o=function(t,e){var i,a=[];return t.length<3?a=t.split("").concat("XXX".split("")).splice(0,3):((i=t.toUpperCase().split("").map((function(t){return-1!=="BCDFGHJKLMNPRSTVWZ".indexOf(t)?t:void 0})).join("")).length>3&&(i=e?i.substr(0,3):i[0]+i.substr(2,2)),i.length<3&&(a=i,i=t.toUpperCase().split("").map((function(t){return-1!=="AEIOU".indexOf(t)?t:void 0})).join("").substr(0,3-a.length)),a+=i),a};return r=r.concat(o(a,!0),o(i),function(t,e,i){return t.getFullYear().toString().substr(2)+["A","B","C","D","E","H","L","M","P","R","S","T"][t.getMonth()]+i.pad(t.getDate()+("female"===e.toLowerCase()?40:0),2)}(n,e,this),s.toUpperCase().split("")).join(""),(r+=function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0,s=0;15>s;s++)n+=s%2!=0?a.indexOf(i[e.indexOf(t[s])]):"BAKPLCQDREVOSFTGUHMINJWZYX".indexOf(i[e.indexOf(t[s])]);return a[n%26]}(r.toUpperCase())).toUpperCase()},t.prototype.pl_pesel=function(){for(var t=this.natural({min:1,max:9999999999}),e=this.pad(t,10).split(""),i=0;i<e.length;i++)e[i]=parseInt(e[i]);var a=(1*e[0]+3*e[1]+7*e[2]+9*e[3]+1*e[4]+3*e[5]+7*e[6]+9*e[7]+1*e[8]+3*e[9])%10;return 0!==a&&(a=10-a),e.join("")+a},t.prototype.pl_nip=function(){for(var t=this.natural({min:1,max:999999999}),e=this.pad(t,9).split(""),i=0;i<e.length;i++)e[i]=parseInt(e[i]);var a=(6*e[0]+5*e[1]+7*e[2]+2*e[3]+3*e[4]+4*e[5]+5*e[6]+6*e[7]+7*e[8])%11;return 10===a?this.pl_nip():e.join("")+a},t.prototype.pl_regon=function(){for(var t=this.natural({min:1,max:99999999}),e=this.pad(t,8).split(""),i=0;i<e.length;i++)e[i]=parseInt(e[i]);var a=(8*e[0]+9*e[1]+2*e[2]+3*e[3]+4*e[4]+5*e[5]+6*e[6]+7*e[7])%11;return 10===a&&(a=0),e.join("")+a},t.prototype.d4=a({min:1,max:4}),t.prototype.d6=a({min:1,max:6}),t.prototype.d8=a({min:1,max:8}),t.prototype.d10=a({min:1,max:10}),t.prototype.d12=a({min:1,max:12}),t.prototype.d20=a({min:1,max:20}),t.prototype.d30=a({min:1,max:30}),t.prototype.d100=a({min:1,max:100}),t.prototype.rpg=function(t,i){if(i=e(i),t){var a=t.toLowerCase().split("d"),n=[];if(2!==a.length||!parseInt(a[0],10)||!parseInt(a[1],10))throw new Error("Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die");for(var s=a[0];s>0;s--)n[s-1]=this.natural({min:1,max:a[1]});return void 0!==i.sum&&i.sum?n.reduce((function(t,e){return t+e})):n}throw new RangeError("A type of die roll must be included")},t.prototype.guid=function(t){t=e(t,{version:5});var i="abcdef1234567890";return this.string({pool:i,length:8})+"-"+this.string({pool:i,length:4})+"-"+t.version+this.string({pool:i,length:3})+"-"+this.string({pool:"ab89",length:1})+this.string({pool:i,length:3})+"-"+this.string({pool:i,length:12})},t.prototype.hash=function(t){var i="upper"===(t=e(t,{length:40,casing:"lower"})).casing?h.toUpperCase():h;return this.string({pool:i,length:t.length})},t.prototype.luhn_check=function(t){var e=t.toString();return+e.substring(e.length-1)===this.luhn_calculate(+e.substring(0,e.length-1))},t.prototype.luhn_calculate=function(t){for(var e,i=t.toString().split("").reverse(),a=0,n=0,s=i.length;s>n;++n)e=+i[n],n%2==0&&((e*=2)>9&&(e-=9)),a+=e;return 9*a%10},t.prototype.md5=function(t){var i={str:"",key:null,raw:!1};if(t)if("string"==typeof t)i.str=t,t={};else{if("object"!=typeof t)return null;if("Array"===t.constructor)return null}else i.str=this.string(),t={};if(!(i=e(t,i)).str)throw new Error("A parameter is required to return an md5 hash.");return this.bimd5.md5(i.str,i.key,i.raw)},t.prototype.file=function(t){var e,i=t||{},a="fileExtension",n=Object.keys(this.get("fileExtension"));if(e=this.word({length:i.length}),i.extention)return e+"."+i.extention;if(i.extentions){if(Array.isArray(i.extentions))return e+"."+this.pickone(i.extentions);if(i.extentions.constructor===Object){var s=i.extentions,r=Object.keys(s);return e+"."+this.pickone(s[this.pickone(r)])}throw new Error("Expect collection of type Array or Object to be passed as an argument ")}if(i.fileType){var o=i.fileType;if(-1!==n.indexOf(o))return e+"."+this.pickone(this.get(a)[o]);throw new Error("Expect file type value to be 'raster', 'vector', '3d' or 'document' ")}return e+"."+this.pickone(this.get(a)[this.pickone(n)])};var d={firstNames:{male:{en:["James","John","Robert","Michael","William","David","Richard","Joseph","Charles","Thomas","Christopher","Daniel","Matthew","George","Donald","Anthony","Paul","Mark","Edward","Steven","Kenneth","Andrew","Brian","Joshua","Kevin","Ronald","Timothy","Jason","Jeffrey","Frank","Gary","Ryan","Nicholas","Eric","Stephen","Jacob","Larry","Jonathan","Scott","Raymond","Justin","Brandon","Gregory","Samuel","Benjamin","Patrick","Jack","Henry","Walter","Dennis","Jerry","Alexander","Peter","Tyler","Douglas","Harold","Aaron","Jose","Adam","Arthur","Zachary","Carl","Nathan","Albert","Kyle","Lawrence","Joe","Willie","Gerald","Roger","Keith","Jeremy","Terry","Harry","Ralph","Sean","Jesse","Roy","Louis","Billy","Austin","Bruce","Eugene","Christian","Bryan","Wayne","Russell","Howard","Fred","Ethan","Jordan","Philip","Alan","Juan","Randy","Vincent","Bobby","Dylan","Johnny","Phillip","Victor","Clarence","Ernest","Martin","Craig","Stanley","Shawn","Travis","Bradley","Leonard","Earl","Gabriel","Jimmy","Francis","Todd","Noah","Danny","Dale","Cody","Carlos","Allen","Frederick","Logan","Curtis","Alex","Joel","Luis","Norman","Marvin","Glenn","Tony","Nathaniel","Rodney","Melvin","Alfred","Steve","Cameron","Chad","Edwin","Caleb","Evan","Antonio","Lee","Herbert","Jeffery","Isaac","Derek","Ricky","Marcus","Theodore","Elijah","Luke","Jesus","Eddie","Troy","Mike","Dustin","Ray","Adrian","Bernard","Leroy","Angel","Randall","Wesley","Ian","Jared","Mason","Hunter","Calvin","Oscar","Clifford","Jay","Shane","Ronnie","Barry","Lucas","Corey","Manuel","Leo","Tommy","Warren","Jackson","Isaiah","Connor","Don","Dean","Jon","Julian","Miguel","Bill","Lloyd","Charlie","Mitchell","Leon","Jerome","Darrell","Jeremiah","Alvin","Brett","Seth","Floyd","Jim","Blake","Micheal","Gordon","Trevor","Lewis","Erik","Edgar","Vernon","Devin","Gavin","Jayden","Chris","Clyde","Tom","Derrick","Mario","Brent","Marc","Herman","Chase","Dominic","Ricardo","Franklin","Maurice","Max","Aiden","Owen","Lester","Gilbert","Elmer","Gene","Francisco","Glen","Cory","Garrett","Clayton","Sam","Jorge","Chester","Alejandro","Jeff","Harvey","Milton","Cole","Ivan","Andre","Duane","Landon"],it:["Adolfo","Alberto","Aldo","Alessandro","Alessio","Alfredo","Alvaro","Andrea","Angelo","Angiolo","Antonino","Antonio","Attilio","Benito","Bernardo","Bruno","Carlo","Cesare","Christian","Claudio","Corrado","Cosimo","Cristian","Cristiano","Daniele","Dario","David","Davide","Diego","Dino","Domenico","Duccio","Edoardo","Elia","Elio","Emanuele","Emiliano","Emilio","Enrico","Enzo","Ettore","Fabio","Fabrizio","Federico","Ferdinando","Fernando","Filippo","Francesco","Franco","Gabriele","Giacomo","Giampaolo","Giampiero","Giancarlo","Gianfranco","Gianluca","Gianmarco","Gianni","Gino","Giorgio","Giovanni","Giuliano","Giulio","Giuseppe","Graziano","Gregorio","Guido","Iacopo","Jacopo","Lapo","Leonardo","Lorenzo","Luca","Luciano","Luigi","Manuel","Marcello","Marco","Marino","Mario","Massimiliano","Massimo","Matteo","Mattia","Maurizio","Mauro","Michele","Mirko","Mohamed","Nello","Neri","Niccol","Nicola","Osvaldo","Otello","Paolo","Pier Luigi","Piero","Pietro","Raffaele","Remo","Renato","Renzo","Riccardo","Roberto","Rolando","Romano","Salvatore","Samuele","Sandro","Sergio","Silvano","Simone","Stefano","Thomas","Tommaso","Ubaldo","Ugo","Umberto","Valerio","Valter","Vasco","Vincenzo","Vittorio"]},female:{en:["Mary","Emma","Elizabeth","Minnie","Margaret","Ida","Alice","Bertha","Sarah","Annie","Clara","Ella","Florence","Cora","Martha","Laura","Nellie","Grace","Carrie","Maude","Mabel","Bessie","Jennie","Gertrude","Julia","Hattie","Edith","Mattie","Rose","Catherine","Lillian","Ada","Lillie","Helen","Jessie","Louise","Ethel","Lula","Myrtle","Eva","Frances","Lena","Lucy","Edna","Maggie","Pearl","Daisy","Fannie","Josephine","Dora","Rosa","Katherine","Agnes","Marie","Nora","May","Mamie","Blanche","Stella","Ellen","Nancy","Effie","Sallie","Nettie","Della","Lizzie","Flora","Susie","Maud","Mae","Etta","Harriet","Sadie","Caroline","Katie","Lydia","Elsie","Kate","Susan","Mollie","Alma","Addie","Georgia","Eliza","Lulu","Nannie","Lottie","Amanda","Belle","Charlotte","Rebecca","Ruth","Viola","Olive","Amelia","Hannah","Jane","Virginia","Emily","Matilda","Irene","Kathryn","Esther","Willie","Henrietta","Ollie","Amy","Rachel","Sara","Estella","Theresa","Augusta","Ora","Pauline","Josie","Lola","Sophia","Leona","Anne","Mildred","Ann","Beulah","Callie","Lou","Delia","Eleanor","Barbara","Iva","Louisa","Maria","Mayme","Evelyn","Estelle","Nina","Betty","Marion","Bettie","Dorothy","Luella","Inez","Lela","Rosie","Allie","Millie","Janie","Cornelia","Victoria","Ruby","Winifred","Alta","Celia","Christine","Beatrice","Birdie","Harriett","Mable","Myra","Sophie","Tillie","Isabel","Sylvia","Carolyn","Isabelle","Leila","Sally","Ina","Essie","Bertie","Nell","Alberta","Katharine","Lora","Rena","Mina","Rhoda","Mathilda","Abbie","Eula","Dollie","Hettie","Eunice","Fanny","Ola","Lenora","Adelaide","Christina","Lelia","Nelle","Sue","Johanna","Lilly","Lucinda","Minerva","Lettie","Roxie","Cynthia","Helena","Hilda","Hulda","Bernice","Genevieve","Jean","Cordelia","Marian","Francis","Jeanette","Adeline","Gussie","Leah","Lois","Lura","Mittie","Hallie","Isabella","Olga","Phoebe","Teresa","Hester","Lida","Lina","Winnie","Claudia","Marguerite","Vera","Cecelia","Bess","Emilie","John","Rosetta","Verna","Myrtie","Cecilia","Elva","Olivia","Ophelia","Georgie","Elnora","Violet","Adele","Lily","Linnie","Loretta","Madge","Polly","Virgie","Eugenia","Lucile","Lucille","Mabelle","Rosalie"],it:["Ada","Adriana","Alessandra","Alessia","Alice","Angela","Anna","Anna Maria","Annalisa","Annita","Annunziata","Antonella","Arianna","Asia","Assunta","Aurora","Barbara","Beatrice","Benedetta","Bianca","Bruna","Camilla","Carla","Carlotta","Carmela","Carolina","Caterina","Catia","Cecilia","Chiara","Cinzia","Clara","Claudia","Costanza","Cristina","Daniela","Debora","Diletta","Dina","Donatella","Elena","Eleonora","Elisa","Elisabetta","Emanuela","Emma","Eva","Federica","Fernanda","Fiorella","Fiorenza","Flora","Franca","Francesca","Gabriella","Gaia","Gemma","Giada","Gianna","Gina","Ginevra","Giorgia","Giovanna","Giulia","Giuliana","Giuseppa","Giuseppina","Grazia","Graziella","Greta","Ida","Ilaria","Ines","Iolanda","Irene","Irma","Isabella","Jessica","Laura","Leda","Letizia","Licia","Lidia","Liliana","Lina","Linda","Lisa","Livia","Loretta","Luana","Lucia","Luciana","Lucrezia","Luisa","Manuela","Mara","Marcella","Margherita","Maria","Maria Cristina","Maria Grazia","Maria Luisa","Maria Pia","Maria Teresa","Marina","Marisa","Marta","Martina","Marzia","Matilde","Melissa","Michela","Milena","Mirella","Monica","Natalina","Nella","Nicoletta","Noemi","Olga","Paola","Patrizia","Piera","Pierina","Raffaella","Rebecca","Renata","Rina","Rita","Roberta","Rosa","Rosanna","Rossana","Rossella","Sabrina","Sandra","Sara","Serena","Silvana","Silvia","Simona","Simonetta","Sofia","Sonia","Stefania","Susanna","Teresa","Tina","Tiziana","Tosca","Valentina","Valeria","Vanda","Vanessa","Vanna","Vera","Veronica","Vilma","Viola","Virginia","Vittoria"]}},lastNames:{en:["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","McDonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","McCoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","McKinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","McDaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","McGee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","McCarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","McBride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","McLaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","McCormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","McKenzie","Collier","Luna","Phelps","McGuire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins"],it:["Acciai","Aglietti","Agostini","Agresti","Ahmed","Aiazzi","Albanese","Alberti","Alessi","Alfani","Alinari","Alterini","Amato","Ammannati","Ancillotti","Andrei","Andreini","Andreoni","Angeli","Anichini","Antonelli","Antonini","Arena","Ariani","Arnetoli","Arrighi","Baccani","Baccetti","Bacci","Bacherini","Badii","Baggiani","Baglioni","Bagni","Bagnoli","Baldassini","Baldi","Baldini","Ballerini","Balli","Ballini","Balloni","Bambi","Banchi","Bandinelli","Bandini","Bani","Barbetti","Barbieri","Barchielli","Bardazzi","Bardelli","Bardi","Barducci","Bargellini","Bargiacchi","Barni","Baroncelli","Baroncini","Barone","Baroni","Baronti","Bartalesi","Bartoletti","Bartoli","Bartolini","Bartoloni","Bartolozzi","Basagni","Basile","Bassi","Batacchi","Battaglia","Battaglini","Bausi","Becagli","Becattini","Becchi","Becucci","Bellandi","Bellesi","Belli","Bellini","Bellucci","Bencini","Benedetti","Benelli","Beni","Benini","Bensi","Benucci","Benvenuti","Berlincioni","Bernacchioni","Bernardi","Bernardini","Berni","Bernini","Bertelli","Berti","Bertini","Bessi","Betti","Bettini","Biagi","Biagini","Biagioni","Biagiotti","Biancalani","Bianchi","Bianchini","Bianco","Biffoli","Bigazzi","Bigi","Biliotti","Billi","Binazzi","Bindi","Bini","Biondi","Bizzarri","Bocci","Bogani","Bolognesi","Bonaiuti","Bonanni","Bonciani","Boncinelli","Bondi","Bonechi","Bongini","Boni","Bonini","Borchi","Boretti","Borghi","Borghini","Borgioli","Borri","Borselli","Boschi","Bottai","Bracci","Braccini","Brandi","Braschi","Bravi","Brazzini","Breschi","Brilli","Brizzi","Brogelli","Brogi","Brogioni","Brunelli","Brunetti","Bruni","Bruno","Brunori","Bruschi","Bucci","Bucciarelli","Buccioni","Bucelli","Bulli","Burberi","Burchi","Burgassi","Burroni","Bussotti","Buti","Caciolli","Caiani","Calabrese","Calamai","Calamandrei","Caldini","Calo'","Calonaci","Calosi","Calvelli","Cambi","Camiciottoli","Cammelli","Cammilli","Campolmi","Cantini","Capanni","Capecchi","Caponi","Cappelletti","Cappelli","Cappellini","Cappugi","Capretti","Caputo","Carbone","Carboni","Cardini","Carlesi","Carletti","Carli","Caroti","Carotti","Carrai","Carraresi","Carta","Caruso","Casalini","Casati","Caselli","Casini","Castagnoli","Castellani","Castelli","Castellucci","Catalano","Catarzi","Catelani","Cavaciocchi","Cavallaro","Cavallini","Cavicchi","Cavini","Ceccarelli","Ceccatelli","Ceccherelli","Ceccherini","Cecchi","Cecchini","Cecconi","Cei","Cellai","Celli","Cellini","Cencetti","Ceni","Cenni","Cerbai","Cesari","Ceseri","Checcacci","Checchi","Checcucci","Cheli","Chellini","Chen","Cheng","Cherici","Cherubini","Chiaramonti","Chiarantini","Chiarelli","Chiari","Chiarini","Chiarugi","Chiavacci","Chiesi","Chimenti","Chini","Chirici","Chiti","Ciabatti","Ciampi","Cianchi","Cianfanelli","Cianferoni","Ciani","Ciapetti","Ciappi","Ciardi","Ciatti","Cicali","Ciccone","Cinelli","Cini","Ciobanu","Ciolli","Cioni","Cipriani","Cirillo","Cirri","Ciucchi","Ciuffi","Ciulli","Ciullini","Clemente","Cocchi","Cognome","Coli","Collini","Colombo","Colzi","Comparini","Conforti","Consigli","Conte","Conti","Contini","Coppini","Coppola","Corsi","Corsini","Corti","Cortini","Cosi","Costa","Costantini","Costantino","Cozzi","Cresci","Crescioli","Cresti","Crini","Curradi","D'Agostino","D'Alessandro","D'Amico","D'Angelo","Daddi","Dainelli","Dallai","Danti","Davitti","De Angelis","De Luca","De Marco","De Rosa","De Santis","De Simone","De Vita","Degl'Innocenti","Degli Innocenti","Dei","Del Lungo","Del Re","Di Marco","Di Stefano","Dini","Diop","Dobre","Dolfi","Donati","Dondoli","Dong","Donnini","Ducci","Dumitru","Ermini","Esposito","Evangelisti","Fabbri","Fabbrini","Fabbrizzi","Fabbroni","Fabbrucci","Fabiani","Facchini","Faggi","Fagioli","Failli","Faini","Falciani","Falcini","Falcone","Fallani","Falorni","Falsini","Falugiani","Fancelli","Fanelli","Fanetti","Fanfani","Fani","Fantappie'","Fantechi","Fanti","Fantini","Fantoni","Farina","Fattori","Favilli","Fedi","Fei","Ferrante","Ferrara","Ferrari","Ferraro","Ferretti","Ferri","Ferrini","Ferroni","Fiaschi","Fibbi","Fiesoli","Filippi","Filippini","Fini","Fioravanti","Fiore","Fiorentini","Fiorini","Fissi","Focardi","Foggi","Fontana","Fontanelli","Fontani","Forconi","Formigli","Forte","Forti","Fortini","Fossati","Fossi","Francalanci","Franceschi","Franceschini","Franchi","Franchini","Franci","Francini","Francioni","Franco","Frassineti","Frati","Fratini","Frilli","Frizzi","Frosali","Frosini","Frullini","Fusco","Fusi","Gabbrielli","Gabellini","Gagliardi","Galanti","Galardi","Galeotti","Galletti","Galli","Gallo","Gallori","Gambacciani","Gargani","Garofalo","Garuglieri","Gashi","Gasperini","Gatti","Gelli","Gensini","Gentile","Gentili","Geri","Gerini","Gheri","Ghini","Giachetti","Giachi","Giacomelli","Gianassi","Giani","Giannelli","Giannetti","Gianni","Giannini","Giannoni","Giannotti","Giannozzi","Gigli","Giordano","Giorgetti","Giorgi","Giovacchini","Giovannelli","Giovannetti","Giovannini","Giovannoni","Giuliani","Giunti","Giuntini","Giusti","Gonnelli","Goretti","Gori","Gradi","Gramigni","Grassi","Grasso","Graziani","Grazzini","Greco","Grifoni","Grillo","Grimaldi","Grossi","Gualtieri","Guarducci","Guarino","Guarnieri","Guasti","Guerra","Guerri","Guerrini","Guidi","Guidotti","He","Hoxha","Hu","Huang","Iandelli","Ignesti","Innocenti","Jin","La Rosa","Lai","Landi","Landini","Lanini","Lapi","Lapini","Lari","Lascialfari","Lastrucci","Latini","Lazzeri","Lazzerini","Lelli","Lenzi","Leonardi","Leoncini","Leone","Leoni","Lepri","Li","Liao","Lin","Linari","Lippi","Lisi","Livi","Lombardi","Lombardini","Lombardo","Longo","Lopez","Lorenzi","Lorenzini","Lorini","Lotti","Lu","Lucchesi","Lucherini","Lunghi","Lupi","Madiai","Maestrini","Maffei","Maggi","Maggini","Magherini","Magini","Magnani","Magnelli","Magni","Magnolfi","Magrini","Malavolti","Malevolti","Manca","Mancini","Manetti","Manfredi","Mangani","Mannelli","Manni","Mannini","Mannucci","Manuelli","Manzini","Marcelli","Marchese","Marchetti","Marchi","Marchiani","Marchionni","Marconi","Marcucci","Margheri","Mari","Mariani","Marilli","Marinai","Marinari","Marinelli","Marini","Marino","Mariotti","Marsili","Martelli","Martinelli","Martini","Martino","Marzi","Masi","Masini","Masoni","Massai","Materassi","Mattei","Matteini","Matteucci","Matteuzzi","Mattioli","Mattolini","Matucci","Mauro","Mazzanti","Mazzei","Mazzetti","Mazzi","Mazzini","Mazzocchi","Mazzoli","Mazzoni","Mazzuoli","Meacci","Mecocci","Meini","Melani","Mele","Meli","Mengoni","Menichetti","Meoni","Merlini","Messeri","Messina","Meucci","Miccinesi","Miceli","Micheli","Michelini","Michelozzi","Migliori","Migliorini","Milani","Miniati","Misuri","Monaco","Montagnani","Montagni","Montanari","Montelatici","Monti","Montigiani","Montini","Morandi","Morandini","Morelli","Moretti","Morganti","Mori","Morini","Moroni","Morozzi","Mugnai","Mugnaini","Mustafa","Naldi","Naldini","Nannelli","Nanni","Nannini","Nannucci","Nardi","Nardini","Nardoni","Natali","Ndiaye","Nencetti","Nencini","Nencioni","Neri","Nesi","Nesti","Niccolai","Niccoli","Niccolini","Nigi","Nistri","Nocentini","Noferini","Novelli","Nucci","Nuti","Nutini","Oliva","Olivieri","Olmi","Orlandi","Orlandini","Orlando","Orsini","Ortolani","Ottanelli","Pacciani","Pace","Paci","Pacini","Pagani","Pagano","Paggetti","Pagliai","Pagni","Pagnini","Paladini","Palagi","Palchetti","Palloni","Palmieri","Palumbo","Pampaloni","Pancani","Pandolfi","Pandolfini","Panerai","Panichi","Paoletti","Paoli","Paolini","Papi","Papini","Papucci","Parenti","Parigi","Parisi","Parri","Parrini","Pasquini","Passeri","Pecchioli","Pecorini","Pellegrini","Pepi","Perini","Perrone","Peruzzi","Pesci","Pestelli","Petri","Petrini","Petrucci","Pettini","Pezzati","Pezzatini","Piani","Piazza","Piazzesi","Piazzini","Piccardi","Picchi","Piccini","Piccioli","Pieraccini","Pieraccioni","Pieralli","Pierattini","Pieri","Pierini","Pieroni","Pietrini","Pini","Pinna","Pinto","Pinzani","Pinzauti","Piras","Pisani","Pistolesi","Poggesi","Poggi","Poggiali","Poggiolini","Poli","Pollastri","Porciani","Pozzi","Pratellesi","Pratesi","Prosperi","Pruneti","Pucci","Puccini","Puccioni","Pugi","Pugliese","Puliti","Querci","Quercioli","Raddi","Radu","Raffaelli","Ragazzini","Ranfagni","Ranieri","Rastrelli","Raugei","Raveggi","Renai","Renzi","Rettori","Ricci","Ricciardi","Ridi","Ridolfi","Rigacci","Righi","Righini","Rinaldi","Risaliti","Ristori","Rizzo","Rocchi","Rocchini","Rogai","Romagnoli","Romanelli","Romani","Romano","Romei","Romeo","Romiti","Romoli","Romolini","Rontini","Rosati","Roselli","Rosi","Rossetti","Rossi","Rossini","Rovai","Ruggeri","Ruggiero","Russo","Sabatini","Saccardi","Sacchetti","Sacchi","Sacco","Salerno","Salimbeni","Salucci","Salvadori","Salvestrini","Salvi","Salvini","Sanesi","Sani","Sanna","Santi","Santini","Santoni","Santoro","Santucci","Sardi","Sarri","Sarti","Sassi","Sbolci","Scali","Scarpelli","Scarselli","Scopetani","Secci","Selvi","Senatori","Senesi","Serafini","Sereni","Serra","Sestini","Sguanci","Sieni","Signorini","Silvestri","Simoncini","Simonetti","Simoni","Singh","Sodi","Soldi","Somigli","Sorbi","Sorelli","Sorrentino","Sottili","Spina","Spinelli","Staccioli","Staderini","Stefanelli","Stefani","Stefanini","Stella","Susini","Tacchi","Tacconi","Taddei","Tagliaferri","Tamburini","Tanganelli","Tani","Tanini","Tapinassi","Tarchi","Tarchiani","Targioni","Tassi","Tassini","Tempesti","Terzani","Tesi","Testa","Testi","Tilli","Tinti","Tirinnanzi","Toccafondi","Tofanari","Tofani","Tognaccini","Tonelli","Tonini","Torelli","Torrini","Tosi","Toti","Tozzi","Trambusti","Trapani","Tucci","Turchi","Ugolini","Ulivi","Valente","Valenti","Valentini","Vangelisti","Vanni","Vannini","Vannoni","Vannozzi","Vannucchi","Vannucci","Ventura","Venturi","Venturini","Vestri","Vettori","Vichi","Viciani","Vieri","Vigiani","Vignoli","Vignolini","Vignozzi","Villani","Vinci","Visani","Vitale","Vitali","Viti","Viviani","Vivoli","Volpe","Volpi","Wang","Wu","Xu","Yang","Ye","Zagli","Zani","Zanieri","Zanobini","Zecchi","Zetti","Zhang","Zheng","Zhou","Zhu","Zingoni","Zini","Zoppi"]},countries:[{name:"Afghanistan",abbreviation:"AF"},{name:"land Islands",abbreviation:"AX"},{name:"Albania",abbreviation:"AL"},{name:"Algeria",abbreviation:"DZ"},{name:"American Samoa",abbreviation:"AS"},{name:"Andorra",abbreviation:"AD"},{name:"Angola",abbreviation:"AO"},{name:"Anguilla",abbreviation:"AI"},{name:"Antarctica",abbreviation:"AQ"},{name:"Antigua & Barbuda",abbreviation:"AG"},{name:"Argentina",abbreviation:"AR"},{name:"Armenia",abbreviation:"AM"},{name:"Aruba",abbreviation:"AW"},{name:"Ascension Island",abbreviation:"AC"},{name:"Australia",abbreviation:"AU"},{name:"Austria",abbreviation:"AT"},{name:"Azerbaijan",abbreviation:"AZ"},{name:"Bahamas",abbreviation:"BS"},{name:"Bahrain",abbreviation:"BH"},{name:"Bangladesh",abbreviation:"BD"},{name:"Barbados",abbreviation:"BB"},{name:"Belarus",abbreviation:"BY"},{name:"Belgium",abbreviation:"BE"},{name:"Belize",abbreviation:"BZ"},{name:"Benin",abbreviation:"BJ"},{name:"Bermuda",abbreviation:"BM"},{name:"Bhutan",abbreviation:"BT"},{name:"Bolivia",abbreviation:"BO"},{name:"Bosnia & Herzegovina",abbreviation:"BA"},{name:"Botswana",abbreviation:"BW"},{name:"Brazil",abbreviation:"BR"},{name:"British Indian Ocean Territory",abbreviation:"IO"},{name:"British Virgin Islands",abbreviation:"VG"},{name:"Brunei",abbreviation:"BN"},{name:"Bulgaria",abbreviation:"BG"},{name:"Burkina Faso",abbreviation:"BF"},{name:"Burundi",abbreviation:"BI"},{name:"Cambodia",abbreviation:"KH"},{name:"Cameroon",abbreviation:"CM"},{name:"Canada",abbreviation:"CA"},{name:"Canary Islands",abbreviation:"IC"},{name:"Cape Verde",abbreviation:"CV"},{name:"Caribbean Netherlands",abbreviation:"BQ"},{name:"Cayman Islands",abbreviation:"KY"},{name:"Central African Republic",abbreviation:"CF"},{name:"Ceuta & Melilla",abbreviation:"EA"},{name:"Chad",abbreviation:"TD"},{name:"Chile",abbreviation:"CL"},{name:"China",abbreviation:"CN"},{name:"Christmas Island",abbreviation:"CX"},{name:"Cocos (Keeling) Islands",abbreviation:"CC"},{name:"Colombia",abbreviation:"CO"},{name:"Comoros",abbreviation:"KM"},{name:"Congo - Brazzaville",abbreviation:"CG"},{name:"Congo - Kinshasa",abbreviation:"CD"},{name:"Cook Islands",abbreviation:"CK"},{name:"Costa Rica",abbreviation:"CR"},{name:"Cte d'Ivoire",abbreviation:"CI"},{name:"Croatia",abbreviation:"HR"},{name:"Cuba",abbreviation:"CU"},{name:"Curaao",abbreviation:"CW"},{name:"Cyprus",abbreviation:"CY"},{name:"Czech Republic",abbreviation:"CZ"},{name:"Denmark",abbreviation:"DK"},{name:"Diego Garcia",abbreviation:"DG"},{name:"Djibouti",abbreviation:"DJ"},{name:"Dominica",abbreviation:"DM"},{name:"Dominican Republic",abbreviation:"DO"},{name:"Ecuador",abbreviation:"EC"},{name:"Egypt",abbreviation:"EG"},{name:"El Salvador",abbreviation:"SV"},{name:"Equatorial Guinea",abbreviation:"GQ"},{name:"Eritrea",abbreviation:"ER"},{name:"Estonia",abbreviation:"EE"},{name:"Ethiopia",abbreviation:"ET"},{name:"Falkland Islands",abbreviation:"FK"},{name:"Faroe Islands",abbreviation:"FO"},{name:"Fiji",abbreviation:"FJ"},{name:"Finland",abbreviation:"FI"},{name:"France",abbreviation:"FR"},{name:"French Guiana",abbreviation:"GF"},{name:"French Polynesia",abbreviation:"PF"},{name:"French Southern Territories",abbreviation:"TF"},{name:"Gabon",abbreviation:"GA"},{name:"Gambia",abbreviation:"GM"},{name:"Georgia",abbreviation:"GE"},{name:"Germany",abbreviation:"DE"},{name:"Ghana",abbreviation:"GH"},{name:"Gibraltar",abbreviation:"GI"},{name:"Greece",abbreviation:"GR"},{name:"Greenland",abbreviation:"GL"},{name:"Grenada",abbreviation:"GD"},{name:"Guadeloupe",abbreviation:"GP"},{name:"Guam",abbreviation:"GU"},{name:"Guatemala",abbreviation:"GT"},{name:"Guernsey",abbreviation:"GG"},{name:"Guinea",abbreviation:"GN"},{name:"Guinea-Bissau",abbreviation:"GW"},{name:"Guyana",abbreviation:"GY"},{name:"Haiti",abbreviation:"HT"},{name:"Honduras",abbreviation:"HN"},{name:"Hong Kong SAR China",abbreviation:"HK"},{name:"Hungary",abbreviation:"HU"},{name:"Iceland",abbreviation:"IS"},{name:"India",abbreviation:"IN"},{name:"Indonesia",abbreviation:"ID"},{name:"Iran",abbreviation:"IR"},{name:"Iraq",abbreviation:"IQ"},{name:"Ireland",abbreviation:"IE"},{name:"Isle of Man",abbreviation:"IM"},{name:"Israel",abbreviation:"IL"},{name:"Italy",abbreviation:"IT"},{name:"Jamaica",abbreviation:"JM"},{name:"Japan",abbreviation:"JP"},{name:"Jersey",abbreviation:"JE"},{name:"Jordan",abbreviation:"JO"},{name:"Kazakhstan",abbreviation:"KZ"},{name:"Kenya",abbreviation:"KE"},{name:"Kiribati",abbreviation:"KI"},{name:"Kosovo",abbreviation:"XK"},{name:"Kuwait",abbreviation:"KW"},{name:"Kyrgyzstan",abbreviation:"KG"},{name:"Laos",abbreviation:"LA"},{name:"Latvia",abbreviation:"LV"},{name:"Lebanon",abbreviation:"LB"},{name:"Lesotho",abbreviation:"LS"},{name:"Liberia",abbreviation:"LR"},{name:"Libya",abbreviation:"LY"},{name:"Liechtenstein",abbreviation:"LI"},{name:"Lithuania",abbreviation:"LT"},{name:"Luxembourg",abbreviation:"LU"},{name:"Macau SAR China",abbreviation:"MO"},{name:"Macedonia",abbreviation:"MK"},{name:"Madagascar",abbreviation:"MG"},{name:"Malawi",abbreviation:"MW"},{name:"Malaysia",abbreviation:"MY"},{name:"Maldives",abbreviation:"MV"},{name:"Mali",abbreviation:"ML"},{name:"Malta",abbreviation:"MT"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Martinique",abbreviation:"MQ"},{name:"Mauritania",abbreviation:"MR"},{name:"Mauritius",abbreviation:"MU"},{name:"Mayotte",abbreviation:"YT"},{name:"Mexico",abbreviation:"MX"},{name:"Micronesia",abbreviation:"FM"},{name:"Moldova",abbreviation:"MD"},{name:"Monaco",abbreviation:"MC"},{name:"Mongolia",abbreviation:"MN"},{name:"Montenegro",abbreviation:"ME"},{name:"Montserrat",abbreviation:"MS"},{name:"Morocco",abbreviation:"MA"},{name:"Mozambique",abbreviation:"MZ"},{name:"Myanmar (Burma)",abbreviation:"MM"},{name:"Namibia",abbreviation:"NA"},{name:"Nauru",abbreviation:"NR"},{name:"Nepal",abbreviation:"NP"},{name:"Netherlands",abbreviation:"NL"},{name:"New Caledonia",abbreviation:"NC"},{name:"New Zealand",abbreviation:"NZ"},{name:"Nicaragua",abbreviation:"NI"},{name:"Niger",abbreviation:"NE"},{name:"Nigeria",abbreviation:"NG"},{name:"Niue",abbreviation:"NU"},{name:"Norfolk Island",abbreviation:"NF"},{name:"North Korea",abbreviation:"KP"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Norway",abbreviation:"NO"},{name:"Oman",abbreviation:"OM"},{name:"Pakistan",abbreviation:"PK"},{name:"Palau",abbreviation:"PW"},{name:"Palestinian Territories",abbreviation:"PS"},{name:"Panama",abbreviation:"PA"},{name:"Papua New Guinea",abbreviation:"PG"},{name:"Paraguay",abbreviation:"PY"},{name:"Peru",abbreviation:"PE"},{name:"Philippines",abbreviation:"PH"},{name:"Pitcairn Islands",abbreviation:"PN"},{name:"Poland",abbreviation:"PL"},{name:"Portugal",abbreviation:"PT"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Qatar",abbreviation:"QA"},{name:"Runion",abbreviation:"RE"},{name:"Romania",abbreviation:"RO"},{name:"Russia",abbreviation:"RU"},{name:"Rwanda",abbreviation:"RW"},{name:"Samoa",abbreviation:"WS"},{name:"San Marino",abbreviation:"SM"},{name:"So Tom and Prncipe",abbreviation:"ST"},{name:"Saudi Arabia",abbreviation:"SA"},{name:"Senegal",abbreviation:"SN"},{name:"Serbia",abbreviation:"RS"},{name:"Seychelles",abbreviation:"SC"},{name:"Sierra Leone",abbreviation:"SL"},{name:"Singapore",abbreviation:"SG"},{name:"Sint Maarten",abbreviation:"SX"},{name:"Slovakia",abbreviation:"SK"},{name:"Slovenia",abbreviation:"SI"},{name:"Solomon Islands",abbreviation:"SB"},{name:"Somalia",abbreviation:"SO"},{name:"South Africa",abbreviation:"ZA"},{name:"South Georgia & South Sandwich Islands",abbreviation:"GS"},{name:"South Korea",abbreviation:"KR"},{name:"South Sudan",abbreviation:"SS"},{name:"Spain",abbreviation:"ES"},{name:"Sri Lanka",abbreviation:"LK"},{name:"St. Barthlemy",abbreviation:"BL"},{name:"St. Helena",abbreviation:"SH"},{name:"St. Kitts & Nevis",abbreviation:"KN"},{name:"St. Lucia",abbreviation:"LC"},{name:"St. Martin",abbreviation:"MF"},{name:"St. Pierre & Miquelon",abbreviation:"PM"},{name:"St. Vincent & Grenadines",abbreviation:"VC"},{name:"Sudan",abbreviation:"SD"},{name:"Suriname",abbreviation:"SR"},{name:"Svalbard & Jan Mayen",abbreviation:"SJ"},{name:"Swaziland",abbreviation:"SZ"},{name:"Sweden",abbreviation:"SE"},{name:"Switzerland",abbreviation:"CH"},{name:"Syria",abbreviation:"SY"},{name:"Taiwan",abbreviation:"TW"},{name:"Tajikistan",abbreviation:"TJ"},{name:"Tanzania",abbreviation:"TZ"},{name:"Thailand",abbreviation:"TH"},{name:"Timor-Leste",abbreviation:"TL"},{name:"Togo",abbreviation:"TG"},{name:"Tokelau",abbreviation:"TK"},{name:"Tonga",abbreviation:"TO"},{name:"Trinidad & Tobago",abbreviation:"TT"},{name:"Tristan da Cunha",abbreviation:"TA"},{name:"Tunisia",abbreviation:"TN"},{name:"Turkey",abbreviation:"TR"},{name:"Turkmenistan",abbreviation:"TM"},{name:"Turks & Caicos Islands",abbreviation:"TC"},{name:"Tuvalu",abbreviation:"TV"},{name:"U.S. Outlying Islands",abbreviation:"UM"},{name:"U.S. Virgin Islands",abbreviation:"VI"},{name:"Uganda",abbreviation:"UG"},{name:"Ukraine",abbreviation:"UA"},{name:"United Arab Emirates",abbreviation:"AE"},{name:"United Kingdom",abbreviation:"GB"},{name:"United States",abbreviation:"US"},{name:"Uruguay",abbreviation:"UY"},{name:"Uzbekistan",abbreviation:"UZ"},{name:"Vanuatu",abbreviation:"VU"},{name:"Vatican City",abbreviation:"VA"},{name:"Venezuela",abbreviation:"VE"},{name:"Vietnam",abbreviation:"VN"},{name:"Wallis & Futuna",abbreviation:"WF"},{name:"Western Sahara",abbreviation:"EH"},{name:"Yemen",abbreviation:"YE"},{name:"Zambia",abbreviation:"ZM"},{name:"Zimbabwe",abbreviation:"ZW"}],counties:{uk:[{name:"Bath and North East Somerset"},{name:"Bedford"},{name:"Blackburn with Darwen"},{name:"Blackpool"},{name:"Bournemouth"},{name:"Bracknell Forest"},{name:"Brighton & Hove"},{name:"Bristol"},{name:"Buckinghamshire"},{name:"Cambridgeshire"},{name:"Central Bedfordshire"},{name:"Cheshire East"},{name:"Cheshire West and Chester"},{name:"Cornwall"},{name:"County Durham"},{name:"Cumbria"},{name:"Darlington"},{name:"Derby"},{name:"Derbyshire"},{name:"Devon"},{name:"Dorset"},{name:"East Riding of Yorkshire"},{name:"East Sussex"},{name:"Essex"},{name:"Gloucestershire"},{name:"Greater London"},{name:"Greater Manchester"},{name:"Halton"},{name:"Hampshire"},{name:"Hartlepool"},{name:"Herefordshire"},{name:"Hertfordshire"},{name:"Hull"},{name:"Isle of Wight"},{name:"Isles of Scilly"},{name:"Kent"},{name:"Lancashire"},{name:"Leicester"},{name:"Leicestershire"},{name:"Lincolnshire"},{name:"Luton"},{name:"Medway"},{name:"Merseyside"},{name:"Middlesbrough"},{name:"Milton Keynes"},{name:"Norfolk"},{name:"North East Lincolnshire"},{name:"North Lincolnshire"},{name:"North Somerset"},{name:"North Yorkshire"},{name:"Northamptonshire"},{name:"Northumberland"},{name:"Nottingham"},{name:"Nottinghamshire"},{name:"Oxfordshire"},{name:"Peterborough"},{name:"Plymouth"},{name:"Poole"},{name:"Portsmouth"},{name:"Reading"},{name:"Redcar and Cleveland"},{name:"Rutland"},{name:"Shropshire"},{name:"Slough"},{name:"Somerset"},{name:"South Gloucestershire"},{name:"South Yorkshire"},{name:"Southampton"},{name:"Southend-on-Sea"},{name:"Staffordshire"},{name:"Stockton-on-Tees"},{name:"Stoke-on-Trent"},{name:"Suffolk"},{name:"Surrey"},{name:"Swindon"},{name:"Telford and Wrekin"},{name:"Thurrock"},{name:"Torbay"},{name:"Tyne and Wear"},{name:"Warrington"},{name:"Warwickshire"},{name:"West Berkshire"},{name:"West Midlands"},{name:"West Sussex"},{name:"West Yorkshire"},{name:"Wiltshire"},{name:"Windsor and Maidenhead"},{name:"Wokingham"},{name:"Worcestershire"},{name:"York"}]},provinces:{ca:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Yukon",abbreviation:"YT"}],it:[{name:"Agrigento",abbreviation:"AG",code:84},{name:"Alessandria",abbreviation:"AL",code:6},{name:"Ancona",abbreviation:"AN",code:42},{name:"Aosta",abbreviation:"AO",code:7},{name:"L'Aquila",abbreviation:"AQ",code:66},{name:"Arezzo",abbreviation:"AR",code:51},{name:"Ascoli-Piceno",abbreviation:"AP",code:44},{name:"Asti",abbreviation:"AT",code:5},{name:"Avellino",abbreviation:"AV",code:64},{name:"Bari",abbreviation:"BA",code:72},{name:"Barletta-Andria-Trani",abbreviation:"BT",code:72},{name:"Belluno",abbreviation:"BL",code:25},{name:"Benevento",abbreviation:"BN",code:62},{name:"Bergamo",abbreviation:"BG",code:16},{name:"Biella",abbreviation:"BI",code:96},{name:"Bologna",abbreviation:"BO",code:37},{name:"Bolzano",abbreviation:"BZ",code:21},{name:"Brescia",abbreviation:"BS",code:17},{name:"Brindisi",abbreviation:"BR",code:74},{name:"Cagliari",abbreviation:"CA",code:92},{name:"Caltanissetta",abbreviation:"CL",code:85},{name:"Campobasso",abbreviation:"CB",code:70},{name:"Carbonia Iglesias",abbreviation:"CI",code:70},{name:"Caserta",abbreviation:"CE",code:61},{name:"Catania",abbreviation:"CT",code:87},{name:"Catanzaro",abbreviation:"CZ",code:79},{name:"Chieti",abbreviation:"CH",code:69},{name:"Como",abbreviation:"CO",code:13},{name:"Cosenza",abbreviation:"CS",code:78},{name:"Cremona",abbreviation:"CR",code:19},{name:"Crotone",abbreviation:"KR",code:101},{name:"Cuneo",abbreviation:"CN",code:4},{name:"Enna",abbreviation:"EN",code:86},{name:"Fermo",abbreviation:"FM",code:86},{name:"Ferrara",abbreviation:"FE",code:38},{name:"Firenze",abbreviation:"FI",code:48},{name:"Foggia",abbreviation:"FG",code:71},{name:"Forli-Cesena",abbreviation:"FC",code:71},{name:"Frosinone",abbreviation:"FR",code:60},{name:"Genova",abbreviation:"GE",code:10},{name:"Gorizia",abbreviation:"GO",code:31},{name:"Grosseto",abbreviation:"GR",code:53},{name:"Imperia",abbreviation:"IM",code:8},{name:"Isernia",abbreviation:"IS",code:94},{name:"La-Spezia",abbreviation:"SP",code:66},{name:"Latina",abbreviation:"LT",code:59},{name:"Lecce",abbreviation:"LE",code:75},{name:"Lecco",abbreviation:"LC",code:97},{name:"Livorno",abbreviation:"LI",code:49},{name:"Lodi",abbreviation:"LO",code:98},{name:"Lucca",abbreviation:"LU",code:46},{name:"Macerata",abbreviation:"MC",code:43},{name:"Mantova",abbreviation:"MN",code:20},{name:"Massa-Carrara",abbreviation:"MS",code:45},{name:"Matera",abbreviation:"MT",code:77},{name:"Medio Campidano",abbreviation:"VS",code:77},{name:"Messina",abbreviation:"ME",code:83},{name:"Milano",abbreviation:"MI",code:15},{name:"Modena",abbreviation:"MO",code:36},{name:"Monza-Brianza",abbreviation:"MB",code:36},{name:"Napoli",abbreviation:"NA",code:63},{name:"Novara",abbreviation:"NO",code:3},{name:"Nuoro",abbreviation:"NU",code:91},{name:"Ogliastra",abbreviation:"OG",code:91},{name:"Olbia Tempio",abbreviation:"OT",code:91},{name:"Oristano",abbreviation:"OR",code:95},{name:"Padova",abbreviation:"PD",code:28},{name:"Palermo",abbreviation:"PA",code:82},{name:"Parma",abbreviation:"PR",code:34},{name:"Pavia",abbreviation:"PV",code:18},{name:"Perugia",abbreviation:"PG",code:54},{name:"Pesaro-Urbino",abbreviation:"PU",code:41},{name:"Pescara",abbreviation:"PE",code:68},{name:"Piacenza",abbreviation:"PC",code:33},{name:"Pisa",abbreviation:"PI",code:50},{name:"Pistoia",abbreviation:"PT",code:47},{name:"Pordenone",abbreviation:"PN",code:93},{name:"Potenza",abbreviation:"PZ",code:76},{name:"Prato",abbreviation:"PO",code:100},{name:"Ragusa",abbreviation:"RG",code:88},{name:"Ravenna",abbreviation:"RA",code:39},{name:"Reggio-Calabria",abbreviation:"RC",code:35},{name:"Reggio-Emilia",abbreviation:"RE",code:35},{name:"Rieti",abbreviation:"RI",code:57},{name:"Rimini",abbreviation:"RN",code:99},{name:"Roma",abbreviation:"Roma",code:58},{name:"Rovigo",abbreviation:"RO",code:29},{name:"Salerno",abbreviation:"SA",code:65},{name:"Sassari",abbreviation:"SS",code:90},{name:"Savona",abbreviation:"SV",code:9},{name:"Siena",abbreviation:"SI",code:52},{name:"Siracusa",abbreviation:"SR",code:89},{name:"Sondrio",abbreviation:"SO",code:14},{name:"Taranto",abbreviation:"TA",code:73},{name:"Teramo",abbreviation:"TE",code:67},{name:"Terni",abbreviation:"TR",code:55},{name:"Torino",abbreviation:"TO",code:1},{name:"Trapani",abbreviation:"TP",code:81},{name:"Trento",abbreviation:"TN",code:22},{name:"Treviso",abbreviation:"TV",code:26},{name:"Trieste",abbreviation:"TS",code:32},{name:"Udine",abbreviation:"UD",code:30},{name:"Varese",abbreviation:"VA",code:12},{name:"Venezia",abbreviation:"VE",code:27},{name:"Verbania",abbreviation:"VB",code:27},{name:"Vercelli",abbreviation:"VC",code:2},{name:"Verona",abbreviation:"VR",code:23},{name:"Vibo-Valentia",abbreviation:"VV",code:102},{name:"Vicenza",abbreviation:"VI",code:24},{name:"Viterbo",abbreviation:"VT",code:56}]},nationalities:[{name:"Afghan"},{name:"Albanian"},{name:"Algerian"},{name:"American"},{name:"Andorran"},{name:"Angolan"},{name:"Antiguans"},{name:"Argentinean"},{name:"Armenian"},{name:"Australian"},{name:"Austrian"},{name:"Azerbaijani"},{name:"Bahami"},{name:"Bahraini"},{name:"Bangladeshi"},{name:"Barbadian"},{name:"Barbudans"},{name:"Batswana"},{name:"Belarusian"},{name:"Belgian"},{name:"Belizean"},{name:"Beninese"},{name:"Bhutanese"},{name:"Bolivian"},{name:"Bosnian"},{name:"Brazilian"},{name:"British"},{name:"Bruneian"},{name:"Bulgarian"},{name:"Burkinabe"},{name:"Burmese"},{name:"Burundian"},{name:"Cambodian"},{name:"Cameroonian"},{name:"Canadian"},{name:"Cape Verdean"},{name:"Central African"},{name:"Chadian"},{name:"Chilean"},{name:"Chinese"},{name:"Colombian"},{name:"Comoran"},{name:"Congolese"},{name:"Costa Rican"},{name:"Croatian"},{name:"Cuban"},{name:"Cypriot"},{name:"Czech"},{name:"Danish"},{name:"Djibouti"},{name:"Dominican"},{name:"Dutch"},{name:"East Timorese"},{name:"Ecuadorean"},{name:"Egyptian"},{name:"Emirian"},{name:"Equatorial Guinean"},{name:"Eritrean"},{name:"Estonian"},{name:"Ethiopian"},{name:"Fijian"},{name:"Filipino"},{name:"Finnish"},{name:"French"},{name:"Gabonese"},{name:"Gambian"},{name:"Georgian"},{name:"German"},{name:"Ghanaian"},{name:"Greek"},{name:"Grenadian"},{name:"Guatemalan"},{name:"Guinea-Bissauan"},{name:"Guinean"},{name:"Guyanese"},{name:"Haitian"},{name:"Herzegovinian"},{name:"Honduran"},{name:"Hungarian"},{name:"I-Kiribati"},{name:"Icelander"},{name:"Indian"},{name:"Indonesian"},{name:"Iranian"},{name:"Iraqi"},{name:"Irish"},{name:"Israeli"},{name:"Italian"},{name:"Ivorian"},{name:"Jamaican"},{name:"Japanese"},{name:"Jordanian"},{name:"Kazakhstani"},{name:"Kenyan"},{name:"Kittian and Nevisian"},{name:"Kuwaiti"},{name:"Kyrgyz"},{name:"Laotian"},{name:"Latvian"},{name:"Lebanese"},{name:"Liberian"},{name:"Libyan"},{name:"Liechtensteiner"},{name:"Lithuanian"},{name:"Luxembourger"},{name:"Macedonian"},{name:"Malagasy"},{name:"Malawian"},{name:"Malaysian"},{name:"Maldivan"},{name:"Malian"},{name:"Maltese"},{name:"Marshallese"},{name:"Mauritanian"},{name:"Mauritian"},{name:"Mexican"},{name:"Micronesian"},{name:"Moldovan"},{name:"Monacan"},{name:"Mongolian"},{name:"Moroccan"},{name:"Mosotho"},{name:"Motswana"},{name:"Mozambican"},{name:"Namibian"},{name:"Nauruan"},{name:"Nepalese"},{name:"New Zealander"},{name:"Nicaraguan"},{name:"Nigerian"},{name:"Nigerien"},{name:"North Korean"},{name:"Northern Irish"},{name:"Norwegian"},{name:"Omani"},{name:"Pakistani"},{name:"Palauan"},{name:"Panamanian"},{name:"Papua New Guinean"},{name:"Paraguayan"},{name:"Peruvian"},{name:"Polish"},{name:"Portuguese"},{name:"Qatari"},{name:"Romani"},{name:"Russian"},{name:"Rwandan"},{name:"Saint Lucian"},{name:"Salvadoran"},{name:"Samoan"},{name:"San Marinese"},{name:"Sao Tomean"},{name:"Saudi"},{name:"Scottish"},{name:"Senegalese"},{name:"Serbian"},{name:"Seychellois"},{name:"Sierra Leonean"},{name:"Singaporean"},{name:"Slovakian"},{name:"Slovenian"},{name:"Solomon Islander"},{name:"Somali"},{name:"South African"},{name:"South Korean"},{name:"Spanish"},{name:"Sri Lankan"},{name:"Sudanese"},{name:"Surinamer"},{name:"Swazi"},{name:"Swedish"},{name:"Swiss"},{name:"Syrian"},{name:"Taiwanese"},{name:"Tajik"},{name:"Tanzanian"},{name:"Thai"},{name:"Togolese"},{name:"Tongan"},{name:"Trinidadian or Tobagonian"},{name:"Tunisian"},{name:"Turkish"},{name:"Tuvaluan"},{name:"Ugandan"},{name:"Ukrainian"},{name:"Uruguaya"},{name:"Uzbekistani"},{name:"Venezuela"},{name:"Vietnamese"},{name:"Wels"},{name:"Yemenit"},{name:"Zambia"},{name:"Zimbabwe"}],us_states_and_dc:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],territories:[{name:"American Samoa",abbreviation:"AS"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Guam",abbreviation:"GU"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Virgin Islands, U.S.",abbreviation:"VI"}],armed_forces:[{name:"Armed Forces Europe",abbreviation:"AE"},{name:"Armed Forces Pacific",abbreviation:"AP"},{name:"Armed Forces the Americas",abbreviation:"AA"}],country_regions:{it:[{name:"Valle d'Aosta",abbreviation:"VDA"},{name:"Piemonte",abbreviation:"PIE"},{name:"Lombardia",abbreviation:"LOM"},{name:"Veneto",abbreviation:"VEN"},{name:"Trentino Alto Adige",abbreviation:"TAA"},{name:"Friuli Venezia Giulia",abbreviation:"FVG"},{name:"Liguria",abbreviation:"LIG"},{name:"Emilia Romagna",abbreviation:"EMR"},{name:"Toscana",abbreviation:"TOS"},{name:"Umbria",abbreviation:"UMB"},{name:"Marche",abbreviation:"MAR"},{name:"Abruzzo",abbreviation:"ABR"},{name:"Lazio",abbreviation:"LAZ"},{name:"Campania",abbreviation:"CAM"},{name:"Puglia",abbreviation:"PUG"},{name:"Basilicata",abbreviation:"BAS"},{name:"Molise",abbreviation:"MOL"},{name:"Calabria",abbreviation:"CAL"},{name:"Sicilia",abbreviation:"SIC"},{name:"Sardegna",abbreviation:"SAR"}]},street_suffixes:{us:[{name:"Avenue",abbreviation:"Ave"},{name:"Boulevard",abbreviation:"Blvd"},{name:"Center",abbreviation:"Ctr"},{name:"Circle",abbreviation:"Cir"},{name:"Court",abbreviation:"Ct"},{name:"Drive",abbreviation:"Dr"},{name:"Extension",abbreviation:"Ext"},{name:"Glen",abbreviation:"Gln"},{name:"Grove",abbreviation:"Grv"},{name:"Heights",abbreviation:"Hts"},{name:"Highway",abbreviation:"Hwy"},{name:"Junction",abbreviation:"Jct"},{name:"Key",abbreviation:"Key"},{name:"Lane",abbreviation:"Ln"},{name:"Loop",abbreviation:"Loop"},{name:"Manor",abbreviation:"Mnr"},{name:"Mill",abbreviation:"Mill"},{name:"Park",abbreviation:"Park"},{name:"Parkway",abbreviation:"Pkwy"},{name:"Pass",abbreviation:"Pass"},{name:"Path",abbreviation:"Path"},{name:"Pike",abbreviation:"Pike"},{name:"Place",abbreviation:"Pl"},{name:"Plaza",abbreviation:"Plz"},{name:"Point",abbreviation:"Pt"},{name:"Ridge",abbreviation:"Rdg"},{name:"River",abbreviation:"Riv"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Trail",abbreviation:"Trl"},{name:"Turnpike",abbreviation:"Tpke"},{name:"View",abbreviation:"Vw"},{name:"Way",abbreviation:"Way"}],it:[{name:"Accesso",abbreviation:"Acc."},{name:"Alzaia",abbreviation:"Alz."},{name:"Arco",abbreviation:"Arco"},{name:"Archivolto",abbreviation:"Acv."},{name:"Arena",abbreviation:"Arena"},{name:"Argine",abbreviation:"Argine"},{name:"Bacino",abbreviation:"Bacino"},{name:"Banchi",abbreviation:"Banchi"},{name:"Banchina",abbreviation:"Ban."},{name:"Bastioni",abbreviation:"Bas."},{name:"Belvedere",abbreviation:"Belv."},{name:"Borgata",abbreviation:"B.ta"},{name:"Borgo",abbreviation:"B.go"},{name:"Calata",abbreviation:"Cal."},{name:"Calle",abbreviation:"Calle"},{name:"Campiello",abbreviation:"Cam."},{name:"Campo",abbreviation:"Cam."},{name:"Canale",abbreviation:"Can."},{name:"Carraia",abbreviation:"Carr."},{name:"Cascina",abbreviation:"Cascina"},{name:"Case sparse",abbreviation:"c.s."},{name:"Cavalcavia",abbreviation:"Cv."},{name:"Circonvallazione",abbreviation:"Cv."},{name:"Complanare",abbreviation:"C.re"},{name:"Contrada",abbreviation:"C.da"},{name:"Corso",abbreviation:"C.so"},{name:"Corte",abbreviation:"C.te"},{name:"Cortile",abbreviation:"C.le"},{name:"Diramazione",abbreviation:"Dir."},{name:"Fondaco",abbreviation:"F.co"},{name:"Fondamenta",abbreviation:"F.ta"},{name:"Fondo",abbreviation:"F.do"},{name:"Frazione",abbreviation:"Fr."},{name:"Isola",abbreviation:"Is."},{name:"Largo",abbreviation:"L.go"},{name:"Litoranea",abbreviation:"Lit."},{name:"Lungolago",abbreviation:"L.go lago"},{name:"Lungo Po",abbreviation:"l.go Po"},{name:"Molo",abbreviation:"Molo"},{name:"Mura",abbreviation:"Mura"},{name:"Passaggio privato",abbreviation:"pass. priv."},{name:"Passeggiata",abbreviation:"Pass."},{name:"Piazza",abbreviation:"P.zza"},{name:"Piazzale",abbreviation:"P.le"},{name:"Ponte",abbreviation:"P.te"},{name:"Portico",abbreviation:"P.co"},{name:"Rampa",abbreviation:"Rampa"},{name:"Regione",abbreviation:"Reg."},{name:"Rione",abbreviation:"R.ne"},{name:"Rio",abbreviation:"Rio"},{name:"Ripa",abbreviation:"Ripa"},{name:"Riva",abbreviation:"Riva"},{name:"Rond",abbreviation:"Rond"},{name:"Rotonda",abbreviation:"Rot."},{name:"Sagrato",abbreviation:"Sagr."},{name:"Salita",abbreviation:"Sal."},{name:"Scalinata",abbreviation:"Scal."},{name:"Scalone",abbreviation:"Scal."},{name:"Slargo",abbreviation:"Sl."},{name:"Sottoportico",abbreviation:"Sott."},{name:"Strada",abbreviation:"Str."},{name:"Stradale",abbreviation:"Str.le"},{name:"Strettoia",abbreviation:"Strett."},{name:"Traversa",abbreviation:"Trav."},{name:"Via",abbreviation:"V."},{name:"Viale",abbreviation:"V.le"},{name:"Vicinale",abbreviation:"Vic.le"},{name:"Vicolo",abbreviation:"Vic."}]},months:[{name:"January",short_name:"Jan",numeric:"01",days:31},{name:"February",short_name:"Feb",numeric:"02",days:28},{name:"March",short_name:"Mar",numeric:"03",days:31},{name:"April",short_name:"Apr",numeric:"04",days:30},{name:"May",short_name:"May",numeric:"05",days:31},{name:"June",short_name:"Jun",numeric:"06",days:30},{name:"July",short_name:"Jul",numeric:"07",days:31},{name:"August",short_name:"Aug",numeric:"08",days:31},{name:"September",short_name:"Sep",numeric:"09",days:30},{name:"October",short_name:"Oct",numeric:"10",days:31},{name:"November",short_name:"Nov",numeric:"11",days:30},{name:"December",short_name:"Dec",numeric:"12",days:31}],cc_types:[{name:"American Express",short_name:"amex",prefix:"34",length:15},{name:"Bankcard",short_name:"bankcard",prefix:"5610",length:16},{name:"China UnionPay",short_name:"chinaunion",prefix:"62",length:16},{name:"Diners Club Carte Blanche",short_name:"dccarte",prefix:"300",length:14},{name:"Diners Club enRoute",short_name:"dcenroute",prefix:"2014",length:15},{name:"Diners Club International",short_name:"dcintl",prefix:"36",length:14},{name:"Diners Club United States & Canada",short_name:"dcusc",prefix:"54",length:16},{name:"Discover Card",short_name:"discover",prefix:"6011",length:16},{name:"InstaPayment",short_name:"instapay",prefix:"637",length:16},{name:"JCB",short_name:"jcb",prefix:"3528",length:16},{name:"Laser",short_name:"laser",prefix:"6304",length:16},{name:"Maestro",short_name:"maestro",prefix:"5018",length:16},{name:"Mastercard",short_name:"mc",prefix:"51",length:16},{name:"Solo",short_name:"solo",prefix:"6334",length:16},{name:"Switch",short_name:"switch",prefix:"4903",length:16},{name:"Visa",short_name:"visa",prefix:"4",length:16},{name:"Visa Electron",short_name:"electron",prefix:"4026",length:16}],currency_types:[{code:"AED",name:"United Arab Emirates Dirham"},{code:"AFN",name:"Afghanistan Afghani"},{code:"ALL",name:"Albania Lek"},{code:"AMD",name:"Armenia Dram"},{code:"ANG",name:"Netherlands Antilles Guilder"},{code:"AOA",name:"Angola Kwanza"},{code:"ARS",name:"Argentina Peso"},{code:"AUD",name:"Australia Dollar"},{code:"AWG",name:"Aruba Guilder"},{code:"AZN",name:"Azerbaijan New Manat"},{code:"BAM",name:"Bosnia and Herzegovina Convertible Marka"},{code:"BBD",name:"Barbados Dollar"},{code:"BDT",name:"Bangladesh Taka"},{code:"BGN",name:"Bulgaria Lev"},{code:"BHD",name:"Bahrain Dinar"},{code:"BIF",name:"Burundi Franc"},{code:"BMD",name:"Bermuda Dollar"},{code:"BND",name:"Brunei Darussalam Dollar"},{code:"BOB",name:"Bolivia Boliviano"},{code:"BRL",name:"Brazil Real"},{code:"BSD",name:"Bahamas Dollar"},{code:"BTN",name:"Bhutan Ngultrum"},{code:"BWP",name:"Botswana Pula"},{code:"BYR",name:"Belarus Ruble"},{code:"BZD",name:"Belize Dollar"},{code:"CAD",name:"Canada Dollar"},{code:"CDF",name:"Congo/Kinshasa Franc"},{code:"CHF",name:"Switzerland Franc"},{code:"CLP",name:"Chile Peso"},{code:"CNY",name:"China Yuan Renminbi"},{code:"COP",name:"Colombia Peso"},{code:"CRC",name:"Costa Rica Colon"},{code:"CUC",name:"Cuba Convertible Peso"},{code:"CUP",name:"Cuba Peso"},{code:"CVE",name:"Cape Verde Escudo"},{code:"CZK",name:"Czech Republic Koruna"},{code:"DJF",name:"Djibouti Franc"},{code:"DKK",name:"Denmark Krone"},{code:"DOP",name:"Dominican Republic Peso"},{code:"DZD",name:"Algeria Dinar"},{code:"EGP",name:"Egypt Pound"},{code:"ERN",name:"Eritrea Nakfa"},{code:"ETB",name:"Ethiopia Birr"},{code:"EUR",name:"Euro Member Countries"},{code:"FJD",name:"Fiji Dollar"},{code:"FKP",name:"Falkland Islands (Malvinas) Pound"},{code:"GBP",name:"United Kingdom Pound"},{code:"GEL",name:"Georgia Lari"},{code:"GGP",name:"Guernsey Pound"},{code:"GHS",name:"Ghana Cedi"},{code:"GIP",name:"Gibraltar Pound"},{code:"GMD",name:"Gambia Dalasi"},{code:"GNF",name:"Guinea Franc"},{code:"GTQ",name:"Guatemala Quetzal"},{code:"GYD",name:"Guyana Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"HNL",name:"Honduras Lempira"},{code:"HRK",name:"Croatia Kuna"},{code:"HTG",name:"Haiti Gourde"},{code:"HUF",name:"Hungary Forint"},{code:"IDR",name:"Indonesia Rupiah"},{code:"ILS",name:"Israel Shekel"},{code:"IMP",name:"Isle of Man Pound"},{code:"INR",name:"India Rupee"},{code:"IQD",name:"Iraq Dinar"},{code:"IRR",name:"Iran Rial"},{code:"ISK",name:"Iceland Krona"},{code:"JEP",name:"Jersey Pound"},{code:"JMD",name:"Jamaica Dollar"},{code:"JOD",name:"Jordan Dinar"},{code:"JPY",name:"Japan Yen"},{code:"KES",name:"Kenya Shilling"},{code:"KGS",name:"Kyrgyzstan Som"},{code:"KHR",name:"Cambodia Riel"},{code:"KMF",name:"Comoros Franc"},{code:"KPW",name:"Korea (North) Won"},{code:"KRW",name:"Korea (South) Won"},{code:"KWD",name:"Kuwait Dinar"},{code:"KYD",name:"Cayman Islands Dollar"},{code:"KZT",name:"Kazakhstan Tenge"},{code:"LAK",name:"Laos Kip"},{code:"LBP",name:"Lebanon Pound"},{code:"LKR",name:"Sri Lanka Rupee"},{code:"LRD",name:"Liberia Dollar"},{code:"LSL",name:"Lesotho Loti"},{code:"LTL",name:"Lithuania Litas"},{code:"LYD",name:"Libya Dinar"},{code:"MAD",name:"Morocco Dirham"},{code:"MDL",name:"Moldova Leu"},{code:"MGA",name:"Madagascar Ariary"},{code:"MKD",name:"Macedonia Denar"},{code:"MMK",name:"Myanmar (Burma) Kyat"},{code:"MNT",name:"Mongolia Tughrik"},{code:"MOP",name:"Macau Pataca"},{code:"MRO",name:"Mauritania Ouguiya"},{code:"MUR",name:"Mauritius Rupee"},{code:"MVR",name:"Maldives (Maldive Islands) Rufiyaa"},{code:"MWK",name:"Malawi Kwacha"},{code:"MXN",name:"Mexico Peso"},{code:"MYR",name:"Malaysia Ringgit"},{code:"MZN",name:"Mozambique Metical"},{code:"NAD",name:"Namibia Dollar"},{code:"NGN",name:"Nigeria Naira"},{code:"NIO",name:"Nicaragua Cordoba"},{code:"NOK",name:"Norway Krone"},{code:"NPR",name:"Nepal Rupee"},{code:"NZD",name:"New Zealand Dollar"},{code:"OMR",name:"Oman Rial"},{code:"PAB",name:"Panama Balboa"},{code:"PEN",name:"Peru Nuevo Sol"},{code:"PGK",name:"Papua New Guinea Kina"},{code:"PHP",name:"Philippines Peso"},{code:"PKR",name:"Pakistan Rupee"},{code:"PLN",name:"Poland Zloty"},{code:"PYG",name:"Paraguay Guarani"},{code:"QAR",name:"Qatar Riyal"},{code:"RON",name:"Romania New Leu"},{code:"RSD",name:"Serbia Dinar"},{code:"RUB",name:"Russia Ruble"},{code:"RWF",name:"Rwanda Franc"},{code:"SAR",name:"Saudi Arabia Riyal"},{code:"SBD",name:"Solomon Islands Dollar"},{code:"SCR",name:"Seychelles Rupee"},{code:"SDG",name:"Sudan Pound"},{code:"SEK",name:"Sweden Krona"},{code:"SGD",name:"Singapore Dollar"},{code:"SHP",name:"Saint Helena Pound"},{code:"SLL",name:"Sierra Leone Leone"},{code:"SOS",name:"Somalia Shilling"},{code:"SPL",name:"Seborga Luigino"},{code:"SRD",name:"Suriname Dollar"},{code:"STD",name:"So Tom and Prncipe Dobra"},{code:"SVC",name:"El Salvador Colon"},{code:"SYP",name:"Syria Pound"},{code:"SZL",name:"Swaziland Lilangeni"},{code:"THB",name:"Thailand Baht"},{code:"TJS",name:"Tajikistan Somoni"},{code:"TMT",name:"Turkmenistan Manat"},{code:"TND",name:"Tunisia Dinar"},{code:"TOP",name:"Tonga Pa'anga"},{code:"TRY",name:"Turkey Lira"},{code:"TTD",name:"Trinidad and Tobago Dollar"},{code:"TVD",name:"Tuvalu Dollar"},{code:"TWD",name:"Taiwan New Dollar"},{code:"TZS",name:"Tanzania Shilling"},{code:"UAH",name:"Ukraine Hryvnia"},{code:"UGX",name:"Uganda Shilling"},{code:"USD",name:"United States Dollar"},{code:"UYU",name:"Uruguay Peso"},{code:"UZS",name:"Uzbekistan Som"},{code:"VEF",name:"Venezuela Bolivar"},{code:"VND",name:"Viet Nam Dong"},{code:"VUV",name:"Vanuatu Vatu"},{code:"WST",name:"Samoa Tala"},{code:"XAF",name:"Communaut Financire Africaine (BEAC) CFA Franc BEAC"},{code:"XCD",name:"East Caribbean Dollar"},{code:"XDR",name:"International Monetary Fund (IMF) Special Drawing Rights"},{code:"XOF",name:"Communaut Financire Africaine (BCEAO) Franc"},{code:"XPF",name:"Comptoirs Franais du Pacifique (CFP) Franc"},{code:"YER",name:"Yemen Rial"},{code:"ZAR",name:"South Africa Rand"},{code:"ZMW",name:"Zambia Kwacha"},{code:"ZWD",name:"Zimbabwe Dollar"}],colorNames:["AliceBlue","Black","Navy","DarkBlue","MediumBlue","Blue","DarkGreen","Green","Teal","DarkCyan","DeepSkyBlue","DarkTurquoise","MediumSpringGreen","Lime","SpringGreen","Aqua","Cyan","MidnightBlue","DodgerBlue","LightSeaGreen","ForestGreen","SeaGreen","DarkSlateGray","LimeGreen","MediumSeaGreen","Turquoise","RoyalBlue","SteelBlue","DarkSlateBlue","MediumTurquoise","Indigo","DarkOliveGreen","CadetBlue","CornflowerBlue","RebeccaPurple","MediumAquaMarine","DimGray","SlateBlue","OliveDrab","SlateGray","LightSlateGray","MediumSlateBlue","LawnGreen","Chartreuse","Aquamarine","Maroon","Purple","Olive","Gray","SkyBlue","LightSkyBlue","BlueViolet","DarkRed","DarkMagenta","SaddleBrown","Ivory","White","DarkSeaGreen","LightGreen","MediumPurple","DarkViolet","PaleGreen","DarkOrchid","YellowGreen","Sienna","Brown","DarkGray","LightBlue","GreenYellow","PaleTurquoise","LightSteelBlue","PowderBlue","FireBrick","DarkGoldenRod","MediumOrchid","RosyBrown","DarkKhaki","Silver","MediumVioletRed","IndianRed","Peru","Chocolate","Tan","LightGray","Thistle","Orchid","GoldenRod","PaleVioletRed","Crimson","Gainsboro","Plum","BurlyWood","LightCyan","Lavender","DarkSalmon","Violet","PaleGoldenRod","LightCoral","Khaki","AliceBlue","HoneyDew","Azure","SandyBrown","Wheat","Beige","WhiteSmoke","MintCream","GhostWhite","Salmon","AntiqueWhite","Linen","LightGoldenRodYellow","OldLace","Red","Fuchsia","Magenta","DeepPink","OrangeRed","Tomato","HotPink","Coral","DarkOrange","LightSalmon","Orange","LightPink","Pink","Gold","PeachPuff","NavajoWhite","Moccasin","Bisque","MistyRose","BlanchedAlmond","PapayaWhip","LavenderBlush","SeaShell","Cornsilk","LemonChiffon","FloralWhite","Snow","Yellow","LightYellow"],fileExtension:{raster:["bmp","gif","gpl","ico","jpeg","psd","png","psp","raw","tiff"],vector:["3dv","amf","awg","ai","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","odg","svg","xar"],"3d":["3dmf","3dm","3mf","3ds","an8","aoi","blend","cal3d","cob","ctm","iob","jas","max","mb","mdx","obj","x","x3d"],document:["doc","docx","dot","html","xml","odt","odm","ott","csv","rtf","tex","xhtml","xps"]},timezones:[{name:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{name:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{name:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{name:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{name:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{name:"Pacific Standard Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{name:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{name:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{name:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{name:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{name:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{name:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{name:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{name:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{name:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{name:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{name:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{name:"Paraguay Standard Time",abbr:"PST",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{name:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{name:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{name:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{name:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{name:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{name:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{name:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{name:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{name:"Greenland Standard Time",abbr:"GDT",offset:-2,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{name:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{name:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{name:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{name:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old"},{name:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{name:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{name:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{name:"UTC",abbr:"CUT",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{name:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Edinburgh, Lisbon, London",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London"]},{name:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{name:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{name:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{name:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{name:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{name:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{name:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{name:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{name:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{name:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{name:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{name:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe"},{name:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{name:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{name:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!0,text:"(UTC+02:00) Istanbul",utc:["Europe/Istanbul"]},{name:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{name:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{name:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{name:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{name:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+03:00) Kaliningrad, Minsk",utc:["Europe/Kaliningrad","Europe/Minsk"]},{name:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{name:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{name:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{name:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{name:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{name:"Russian Standard Time",abbr:"RST",offset:4,isdst:!1,text:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",utc:["Europe/Moscow","Europe/Samara","Europe/Simferopol","Europe/Volgograd"]},{name:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{name:"Georgian Standard Time",abbr:"GST",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{name:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{name:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{name:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{name:"Pakistan Standard Time",abbr:"PST",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{name:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Calcutta"]},{name:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{name:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Katmandu"]},{name:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Astana",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{name:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{name:"Ekaterinburg Standard Time",abbr:"EST",offset:6,isdst:!1,text:"(UTC+06:00) Ekaterinburg",utc:["Asia/Yekaterinburg"]},{name:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{name:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{name:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{name:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{name:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{name:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{name:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{name:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{name:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{name:"North Asia East Standard Time",abbr:"NAEST",offset:9,isdst:!1,text:"(UTC+09:00) Irkutsk",utc:["Asia/Irkutsk"]},{name:"Tokyo Standard Time",abbr:"TST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{name:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{name:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{name:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{name:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{name:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{name:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{name:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{name:"Yakutsk Standard Time",abbr:"YST",offset:10,isdst:!1,text:"(UTC+10:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{name:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{name:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{name:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{name:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{name:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{name:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{name:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old"},{name:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{name:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}]},p=Object.prototype.hasOwnProperty,f=Object.keys||function(t){var e=[];for(var i in t)p.call(t,i)&&e.push(i);return e};t.prototype.get=function(t){return n(d[t])},t.prototype.mac_address=function(t){(t=e(t)).separator||(t.separator=t.networkVersion?".":":");var i="ABCDEF1234567890";return t.networkVersion?this.n(this.string,3,{pool:i,length:4}).join(t.separator):this.n(this.string,6,{pool:i,length:2}).join(t.separator)},t.prototype.normal=function(t){if(i((t=e(t,{mean:0,dev:1,pool:[]})).pool.constructor!==Array,"Chance: The pool option must be a valid array."),t.pool.length>0)return this.normal_pool(t);var a,n,s,r=t.mean,o=t.dev;do{a=(n=2*this.random()-1)*n+(s=2*this.random()-1)*s}while(a>=1);return o*(n*Math.sqrt(-2*Math.log(a)/a))+r},t.prototype.normal_pool=function(t){var e=0;do{var i=Math.round(this.normal({mean:t.mean,dev:t.dev}));if(i<t.pool.length&&i>=0)return t.pool[i];e++}while(100>e);throw new RangeError("Chance: Your pool is too small for the given mean and standard deviation. Please adjust.")},t.prototype.radio=function(t){var i="";switch((t=e(t,{side:"?"})).side.toLowerCase()){case"east":case"e":i="W";break;case"west":case"w":i="K";break;default:i=this.character({pool:"KW"})}return i+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})},t.prototype.set=function(t,e){"string"==typeof t?d[t]=e:d=n(t,d)},t.prototype.tv=function(t){return this.radio(t)},t.prototype.cnpj=function(){var t=this.n(this.natural,8,{max:9}),e=2+6*t[7]+7*t[6]+8*t[5]+9*t[4]+2*t[3]+3*t[2]+4*t[1]+5*t[0];(e=11-e%11)>=10&&(e=0);var i=2*e+3+7*t[7]+8*t[6]+9*t[5]+2*t[4]+3*t[3]+4*t[2]+5*t[1]+6*t[0];return(i=11-i%11)>=10&&(i=0),""+t[0]+t[1]+"."+t[2]+t[3]+t[4]+"."+t[5]+t[6]+t[7]+"/0001-"+e+i},t.prototype.mersenne_twister=function(t){return new m(t)},t.prototype.blueimp_md5=function(){return new g};var m=function(t){void 0===t&&(t=Math.floor(Math.random()*Math.pow(10,13))),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(t)};m.prototype.init_genrand=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++)t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0},m.prototype.init_by_array=function(t,e){var i,a,n=1,s=0;for(this.init_genrand(19650218),i=this.N>e?this.N:e;i;i--)a=this.mt[n-1]^this.mt[n-1]>>>30,this.mt[n]=(this.mt[n]^(1664525*((4294901760&a)>>>16)<<16)+1664525*(65535&a))+t[s]+s,this.mt[n]>>>=0,s++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),s>=e&&(s=0);for(i=this.N-1;i;i--)a=this.mt[n-1]^this.mt[n-1]>>>30,this.mt[n]=(this.mt[n]^(1566083941*((4294901760&a)>>>16)<<16)+1566083941*(65535&a))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1);this.mt[0]=2147483648},m.prototype.genrand_int32=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti===this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)t=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^t>>>1^e[1&t];for(;i<this.N-1;i++)t=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},m.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},m.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},m.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},m.prototype.genrand_real3=function(){return(this.genrand_int32()+.5)*(1/4294967296)},m.prototype.genrand_res53=function(){return(67108864*(this.genrand_int32()>>>5)+(this.genrand_int32()>>>6))*(1/9007199254740992)};var g=function(){};g.prototype.VERSION="1.0.1",g.prototype.safe_add=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},g.prototype.bit_roll=function(t,e){return t<<e|t>>>32-e},g.prototype.md5_cmn=function(t,e,i,a,n,s){return this.safe_add(this.bit_roll(this.safe_add(this.safe_add(e,t),this.safe_add(a,s)),n),i)},g.prototype.md5_ff=function(t,e,i,a,n,s,r){return this.md5_cmn(e&i|~e&a,t,e,n,s,r)},g.prototype.md5_gg=function(t,e,i,a,n,s,r){return this.md5_cmn(e&a|i&~a,t,e,n,s,r)},g.prototype.md5_hh=function(t,e,i,a,n,s,r){return this.md5_cmn(e^i^a,t,e,n,s,r)},g.prototype.md5_ii=function(t,e,i,a,n,s,r){return this.md5_cmn(i^(e|~a),t,e,n,s,r)},g.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var i,a,n,s,r,o=1732584193,l=-271733879,h=-1732584194,u=271733878;for(i=0;i<t.length;i+=16)a=o,n=l,s=h,r=u,o=this.md5_ff(o,l,h,u,t[i],7,-680876936),u=this.md5_ff(u,o,l,h,t[i+1],12,-389564586),h=this.md5_ff(h,u,o,l,t[i+2],17,606105819),l=this.md5_ff(l,h,u,o,t[i+3],22,-1044525330),o=this.md5_ff(o,l,h,u,t[i+4],7,-176418897),u=this.md5_ff(u,o,l,h,t[i+5],12,1200080426),h=this.md5_ff(h,u,o,l,t[i+6],17,-1473231341),l=this.md5_ff(l,h,u,o,t[i+7],22,-45705983),o=this.md5_ff(o,l,h,u,t[i+8],7,1770035416),u=this.md5_ff(u,o,l,h,t[i+9],12,-1958414417),h=this.md5_ff(h,u,o,l,t[i+10],17,-42063),l=this.md5_ff(l,h,u,o,t[i+11],22,-1990404162),o=this.md5_ff(o,l,h,u,t[i+12],7,1804603682),u=this.md5_ff(u,o,l,h,t[i+13],12,-40341101),h=this.md5_ff(h,u,o,l,t[i+14],17,-1502002290),l=this.md5_ff(l,h,u,o,t[i+15],22,1236535329),o=this.md5_gg(o,l,h,u,t[i+1],5,-165796510),u=this.md5_gg(u,o,l,h,t[i+6],9,-1069501632),h=this.md5_gg(h,u,o,l,t[i+11],14,643717713),l=this.md5_gg(l,h,u,o,t[i],20,-373897302),o=this.md5_gg(o,l,h,u,t[i+5],5,-701558691),u=this.md5_gg(u,o,l,h,t[i+10],9,38016083),h=this.md5_gg(h,u,o,l,t[i+15],14,-660478335),l=this.md5_gg(l,h,u,o,t[i+4],20,-405537848),o=this.md5_gg(o,l,h,u,t[i+9],5,568446438),u=this.md5_gg(u,o,l,h,t[i+14],9,-1019803690),h=this.md5_gg(h,u,o,l,t[i+3],14,-187363961),l=this.md5_gg(l,h,u,o,t[i+8],20,1163531501),o=this.md5_gg(o,l,h,u,t[i+13],5,-1444681467),u=this.md5_gg(u,o,l,h,t[i+2],9,-51403784),h=this.md5_gg(h,u,o,l,t[i+7],14,1735328473),l=this.md5_gg(l,h,u,o,t[i+12],20,-1926607734),o=this.md5_hh(o,l,h,u,t[i+5],4,-378558),u=this.md5_hh(u,o,l,h,t[i+8],11,-2022574463),h=this.md5_hh(h,u,o,l,t[i+11],16,1839030562),l=this.md5_hh(l,h,u,o,t[i+14],23,-35309556),o=this.md5_hh(o,l,h,u,t[i+1],4,-1530992060),u=this.md5_hh(u,o,l,h,t[i+4],11,1272893353),h=this.md5_hh(h,u,o,l,t[i+7],16,-155497632),l=this.md5_hh(l,h,u,o,t[i+10],23,-1094730640),o=this.md5_hh(o,l,h,u,t[i+13],4,681279174),u=this.md5_hh(u,o,l,h,t[i],11,-358537222),h=this.md5_hh(h,u,o,l,t[i+3],16,-722521979),l=this.md5_hh(l,h,u,o,t[i+6],23,76029189),o=this.md5_hh(o,l,h,u,t[i+9],4,-640364487),u=this.md5_hh(u,o,l,h,t[i+12],11,-421815835),h=this.md5_hh(h,u,o,l,t[i+15],16,530742520),l=this.md5_hh(l,h,u,o,t[i+2],23,-995338651),o=this.md5_ii(o,l,h,u,t[i],6,-198630844),u=this.md5_ii(u,o,l,h,t[i+7],10,1126891415),h=this.md5_ii(h,u,o,l,t[i+14],15,-1416354905),l=this.md5_ii(l,h,u,o,t[i+5],21,-57434055),o=this.md5_ii(o,l,h,u,t[i+12],6,1700485571),u=this.md5_ii(u,o,l,h,t[i+3],10,-1894986606),h=this.md5_ii(h,u,o,l,t[i+10],15,-1051523),l=this.md5_ii(l,h,u,o,t[i+1],21,-2054922799),o=this.md5_ii(o,l,h,u,t[i+8],6,1873313359),u=this.md5_ii(u,o,l,h,t[i+15],10,-30611744),h=this.md5_ii(h,u,o,l,t[i+6],15,-1560198380),l=this.md5_ii(l,h,u,o,t[i+13],21,1309151649),o=this.md5_ii(o,l,h,u,t[i+4],6,-145523070),u=this.md5_ii(u,o,l,h,t[i+11],10,-1120210379),h=this.md5_ii(h,u,o,l,t[i+2],15,718787259),l=this.md5_ii(l,h,u,o,t[i+9],21,-343485551),o=this.safe_add(o,a),l=this.safe_add(l,n),h=this.safe_add(h,s),u=this.safe_add(u,r);return[o,l,h,u]},g.prototype.binl2rstr=function(t){var e,i="";for(e=0;e<32*t.length;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i},g.prototype.rstr2binl=function(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i},g.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},g.prototype.rstr_hmac_md5=function(t,e){var i,a,n=this.rstr2binl(t),s=[],r=[];for(s[15]=r[15]=void 0,n.length>16&&(n=this.binl_md5(n,8*t.length)),i=0;16>i;i+=1)s[i]=909522486^n[i],r[i]=1549556828^n[i];return a=this.binl_md5(s.concat(this.rstr2binl(e)),512+8*e.length),this.binl2rstr(this.binl_md5(r.concat(a),640))},g.prototype.rstr2hex=function(t){var e,i,a="0123456789abcdef",n="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),n+=a.charAt(e>>>4&15)+a.charAt(15&e);return n},g.prototype.str2rstr_utf8=function(t){return unescape(encodeURIComponent(t))},g.prototype.raw_md5=function(t){return this.rstr_md5(this.str2rstr_utf8(t))},g.prototype.hex_md5=function(t){return this.rstr2hex(this.raw_md5(t))},g.prototype.raw_hmac_md5=function(t,e){return this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e))},g.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.raw_hmac_md5(t,e))},g.prototype.md5=function(t,e,i){return e?i?this.raw_hmac_md5(e,t):this.hex_hmac_md5(e,t):i?this.raw_md5(t):this.hex_md5(t)},"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Chance=t),"function"==typeof define&&define.amd&&define([],(function(){return t})),"undefined"!=typeof importScripts&&(chance=new t),"object"==typeof window&&"object"==typeof window.document&&(window.Chance=t,window.chance=new t)}();
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},a=e.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in a,s=/constructor/i.test(t.HTMLElement)||t.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent),o=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=function(t){setTimeout((function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()}),4e4)},h=function(t,e,i){for(var a=(e=[].concat(e)).length;a--;){var n=t["on"+e[a]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){o(t)}}},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(e,o,c){c||(e=u(e));var d,p=this,f="application/octet-stream"===e.type,m=function(){h(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,n)return d=i().createObjectURL(e),void setTimeout((function(){a.href=d,a.download=o,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(a),m(),l(d),p.readyState=p.DONE}));!function(){if((r||f&&s)&&t.FileReader){var a=new FileReader;return a.onloadend=function(){var e=r?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},a.readAsDataURL(e),void(p.readyState=p.INIT)}(d||(d=i().createObjectURL(e)),f)?t.location.href=d:t.open(d,"_blank")||(t.location.href=d);p.readyState=p.DONE,m(),l(d)}()},d=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,e,i){return new c(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",(function(){return saveAs}));class MenuManager{constructor(){this._menus={}}init(){this.newDay=!1,this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{!0===this.newDay&&GAME.newDay()}))}preload(){this.menu=this.add.group()}create(t){t.optional_parameter=t.optional_parameter||null,this.scene.bringToTop(),this.startMenu(t.menuName,t.optional_parameter)}startMenu(t,e){if(!1===this.getMenu(t))return this.closeMenu(),null;this.getMenu(t).call(this,e)}switchMenu(t,e){this.menu.destroy(!0,!0),this.startMenu(t,e)}closeMenu(){this.menu.destroy(!0),this.scene.stop()}getMenu(t){return!!this._menus.hasOwnProperty(t)&&this._menus[t]}addMenu(t,e){this._menus[t]=e}removeMenu(t){delete this._menus[t]}newDay(t){this._menuScene.newDay=t}}MenuManager.prototype.openMenu=function(t,e){return new Promise((i=>{game.scene.start("Menu",{pauseAllScenes:!0,menuName:t,optional_parameter:e}),game.scene.getScene("Menu").events.once("shutdown",(()=>{GAME.createMap().then(i)}))}))};class DialogueManager{constructor(){this._names={"":""},this.dialogues={},this.activeDialogue=!1}_initNames(){this.addName("Queen","Queen"),this.addName("Suki","Suki"),this.addName("Esxea","Esxea"),this.addName("Scarlett","Scarlett"),this.addName("Ardura","Ardura"),this.addName("Natasha","Natasha"),this.addName("AviaGuard","Avia Guard"),this.addName("Brior","Brior"),this.addName("Daniel","Daniel"),this.addName("Darrak","Darrak"),this.addName("Boris","Boris"),this.addName("BorisWolf","Boris"),this.addName("Dathea","Dathea"),this.addName("Geoff","Geoff"),this.addName("King","King of Avia"),this.addName("KingEvil","King of Avia"),this.addName("Leon","Leon"),this.addName("Mayor","Mayor"),this.addName("Naknu","Naknu"),this.addName("NotNaknu","Not Naknu"),this.addName("Nirvokk","Nirvokk"),this.addName("Peasant","Peasant"),this.addName("Principal","Principal"),this.addName("Abigail","Abigail"),this.addName("Cassie","Cassie"),this.addName("Thomas","Thomas"),this.addName("ScaryMan","Scary Man"),this.addName("Thisa","Thisa"),this.addName("AviaCaptain","Avia Captain"),this.addName("Mog","Mog"),this.addName("Arietta","Arietta"),this.addName("Sabrina","Sabrina"),this.addName("Daisy","Daisy"),this.addName("Archmage","ArchMage"),this.addName("Phyllis","Phyllis"),this.addName("Lilith","Lilith"),this.addName("Minotaur","Minotaur"),this.addName("Monster","Monster"),this.addName("E1","Man"),this.addName("E2","Man"),this.addName("E3","Man"),this.addName("E4","Man"),this.addName("G1","Man"),this.addName("G2","Man"),this.addName("G3","Man"),this.addName("G4","Man"),this.addName("Go1","Goblin"),this.addName("Go2","Goblin"),this.addName("Go3","Goblin"),this.addName("Go4","Goblin"),this.addName("P1","Man"),this.addName("P2","Man"),this.addName("P3","Man"),this.addName("P4","Man"),this.addName("O1","Orc"),this.addName("O2","Orc"),this.addName("O3","Orc"),this.addName("O4","Orc")}_playDialogueTree(t,e,i){return""===e&&(e=null),new Promise((a=>{!1===this.activeDialogue&&(this.activeDialogue=this.getDialogueTree(t).getID()),this.getDialogueTree(t).play(e,i).then((e=>{this.activeDialogue===this.getDialogueTree(t).getID()&&(this.activeDialogue=!1),a(e)}))}))}addDialogueTree(t){let e=new DialogueTree(t);return this.dialogues[e.getID()]=e,this.dialogues[e.getID()]}removeDialogueTree(t){return delete this.dialogues[t],this}getDialogueTree(t){return this.dialogues[t]}playDialogue(t,e,i){return new Promise((a=>{let n=game.scene.getScene("DialogueScene");if(!1===n.sys.isActive())n.events.once("doneLoading",(()=>{this._playDialogueTree(t,e,i).then((t=>{n.end(t).then((()=>{a(t)}))}))})),n.scene.start("DialogueScene",{pauseAllScenes:!0});else{let s=n.data.get("pausedScenes");n.scene.bringToTop(),game.scene.getScene("DialogueScene").scene.manager.pauseAllScenes("DialogueScene"),this._playDialogueTree(t,e,i).then((t=>{let e=n.data.get("pausedScenes");if(e){for(let t of e)game.scene.getScene(t).scene.resume();n.scene.sendToBack()}if(s){for(let t of s)game.scene.getScene(t).scene.pause();n.data.set("pausedScenes",s)}a(t)}))}}))}popUpBoard(t,e){return new Promise((i=>{t=t||"",e=e||!1,game.scene.start("popUpBoard",{pauseAllScenes:!0,text:t,type:e}),game.scene.getScene("popUpBoard").events.once("shutdown",((t,e)=>{i(e.answer)}))}))}talk(t,e,i,a){return new Promise((a=>{this.addDialogueTree("tempDialogue").addBranch("tempBranch",!0).talk(t,e,i),this.playDialogue("tempDialogue").then((()=>{this.removeDialogueTree("tempDialogue"),a()}))}))}getName(t){return this._names[t]}addName(t,e){this._names[t]=e}removeName(t){delete this._names[t]}search(t){let e=[],i=a=>{(i=>{for(let a in i){let n=i[a];"Talk"===n.getType()&&-1!==n.text.search(t)&&e.push({character:n.character,text:n.text,emotion:n.emotion,branch:n.getParent(),branchParent:n.getParent().getParent(),branchTree:n.getParent().getTree(),leaf:a})}})(a.getLeaves());for(let t in a.getBranches())i(a.getBranch(t))},a=t=>{for(let e in this.getDialogueTree(t).branches)i(this.getDialogueTree(t).getBranch(e))};for(let t in this.dialogues)a(t);return e}}class DialogueTree{constructor(t){return this.id=t,this.branches={},this.root="",this.parameter={},this}getID(){return this.id}addBranch(t,e){e=e||!1;let i=new Branch(t)._setParent(this);return!0===e&&this.setRoot(i.getID()),this.branches[i.getID()]=i,this.branches[i.getID()]._setParent(this),this.branches[i.getID()]._setTree(this),this.branches[i.getID()]}setRoot(t){return this.root=t,this}getRoot(){return this.root}getBranch(t){return this.branches[t]}play(t,e){return e&&(this.parameter=e),t=t||this.getRoot(),new Promise((i=>{this.getBranch(t).play(e).then((t=>{i(t)}))}))}}class DialogueStep{constructor(t){this._TYPE=t,this._PARENT=!1,this._RETURN_ANSWER=!1,this._DialogueScene=game.scene.getScene("DialogueScene")}_setParent(t){return this._PARENT=t,this}getParent(){return this._PARENT}getType(){return this._TYPE}returnAnswer(t){return this._RETURN_ANSWER=t,this}getReturnAnswer(){return this._RETURN_ANSWER}getDialogueScene(){return this._DialogueScene}}class DialogueTalk extends DialogueStep{constructor(t,e,i,a){super("Talk"),this.character=t,this.text=e,this.emotion=i,this.duration=a}play(){return new Promise((t=>{this.getDialogueScene().talk(this.character,this.text,this.emotion,this.duration).then((()=>{t()}))}))}}class DialogueQuestion extends DialogueStep{constructor(t,e,i,a){super("Question"),this.answers=t,this.exit=e||!1,this.text=i||"",this.character=a||"nullPixel",this.returnAnswer(!0)}play(){return new Promise((t=>{this.getDialogueScene().question(this.answers,this.exit,this.text,this.character).then((e=>{t(e)}))}))}}class DialogueQuestPicker extends DialogueStep{constructor(t,e,i,a){super("QuestPicker"),this.mapKey=t,this.text=e||"",this.character=i||"nullPixel",this.greet=a,this.returnAnswer(!0)}play(){return new Promise((t=>{let e=GAME.quest.getActiveQuests(this.mapKey);e=e.filter((t=>!0===t.getProgress()));let i=[];for(let t of e)i.push(t.getQuest().getName());this.greet&&(Phaser.Utils.Array.AddAt(i,"Greet",0),Phaser.Utils.Array.AddAt(e,"Greet",0)),this.getDialogueScene().question(i,!0,this.text,this.character,e).then((i=>{if(!1===i)t();else{let a=e[i-1];this.greet&&1===i?t("greet"):""!==a.getDialogueBranch()?GAME.dialogue.playDialogue(a.getDialogueTree(),a.getDialogueBranch()).then((e=>{t(e)})):GAME.dialogue.playDialogue(a.getDialogueTree()).then((e=>{t(e)}))}}))}))}}class DialogueSwitchDialogue extends DialogueStep{constructor(t,e){super("SwitchDialogue"),this.dialogueID=t,this.branchID=e}play(){return new Promise((t=>{GAME.dialogue.playDialogue(this.dialogueID,this.branchID).then((()=>{t()}))}))}}class DialogueSwitchBranch extends DialogueStep{constructor(t){super("SwitchBranch"),this.branchID=t}play(){return new Promise((t=>{this.getParent().playBranch(this.branchID).then((e=>{t(e)}))}))}}class DialogueFunction extends DialogueStep{constructor(t){return super("DialogueFunction"),this.callback=t,this.returnAnswer(!0),this}play(){return new Promise((t=>{this.callback(this.getParent().getParameter(),this.getParent().getLastAnswer()).then((e=>{t(e)}))}))}}class DialogueSetBackground extends DialogueStep{constructor(t){super("SetBackground"),this.key=t}play(){return new Promise((t=>{this.getDialogueScene().setBackground(this.key).then((()=>{t()}))}))}}class DialogueifLastAnswer extends DialogueStep{constructor(t,e,i,a,n){super("ifLastAnswer"),this.answer=e,this.scope=t,this.branchID=i,this.dialogueID=a,this.skipAnswers=n}play(){return new Promise((t=>{this.answer===this.scope.getLastAnswer(this.skipAnswers)?this.dialogueID?GAME.dialogue.playDialogue(this.dialogueID,this.branchID).then((e=>{t(e)})):this.branchID?this.getParent().playBranch(this.branchID).then((e=>{t(e)})):t():t()}))}}class DialogueifAnswerAtStep extends DialogueStep{constructor(t,e,i,a,n){super("ifAnswerAtStep"),this.answer=i,this.scope=t,this.step=e,this.branchID=a,this.dialogueID=n}play(){return new Promise((t=>{this.answer===this.scope.getAnswers(this.step)?this.dialogue?GAME.dialogue.playDialogue(this.dialogueID,this.branchID).then((e=>{t(e)})):this.branchID?this.getParent().playBranch(this.branchID).then((e=>{t(e)})):t():t()}))}}class DialogueFade extends DialogueStep{constructor(t){super("Fade"),this.delay=t||1e3}play(){return new Promise((t=>{GAME.fade(this.delay).then((()=>{t()}))}))}}class DialogueFlash extends DialogueStep{constructor(){super("Flash")}play(){return new Promise((t=>{GAME.cumFlash(),t()}))}}class DialoguePopUp extends DialogueStep{constructor(t,e){super("PopUp"),this.text=t||"",this.type=e||!1,!0===this.getPopUpType()&&this.returnAnswer(!0)}getPopUpType(){return this.type}play(){return new Promise((t=>{GAME.dialogue.popUpBoard(this.text,this.type).then((e=>{t(e)}))}))}}class DialogueCompleteQuest extends DialogueStep{constructor(t,e,i){super("CompleteQuest"),this.questID=t,this.subquestID=e,this.onCompleteParameter=i}play(){return new Promise((t=>{GAME.quest.complete(this.questID,this.subquestID,this.onCompleteParameter),t()}))}}class DialogueSetNaked extends DialogueStep{constructor(t,e){super("SetNaked"),this.girl=t,this.boolean=e||!1}play(){return new Promise((t=>{if("object"==typeof this.girl)for(let t of this.girl)GAME.girl.getGirl(t).setNaked(this.boolean);else GAME.girl.getGirl(this.girl).setNaked(this.boolean);t()}))}}class DialogueSetFuta extends DialogueStep{constructor(t,e){super("SetFuta"),this.girl=t,this.boolean=e||!1}play(){return new Promise((t=>{if("object"==typeof this.girl)for(let t of this.girl)GAME.girl.getGirl(t).setFuta(this.boolean);else GAME.girl.getGirl(this.girl).setFuta(this.boolean);t()}))}}class DialogueEquipClothes extends DialogueStep{constructor(t,e,i){super("EquipClothes"),this.girl=t,this.clothes=e,this.force=i}play(){return new Promise((t=>{GAME.girl.getGirl(this.girl).equipClothes(this.clothes,this.force),t()}))}}class DialogueSetClothesStyle extends DialogueStep{constructor(t,e,i){super("EquipClothes"),this.girl=t,this.style=e,this.clothes=i}play(){return new Promise((t=>{this.clothes?GAME.clothes.getClothes(this.clothes).setStyle(this.style):GAME.girl.getGirl(this.girl).getClothes().setStyle(this.style),t()}))}}class DialogueCumOn extends DialogueStep{constructor(t,e,i){super("CumOn"),this.girl=t,this.bodyPart=e,this.amount=i||1}play(){return new Promise((t=>{if("object"==typeof this.girl)for(let t of this.girl)GAME.girl.getGirl(t).cumOn(this.bodyPart,this.amount);else GAME.girl.getGirl(this.girl).cumOn(this.bodyPart,this.amount);t()}))}}class DialogueBukkake extends DialogueStep{constructor(t){super("Bukkake"),this.girl=t}play(){return new Promise((t=>{if("object"==typeof this.girl)for(let t of this.girl)GAME.girl.getGirl(t).bukkake();else GAME.girl.getGirl(this.girl).bukkake();t()}))}}class DialogueSwitchMap extends DialogueStep{constructor(t){super("SwitchMap"),this.mapID=t}play(){return new Promise((t=>{GAME.map.switchMap(this.mapID,!0),t()}))}}class DialoguePlayAnimation extends DialogueStep{constructor(t){super("PlayAnimation"),this.animationID=t}play(){return new Promise((t=>{GAME.animation.playAnimation(this.animationID).then((()=>{t()}))}))}}class DialogueBossBattle extends DialogueStep{constructor(t,e){super("DialogueBossBattle"),this.id=t,this.difficulty=e,this.returnAnswer(!0)}play(){return new Promise((t=>{GAME.boss.startBossBattle(this.id,this.difficulty).then((e=>{t(e)}))}))}}class DialogueBattle extends DialogueStep{constructor(t){super("DialogueBattle"),this.battle=t,this.returnAnswer(!0)}play(){return new Promise((t=>{GAME.battle.startBattle(this.battle).then((e=>{t(e)}))}))}}class DialogueReturn extends DialogueStep{constructor(t){super("Return"),this.value=t}play(){return new Promise((t=>{t(this.value)}))}}class DialogueReturnLastAnswer extends DialogueStep{constructor(t){super("Return"),this.scope=t}play(){return new Promise((t=>{t(this.scope.getLastAnswer())}))}}class DialoguePatreonPopUp extends DialogueStep{constructor(t){super("PatreonPopUp"),this.endOfGame=t||!1}play(){return new Promise((t=>{GAME.patreonPopUp(this.endOfGame).then(t)}))}}class Branch{constructor(t){return this.id=t,this._PARENT=!1,this._TREE=!1,this.branches={},this.leaves=[],this.questionAnswers={},this.parameter={},this}_setTree(t){return this._TREE=t,this}getTree(){return this._TREE}_setParent(t){return this._PARENT=t,this}getParent(){return this._PARENT}addBranch(t){let e=new Branch(t)._setParent(this)._setTree(this.getTree());return this.branches[e.getID()]=e,this.branches[e.getID()]._setParent(this),this.branches[e.getID()]._setTree(this),this.branches[e.getID()]}getBranch(t){return this.branches[t]}getBranches(){return this.branches}getID(){return this.id}getLeaves(t){return t||0===t?void 0!==this.leaves[t]&&this.leaves[t]:this.leaves}removeLeaf(t){return Phaser.Utils.Array.RemoveAt(this.leaves,t),this}removeLeavesBetween(t,e){return Phaser.Utils.Array.RemoveBetween(this.leaves,t,e),this}talk(t,e,i,a,n){return n||0===n?Phaser.Utils.Array.AddAt(this.leaves,new DialogueTalk(t,e,i,a)._setParent(this),n):this.leaves.push(new DialogueTalk(t,e,i,a)._setParent(this)),this}question(t,e,i,a,n){return n||0===n?Phaser.Utils.Array.AddAt(this.leaves,new DialogueQuestion(t,e,i,a)._setParent(this),n):this.leaves.push(new DialogueQuestion(t,e,i,a)._setParent(this)),this}QuestPicker(t,e,i,a,n){return n||0===n?Phaser.Utils.Array.AddAt(this.leaves,new DialogueQuestPicker(t,e,i,a)._setParent(this),n):this.leaves.push(new DialogueQuestPicker(t,e,i,a)._setParent(this)),this}setAnswer(t,e){return this.questionAnswers[t]=e,this}getAnswers(t){return t?this.questionAnswers[t]:this.questionAnswers}getLastAnswer(t){return t=t||0,this.questionAnswers[Object.keys(this.questionAnswers)[Object.keys(this.questionAnswers).length-1-t]]}getParameter(){return this.parameter}SwitchDialogue(t,e,i){return i||0===i?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSwitchDialogue(t,e)._setParent(this),i):this.leaves.push(new DialogueSwitchDialogue(t,e)._setParent(this)),this}SwitchBranch(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSwitchBranch(t)._setParent(this),e):this.leaves.push(new DialogueSwitchBranch(t)._setParent(this)),this}Function(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueFunction(t)._setParent(this),e):this.leaves.push(new DialogueFunction(t)._setParent(this)),this}setBackground(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSetBackground(t)._setParent(this),e):this.leaves.push(new DialogueSetBackground(t)._setParent(this)),this}removeBackground(t){return t||0===t?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSetBackground("nullPixel")._setParent(this),t):this.leaves.push(new DialogueSetBackground("nullPixel")._setParent(this)),this}ifLastAnswer(t,e,i,a,n){return n||0===n?Phaser.Utils.Array.AddAt(this.leaves,new DialogueifLastAnswer(this,t,e,i)._setParent(this),n):this.leaves.push(new DialogueifLastAnswer(this,t,e,i)._setParent(this)),this}ifAnswerAtStep(t,e,i,a,n){return n||0===n?Phaser.Utils.Array.AddAt(this.leaves,new DialogueifAnswerAtStep(this,t,e,i,a)._setParent(this),n):this.leaves.push(new DialogueifAnswerAtStep(this,t,e,i,a)._setParent(this)),this}Fade(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueFade(t)._setParent(this),e):this.leaves.push(new DialogueFade(t)._setParent(this)),this}Flash(t){return t||0===t?Phaser.Utils.Array.AddAt(this.leaves,(new DialogueFlash)._setParent(this),t):this.leaves.push((new DialogueFlash)._setParent(this)),this}popUp(t,e,i){return i||0===i?Phaser.Utils.Array.AddAt(this.leaves,new DialoguePopUp(t,e)._setParent(this),i):this.leaves.push(new DialoguePopUp(t,e)._setParent(this)),this}completeQuest(t,e,i,a){return a||0===a?Phaser.Utils.Array.AddAt(this.leaves,new DialogueCompleteQuest(t,e,i)._setParent(this),a):this.leaves.push(new DialogueCompleteQuest(t,e,i)._setParent(this)),this}setNaked(t,e,i){return i||0===i?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSetNaked(t,e)._setParent(this),i):this.leaves.push(new DialogueSetNaked(t,e)._setParent(this)),this}setFuta(t,e,i){return i||0===i?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSetFuta(t,e)._setParent(this),i):this.leaves.push(new DialogueSetFuta(t,e)._setParent(this)),this}equipClothes(t,e,i,a){return a||0===a?Phaser.Utils.Array.AddAt(this.leaves,new DialogueEquipClothes(t,e,i)._setParent(this),a):this.leaves.push(new DialogueEquipClothes(t,e,i)._setParent(this)),this}setClothesStyle(t,e,i,a){return a||0===a?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSetClothesStyle(t,e,i)._setParent(this),a):this.leaves.push(new DialogueSetClothesStyle(t,e,i)._setParent(this)),this}cumOn(t,e,i,a){return a||0===a?Phaser.Utils.Array.AddAt(this.leaves,new DialogueCumOn(t,e,i)._setParent(this),a):this.leaves.push(new DialogueCumOn(t,e,i)._setParent(this)),this}bukkake(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueBukkake(t)._setParent(this),e):this.leaves.push(new DialogueBukkake(t)._setParent(this)),this}switchMap(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueSwitchMap(t)._setParent(this),e):this.leaves.push(new DialogueSwitchMap(t)._setParent(this)),this}playAnimation(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialoguePlayAnimation(t)._setParent(this),e):this.leaves.push(new DialoguePlayAnimation(t)._setParent(this)),this}battle(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueBattle(t)._setParent(this),e):this.leaves.push(new DialogueBattle(t)._setParent(this)),this}bossBattle(t,e,i){return i||0===i?Phaser.Utils.Array.AddAt(this.leaves,new DialogueBossBattle(t,e)._setParent(this),i):this.leaves.push(new DialogueBossBattle(t,e)._setParent(this)),this}return(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialogueReturn(t)._setParent(this),e):this.leaves.push(new DialogueReturn(t)._setParent(this)),this}returnLastAnswer(t){return t||0===t?Phaser.Utils.Array.AddAt(this.leaves,new DialogueReturnLastAnswer(this)._setParent(this),t):this.leaves.push(new DialogueReturnLastAnswer(this)._setParent(this)),this}patreonPopUp(t,e){return e||0===e?Phaser.Utils.Array.AddAt(this.leaves,new DialoguePatreonPopUp(t,this)._setParent(this),e):this.leaves.push(new DialoguePatreonPopUp(t,this)._setParent(this)),this}play(t){return this.questionAnswers={},this.parameter=t||this.getTree().parameter,new Promise((t=>{let e=i=>{!0===GAME.debugDialogue&&console.log(this.getLeaves(i)),!1!==this.getLeaves(i)?this.getLeaves(i).play().then((a=>{!0===this.getLeaves(i).getReturnAnswer()&&this.setAnswer(i,a),"Return"===this.getLeaves(i).getType()||("ifLastAnswer"===this.getLeaves(i).getType()||"ifAnswerAtStep"===this.getLeaves(i).getType())&&void 0!==a?t(a):e(i+1)})):t()};e(0)}))}playBranch(t,e){return new Promise((i=>{this.getBranch(t).play(e).then((t=>{i(t)}))}))}}class Girl{constructor(t,e,i,a,n){return this.id=t,this._layers=[],this._cumLayers={Throat:[],Tits:[],Pussy:[],Anal:[],Futa:[]},this.baseStats={Throat:1,Pussy:1,Tits:1,Anal:1},this.baseStamina=i,this.staminaGain={},this.baseLevel=e,this.naked=!1,this.futa=!1,this.ultimateDescription="",this.ultimate=0,this.age=a,this.height=n,this.Manager=GAME.girl,this}getID(){return this.id}setBaseStats(t){return this.baseStats=t,this}getAge(){return this.age}getHeight(){return this.height}unlock(){return gameData.girl[this.id].Unlocked=!0,this}isUnlocked(){return gameData.girl[this.id].Unlocked}getPlayerStats(t){return t?gameData.girl[this.id].Stats[t]:gameData.girl[this.id].Stats}availablePoints(){let t=0;for(let e of skills)t+=this.getPlayerStats(e);return 1*(this.getLevel()-this.getBaseLevel())-t}getBaseStat(t){return this.baseStats[t]+Math.floor((this.getLevel()-this.getBaseLevel())/2)}getStat(t,e){let i=this.getBaseStat(t),a=this.getPlayerStats(t),n=this.getClothes().getStats(t);return void 0===e&&(e=!0),!0===e?i+a+n:i+a}statUp(t){return this.availablePoints()>0?gameData.girl[this.id].Stats[t]+=1:GAME.notify(this.id+" does not have any available stat points!"),globalEvents.emit("statUp"),this}getExp(){return gameData.girl[this.id].EXP}setExp(t){return gameData.girl[this.id].EXP=t,this}gainExp(t,e){if(e=e||!1,0===t)return null;let i,a=GAME.girl[this.id].getLevel();gameData.girl[this.id].EXP+=t,gameData.girl[this.id].EXP>GAME.getExp(MAX_LEVEL)&&(gameData.girl[this.id].EXP=GAME.getExp(MAX_LEVEL)),i=GAME.girl[this.id].getLevel(),a!==i&&globalEvents.emit("levelUp",{girl:this.id}),globalEvents.emit("gainExp",t,e)}getBaseLevel(){return this.baseLevel}getLevel(){return GAME.getLevel(this.getExp())}getBaseStamina(){return this.baseStamina}setBaseStamina(t){return this.baseStamina=t,this}getStaminaGain(){return this.staminaGain}getStaminaGainAmount(){let t=0,e=this.getStaminaGain();for(let i in e)this.getLevel()>=i&&(t+=e[i]);return t}addStaminaGain(t,e){return this.staminaGain[t]=e,this}getStamina(){return parseFloat(gameData.girl[this.id].Stamina.toFixed(2))}getMaxStamina(){return parseFloat((this.getBaseStamina()+this.getStaminaGainAmount()+this.getClothes().getStats("Stamina")).toFixed(2))}setStamina(t){return gameData.girl[this.id].Stamina=t,globalEvents.emit("gainStamina",{girl:this.id,staminaAmount:0}),this}loseStamina(t){return t>0&&(gameData.girl[this.id].Stamina-=t,globalEvents.emit("loseStamina",{girl:this.id,staminaAmount:-t})),this}gainStamina(t,e){return void 0===e&&(e=!0),t>0&&(!0===e?gameData.girl[this.id].Stamina+=t:gameData.girl[this.id].Stamina<GAME.girl[this.id].getMaxStamina()&&(gameData.girl[this.id].Stamina+=t,gameData.girl[this.id].Stamina>GAME.girl[this.id].getMaxStamina()&&(gameData.girl[this.id].Stamina=GAME.girl[this.id].getMaxStamina())),globalEvents.emit("gainStamina",{girl:this.id,staminaAmount:t})),this}getGuysFucked(){return gameData.girl[this.id].GuysFucked}fuckGuys(t){return gameData.girl[this.id].GuysFucked+=t,this}getMorals(){return gameData.girl[this.id].Morals<-5&&(gameData.girl[this.id].Morals=-5),gameData.girl[this.id].Morals>5&&(gameData.girl[this.id].Morals=5),gameData.girl[this.id].Morals}increaseMorals(t){return gameData.girl[this.id].Morals+=t,gameData.girl[this.id].Morals>5&&(gameData.girl[this.id].Morals=5),globalEvents.emit("increaseMorals"),this}decreaseMorals(t){return t=t||1,gameData.girl[this.id].Morals-=t,gameData.girl[this.id].Morals<-5&&(gameData.girl[this.id].Morals=-5),globalEvents.emit("decreaseMorals"),this}getMoralDescription(){let t="Neutral";switch(this.getMorals()){case-5:t="Cum Dumpster";break;case-4:case-3:t="Sex Toy";break;case-2:case-1:t="Low Morals";break;case 0:t="Neutral Morals";break;case 1:case 2:t="Has Morals";break;case 3:case 4:t="Highly Praised";break;case 5:t="Brothel Favorite"}return t}setNaked(t){return this.naked=t,globalEvents.emit("refreshGirls"),this}isNaked(){return this.naked}setFuta(t){return this.futa=t,globalEvents.emit("refreshGirls"),this}isFuta(){return this.futa}getClothes(){return GAME.clothes.getClothes(gameData.girl[this.id].Clothes)}setClothes(t){return gameData.girl[this.id].Clothes=t,this}equipClothes(t,e){e=e||!1;let i=GAME.clothes.getClothes(t),a=i.Girl;return a.getLevel()<i.getLevel()&&!1===e?(GAME.notify(a.id+" does not have a high enough level to wear that!"),this):(this.setClothes(i.id),this.setNaked(!1),globalEvents.emit("refreshGirls"),this)}getLayers(t){if(!0===(t=t||!1))return this._layers;{let t=[];for(let e of this._layers)t.push(e.layerID);return t}}addLayer(t,e){return!1!==this.getClothes().getLayerID()&&(e=e+"-"+this.getClothes().getLayerID()),game.textures.exists(this.getID()+"-Layer-"+e)&&this._layers.push({girl:this.id,beforeClothes:t,layerID:e}),globalEvents.emit("refreshGirls"),this}removeLayer(t){!1!==this.getClothes().getLayerID()&&(t=t+"-"+this.getClothes().getLayerID()),this._layers.splice(this._layers.findIndex((e=>e.layerID===t)),1),globalEvents.emit("refreshGirls")}removeAllLayers(){return this._layers=[],globalEvents.emit("refreshGirls"),this}addCumLayer(t,e){return this._cumLayers[t].push(e),this}getCumLayers(t){return t?this._cumLayers[t]:this._cumLayers}cumOn(t,e){e=e||1;for(let i=1;i<=e;i++){let e=this.getLayers(),i=this.getCumLayers(t).filter((t=>(!1!==this.getClothes().getLayerID()&&(t=t+"-"+this.getClothes().getLayerID()),!1===e.includes(t))));i.length>0&&this.addLayer(!0,chance.pickone(i))}return this}bukkake(){for(let t of skills)for(let e=1;e<=4;e++)this.cumOn(t);return this}setUltimateDescription(t){return this.ultimateDescription=t,this}getUltimateDescription(){return this.ultimateDescription}subtractUltimate(t){return this.ultimate-=t,this.ultimate<0&&(this.ultimate=0),this}addUltimate(t){return this.ultimate+=t,this.ultimate>100&&(this.ultimate=100),this}getUltimate(){return this.ultimate}}class GirlManager{constructor(){this._girls=["Queen","Suki","Esxea","Scarlett","Ardura","Natasha"],this.currentGirl="Queen"}_initGirls(){this.add(new Girl("Queen",1,3,26,"5'5''")).setBaseStats({Throat:1,Pussy:1,Tits:1,Anal:1}).addStaminaGain(10,1).addStaminaGain(30,1).addStaminaGain(50,1).setUltimateDescription("All girls gain 1 stamina."),this.add(new Girl("Suki",8,3,18,"5'4''")).setBaseStats({Throat:8,Pussy:15,Tits:1,Anal:3}).addStaminaGain(20,1).addStaminaGain(50,1).addStaminaGain(80,1).setUltimateDescription("Suki makes clients lose excitement slowly."),this.add(new Girl("Esxea",10,3,22,"3'4''")).setBaseStats({Throat:10,Pussy:10,Tits:10,Anal:10}).addStaminaGain(20,1).addStaminaGain(35,1).addStaminaGain(55,1).setUltimateDescription("Esxea loses less stamina."),this.add(new Girl("Scarlett",15,4,21,"5'10''")).setBaseStats({Throat:10,Pussy:15,Tits:25,Anal:1}).addStaminaGain(40,1).addStaminaGain(70,1).setUltimateDescription("Scarlett makes clients cum faster."),this.add(new Girl("Ardura",20,5,28,"8'0''")).setBaseStats({Throat:15,Pussy:10,Tits:5,Anal:25}).addStaminaGain(60,1).addStaminaGain(99,1).setUltimateDescription("Ardura reduces the client's level by 10."),this.add(new Girl("Natasha",10,3,19,"5'0''")).setBaseStats({Throat:5,Pussy:13,Tits:5,Anal:7}).addStaminaGain(25,1).addStaminaGain(40,1).addStaminaGain(64,1).addStaminaGain(80,1).addStaminaGain(99,1).setUltimateDescription("Natasha increases the ultimate meter for all the girls.");for(let t of this._girls)GAME.girl.getGirl(t).getExp()<GAME.getExp(GAME.girl.getGirl(t).getBaseLevel())&&GAME.girl.getGirl(t).setExp(GAME.getExp(GAME.girl.getGirl(t).getBaseLevel()))}_initCumLayers(){this.Queen.addCumLayer("Throat","Cum-Throat1"),this.Queen.addCumLayer("Throat","Cum-Throat2"),this.Queen.addCumLayer("Throat","Cum-Throat3"),this.Queen.addCumLayer("Throat","Cum-Throat4"),this.Queen.addCumLayer("Pussy","Cum-Pussy1"),this.Queen.addCumLayer("Pussy","Cum-Pussy2"),this.Queen.addCumLayer("Pussy","Cum-Pussy3"),this.Queen.addCumLayer("Pussy","Cum-Pussy4"),this.Queen.addCumLayer("Tits","Cum-Tits1"),this.Queen.addCumLayer("Tits","Cum-Tits2"),this.Queen.addCumLayer("Tits","Cum-Tits3"),this.Queen.addCumLayer("Tits","Cum-Tits4"),this.Queen.addCumLayer("Futa","Cum-Futa"),this.Suki.addCumLayer("Pussy","Cum-Pussy1"),this.Suki.addCumLayer("Pussy","Cum-Pussy2"),this.Suki.addCumLayer("Pussy","Cum-Pussy3"),this.Suki.addCumLayer("Pussy","Cum-Pussy4"),this.Suki.addCumLayer("Throat","Cum-Throat1"),this.Suki.addCumLayer("Throat","Cum-Throat2"),this.Suki.addCumLayer("Throat","Cum-Throat3"),this.Suki.addCumLayer("Throat","Cum-Throat4"),this.Suki.addCumLayer("Tits","Cum-Tits1"),this.Suki.addCumLayer("Tits","Cum-Tits2"),this.Suki.addCumLayer("Tits","Cum-Tits3"),this.Suki.addCumLayer("Tits","Cum-Tits4"),this.Suki.addCumLayer("Futa","Cum-Futa"),this.Esxea.addCumLayer("Pussy","Cum-Pussy1"),this.Esxea.addCumLayer("Pussy","Cum-Pussy2"),this.Esxea.addCumLayer("Pussy","Cum-Pussy3"),this.Esxea.addCumLayer("Pussy","Cum-Pussy4"),this.Esxea.addCumLayer("Throat","Cum-Throat1"),this.Esxea.addCumLayer("Throat","Cum-Throat2"),this.Esxea.addCumLayer("Throat","Cum-Throat3"),this.Esxea.addCumLayer("Throat","Cum-Throat4"),this.Esxea.addCumLayer("Tits","Cum-Tits1"),this.Esxea.addCumLayer("Tits","Cum-Tits2"),this.Esxea.addCumLayer("Tits","Cum-Tits3"),this.Esxea.addCumLayer("Tits","Cum-Tits4"),this.Esxea.addCumLayer("Futa","Cum-Futa"),this.Scarlett.addCumLayer("Pussy","Cum-Pussy1"),this.Scarlett.addCumLayer("Pussy","Cum-Pussy2"),this.Scarlett.addCumLayer("Pussy","Cum-Pussy3"),this.Scarlett.addCumLayer("Pussy","Cum-Pussy4"),this.Scarlett.addCumLayer("Throat","Cum-Throat1"),this.Scarlett.addCumLayer("Throat","Cum-Throat2"),this.Scarlett.addCumLayer("Throat","Cum-Throat3"),this.Scarlett.addCumLayer("Throat","Cum-Throat4"),this.Scarlett.addCumLayer("Tits","Cum-Tits1"),this.Scarlett.addCumLayer("Tits","Cum-Tits2"),this.Scarlett.addCumLayer("Tits","Cum-Tits3"),this.Scarlett.addCumLayer("Tits","Cum-Tits4"),this.Scarlett.addCumLayer("Futa","Cum-Futa"),this.Ardura.addCumLayer("Pussy","Cum-Pussy1"),this.Ardura.addCumLayer("Pussy","Cum-Pussy2"),this.Ardura.addCumLayer("Pussy","Cum-Pussy3"),this.Ardura.addCumLayer("Pussy","Cum-Pussy4"),this.Ardura.addCumLayer("Throat","Cum-Throat1"),this.Ardura.addCumLayer("Throat","Cum-Throat2"),this.Ardura.addCumLayer("Throat","Cum-Throat3"),this.Ardura.addCumLayer("Throat","Cum-Throat4"),this.Ardura.addCumLayer("Tits","Cum-Tits1"),this.Ardura.addCumLayer("Tits","Cum-Tits2"),this.Ardura.addCumLayer("Tits","Cum-Tits3"),this.Ardura.addCumLayer("Tits","Cum-Tits4"),this.Ardura.addCumLayer("Futa","Cum-Futa"),this.Natasha.addCumLayer("Pussy","Cum-Pussy1"),this.Natasha.addCumLayer("Pussy","Cum-Pussy2"),this.Natasha.addCumLayer("Pussy","Cum-Pussy3"),this.Natasha.addCumLayer("Pussy","Cum-Pussy4"),this.Natasha.addCumLayer("Throat","Cum-Throat1"),this.Natasha.addCumLayer("Throat","Cum-Throat2"),this.Natasha.addCumLayer("Throat","Cum-Throat3"),this.Natasha.addCumLayer("Throat","Cum-Throat4"),this.Natasha.addCumLayer("Tits","Cum-Tits1"),this.Natasha.addCumLayer("Tits","Cum-Tits2"),this.Natasha.addCumLayer("Tits","Cum-Tits3"),this.Natasha.addCumLayer("Tits","Cum-Tits4"),this.Natasha.addCumLayer("Futa","Cum-Futa")}add(t){return this[t.id]=t,this[t.id]}getGirl(t){return this[t]}getGirls(){return this._girls}getGirlContainer(t,e,i){let a,n,s,r,o,l=e,h=t.add.container();return h.setNaked=function(t){h.getByName("clothes").setVisible(!t)},h.setGirl=function(t){return l=t=t||l,o=GAME.girl[t].getClothes(),r=GAME.girl[t].getLayers(!0),a=o.getBody(),n=o.getFace(),s="Neutral",h.buildGirl(),h},h.setClothes=function(t){let e=GAME.clothes.getClothes(t),i=e.Girl;return!1!==e.getPlayerStyle()?h.getByName("clothes").setTexture(i.id+"-Clothes-"+e.id+"-"+e.getPlayerStyle()):h.getByName("clothes").setTexture(i.id+"-Clothes-"+e.id),h.getByName("clothes").clothID=e.id,h},h.setStyle=function(t,e){let i=GAME.clothes.getClothes(t),a=i.Girl;return!1!==e?h.getByName("clothes").setTexture(a.id+"-Clothes-"+i.id+"-"+e):h.getByName("clothes").setTexture(a.id+"-Clothes-"+i.id),h},h.setEmotion=function(t){return h.getByName("face").setTexture(l+"-Face-"+n+"-"+t),h},h.buildGirl=function(){h.removeAll(!0),h.add(t.add.image(0,0,l+"-Body-"+a).setOrigin(.5,1).setName("body")),h.add(t.add.image(0,0,l+"-Layer-Futa").setOrigin(.5,1).setName("futa").setVisible(!1)),h.add(t.add.image(0,0,l+"-Face-"+n+"-"+s).setOrigin(.5,1).setName("face")),!1!==o.getPlayerStyle()?h.add(t.add.image(0,0,l+"-Clothes-"+o.id+"-"+o.getPlayerStyle()).setOrigin(.5,1).setName("clothes")):h.add(t.add.image(0,0,l+"-Clothes-"+o.id).setOrigin(.5,1).setName("clothes")),h.getByName("clothes").clothID=o.id;for(let e of r){if(!0===e.beforeClothes){let i=h.getIndex(h.getByName("clothes"));h.addAt(t.add.image(0,0,l+"-Layer-"+e.layerID).setOrigin(.5,1).setName(e.layerID),i)}else h.add(t.add.image(0,0,l+"-Layer-"+e.layerID).setOrigin(.5,1).setName(e.layerID));!0===GAME.girl[l].isFuta()?(!0===e.layerID.includes("Pussy")&&h.getByName(e.layerID).setVisible(!1),!1===GAME.girl[l].isNaked()&&!0===e.layerID.includes("Futa")&&h.getByName(e.layerID).setVisible(!1)):(!0===e.layerID.includes("Futa")&&h.getByName(e.layerID).setVisible(!1),!1===GAME.girl[l].isNaked()&&!0===e.layerID.includes("Futa")&&h.getByName(e.layerID).setVisible(!1))}return!0===GAME.girl[l].isNaked()?(h.getByName("clothes").setVisible(!1),!0===GAME.girl[l].isFuta()?h.getByName("futa").setVisible(!0):h.getByName("futa").setVisible(!1)):!0===GAME.girl[l].isFuta()&&h.getByName("futa").setVisible(!1),h.viewImage=()=>new Promise((t=>{let e=[];h.iterate((t=>{!0===t.visible&&e.push({Key:t.texture.key})})),GAME.viewImage(e).then(t)})),h.onPointerUp=()=>{h.viewImage()},!0===i&&(h.input?h.input.hitArea.setSize(h.getByName("body").getBounds().width,h.getByName("body").getBounds().height):h.setInteractive({hitArea:h.getByName("body").getBounds(),hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}).on("pointerup",(()=>{h.onPointerUp()}))),h},h.setGirl(e),globalEvents.on("refreshGirls",h.setGirl),h.on(Phaser.GameObjects.Events.DESTROY,(()=>{globalEvents.off("refreshGirls",h.setGirl)})),h}getTotalStamina(){let t=0;for(let e in gameData.girl)!0===gameData.girl[e].Unlocked&&(t+=gameData.girl[e].Stamina);return parseFloat(t.toFixed(2))}splitExp(t,e){let i=e/t.length;for(let e in t)GAME.girl[t[e]].gainExp(i)}getUnlocked(t){t=t||!1;let e=[];for(let i of GAME.girl.getGirls())GAME.girl.getGirl(i).isUnlocked()&&(!0===t?GAME.girl.getGirl(i).getStamina()>0&&e.push(i):e.push(i));return e}}class QuestManager{constructor(){this.quests={}}_initQuests(){(()=>{let t=this.addQuest("worldQuests","World Quest",!0).setStart("newGame").setEnd("newGame");t.addSubQuest("newGame").setCondition(!0).setProgress(!0).setOnComplete((()=>{gameData.newGame=!1})),t.addSubQuest("firstVisitTown").setCondition(!0).setProgress(!0),t.addSubQuest("firstVisitCassie").setCondition(!0).setProgress(!0),t.addSubQuest("introduceAntagonist").setCondition((()=>GAME.quest.isComplete("townFuckQuest","Start"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("introduceAntagonist"),t.addSubQuest("naknuAfterHornyBoris").setCondition((()=>GAME.quest.isComplete("hornyBoris"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("naknuAfterHornyBoris")})(),(()=>{this.addQuest("upgradeHouse","Upgrade House",!0).setStart("upgradeHouse").setEnd("upgradeHouse").addSubQuest("upgradeHouse").setCondition((()=>!1!==GAME.getUpgradePayment())).setProgress(!0).setMapKey("GeoffShop").setMapIcon(!1).setDialogueTree("Geoff").setDialogueBranch("upgradeHouse")})(),(()=>{this.addQuest("clothesShop","Browse Clothes",!0).setStart("clothesShop").setEnd("clothesShop").addSubQuest("clothesShop").setCondition(!0).setProgress(!0).setMapKey("TownClothesShop").setMapIcon(!1).setDialogueTree("ClothesShop").setDialogueBranch("openClothesShop")})(),(()=>{let t=this.addQuest("townFuckQuest","Welcome to Easthollow",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition(!0).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("townFuckQuestStart").setLogDescription("Find some clients for your brothel"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("townFuckQuest","Start"))).setProgress((()=>GAME.quest.isComplete("worldQuests","introduceAntagonist"))).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("townFuckQuestEnd").setLogDescription("Come back and talk to the Mayor tomorrow").setOnComplete((()=>{GAME.addGold(100)}))})(),(()=>{this.addQuest("townMorals","Queen's Morals",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("townFuckQuest","End"))).setProgress(!0).setMapKey("TownSquare").setDialogueTree("TownSquare").setDialogueBranch("townMoralsStart").setOnComplete((t=>{!0===t?(GAME.girl.Queen.increaseMorals(1),GAME.addGold(100)):GAME.girl.Queen.decreaseMorals(1)}))})(),(()=>{let t=this.addQuest("alphaBlack","New Clothes",!1).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>!0===GAME.quest.isComplete("townFuckQuest"))).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("alphaBlackStart"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("alphaBlack","Start"))).setProgress((()=>"DefaultQueen"===GAME.girl.Queen.getClothes().getID()&&"AlphaBlack"===GAME.girl.Queen.getClothes().getPlayerStyle())).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("alphaBlackEnd").setLogDescription("Go to the clothes shop and equip Queen's transparent black style").setOnComplete((function(){GAME.addGold(8)}))})(),(()=>{let t=GAME.quest.addQuest("greenhaven","Greenhaven",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("townMorals"))).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("greenhavenStart"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("greenhaven","Start"))).setProgress(!0).setLogDescription("Visit Greenhaven, east of Easthollow.").setOnComplete((()=>{GAME.addGold(20)}))})(),(()=>{let t=GAME.quest.addQuest("hornyBoris","Horny Boris",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("greenhaven"))).setProgress(!0).setMapKey("BorisHut").setDialogueTree("Boris").setDialogueBranch("hornyBorisStart"),t.addSubQuest("AskNirvokk").setCondition((()=>GAME.quest.isComplete("hornyBoris","Start"))).setProgress(!0).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("hornyBorisAskNirvokk").setLogDescription("Ask Nirvokk for permission to have sex with the residents of Greenhaven."),t.addSubQuest("WhoreGreenhaven").setCondition((()=>GAME.quest.isComplete("hornyBoris","AskNirvokk"))).setProgress(!0).setMapKey("VillageHangout").setDialogueTree("VillageHangout").setDialogueBranch("hornyBorisWhoreGreenhaven").setOnComplete((()=>{GAME.addGold(250)})).setLogDescription("Have sex with the Greenhaven residents to gain popularity."),t.addSubQuest("NaknuDialogue").setCondition((()=>GAME.quest.isComplete("hornyBoris","WhoreGreenhaven"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("hornyBorisNaknuDialogue").setLogDescription("Go to sleep and try to find a new girl for your brothel tomorrow."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("hornyBoris","NaknuDialogue"))).setProgress((()=>GAME.quest.isComplete("sukiQuest","End"))).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("hornyBorisEnd").setOnComplete((()=>{GAME.addGold(200)})).setLogDescription("Find another girl to join your brothel.")})(),GAME.quest.addQuest("abigailCumQuest","Abigail's Students",!1).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("hornyBoris"))).setProgress(!0).setMapKey("ClassroomButton").setDialogueTree("AbigailClassroom").setDialogueBranch("abigailCumQuestStart").setOnComplete((t=>{GAME.addGold(300),GAME.girl.Suki.gainExp(100),!0===t?GAME.girl.Suki.increaseMorals(1):GAME.girl.Suki.decreaseMorals(1)})),(()=>{let t=GAME.quest.addQuest("principalFeetQuest","The Principal's Fetish",!1).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("hornyBoris"))).setProgress(!0).setMapKey("PrincipalsOfficeButton").setDialogueTree("principalsOffice").setDialogueBranch("principalFeetQuestStart"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("principalFeetQuest","Start"))).setProgress((()=>"LeotardSuki"===GAME.girl.Suki.getClothes().getID())).setMapKey("PrincipalsOfficeButton").setDialogueTree("principalsOffice").setDialogueBranch("principalFeetQuestEnd").setLogDescription("Come back to the Principal's office with some skin tight clothing on Suki.").setOnComplete((()=>{GAME.addGold(250),GAME.girl.Suki.gainExp(200)}))})(),(()=>{let t=GAME.quest.addQuest("sukiQuest","Find Another Girl",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("hornyBoris","NaknuDialogue"))).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("sukiQuestStart"),t.addSubQuest("FindSuki").setCondition((()=>GAME.quest.isComplete("sukiQuest","Start"))).setProgress(!0).setMapKey("JanitorsClosetButton").setDialogueTree("janitorsCloset").setDialogueBranch("sukiQuestFindSuki").setLogDescription("Find a girl worthy enough to join Queen's brothel."),t.addSubQuest("FindDaniel").setCondition((()=>GAME.quest.isComplete("sukiQuest","FindSuki"))).setProgress(!0).setMapKey("CafeteriaButton").setDialogueTree("SchoolCafeteria").setDialogueBranch("sukiQuestFindDaniel").setLogDescription("Find Daniel in the cafeteria."),t.addSubQuest("FuckDaniel").setCondition((()=>GAME.quest.isComplete("sukiQuest","FindDaniel"))).setProgress(!0).setMapKey("JanitorsClosetButton").setDialogueTree("janitorsCloset").setDialogueBranch("sukiQuestFuckDaniel").setLogDescription("Go to the janitor's closet.").setOnComplete((()=>{GAME.addGold(50)})),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("sukiQuest","FuckDaniel"))).setProgress((()=>!1===GAME.checkMax())).setMapKey("CafeteriaButton").setDialogueTree("SchoolCafeteria").setDialogueBranch("sukiQuestEnd").setLogDescription("Ask Geoff to upgrade your house to recruit Suki.").setOnComplete((()=>{GAME.girl.Suki.unlock()}))})(),(()=>{let t=GAME.quest.addQuest("mushroomQuest","Magic Mushrooms",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("worldQuests","naknuAfterHornyBoris"))).setProgress(!0).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("mushroomQuestStart"),t.addSubQuest("BuildBoat").setCondition((()=>GAME.quest.isComplete("mushroomQuest","Start"))).setProgress(!0).setMapKey("VillageHangout").setDialogueTree("VillageHangout").setDialogueBranch("mushroomQuestBuildBoat").setLogDescription("Help build a boat to cross the morass.").setOnComplete((t=>{!0===t?(GAME.girl.Suki.increaseMorals(1),GAME.addGold(100)):GAME.girl.Suki.decreaseMorals(1)})),t.addSubQuest("Introduce").setCondition((()=>GAME.quest.isComplete("mushroomQuest","BuildBoat"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("mushroomQuestIntroduce").setLogDescription("Visit the Morass."),t.addSubQuest("Perform").setCondition((()=>GAME.quest.isComplete("mushroomQuest","Introduce"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("mushroomQuestPerform").setLogDescription("Perform at the Inn to earn a mushroom."),t.addSubQuest("NaknuSoil").setCondition((()=>GAME.quest.isComplete("mushroomQuest","Perform"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("mushroomQuestNaknuSoil").setLogDescription("Get some rest before giving Thisa the mushrooms."),t.addSubQuest("ReturnThisa").setCondition((()=>GAME.quest.isComplete("mushroomQuest","NaknuSoil"))).setProgress(!0).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("mushroomQuestReturnThisa").setLogDescription("Give the mushroom to Thisa."),t.addSubQuest("Boss").setCondition((()=>GAME.quest.isComplete("mushroomQuest","ReturnThisa"))).setProgress(!0).setMapKey("Pond").setDialogueTree("MorassPond").setDialogueBranch("mushroomQuestBoss").setLogDescription("Visit the morass.").setOnComplete((()=>{GAME.addGold(300)})),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("mushroomQuest","Boss"))).setProgress((()=>!1===GAME.checkMax())).setMapKey("EsxeaHouse").setDialogueTree("EsxeaHouse").setDialogueBranch("mushroomQuestEnd").setLogDescription("Recruit Esxea into your brothel.").setLogProgress((()=>!0===GAME.checkMax()?"Talk to Geoff to upgrade your house!":"")).setOnComplete((()=>{GAME.girl.Esxea.unlock()}))})(),(()=>{let t=GAME.quest.addQuest("kingsQuest","The King of Avia",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("mushroomQuest"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("kingsQuestStart"),t.addSubQuest("GoToCrossroads").setCondition((()=>GAME.quest.isComplete("kingsQuest","Start"))).setProgress(!0).setDialogueTree("crossroadFirstVisit").setDialogueBranch("root").setLogDescription("Visit Avia, south of the morass."),t.addSubQuest("GoToAvia").setCondition((()=>GAME.quest.isComplete("kingsQuest","GoToCrossroads"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("kingsQuestGoToAvia").setLogDescription("Visit Avia, southeast of the morass."),t.addSubQuest("FindScarlett").setCondition((()=>GAME.quest.isComplete("kingsQuest","GoToAvia"))).setProgress(!0).setMapKey("AviaSlums").setDialogueTree("AviaSlums").setDialogueBranch("kingsQuestFindScarlett").setLogDescription("Explore Avia."),t.addSubQuest("NaknuCurseKing").setCondition((()=>GAME.quest.isComplete("kingsQuest","FindScarlett"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("kingsQuestNaknuCurseKing").setLogDescription("Come back to the slums tomorrow to hang out with Princess Scarlett!"),t.addSubQuest("FuckPeasants").setCondition((()=>GAME.quest.isComplete("kingsQuest","NaknuCurseKing"))).setProgress(!0).setMapKey("AviaSlums").setDialogueTree("AviaSlums").setDialogueBranch("kingsQuestFuckPeasants").setLogDescription("Go to the slums to hang out with Princess Scarlett!"),t.addSubQuest("NaknuClimbCastle").setCondition((()=>GAME.quest.isComplete("kingsQuest","FuckPeasants"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("kingsQuestNaknuClimbCastle").setLogDescription("Get some rest and try to help Scarlett tomorrow!"),t.addSubQuest("TalkToGuard").setCondition((()=>GAME.quest.isComplete("kingsQuest","NaknuClimbCastle"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("kingsQuestTalkToGuard").setLogDescription("Check to see if Scarlett is okay."),t.addSubQuest("ConvinceDathea").setCondition((()=>GAME.quest.isComplete("kingsQuest","TalkToGuard"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("kingsQuestConvinceDathea").setLogDescription("Find a goblin girl to have sex with the guard."),t.addSubQuest("ConvinceThisa").setCondition((()=>GAME.quest.isComplete("kingsQuest","ConvinceDathea"))).setProgress(!0).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("kingsQuestConvinceThisa").setLogDescription("Find a replacement wife for Brior."),t.addSubQuest("DropOffThisa").setCondition((()=>GAME.quest.isComplete("kingsQuest","ConvinceThisa"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("kingsQuestDropOffThisa").setLogDescription("Drop Thisa off at the Inn."),t.addSubQuest("DropOffDathea").setCondition((()=>GAME.quest.isComplete("kingsQuest","DropOffThisa"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("kingsQuestDropOffDathea").setLogDescription("Drop Dathea off at the guard's location."),t.addSubQuest("Boss").setCondition((()=>GAME.quest.isComplete("kingsQuest","DropOffDathea"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("kingsQuestBoss").setLogDescription("Go find Scarlett inside the castle."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("kingsQuest","Boss"))).setProgress((()=>!1===GAME.checkMax())).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("kingsQuestEnd").setLogDescription("Recruit Scarlett into your brothel.").setLogProgress((()=>!0===GAME.checkMax()?"Talk to Geoff to upgrade your house!":"")).setOnComplete((()=>{GAME.girl.Scarlett.unlock()}))})(),(()=>{let t=GAME.quest.addQuest("returnDathea","Return Dathea",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("kingsQuest"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("returnDatheaStart"),t.addSubQuest("GetDathea").setCondition((()=>GAME.quest.isComplete("returnDathea","Start"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("returnDatheaGetDathea").setLogDescription("Get Dathea back from the guard."),t.addSubQuest("DatheaToMorass").setCondition((()=>GAME.quest.isComplete("returnDathea","GetDathea"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("returnDatheaToMorass").setLogDescription("Return Dathea to the Inn."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("returnDathea","DatheaToMorass"))).setProgress(!0).setMapKey("NirvokkHut").setDialogueTree("Nirvokk").setDialogueBranch("returnDatheaEnd").setLogDescription("Give Nirvokk a new wife.")})(),(()=>{let t=GAME.quest.addQuest("battleOrcs","The Great Orc War",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("returnDathea"))).setProgress(!0).setMapKey("TownSquare").setDialogueTree("TownSquare").setDialogueBranch("battleOrcsStart").setLogDescription("Go to Easthollow Town to continue the main story."),t.addSubQuest("AskKing").setCondition((()=>GAME.quest.isComplete("battleOrcs","Start"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("battleOrcsAskKing").setLogDescription("Ask the King of Avia for help."),t.addSubQuest("CheckBattle").setCondition((()=>GAME.quest.isComplete("battleOrcs","AskKing"))).setProgress(!0).setDialogueTree("battleOrcsCheckBattle").setDialogueBranch("root").setLogDescription("Go visit Avia's army north of Easthollow."),t.addSubQuest("NaknuPoison").setCondition((()=>GAME.quest.isComplete("battleOrcs","CheckBattle"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("battleOrcsNaknuPoison").setLogDescription("Check on the soldier's morale tomorrow."),t.addSubQuest("FuckSoldiers").setCondition((()=>GAME.quest.isComplete("battleOrcs","NaknuPoison"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("battleOrcsNaknuPoison").setLogDescription("Check on the soldier's morale tomorrow."),t.addSubQuest("TalkToMayor").setCondition((()=>GAME.quest.isComplete("battleOrcs","FuckSoldiers"))).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("battleOrcsTalkToMayor").setLogDescription("Tell the Mayor what happened."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("battleOrcs","TalkToMayor"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("battleOrcsEnd").setLogDescription("Visit the mountains tomorrow.")})(),(()=>{let t=GAME.quest.addQuest("mountainTraining","Anal Training",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("battleOrcs"))).setProgress(!0).setMapKey("CampSite").setDialogueTree("CampSite").setDialogueBranch("mountainTrainingStart"),t.addSubQuest("NaknuAfterStart").setCondition((()=>GAME.quest.isComplete("mountainTraining","Start"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("mountainTrainingNaknuAfterStart").setLogDescription("Go to sleep to get ready for the girl's anal training tomorrow."),t.addSubQuest("EasthollowTraining").setCondition((()=>GAME.quest.isComplete("mountainTraining","NaknuAfterStart"))).setProgress(!0).setMapKey("TownSquare").setDialogueTree("TownSquare").setDialogueBranch("mountainTrainingEasthollowTraining").setLogDescription("Go to Town and let some men pound the girl's assholes.").setOnComplete((t=>{!0===t?(GAME.girl.Queen.increaseMorals(1),GAME.girl.Suki.increaseMorals(1),GAME.girl.Esxea.increaseMorals(1),GAME.girl.Scarlett.increaseMorals(1)):!1===t&&(GAME.girl.Queen.decreaseMorals(1),GAME.girl.Suki.decreaseMorals(1),GAME.girl.Esxea.decreaseMorals(1),GAME.girl.Scarlett.decreaseMorals(1))})),t.addSubQuest("GreenhavenTraining").setCondition((()=>GAME.quest.isComplete("mountainTraining","EasthollowTraining"))).setProgress(!0).setMapKey("VillageHangout").setDialogueTree("VillageHangout").setDialogueBranch("mountainTrainingGreenhavenTraining").setLogDescription("Go to Greenhaven and let some men pound the girl's assholes.").setOnComplete((t=>{!0===t?GAME.girl.Scarlett.increaseMorals(1):!1===t&&GAME.girl.Scarlett.decreaseMorals(1)})),t.addSubQuest("MorassTraining").setCondition((()=>GAME.quest.isComplete("mountainTraining","GreenhavenTraining"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("mountainTrainingMorassTraining").setLogDescription("Go to the Morass and let some men pound the girl's assholes."),t.addSubQuest("Debrief").setCondition((()=>GAME.quest.isComplete("mountainTraining","MorassTraining"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("mountainTrainingDebrief").setLogDescription("The girls are exhausted. Get some rest before continuing the training."),t.addSubQuest("Battle").setCondition((()=>GAME.quest.isComplete("mountainTraining","Debrief"))).setProgress(!0).setMapKey("CampSite").setDialogueTree("CampSite").setDialogueBranch("mountainTrainingBattle").setLogDescription("Head to the mountains and fuck the orcs."),t.addSubQuest("NaknuAfterOrcBoss").setCondition((()=>GAME.quest.isComplete("mountainTraining","Battle"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("mountainTrainingNaknuAfterOrcBoss").setLogDescription("The girls are exhausted. Get some rest."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("mountainTraining","NaknuAfterOrcBoss"))).setProgress((()=>!1===GAME.checkMax())).setMapKey("CampSite").setDialogueTree("CampSite").setDialogueBranch("mountainTrainingEnd").setOnComplete((()=>{GAME.girl.getGirl("Ardura").unlock()})).setLogDescription("Recruit Ardura into the brothel.").setLogProgress((()=>!0===GAME.checkMax()?"Ask Geoff to upgrade your house.":""))})(),(()=>{let t=GAME.quest.addQuest("findTrasonia","Trasonia",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("mountainTraining"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("findTrasoniaStart").setLogDescription("Continue the main story at the Morass Inn."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("findTrasonia","Start"))).setProgress(!0).setDialogueTree("TrasoniaMap").setLogDescription("Travel west of the mountains to find the elves.")})(),(()=>{let t=GAME.quest.addQuest("magic","School of Witchcraft",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("findTrasonia"))).setProgress(!0).setMapKey("TrasoniaGroundFloor").setDialogueTree("TrasoniaGroundFloor").setDialogueBranch("magicStart"),t.addSubQuest("FindSabrina").setCondition((()=>GAME.quest.isComplete("magic","Start"))).setProgress(!0).setMapKey("TrasoniaGroundFloor").setDialogueTree("TrasoniaGroundFloor").setDialogueBranch("magicFindSabrina").setLogDescription("Explore Trasonia"),t.addSubQuest("FindDaisy").setCondition((()=>GAME.quest.isComplete("magic","Start"))).setProgress(!0).setMapKey("TrasoniaDorms").setDialogueTree("TrasoniaDorms").setDialogueBranch("magicFindDaisy").setLogDescription("Explore Trasonia"),t.addSubQuest("FindArietta").setCondition((()=>GAME.quest.isComplete("magic","Start"))).setProgress(!0).setMapKey("TrasoniaHallway").setDialogueTree("TrasoniaHallway").setDialogueBranch("magicFindArietta").setLogDescription("Explore Trasonia"),t.addSubQuest("FindNatasha").setCondition((()=>GAME.quest.isComplete("magic","FindArietta")&&GAME.quest.isComplete("magic","FindDaisy")&&GAME.quest.isComplete("magic","FindSabrina"))).setProgress(!0).setMapKey("TrasoniaLibrary").setDialogueTree("TrasoniaLibrary").setDialogueBranch("magicFindNatasha").setLogDescription("Explore Trasonia"),t.addSubQuest("VisitAlley").setCondition((()=>GAME.quest.isComplete("magic","FindNatasha"))).setProgress(!0).setMapKey("TrasoniaHallway").setDialogueTree("TrasoniaHallway").setDialogueBranch("magicVisitAlley").setLogDescription("Explore Trasonia with Natasha"),t.addSubQuest("MeetElfGang").setCondition((()=>GAME.quest.isComplete("magic","VisitAlley"))).setProgress(!0).setMapKey("TrasoniaGroundFloor").setDialogueTree("TrasoniaGroundFloor").setDialogueBranch("magicMeetElfGang").setLogDescription("See what the ruckus is about at Trasonia."),t.addSubQuest("Futa").setCondition((()=>GAME.quest.isComplete("magic","MeetElfGang"))).setProgress(!0).setMapKey("TrasoniaDorms").setDialogueTree("TrasoniaDorms").setDialogueBranch("magicFuta").setLogDescription("Go to Natasha's dorm."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("magic","Futa"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("magicEnd").setLogDescription("Go to sleep.")})(),(()=>{let t=GAME.quest.addQuest("ariettaQuest","Busting Arietta",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("magic"))).setProgress(!0).setMapKey("TrasoniaDorms").setDialogueTree("TrasoniaDorms").setDialogueBranch("ariettaQuestStart").setLogDescription("Visit Natasha at the dorms."),t.addSubQuest("GetClothes").setCondition((()=>GAME.quest.isComplete("ariettaQuest","Start"))).setProgress(!0).setMapKey("TownClothesShop").setDialogueTree("ClothesShop").setDialogueBranch("ariettaQuestGetClothes").setLogDescription("Find some clothes for Natasha at the clothes shop.").setOnComplete((t=>{!0===t?(GAME.girl.getGirl("Scarlett").increaseMorals(1),GAME.quest.complete("scarlettDressCow","Dress")):(GAME.girl.getGirl("Scarlett").decreaseMorals(1),GAME.quest.complete("scarlettDressCow","Hucow"))})),t.addSubQuest("StartPlan").setCondition((()=>GAME.quest.isComplete("ariettaQuest","GetClothes"))).setProgress(!0).setMapKey("TrasoniaDorms").setDialogueTree("TrasoniaDorms").setDialogueBranch("ariettaQuestStartPlan").setLogDescription("Bring Natasha her clothes."),t.addSubQuest("MeetArietta").setCondition((()=>GAME.quest.isComplete("ariettaQuest","StartPlan"))).setProgress(!0).setMapKey("TrasoniaGroundFloor").setDialogueTree("TrasoniaGroundFloor").setDialogueBranch("ariettaQuestMeetArietta").setLogDescription("Find Arietta at the ground floor."),t.addSubQuest("FindArchMage").setCondition((()=>GAME.quest.isComplete("ariettaQuest","MeetArietta"))).setProgress(!0).setMapKey("TrasoniaLibrary").setDialogueTree("TrasoniaLibrary").setDialogueBranch("ariettaQuestFindArchMage").setLogDescription("Find and notify the ArchMage."),t.addSubQuest("BustArietta").setCondition((()=>GAME.quest.isComplete("ariettaQuest","FindArchMage"))).setProgress(!0).setMapKey("TrasoniaHallway").setDialogueTree("TrasoniaHallway").setDialogueBranch("ariettaQuestBustArietta").setLogDescription("Bust Arietta"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("ariettaQuest","BustArietta"))).setProgress((()=>!1===GAME.checkMax())).setMapKey("TrasoniaDorms").setDialogueTree("TrasoniaDorms").setDialogueBranch("ariettaQuestRecruitNatasha").setOnComplete((()=>{GAME.girl.getGirl("Natasha").unlock()})).setLogDescription("Recruit Natasha into the brothel.").setLogProgress((()=>!0===GAME.checkMax()?"Ask Geoff to upgrade your house.":""))})(),(()=>{let t=GAME.quest.addQuest("getBooks","Natasha's Homework",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("ariettaQuest"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("getBooksStart").setLogDescription("Go to sleep to start the next quest.").setOnComplete((()=>{GAME.clothes.getClothes("ElfSuki").unlock()})),t.addSubQuest("Library").setCondition((()=>GAME.quest.isComplete("getBooks","Start"))).setProgress((()=>"ElfSuki"===GAME.girl.getGirl("Suki").getClothes().getID())).setMapKey("TrasoniaLibrary").setDialogueTree("TrasoniaLibrary").setDialogueBranch("getBooksLibrary").setLogDescription("Have Suki steal some books from Trasonia's library!").setLogProgress((()=>"ElfSuki"!==GAME.girl.getGirl("Suki").getClothes().getID()?"Suki must be wearing her Elf outfit.":"")),t.addSubQuest("OpenPortal").setCondition((()=>GAME.quest.isComplete("getBooks","Library"))).setProgress(!0).setMapKey("House").setDialogueTree("onSleep").setDialogueBranch("getBooksOpenPortal").setLogDescription("Go to sleep to continue the quest."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("getBooks","OpenPortal"))).setProgress(!0).setMapKey("House").setDialogueTree("onSleep").setDialogueBranch("getBooksEnd").setLogDescription("Go to sleep to continue the quest.")})(),(()=>{let t=GAME.quest.addQuest("lilithQuest","Succubus Training",!0).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("getBooks"))).setMapKey("HellThrone").setProgress(!0).setDialogueTree("HellThrone").setDialogueBranch("lilithQuestStart").setLogDescription("Go see Lilith in the under world."),t.addSubQuest("ScaryMan").setCondition((()=>GAME.quest.isComplete("lilithQuest","Start"))).setMapKey("House").setProgress(!0).setDialogueTree("onSleep").setDialogueBranch("lilithQuestScaryMan").setLogDescription("Go to sleep to start the next quest."),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("lilithQuest","ScaryMan"))).setMapKey("HellThrone").setProgress(!0).setDialogueTree("HellThrone").setDialogueBranch("lilithQuestEnd").setLogDescription("Go see Lilith in the under world.")})(),GAME.quest.addQuest("scarlettBoredTitFuck","Bored Scarlett",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("lilithQuest"))).setProgress(!0).setMapKey("House").setDialogueTree("onSleep").setDialogueBranch("scarlettBoredTitFuckStart").setLogDescription("Go to sleep to continue the main story."),GAME.quest.addQuest("natashaEasthollowAnal","Natasha's Date",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("scarlettBoredTitFuck"))).setProgress(!0).setMapKey("TownSquare").setDialogueTree("TownSquare").setDialogueBranch("natashaEasthollowAnalStart").setLogDescription("Natasha wants to meet the Easthollow residents."),GAME.quest.addQuest("arduraSchoolDoggystyle","Ardura Dominates Student",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("scarlettBoredTitFuck"))).setProgress(!0).setMapKey("CafeteriaButton").setDialogueTree("SchoolCafeteria").setDialogueBranch("arduraSchoolDoggystyleStart").setLogDescription("Bring Ardura to the University."),GAME.quest.addQuest("esxeaHangoutOrcs","Esxea and the Orcs",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("scarlettBoredTitFuck"))).setProgress(!0).setMapKey("CampSite").setDialogueTree("CampSite").setDialogueBranch("esxeaHangoutOrcsStart").setLogDescription("Esxea wants to visit the orc camp site."),GAME.quest.addQuest("sukiAndKing","Princess Suki",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("scarlettBoredTitFuck"))).setProgress(!0).setMapKey("AviaCastleKeep").setDialogueTree("AviaCastleKeep").setDialogueBranch("sukiAndKingStart").setLogDescription("Suki wants to visit the King of Avia."),GAME.quest.addQuest("queenChatBrior","Queen Chats With Brior",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("sukiAndKing")&&GAME.quest.isComplete("esxeaHangoutOrcs")&&GAME.quest.isComplete("arduraSchoolDoggystyle")&&GAME.quest.isComplete("natashaEasthollowAnal"))).setProgress(!0).setMapKey("Inn").setDialogueTree("MorassInn").setDialogueBranch("queenChatBriorStart").setLogDescription("Queen wants to grab a beer at the morass Inn."),GAME.quest.addQuest("patreon","",!0).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("queenChatBrior"))).setProgress(!0).setDialogueTree("patreon").setDialogueBranch("patreon").setLogDescription("You have finished the main storyline!").setLogProgress("Please check the Patreon page to see if there is more content available!"),GAME.quest.addQuest("sweaterSuki","Suki's Dress Code",!1).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>"SweaterSuki"===GAME.girl.getGirl("Suki").getClothes().getID())).setProgress((()=>"SweaterSuki"===GAME.girl.getGirl("Suki").getClothes().getID())).setMapKey("ClassroomButton").setDialogueTree("AbigailClassroom").setDialogueBranch("sweaterSukiStart").setOnComplete((()=>{GAME.girl.getGirl("Suki").gainExp(400),GAME.addGold(100)})),(()=>{let t=GAME.quest.addQuest("scarlettDressCow","Scarlett's Outfit",!1).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>GAME.quest.isComplete("ariettaQuest"))).setProgress(!0).setMapKey("TownClothesShop").setDialogueTree("ClothesShop").setDialogueBranch("scarlettDressCowStart"),t.addSubQuest("Hucow").setCondition(!1).setProgress(!0).setDialogueTree("ClothesShop").setDialogueBranch("ariettaQuestGetClothes"),t.addSubQuest("Dress").setCondition(!1).setProgress(!0).setDialogueTree("ClothesShop").setDialogueBranch("ariettaQuestGetClothes"),t.addSubQuest("GetHucow").setCondition(!1).setProgress(!0).setDialogueTree("ClothesShop").setDialogueBranch("scarlettDressCowGetHucow").setOnComplete((()=>{GAME.clothes.getClothes("HucowScarlett").unlock()})),t.addSubQuest("GetDress").setCondition(!1).setProgress(!0).setDialogueTree("ClothesShop").setDialogueBranch("scarlettDressCowGetDress").setOnComplete((()=>{GAME.clothes.getClothes("RabbitDressScarlett").unlock()})),t.addSubQuest("End").setCondition(!1).setProgress(!0).setDialogueTree("ClothesShop").setDialogueBranch("scarlettDressCowEnd")})(),(()=>{let t=GAME.quest.addQuest("milkShortage","The Milk Shortage",!1).setStart("Start").setEnd("End");t.addSubQuest("Start").setCondition((()=>"HucowScarlett"===GAME.girl.getGirl("Scarlett").getClothes().getID())).setProgress(!0).setMapKey("TownMayor").setDialogueTree("TownMayor").setDialogueBranch("milkShortageStart"),t.addSubQuest("End").setCondition((()=>GAME.quest.isComplete("milkShortage","Start"))).setProgress((()=>"HucowScarlett"===GAME.girl.getGirl("Scarlett").getClothes().getID())).setMapKey("CafeteriaButton").setDialogueTree("SchoolCafeteria").setDialogueBranch("milkShortageEnd").setLogDescription("Have Scarlett visit the University cafeteria").setLogProgress((()=>"HucowScarlett"!==GAME.girl.getGirl("Scarlett").getClothes().getID()?"Scarlett needs to be wearing her cow outfit for this quest.":"")).setOnComplete((()=>{GAME.girl.getGirl("Scarlett").gainExp(400)}))})(),GAME.quest.addQuest("rabbitTorment","Scarlett's New Dress",!1).setStart("Start").setEnd("Start").addSubQuest("Start").setCondition((()=>"RabbitDressScarlett"===GAME.girl.getGirl("Scarlett").getClothes().getID())).setProgress((()=>"RabbitDressScarlett"===GAME.girl.getGirl("Scarlett").getClothes().getID())).setMapKey("AviaSlums").setDialogueTree("AviaSlums").setDialogueBranch("rabbitTormentStart").setOnComplete((()=>{GAME.addGold(800)}))}addQuest(t,e,i){return i=i||!1,!1===gameData.quests.hasOwnProperty(t)&&(gameData.quests[t]={}),this.quests[t]=new Quest(t,e,i),this.quests[t]}removeQuest(t){return delete this.quests[t],this}complete(t,e,i){this.getQuest(t,e).complete(i)}isComplete(t,e){return e?this.quests[t].getSubQuests(e).isComplete():this.quests[t].isComplete()}getAllQuests(){return this.quests}getQuest(t,e){return e?this.quests[t].getSubQuests(e):this.quests[t]}getActiveQuests(t){let e=[],i=this.getAllQuests();for(let a in i){i[a];let n=i[a].getSubQuests();for(let i in n){let a=n[i];!0===a.isAvailable()&&!1===a.getStatus()&&(t?a.getMapKey()===t&&e.push(a):e.push(a))}}return e}isActive(t,e){let i=this.getActiveQuests();for(let a of i){if(a.getQuest().getID()===t){if(!e)return!0;if(a.getID()===e)return!0}}return!1}}class Quest{constructor(t,e,i){this.id=t,this.name=e,this.important=i||!1,this.subquests={},this.start="",this.end="",this.completed=!1}isComplete(){return this.completed=this.getSubQuests(this.end).isComplete(),this.completed}addSubQuest(t){return!1===gameData.quests[this.id].hasOwnProperty(t)&&(gameData.quests[this.id][t]=!1),this.subquests[t]=new SubQuest(t)._setQuest(this),this.subquests[t]}removeSubQuest(t){return delete this.subquests[t],this}setID(t){return this.id=t,this}getID(){return this.id}setName(t){return this.name=t,this}getName(){return this.name}setImportant(t){return this.important=t,this}getImportant(){return this.important}getSubQuests(t){return t?this.subquests[t]:this.subquests}setStart(t){return this.start=t,this}getStart(){return this.start}setEnd(t){return this.end=t,this}getEnd(){return this.end}}class SubQuest{constructor(t){return this._QUEST={},this.id=t,this.condition=!1,this.progress=!1,this.mapKey="",this.mapIcon=!0,this.dialogueTree="",this.dialogueBranch="",this.onComplete=function(t){},this.log={description:"",progress:""},this.completed=!1,this}_setQuest(t){return this._QUEST=t,this}getQuest(){return this._QUEST}isStart(){return this.getQuest().getStart()===this.getID()}isComplete(){return!0===this.getStatus()}complete(t){return this.setStatus(!0),this.onComplete(t),globalEvents.emit("completeQuest",{quest:this.getQuest().getID(),subquest:this.getID()}),this}setStatus(t){return gameData.quests[this.getQuest().getID()][this.getID()]=t,this.completed=gameData.quests[this.getQuest().getID()][this.getID()],this}getStatus(){return this.completed=gameData.quests[this.getQuest().getID()][this.getID()],this.completed}setID(t){return this.id=t,this}getID(){return this.id}setCondition(t){return this.condition=t,this}isAvailable(){return"boolean"==typeof this.condition?this.condition&&!1===this.getStatus():this.condition()}getProgress(){return"boolean"==typeof this.progress?this.progress:this.progress()}setProgress(t){return this.progress=t,this}setMapKey(t){return this.mapKey=t,this}getMapKey(){return this.mapKey}setMapIcon(t){return this.mapIcon=t,this}getMapIcon(){return this.mapIcon}setDialogueTree(t){return this.dialogueTree=t,this}getDialogueTree(){return this.dialogueTree}setDialogueBranch(t){return this.dialogueBranch=t,this}getDialogueBranch(){return this.dialogueBranch}setOnComplete(t){return this.onComplete=t,this}getOnComplete(){return this.onComplete()}setLogDescription(t){return this.log.description=t,this}getLogDescription(){return this.log.description}getLogProgress(){return"function"==typeof this.log.progress?this.log.progress():this.log.progress}setLogProgress(t){return this.log.progress=t,this}}class MapManager{constructor(){this._queue=[],this._regions=["Easthollow","Greenhaven","MoaningMorass","Avia","Mountains"],this._map={Easthollow:{name:"Easthollow",north:"Mountains",south:!1,east:"Greenhaven",west:!1},Town:{name:"Easthollow Town",north:!1,south:!1,east:!1,west:!1},School:{name:"Easthollow School",north:!1,south:!1,east:!1,west:!1},Greenhaven:{name:"Greenhaven",north:!1,south:"MoaningMorass",east:!1,west:"Easthollow"},MoaningMorass:{name:"Morass",north:"Greenhaven",south:"Crossroad",east:!1,west:!1},Crossroad:{name:"Crossroads",north:"MoaningMorass",south:!1,east:"Avia",west:!1},Avia:{name:"Avia",north:!1,south:!1,east:!1,west:"Crossroad"},Mountains:{name:"Mountains",north:!1,south:"Easthollow",east:!1,west:"Trasonia"},Trasonia:{name:"Trasonia",north:!1,south:!1,east:"Mountains",west:!1}},this._mapConditions={},this._buildings={Easthollow:{House1:{key:"House1",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>1===gameData.houseCapacity},Brothel1:{key:"Brothel1",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>1===gameData.houseCapacity},House2:{key:"House2",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>2===gameData.houseCapacity},Brothel2:{key:"Brothel2",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>2===gameData.houseCapacity},House3:{key:"House3",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>3===gameData.houseCapacity},Brothel3:{key:"Brothel3",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>3===gameData.houseCapacity},House4:{key:"House4",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>4===gameData.houseCapacity},Brothel4:{key:"Brothel4",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>4===gameData.houseCapacity},House5:{key:"House5",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>5===gameData.houseCapacity},Brothel5:{key:"Brothel5",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>5===gameData.houseCapacity},House6:{key:"House6",name:"House",x:0,y:265,callback:()=>{GAME.menu.openMenu("house")},visible:()=>gameData.houseCapacity>=6},Brothel6:{key:"Brothel6",name:"Brothel",x:350,y:265,callback:()=>{GAME.menu.openMenu("brothel")},visible:()=>gameData.houseCapacity>=6},Town:{key:"Town",name:"Town",x:923,y:188,callback:()=>{GAME.map.switchMap("Town")}},HellPortal:{key:"HellPortal",name:"Portal",x:740,y:484,callback:()=>{GAME.map.switchMap("Hell")},visible:()=>GAME.quest.isComplete("getBooks")&&!GAME.quest.isComplete("lilithQuest")}},Town:{TownSquare:{key:"TownSquare",name:"Town Square",x:519,y:567,callback:()=>{GAME.dialogue.playDialogue("TownSquare")}},ClothesShop:{key:"TownClothesShop",name:"Clothes Shop",x:729,y:142,callback:()=>{GAME.dialogue.playDialogue("ClothesShop").then((t=>{"openClothesShop"===t&&GAME.menu.openMenu("townClothesShop")}))}},School:{key:"school",name:"School",x:1385,y:0,callback:()=>{GAME.map.switchMap("School")}},Geoff:{key:"TownGeoff",name:"Geoff's Shop",x:0,y:48,callback:()=>{GAME.dialogue.playDialogue("Geoff")}},Mayor:{key:"TownMayor",name:"Mayor's Office",x:1118,y:259,callback:()=>{GAME.dialogue.playDialogue("TownMayor")}},Exit:{key:"exit",name:"Exit",x:600,y:963,callback:()=>{GAME.map.switchMap("Easthollow")}}},School:{Cafeteria:{key:"CafeteriaButton",name:"Cafeteria",x:1200,y:150,callback:()=>{GAME.dialogue.playDialogue("SchoolCafeteria")}},Janitors:{key:"JanitorsClosetButton",name:"Janitor's Closet",x:1400,y:720,callback:()=>{GAME.dialogue.playDialogue("janitorsCloset")}},Principals:{key:"PrincipalsOfficeButton",name:"Principal's Office",x:800,y:730,callback:()=>{GAME.dialogue.playDialogue("principalsOffice")}},Classroom:{key:"ClassroomButton",name:"Classroom",x:250,y:300,callback:()=>{GAME.dialogue.playDialogue("AbigailClassroom")}},Exit:{key:"exit",name:"Exit",x:20,y:963,callback:()=>{GAME.map.switchMap("Town")}}},Greenhaven:{Nirvokk:{key:"NirvokkHut",name:"Nirvokk's Hut",x:311,y:150,callback:()=>{GAME.dialogue.playDialogue("Nirvokk")}},Darrak:{key:"DarrakHut",name:"Darrak's Hut",x:1129,y:213,callback:()=>{GAME.dialogue.playDialogue("Darrak")}},Boris:{key:"BorisHut",name:"Boris's Hut",x:1403,y:242,callback:()=>{GAME.dialogue.playDialogue("Boris")}},Hangout:{key:"VillageHangout",name:"Village Hangout",x:405,y:0,callback:()=>{GAME.dialogue.playDialogue("VillageHangout")}}},MoaningMorass:{Inn:{key:"Inn",name:"Inn",x:1154,y:39,callback:()=>{GAME.dialogue.playDialogue("MorassInn")}},Pond:{key:"Pond",name:"Pond",x:309,y:555,callback:()=>{GAME.dialogue.playDialogue("MorassPond")}},EsxeaHouse:{key:"EsxeaHouse",name:"Esxea's House",x:717,y:147,callback:()=>{GAME.dialogue.playDialogue("EsxeaHouse")}}},Crossroad:{},Avia:{Castle:{key:"AviaCastleKeep",name:"Castle",x:166,y:312,callback:()=>{GAME.dialogue.playDialogue("AviaCastleKeep")}},Slums:{key:"AviaSlums",name:"Slums",x:527,y:196,callback:()=>{GAME.dialogue.playDialogue("AviaSlums")}}},Mountains:{CampSite:{key:"CampSite",name:"Camp Site",x:500,y:250,callback:()=>{GAME.dialogue.playDialogue("CampSite")},visible:()=>GAME.quest.isComplete("battleOrcs")}},Trasonia:{TrasoniaGroundFloor:{key:"TrasoniaGroundFloor",name:"Ground Floor",x:843,y:720,callback:()=>{GAME.dialogue.playDialogue("TrasoniaGroundFloor")}},TrasoniaHallway:{key:"TrasoniaHallway",name:"Hallway",x:254,y:575,callback:()=>{GAME.dialogue.playDialogue("TrasoniaHallway")}},TrasoniaDorms:{key:"TrasoniaDorms",name:"Dorms",x:1209,y:344,callback:()=>{GAME.dialogue.playDialogue("TrasoniaDorms")}},TrasoniaLibrary:{key:"TrasoniaLibrary",name:"Library",x:500,y:250,callback:()=>{GAME.dialogue.playDialogue("TrasoniaLibrary")}}},Hell:{Throne:{key:"HellThrone",name:"Throne",x:141,y:95,callback:()=>{GAME.dialogue.playDialogue("HellThrone")}},Exit:{key:"exit",name:"Exit",x:20,y:963,callback:()=>{GAME.map.switchMap("Easthollow")}}}},this._arrowConditions={Easthollow:[function(){!1===GAME.quest.isComplete("greenhaven","Start")&&GAME.map.disableArrow("east")}],Greenhaven:[function(){!1===GAME.quest.isComplete("mushroomQuest","BuildBoat")&&GAME.map.disableArrow("south")}],MoaningMorass:[function(){!1===GAME.quest.isComplete("kingsQuest","Start")&&GAME.map.disableArrow("south")}],Mountains:[function(){!1===GAME.quest.isComplete("findTrasonia","Start")&&GAME.map.disableArrow("west")}]},this._mapGroup=null,this.currentMap="Easthollow"}_initMapConditions(){GAME.map.addMapCondition("Town",(function(){if(!1===GAME.quest.isComplete("worldQuests","firstVisitTown"))return new Promise((t=>{GAME.dialogue.playDialogue("TownMayor","firstVisitTown").then((()=>{t()}))}))})),GAME.map.addMapCondition("School",(function(){if(!1===GAME.quest.isComplete("sukiQuest","Start"))return new Promise((t=>{GAME.dialogue.playDialogue("schoolEntrance").then((()=>{t()}))}))})),GAME.map.addMapCondition("School",(function(){if(!0===GAME.quest.isComplete("sukiQuest","Start")&&"SchoolgirlQueen"!==GAME.girl.Queen.getClothes().getID()&&!1===GAME.quest.isComplete("sukiQuest","End"))return new Promise((t=>{GAME.dialogue.playDialogue("schoolEntrance","clothes").then((()=>{t()}))}))})),GAME.map.addMapCondition("Greenhaven",(function(){if(!1===GAME.quest.isComplete("greenhaven","End"))return new Promise((t=>{GAME.dialogue.playDialogue("TownMayor","greenhavenEnd").then((()=>{t()}))}))})),GAME.map.addMapCondition("Crossroad",(function(){if(!1===GAME.quest.isComplete("kingsQuest","GoToCrossroads"))return new Promise((t=>{GAME.dialogue.playDialogue("crossroadFirstVisit").then((()=>{t()}))}))})),GAME.map.addMapCondition("Avia",(function(){if(!0===GAME.quest.isComplete("kingsQuest","FuckPeasants")&&!1===GAME.quest.isComplete("kingsQuest","NaknuClimbCastle"))return new Promise((t=>{GAME.dialogue.playDialogue("aviaAfterFuckPeasants").then((()=>{t()}))}))})),GAME.map.addMapCondition("Mountains",(function(){if(!1===GAME.quest.isComplete("battleOrcs","AskKing"))return new Promise((t=>{GAME.girl.Queen.isNaked()?GAME.dialogue.playDialogue("checkMountainsNaked").then((()=>{t()})):GAME.dialogue.playDialogue("checkMountainsClothes").then((()=>{t()}))}))})),GAME.map.addMapCondition("Mountains",(function(){if(!0===GAME.quest.isComplete("battleOrcs","AskKing")&&!1===GAME.quest.isComplete("battleOrcs","CheckBattle"))return new Promise((t=>{GAME.dialogue.playDialogue("battleOrcsCheckBattle").then((()=>{t()}))}))})),GAME.map.addMapCondition("Mountains",(function(){if(!0===GAME.quest.isComplete("battleOrcs","NaknuPoison")&&!1===GAME.quest.isComplete("battleOrcs","FuckSoldiers"))return new Promise((t=>{GAME.dialogue.playDialogue("battleOrcsFuckSoldiers").then((()=>{t()}))}))})),GAME.map.addMapCondition("Trasonia",(function(){if(!0===GAME.quest.isComplete("findTrasonia","Start")&&!1===GAME.quest.isComplete("findTrasonia","End"))return new Promise((t=>{GAME.dialogue.playDialogue("TrasoniaMap").then((()=>{t()}))}))})),GAME.map.addMapCondition("Trasonia",(function(){if(!0===GAME.quest.isComplete("ariettaQuest")&&!1===GAME.quest.isComplete("getBooks","Start"))return new Promise((t=>{GAME.dialogue.playDialogue("TrasoniaBanned").then((()=>{t()}))}))}))}getRegions(){return this._regions}getMap(t){return void 0===t?this._map:!!this._map.hasOwnProperty(t)&&this._map[t]}getBuildings(t){return!!this._buildings.hasOwnProperty(t)&&this._buildings[t]}addBuilding(t,e,i){!1===this._buildings.hasOwnProperty(t)&&(this._buildings[t]={}),this._buildings[t][e]=i}removeBuilding(t,e){delete this._buildings[t][e]}_addToQueue(t){this._queue.push(t)}_playMapConditions(t){return new Promise((e=>{if(this._mapConditions.hasOwnProperty(t)){for(let e in this._mapConditions[t])"function"==typeof this._mapConditions[t][e]&&this._addToQueue(this._mapConditions[t][e]);this._popQueue(e)}else e()}))}_popQueue(t){if(this._queue.length>0){let e=this._queue.shift()();"object"==typeof e?e.then((()=>{this._popQueue(t)})):this._popQueue(t)}else t()}addMapCondition(t,e){!1===this._mapConditions.hasOwnProperty(t)&&(this._mapConditions[t]=[]),this._mapConditions[t].push(e)}removeMapCondition(t,e){this._mapConditions[t].splice(e,1)}getMapConditions(t){return this._mapConditions[t]}switchMap(t,e){e=e||!1,this.clearQueue(),GAME.map.currentMap=t,GAME.createMap(e),GAME.map.getMap(t)&&GAME.showMapName(this.getMap(t).name)}clearQueue(){this._queue=[]}_doArrowConditions(t){if(this._arrowConditions.hasOwnProperty(t))for(let e in this._arrowConditions[t])this._arrowConditions[t][e]()}disableArrow(t){this._mapGroup.getByName(t).setVisible(!1)}setArrowCondition(t,e){!1===this._arrowConditions.hasOwnProperty(t)&&(this._arrowConditions[t]=[]),this._arrowConditions[t].push(e)}}class BattleClientType{constructor(t,e,i){return this.id=t,this.name=e||"NOT_SET",this.color=i||"#FFFFFF",this.description="",this}getID(){return this.id}setID(t){return this.id=t,this}getName(){return this.name}setName(t){return this.name=t,this}getDescription(){return this.description}setDescription(t){return this.description=t,this}getColor(){return this.color}setColor(t){return this.color=t,this}condition(){return!1}update(t,e){return t}onAttack(t,e){return this.update(t,e)}}class BattleClientTypePassive extends BattleClientType{constructor(){return super("Passive","Passive","rgb(255,204,150)"),this.setDescription("This client has no modifiers."),this}}class BattleClientTypeSpeedy extends BattleClientType{constructor(){return super("Speedy","Speedy","rgb(150,255,152)"),this.setDescription("This client loses excitement slowly when they are more excited."),this}condition(t){return!0}update(t,e){return e.excitement>60?t.excitementTweenScale=t.excitementTweenScale-.5:t.excitementTweenScale=t.excitementTweenScale+1,t}}class BattleClientTypeCummer extends BattleClientType{constructor(){return super("Cummer","Cummer","rgb(255,253,150)"),this.setDescription("This client cums quickly."),this}condition(){return!0}update(t,e){return t.excitementTweenScale=t.excitementTweenScale+1,t.cumTweenScale=t.cumTweenScale+2,t}}class BattleClientTypeTrapper extends BattleClientType{constructor(t,e,i,a,n){return super("Trapper","Trapper","rgb(255,0,0)"),this.setDescription("This client has the ability to trap girls."),this.trapChance=t||5,this.lengthMS=e||3e3,this.attackMS=i||1e3,this.damageScale=a,this.trapUpdate=n,this}condition(t){return!1!==t.getGirl()&&(!GAME.battle.currentBattle.isTrapped(t.getGirl().getID())&&chance.bool({likelihood:this.trapChance}))}onAttack(t,e){let i=new BattleEffectTrap(e.getGirl().getID(),this.damageScale,this.trapUpdate);return i.lengthMS=this.lengthMS,i.attackMS=this.attackMS,GAME.battle.currentBattle.trapGirl(e.getGirl().getID(),i),t}}class BattleClientTypeSwitcher extends BattleClientType{constructor(t,e){return super("Switcher","Switcher","rgb(158,98,255)"),this.setDescription("This client has a chance to switch body parts when a girl is selected."),this.skills=t||skills,this.chance=e||30,this}setSkills(t){return this.skills=t,this}condition(t){return chance.bool({likelihood:this.chance})}onAttack(t,e){return e.setBodyPart(chance.pickone(this.skills)),t}}class BattleClientTypeEdger extends BattleClientType{constructor(){return super("Edger","Edger","rgb(255,116,116)"),this.setDescription("This client loses excitement quicker the closer they are to cumming."),this}condition(t){return t.cum>50}update(t,e){return e.cum>80?t.excitementTweenScale=t.excitementTweenScale+3:t.excitementTweenScale=t.excitementTweenScale+2,t}}class BattleClientTypeBigCock extends BattleClientType{constructor(){return super("BigCock","Big Cock","rgb(150,185,255)"),this.setDescription("This client takes more stamina to please the more excited they are."),this}condition(t){return t.excitement>50}update(t,e){return t.damageScale=t.damageScale+1,t}}class BattleClientTypeSummoner extends BattleClientType{constructor(t,e){return super("Summoner","Summoner","rgb(255,98,239)"),this.setDescription("This client has a chance to summon another client when a girl is selected."),this.clientArray=t||[],this.summonChance=e||5,this}addClient(t){return this.clientArray.push(t),this}condition(t){return chance.bool({likelihood:this.summonChance})}onAttack(t,e){let i=this.clientArray.pop();return i&&GAME.battle.currentBattle.addClient(i),t}}class BattleClientTypeMudder extends BattleClientType{constructor(){return super("Mudder","Mudder","rgb(134,68,41)"),this.setDescription("This client adds stacks of mud to girls when fucked. Mud slows down the client's excitement and cum meter."),this.mudStack=0,this}condition(){return!0}onAttack(t,e){this.mudStack+=2;let i=new BattleEffectMud(this.mudStack);return i.onComplete=t=>{this.mudStack=0},GAME.battle.currentBattle.effectGirl(e.getGirl().getID(),i),t}}class BattleClientTypeLactater extends BattleClientType{constructor(t){return super("Lactater","Lactater","rgb(255,255,255)"),this.setDescription("This client has a chance to make the girl lactate, causing the girl to lose more stamina."),this.lactateChance=t||10,this}condition(t){return!1!==t.getGirl()&&(!GAME.battle.currentBattle.isEffected(t.getGirl().getID())&&chance.bool({likelihood:this.lactateChance}))}onAttack(t,e){let i=new BattleEffectLactate(e.getGirl().getID(),1e4);return GAME.battle.currentBattle.effectGirl(e.getGirl().getID(),i),t}}class BattleClientTypeBreaker extends BattleClientType{constructor(t,e,i){return super("Breaker","Breaker","rgb(255,0,0)"),this.setDescription("This client has a chance to inflict 'Break', causing a chance for the girl's to stop fucking the client."),this.breakChance=e||50,this.inflictChance=t||25,this.damage=i||.4,this}condition(t){if(!1!==t.getGirl()){if(GAME.battle.currentBattle.isEffected(t.getGirl().getID())){return"Break"===GAME.battle.currentBattle.getEffect(t.getGirl().getID()).getID()&&chance.bool({likelihood:this.breakChance})}return chance.bool({likelihood:this.inflictChance})}return!1}onAttack(t,e){if(GAME.battle.currentBattle.isEffected(e.getGirl().getID()))e.getGirl().loseStamina(this.damage),GAME.battle.currentBattle.removeEffect(e.getGirl().getID()),GAME.battle.currentBattle.stopFuckingClient(e);else{let t=new BattleEffectBreak;GAME.battle.currentBattle.effectGirl(e.getGirl().getID(),t)}return t}}class BattleClientTypeSubmissive extends BattleClientType{constructor(){return super("Submissive","Submissive","rgb(186,238,234)"),this.setDescription("This client is submissive. Fucking him will raise your stamina."),this.timesFucked=0,this}condition(){return!0}onAttack(t,e){return t.damageScale-=.5,e.getGirl().gainStamina(.2,!1),this.timesFucked+=1,t}update(t){return t.cumTweenScale+=.5*this.timesFucked,t}}class BattleClientTypeSubordinate extends BattleClientType{constructor(t){return super("Subordinate","Subordinate","rgb(255,204,150)"),this.setDescription("This client will become submissive and have their level reduced if you fuck them rapidly."),this.timesFucked=1,this.timer=!1,this.levelDecrease=t||10,this}condition(){return!0}onAttack(t,e){return this.timer||(this.timer=game.scene.getScene("BattleScene").time.addEvent({delay:3e3,callback:()=>{this.timesFucked=1,this.timer=!1}})),this.timesFucked+=1,t}update(t,e){if(this.timesFucked>=5&&!e.getAllTypes().some((t=>"Submissive"===t.id))){let t=e.getLevel()-this.levelDecrease;t<=0&&(t=1),e.setLevel(t),e.addType(new BattleClientTypeSubmissive),e.removeType("Subordinate")}return t}}class BattleClient{constructor(t,e,i,a,n,s){return this.bodyPart=a||chance.pickone(skills),this.GUID=chance.guid(),this._TYPES=[],this.name=t||"",this.finished=!1,this.level=e||1,this.gold=0,this.cum=0,this.excitement=0,this.animation="nullImage",this.girl=!1,this.lastGirl=!1,this.thumbnail=s||"ClientBorder",this.level=e||1,this.damageScale=1,this.timeToCum=n||2e4,this.cumTweenScale=1,this.cumDownTweenScale=1,this.excitementTime=2e4,this.excitementTweenScale=1,i?this._TYPES=i:this._TYPES.push(new BattleClientTypePassive),this.attack={cumTweenScale:1,cumDownTweenScale:1,excitementTweenScale:1,damageScale:1},this}startCumTween(){this.stopCumTween();let t=this.timeToCum-this.timeToCum*(this.cum/100);this.cumTween=game.scene.getScene("BattleScene").tweens.add({targets:this,cum:100,ease:"Linear",duration:t,onComplete:()=>{this.clientCum()},paused:!1}),this.setCumTweenScale(this.cumTweenScale),this.cumTween.on(Phaser.Tweens.Events.TWEEN_UPDATE,(()=>{if(!1===this.getGirl()){let t=this.cumTweenScale-.5;t<=0&&(t=.1),this.cumTween.setTimeScale(t)}}))}stopCumTween(){this.cumTween&&this.cumTween.stop()}startCumDownTween(){this.stopCumDownTween(),this.stopCumTween(),this.setAnimation("nullImage");let t=1.5*this.timeToCum*(this.cum/100);this.cumDownTween=game.scene.getScene("BattleScene").tweens.add({targets:this,cum:0,ease:"Sine.easeIn",duration:t,paused:!1}),this.setCumDownTweenScale(this.cumDownTweenScale)}stopCumDownTween(){this.cumDownTween&&this.cumDownTween.stop()}startExcitementTween(){this.stopExcitementTween(),this.stopCumDownTween(),this.startCumTween();let t=this.excitementTime*(this.excitement/100);this.excitementTween=game.scene.getScene("BattleScene").tweens.add({targets:this,excitement:0,ease:"Sine.easeInOut",duration:t,paused:!1,onComplete:()=>{this.startCumDownTween()}}),this.setExcitementTweenScale(this.excitementTweenScale),this.excitementTween.on(Phaser.Tweens.Events.TWEEN_UPDATE,(()=>{!1===this.getGirl()?this.excitementTween.setTimeScale(this.excitementTweenScale+2):this.getAttack()}))}stopExcitementTween(){this.excitementTween&&this.excitementTween.stop()}pushExcitement(t){t=t||30,this.excitement+=t,this.excitement>100&&(this.excitement=100),this.excitement<0&&(this.excitement=0),this.excitement>0&&this.startExcitementTween()}setCumDownTweenScale(t){return t<.1&&(t=.1),this.cumDownTweenScale=t,this.cumDownTween&&this.cumDownTween.setTimeScale(t),this}setCumTweenScale(t){return t<.1&&(t=.1),this.cumTweenScale=t,this.cumTween&&this.cumTween.setTimeScale(t),this}setExcitementTweenScale(t){return t<.1&&(t=.1),this.excitementTweenScale=t,this.excitementTween&&this.excitementTween.setTimeScale(t),this}getTimeToCum(){return this.timeToCum}setTimeToCum(t){return this.timeToCum=t,this}setDamageScale(t){return t<.1&&(t=.1),this.damageScale=t,this}fuck(t){return!1!==this.getGirl()?this.getGirl().getID()===t?this.pushExcitement(30):(this.setGirl(t),this.setLastGirl(t),this.getExcitement()<=0?this.pushExcitement(20):this.pushExcitement(-10)):!1===this.getGirl()&&!1!==this.getLastGirl()?this.getLastGirl().getID()===t?(this.setGirl(t),this.setLastGirl(t),this.pushExcitement(30)):(this.setGirl(t),this.setLastGirl(t),this.getExcitement()<=0?this.pushExcitement(20):this.pushExcitement(-10),globalEvents.emit("startFuckingClient",this.GUID)):(this.setGirl(t),this.setLastGirl(t),this.pushExcitement(40),globalEvents.emit("startFuckingClient",this.GUID)),globalEvents.emit("clientAttack",this.GUID),this}stopFucking(){return this.setGirl(!1),this.setAnimation("nullImage"),!1===this.getFinished()&&this.pushExcitement(-10),globalEvents.emit("stopFuckingClient",this.GUID),this}destroy(){return this.stopCumTween(),this.stopCumDownTween(),this.stopExcitementTween(),this}clientCum(){if(this.destroy(),this.finished=!0,this.getGirl()){if(GAME.battle.currentBattle.numActiveClients()>0&&chance.bool({likelihood:20})&&GAME.QBsound.playUnique(this.getGirl().getID(),this.getBodyPart()),GAME.battle.currentBattle.isTrapped(this.getGirl().getID())&&GAME.battle.currentBattle.removeTrap(this.getGirl().getID()),this.getExcitement()>0){let t=Math.round(this.getExcitement()/3)/100;this.getGirl().gainStamina(1+t,!1)}else this.getGirl().gainStamina(1,!1);this.getGirl().cumOn(this.getBodyPart(),1),this.getGirl().fuckGuys(1)}return this.getGold(this.getLastGirl().getID())>0&&GAME.addGold(this.getGold(this.getLastGirl().getID())),this.setAnimation("nullImage"),globalEvents.emit("clientCum",this.GUID),this}getAttack(t){t=t||!1;let e={cumTweenScale:this.attack.cumTweenScale,cumDownTweenScale:this.attack.cumDownTweenScale,excitementTweenScale:this.attack.excitementTweenScale,damageScale:this.attack.damageScale},i=this.getAllTypes();for(let a of i)!0===a.condition(this)&&(e=t?a.onAttack(e,this):a.update(e,this));if(!1!==this.getGirl()){let t=this.getGirl().getStat(this.getBodyPart());e.excitementTweenScale=e.excitementTweenScale-GAME.Sigmoid(t,this.getLevel(),-8,6);let i=GAME.Sigmoid(t,this.getLevel(),-8,6);i>.15&&(e.cumTweenScale=e.cumTweenScale+i),GAME.battle.currentBattle.isTrapped(this.getGirl().getID())&&(e=GAME.battle.currentBattle.getTrap(this.getGirl().getID()).update(e,this)),GAME.battle.currentBattle.isEffected(this.getGirl().getID())&&(e=GAME.battle.currentBattle.getEffect(this.getGirl().getID()).update(e,this)),GAME.battle.currentBattle.isUltimating(this.getGirl().getID())&&(e=GAME.battle.currentBattle.getUltimate(this.getGirl().getID()).update(e,this)),this.setAnimation(this.getGirl().getID()+this.getBodyPart()+"default")}return this.updateTweens(e),e}updateTweens(t){this.setCumTweenScale(t.cumTweenScale),this.setCumDownTweenScale(t.cumDownTweenScale),this.setExcitementTweenScale(t.excitementTweenScale),this.setDamageScale(t.damageScale)}getThumbnail(){return this.thumbnail}setThumbnail(t){return this.thumbnail=t,this}getGirl(){return!1!==this.girl&&GAME.girl.getGirl(this.girl)}getLastGirl(){return!1!==this.lastGirl&&GAME.girl.getGirl(this.lastGirl)}setGirl(t){return this.girl=t,this}setLastGirl(t){return this.lastGirl=t,this}addType(t){return this._TYPES.push(t),globalEvents.emit("addType",this.GUID,t.getID()),this}removeType(t){let e=this._TYPES.findIndex((e=>e.id===t));return-1!==e?(Phaser.Utils.Array.RemoveAt(this._TYPES,e),globalEvents.emit("removeType",this.GUID,t)):console.warn(t+" not found in array"),this}getAllTypes(){return this._TYPES}getType(t){return this._TYPES.find((e=>e.id===t))}setName(t){return this.name=t,this}getName(){return this.name}setLevel(t){return this.level=t,this}getLevel(){return this.level}setGold(t){return this.gold=t,this}getGold(t){t=t||!1;let e=this.gold;if(!1!==t){let i=GAME.girl.getGirl(t).getMorals();i>0&&(e+=e*(Math.abs(i)/5))}return Math.ceil(e)}getExp(t){let e=GAME.girl.getGirl(t).getStat(this.getBodyPart()),i=GAME.girl.getGirl(t).getMorals(),a=Math.ceil(10-10*GAME.Sigmoid(e,this.getLevel()));return i<0&&(a+=a*(Math.abs(i)/5)),Math.ceil(a)}setCum(t){return this.cum=t,this.cum}getCum(){return this.cum}getExcitement(){return this.excitement}setFinished(t){return this.finished=t,this}getFinished(){return this.finished}setAnimation(t){return t=t||"nullImage",this.animation=t,this}getAnimation(){return this.animation}getAnimationFPS(){let t=24,e=this.getExcitement();return e>0&&e<=70?t=24:e>70&&e<=100&&(t=36),"nullImage"===this.getAnimation()&&(t=1),t}getBodyPart(){return this.bodyPart}setBodyPart(t){return this.bodyPart=t,globalEvents.emit("updateClients"),this}}class Clothes{constructor(t,e,i){return this.id=t,this.unlockedByDefault=i||!1,this.styles={},this.face="Default",this.body="Default",this.visible=this.unlockedByDefault||!1,this.Girl=GAME.girl.getGirl(e),this.name="",this.description="",this.level=0,this.shop=!1,this.cost=0,this.stats={Stamina:0,Recovery:0,Throat:0,Tits:0,Pussy:0,Anal:0},this.layerID=!1,this.addStyle(new ClothesStyle(!1,"Default",!0)),this}setID(t){return this.id=t,this}getID(){return this.id}setLayerID(t){return this.layerID=t,this}getLayerID(){return this.layerID}isUnlocked(){return gameData.clothes[this.id].Unlocked}unlock(){return gameData.clothes[this.id].Unlocked=!0,this}buy(){return!1===this.isUnlocked()&&(GAME.removeGold(this.getCost()),this.unlock(),globalEvents.emit("refreshClothes")),this}addStyle(t){return this.styles[t.id]=t,this}removeStyle(t){delete this.styles[t]}getStyle(t){return this.styles[t]}getAllStyles(t){if(void 0===t&&(t=!0),!0===t){let t=[];for(let e in this.styles)this.styles[e].isVisible()&&t.push(e);return t}return this.styles}setStyle(t){return gameData.clothes[this.id].Style=t,globalEvents.emit("refreshGirls"),this}getPlayerStyle(){let t=gameData.clothes[this.id].Style;return!1!==t&&(this.getStyle(t)?this.getStyle(t).id:(this.setStyle(!1),!1))}setFace(t){return this.face=t,this}getFace(){return this.face}setBody(t){return this.body=t,this}getBody(){return this.body}setVisible(t){return this.visible=t,this}isVisible(){return"boolean"==typeof this.visible?this.visible:"function"==typeof this.visible&&this.visible()}setGirl(t){return this.Girl=GAME.girl.getGirl(t),this}getGirl(){return this.Girl}setName(t){return this.name=t,this}getName(){return this.name}setDescription(t){return this.description=t,this}getDescription(){return this.description}setLevel(t){return this.level=t,this}getLevel(){return this.level}setShop(t){return this.shop=t,this}getShop(){return this.shop}setCost(t){return this.cost=t,this}getCost(){return this.cost}setStat(t,e){if("object"==typeof t)for(let e in t)this.stats[e]=t[e];else this.stats[t]=e;return this}getStats(t){return t?this.stats[t]:this.stats}}class ClothesManager{constructor(){this.Clothes={}}_initClothes(){this.add(new Clothes("DemonQueen","Queen",!1)).setName("DemonQueen").setDescription("").setLevel(22).setStat({Throat:4,Tits:4}),this.add(new Clothes("OrcQueen","Queen",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("PrincessQueen","Queen",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Tits:3,Pussy:2}),this.add(new Clothes("MudQueen","Queen",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("ForestQueen","Queen",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("SchoolgirlQueen","Queen",!1)).setName("School Uniform").setDescription("A uniform for school.").setLevel(5).setStat({Pussy:2}).setShop(!0).setCost(200).setVisible(!0),this.add(new Clothes("DefaultQueen","Queen",!0)).setLevel(0).addStyle(new ClothesStyle("AlphaBlack","Transparent Black",(function(){return GAME.quest.isComplete("alphaBlack","Start")}))),this.add(new Clothes("Valentines2020Queen","Queen",!1).setName("Lingerie").setDescription("Valentines 2020 Event").setLevel(20).setStat({Throat:1,Tits:1,Pussy:1,Anal:1})).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("mushroomQuest"))),this.add(new Clothes("Halloween2019Queen","Queen",!1)).setName("Succubus").setDescription("Halloween 2019 Event").setLevel(20).setStat({Throat:2,Tits:2,Pussy:2}).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("hornyBoris"))),this.add(new Clothes("DemonSuki","Suki",!1)).setName("DemonSuki").setDescription("Clothes to make Suki look like an elf.").setLevel(22).setStat({Throat:4,Tits:1,Pussy:4}),this.add(new Clothes("ElfSuki","Suki",!1)).setName("Elf").setBody("Elf").setDescription("Clothes to make Suki look like an elf.").setLevel(0),this.add(new Clothes("OrcSuki","Suki",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("PrincessSuki","Suki",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Tits:3,Pussy:2}),this.add(new Clothes("SweaterSuki","Suki",!1)).setName("Sweater").setDescription("A sweater that doesn't cover much.").setLevel(15).setStat({Tits:5}).setShop(!0).setCost(900).setVisible((function(){return GAME.quest.isComplete("mushroomQuest")})),this.add(new Clothes("MudSuki","Suki",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("LeotardSuki","Suki",!1)).setName("Leotard").setDescription("Skin tight leotard. Careful, tears easily.").setLevel(11).setStat({Pussy:2,Tits:2}).setShop(!0).setCost(600).setVisible((function(){return GAME.quest.isComplete("principalFeetQuest","Start")})),this.add(new Clothes("ForestSuki","Suki",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("GenieSuki","Suki",!1)).setName("Genie").setDescription("A cute genie outfit!").setLevel(10).setStat({Throat:2,Tits:2}).setShop(!0).setCost(500).setVisible(!0),this.add(new Clothes("DefaultSuki","Suki",!0)).setLevel(0).setStat({Pussy:3}),this.add(new Clothes("SukibusSuki","Suki",!1)).setLevel(0).setFace("Sukibus").setBody("Sukibus").setLayerID("Sukibus").setStat({Throat:2,Tits:2,Pussy:6,Anal:2}),this.add(new Clothes("Valentines2020Suki","Suki",!1).setName("Lingerie").setDescription("Valentines 2020 Event").setLevel(20).setStat({Throat:1,Tits:1,Pussy:1,Anal:1})).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("mushroomQuest"))),this.add(new Clothes("Halloween2019Suki","Suki",!1)).setName("Nurse").setDescription("Halloween 2019 Event").setLevel(20).setStat({Throat:2,Tits:2}).setShop(!0).setCost(1e3).setFace("Halloween2019").setVisible((()=>GAME.quest.isComplete("hornyBoris"))),this.add(new Clothes("DemonEsxea","Esxea",!1)).setName("DemonEsxea").setDescription("").setLevel(22).setStat({Throat:2,Tits:4,Pussy:2}),this.add(new Clothes("OrcEsxea","Esxea",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("PrincessEsxea","Esxea",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Tits:3,Pussy:2}),this.add(new Clothes("MudEsxea","Esxea",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("ForestEsxea","Esxea",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("DefaultEsxea","Esxea",!0)).setLevel(0).setStat({Tits:1,Pussy:1}),this.add(new Clothes("Valentines2020Esxea","Esxea",!1).setName("Lingerie").setDescription("Valentines 2020 Event").setLevel(20).setStat({Throat:1,Tits:1,Pussy:1,Anal:1})).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("mushroomQuest"))),this.add(new Clothes("Halloween2019Esxea","Esxea",!1)).setName("Super Hero").setDescription("Halloween 2019 Event").setLevel(20).setStat({Throat:2}).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("hornyBoris"))),this.add(new Clothes("JanitorEsxea","Esxea",!1).setName("JanitorEsxea").setDescription("").setLevel(0).setShop(!1)),this.add(new Clothes("DemonScarlett","Scarlett",!1)).setName("DemonScarlett").setDescription("").setLevel(22).setStat({Throat:4,Pussy:1,Anal:4}),this.add(new Clothes("OrcScarlett","Scarlett",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("HucowScarlett","Scarlett",!1)).setName("Hucow").setDescription("An outfit made for a human cow.").setLevel(17).setStat({Tits:7}).addStyle(new ClothesStyle("Harness","Tit Harness",!1)).addStyle(new ClothesStyle("NoTop","No Top",!1)),this.add(new Clothes("RabbitDressScarlett","Scarlett",!1)).setName("Seductive Dress").setDescription("A dress to torment men with.").setLevel(17).setStat({Throat:3,Tits:3,Pussy:3,Anal:3}),this.add(new Clothes("PrincessScarlett","Scarlett",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Tits:3,Pussy:2}),this.add(new Clothes("MudScarlett","Scarlett",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("ForestScarlett","Scarlett",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("DefaultScarlett","Scarlett",!0)).setLevel(0).setStat({Tits:3}),this.add(new Clothes("Valentines2020Scarlett","Scarlett",!1).setName("Lingerie").setDescription("Valentines 2020 Event").setLevel(20).setStat({Throat:1,Tits:1,Pussy:1,Anal:1})).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("mushroomQuest"))),this.add(new Clothes("Halloween2019Scarlett","Scarlett",!1)).setName("Mummy").setDescription("Halloween 2019 Event").setLevel(20).setStat({Tits:2,Pussy:2}).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("hornyBoris"))),this.add(new Clothes("DemonArdura","Ardura",!1)).setName("DemonArdura").setDescription("").setLevel(22).setStat({Throat:2,Tits:3,Anal:2}),this.add(new Clothes("OrcArdura","Ardura",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("PrincessArdura","Ardura",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Anal:2,Pussy:3}),this.add(new Clothes("MudArdura","Ardura",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("ForestArdura","Ardura",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("DefaultArdura","Ardura",!0)).setLevel(0).setStat({Anal:2}),this.add(new Clothes("Valentines2020Ardura","Ardura",!1).setName("Lingerie").setDescription("Valentines 2020 Event").setLevel(20).setStat({Throat:1,Tits:1,Pussy:1,Anal:1})).setShop(!0).setCost(1e3).setVisible((()=>GAME.quest.isComplete("mushroomQuest"))),this.add(new Clothes("DemonNatasha","Natasha",!1)).setName("DemonNatasha").setDescription("").setLevel(22).setStat({Throat:4,Tits:4}),this.add(new Clothes("OrcNatasha","Natasha",!1)).setName("Orc").setDescription("Clothes used during battle.").setLevel(18).setStat({Throat:2,Pussy:1,Anal:4}),this.add(new Clothes("PrincessNatasha","Natasha",!1)).setName("Princess").setDescription("A dress a princess would wear.").setLevel(14).setStat({Throat:3,Pussy:2}),this.add(new Clothes("MudNatasha","Natasha",!1)).setName("Mud").setDescription("Not really clothes, just mud slathered onto her body.").setLevel(10).setStat({Throat:2,Tits:2,Pussy:2}),this.add(new Clothes("ForestNatasha","Natasha",!1)).setName("Greenhaven").setDescription("The women of Greenhaven don't seem to wear much clothing.").setLevel(6).setStat({Throat:1,Pussy:1}),this.add(new Clothes("DefaultNatasha","Natasha",!0)).setLevel(0),this.add(new Clothes("CrossDressNatasha","Natasha",!1).setName("CrossDress").setBody("Boy").setDescription("").setLevel(0).setShop(!1)).addStyle(new ClothesStyle("NoPants","No Pants",!1)).addStyle(new ClothesStyle("NoPantsFuta","No Pants Futa",!1))}_initClothesMapConditions(){}add(t){return this.Clothes[t.id]=t,!1===gameData.clothes.hasOwnProperty(t.id)&&(gameData.clothes[t.id]={Unlocked:t.unlockedByDefault,Style:!1}),this.Clothes[t.id]}remove(t){return delete this.Clothes[t],this}getClothes(t){return!!this.Clothes[t]&&this.Clothes[t]}getAllClothes(t){if(t){let e=[],i=Object.keys(this.Clothes).filter((e=>this.Clothes[e].Girl.id===t));for(let t of i)e.push(this.getClothes(t));return e}return this.Clothes}}class ClothesStyle{constructor(t,e,i){this.id=t,this.name=e,this.condition=i}setID(t){return this.id=t,this}getID(){return this.id}setName(t){return this.name=t,this}getName(){return this.name}setCondition(t){return this.condition=t,this}getCondition(){return this.condition}isVisible(){return"boolean"==typeof this.getCondition()?this.getCondition():this.getCondition()()}}class AnimationManager{constructor(){this._animations={},this._gallery=[]}createAnimation(t){this._animations[t.ID]={},this._animations[t.ID].ID=t.ID,this._animations[t.ID].frameRate=t.frameRate,this._animations[t.ID].extension=t.extension||".jpg","function"==typeof t.frames?this._animations[t.ID].frames=t.frames():this._animations[t.ID].frames=t.frames}getAnimation(t){return!!this._animations.hasOwnProperty(t)&&{ID:this._animations[t].ID,key:"video",repeat:-1,frameRate:this._animations[t].frameRate,frames:this._animations[t].frames,extension:this._animations[t].extension}}getAllAnimations(){let t=[];for(let e in this._animations)t.push(this._animations[e]);return t}playAnimation(t){return new Promise((e=>{game.scene.start("PlayVideo",{pauseAllScenes:!0,video:t}),game.scene.getScene("PlayVideo").events.once("shutdown",(()=>{e()}))}))}createFrames(t,e,i,a){a=a||5;let n=[];for(;e<=i;e++)n.push({key:t+e.toString().padStart(a,"0")});return n}getGallery(){let t=[];for(let e in this._gallery){let i=this._gallery[e]();for(let e in i)t.push(i[e])}return t}addToGallery(t){this._gallery.push(t)}_initAnimations(){(()=>{this.createAnimation({ID:"QueenThroatdefault",frameRate:24,frames:this.createFrames("QueenThroatdefault",0,13,5)}),this.createAnimation({ID:"SukiThroatdefault",frameRate:24,frames:this.createFrames("SukiThroatdefault",0,12,5)}),this.createAnimation({ID:"EsxeaThroatdefault",frameRate:24,frames:this.createFrames("EsxeaThroatdefault",0,23,5),extension:".webp"}),this.createAnimation({ID:"ScarlettThroatdefault",frameRate:24,frames:this.createFrames("ScarlettThroatdefault",0,23,5),extension:".webp"}),this.createAnimation({ID:"ArduraThroatdefault",frameRate:24,frames:this.createFrames("ArduraThroatdefault",0,23,5),extension:".webp"}),this.createAnimation({ID:"NatashaThroatdefault",frameRate:24,frames:this.createFrames("NatashaThroatdefault",0,23,5),extension:".webp"}),this.createAnimation({ID:"QueenTitsdefault",frameRate:24,frames:this.createFrames("QueenTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"SukiTitsdefault",frameRate:24,frames:this.createFrames("SukiTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"EsxeaTitsdefault",frameRate:24,frames:this.createFrames("EsxeaTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"ScarlettTitsdefault",frameRate:24,frames:this.createFrames("ScarlettTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"ArduraTitsdefault",frameRate:24,frames:this.createFrames("ArduraTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"NatashaTitsdefault",frameRate:24,frames:this.createFrames("NatashaTitsdefault",0,15,5),extension:".webp"}),this.createAnimation({ID:"QueenPussydefault",frameRate:24,frames:this.createFrames("QueenPussydefault",0,12,5)}),this.createAnimation({ID:"SukiPussydefault",frameRate:24,frames:this.createFrames("SukiPussydefault",0,15,5)}),this.createAnimation({ID:"EsxeaPussydefault",frameRate:24,frames:this.createFrames("EsxeaPussydefault",0,14,5)}),this.createAnimation({ID:"ScarlettPussydefault",frameRate:24,frames:this.createFrames("ScarlettPussydefault",0,18,5),extension:".webp"}),this.createAnimation({ID:"ArduraPussydefault",frameRate:24,frames:this.createFrames("ArduraPussydefault",0,18,5),extension:".webp"}),this.createAnimation({ID:"NatashaPussydefault",frameRate:24,frames:this.createFrames("NatashaPussydefault",0,18,5),extension:".webp"}),this.createAnimation({ID:"QueenAnaldefault",frameRate:24,frames:this.createFrames("QueenAnaldefault",0,18,5)}),this.createAnimation({ID:"SukiAnaldefault",frameRate:24,frames:this.createFrames("SukiAnaldefault",0,14,5)}),this.createAnimation({ID:"EsxeaAnaldefault",frameRate:24,frames:this.createFrames("EsxeaAnaldefault",0,17,5),extension:".webp"}),this.createAnimation({ID:"ScarlettAnaldefault",frameRate:24,frames:this.createFrames("ScarlettAnaldefault",0,17,5),extension:".webp"}),this.createAnimation({ID:"ArduraAnaldefault",frameRate:24,frames:this.createFrames("ArduraAnaldefault",0,17,5),extension:".webp"}),this.createAnimation({ID:"NatashaAnaldefault",frameRate:24,frames:this.createFrames("NatashaAnaldefault",0,17,5),extension:".webp"})})(),this.createAnimation({ID:"battleNullImage",frameRate:1,frames:[{key:"battleNullImage"}]}),this.createAnimation({ID:"QueenFreeBlowjobs",frameRate:1,frames:[{key:"QueenFreeBlowjobs"}]}),this.createAnimation({ID:"QueenAssGrab",frameRate:1,frames:[{key:"QueenAssGrab"}]}),this.createAnimation({ID:"QueenLeonAlphaBlack",frameRate:1,frames:[{key:"QueenLeonAlphaBlack"}]}),this.createAnimation({ID:"QueenDanielMilk",frameRate:1,frames:[{key:"QueenDanielMilk"}]}),this.createAnimation({ID:"SukiDanielCum",frameRate:1,frames:[{key:"SukiDanielCum"}]}),this.createAnimation({ID:"SukiPrincipalThighs",frameRate:1,frames:[{key:"SukiPrincipalThighs"}]}),this.createAnimation({ID:"SukiSpitroastOrcs",frameRate:1,frames:[{key:"SukiSpitroastOrcs"}]}),this.createAnimation({ID:"SukiClassFuck",frameRate:1,frames:[{key:"SukiClassFuck"}]}),this.createAnimation({ID:"SukiHandsdefault",frameRate:24,frames:this.createFrames("SukiHandsdefault",0,13,5)}),this.createAnimation({ID:"QueenNirvokkDoggy",frameRate:1,frames:[{key:"QueenNirvokkDoggy"}]}),this.createAnimation({ID:"forestBeastPussy",frameRate:24,frames:this.createFrames("forestBeastPussy",0,12,5)}),this.createAnimation({ID:"forestBeastThroat",frameRate:24,frames:this.createFrames("forestBeastThroat",0,13,5)}),this.createAnimation({ID:"ScarlettPeasantsMilk",frameRate:1,frames:[{key:"ScarlettPeasantsMilk"}]}),this.createAnimation({ID:"ScarlettGuardAnalCum",frameRate:1,frames:[{key:"ScarlettGuardAnalCum"}]}),this.createAnimation({ID:"QueenOrcBattle",frameRate:1,frames:[{key:"QueenOrcBattle"}]}),this.createAnimation({ID:"EsxeaTied",frameRate:1,frames:[{key:"EsxeaTied"}]}),this.createAnimation({ID:"EsxeaPondFuck",frameRate:1,frames:[{key:"EsxeaPondFuck"}]}),this.createAnimation({ID:"MorassInnGangbang",frameRate:1,frames:[{key:"MorassInnGangbang"}]}),this.createAnimation({ID:"ScarlettBigTits",frameRate:1,frames:[{key:"ScarlettBigTits"}]}),this.createAnimation({ID:"SukiFutaCum",frameRate:1,frames:[{key:"SukiFutaCum"}]}),this.createAnimation({ID:"SukiFutaNoCum",frameRate:1,frames:[{key:"SukiFutaNoCum"}]}),this.createAnimation({ID:"AriettaSeduce",frameRate:1,frames:[{key:"AriettaSeduce"}]}),this.createAnimation({ID:"NatashaOrcBJ",frameRate:1,frames:[{key:"NatashaOrcBJ"}]}),this.createAnimation({ID:"SabrinaDaisyIntimidate",frameRate:1,frames:[{key:"SabrinaDaisyIntimidate"}]}),this.createAnimation({ID:"QueenBus",frameRate:1,frames:[{key:"QueenBus"}]}),this.createAnimation({ID:"SukiGoblinFeet",frameRate:1,frames:[{key:"SukiGoblinFeet"}]}),this.createAnimation({ID:"SukibusRiding",frameRate:1,frames:[{key:"SukibusRiding"}]}),this.createAnimation({ID:"LilithQueen",frameRate:1,frames:[{key:"LilithQueen"}]})}_initGallery(){this.addToGallery((function(){return[{thumbnail:"QueenBus",type:"Image",animationID:"QueenBus"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("townFuckQuest","End"))return[{thumbnail:"QueenFreeBlowjobs",type:"Image",animationID:"QueenFreeBlowjobs"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("alphaBlack"))return[{thumbnail:"QueenLeonAlphaBlack",type:"Image",animationID:"QueenLeonAlphaBlack"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("townMorals"))return[{thumbnail:"QueenAssGrab",type:"Image",animationID:"QueenAssGrab"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("hornyBoris","End"))return[{thumbnail:"QueenNirvokkDoggy",type:"Image",animationID:"QueenNirvokkDoggy"},{thumbnail:"forestBeastPussy00000",type:"Animation",animationID:"forestBeastPussy"},{thumbnail:"forestBeastThroat00000",type:"Animation",animationID:"forestBeastThroat"}]})),this.addToGallery((function(){if(GAME.girl.Suki.isUnlocked())return[{thumbnail:"QueenDanielMilk",type:"Image",animationID:"QueenDanielMilk"},{thumbnail:"SukiDanielCum",type:"Image",animationID:"SukiDanielCum"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("principalFeetQuest"))return[{thumbnail:"SukiPrincipalThighs",type:"Image",animationID:"SukiPrincipalThighs"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("abigailCumQuest"))return[{thumbnail:"SukiClassFuck",type:"Image",animationID:"SukiClassFuck"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("mushroomQuest"))return[{thumbnail:"SukiHandsdefault00000",type:"Animation",animationID:"SukiHandsdefault"},{thumbnail:"SukiGoblinFeet",type:"Image",animationID:"SukiGoblinFeet"},{thumbnail:"MorassInnGangbang",type:"Image",animationID:"MorassInnGangbang"},{thumbnail:"EsxeaPondFuck",type:"Image",animationID:"EsxeaPondFuck"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("kingsQuest"))return[{thumbnail:"ScarlettPeasantsMilk",type:"Image",animationID:"ScarlettPeasantsMilk"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("battleOrcs"))return[{thumbnail:"ScarlettGuardAnalCum",type:"Image",animationID:"ScarlettGuardAnalCum"},{thumbnail:"QueenOrcBattle",type:"Image",animationID:"QueenOrcBattle"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("mountainTraining"))return[{thumbnail:"EsxeaTied",type:"Image",animationID:"EsxeaTied"},{thumbnail:"SukiSpitroastOrcs",type:"Image",animationID:"SukiSpitroastOrcs"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("magic"))return[{thumbnail:"ScarlettBigTits",type:"Image",animationID:"ScarlettBigTits"},{thumbnail:"SukiFutaNoCum",type:"Image",animationID:"SukiFutaNoCum"},{thumbnail:"SukiFutaCum",type:"Image",animationID:"SukiFutaCum"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("ariettaQuest"))return[{thumbnail:"AriettaSeduce",type:"Image",animationID:"AriettaSeduce"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("getBooks"))return[{thumbnail:"NatashaOrcBJ",type:"Image",animationID:"NatashaOrcBJ"},{thumbnail:"SabrinaDaisyIntimidate",type:"Image",animationID:"SabrinaDaisyIntimidate"}]})),this.addToGallery((function(){if(!0===GAME.quest.isComplete("lilithQuest"))return[{thumbnail:"SukibusRiding",type:"Image",animationID:"SukibusRiding"},{thumbnail:"LilithQueen",type:"Image",animationID:"LilithQueen"}]})),this.addToGallery((function(){let t=[];return t.push({thumbnail:"QueenTitsdefault00000",type:"Animation",animationID:"QueenTitsdefault"}),t.push({thumbnail:"QueenThroatdefault00000",type:"Animation",animationID:"QueenThroatdefault"}),t.push({thumbnail:"QueenPussydefault00000",type:"Animation",animationID:"QueenPussydefault"}),t.push({thumbnail:"QueenAnaldefault00000",type:"Animation",animationID:"QueenAnaldefault"}),GAME.girl.getGirl("Suki").isUnlocked()&&(t.push({thumbnail:"SukiTitsdefault00000",type:"Animation",animationID:"SukiTitsdefault"}),t.push({thumbnail:"SukiPussydefault00000",type:"Animation",animationID:"SukiPussydefault"}),t.push({thumbnail:"SukiThroatdefault00000",type:"Animation",animationID:"SukiThroatdefault"}),t.push({thumbnail:"SukiAnaldefault00000",type:"Animation",animationID:"SukiAnaldefault"})),GAME.girl.getGirl("Esxea").isUnlocked()&&(t.push({thumbnail:"EsxeaThroatdefault00000",type:"Animation",animationID:"EsxeaThroatdefault"}),t.push({thumbnail:"EsxeaTitsdefault00000",type:"Animation",animationID:"EsxeaTitsdefault"}),t.push({thumbnail:"EsxeaPussydefault00000",type:"Animation",animationID:"EsxeaPussydefault"}),t.push({thumbnail:"EsxeaAnaldefault00000",type:"Animation",animationID:"EsxeaAnaldefault"})),GAME.girl.getGirl("Scarlett").isUnlocked()&&(t.push({thumbnail:"ScarlettThroatdefault00000",type:"Animation",animationID:"ScarlettThroatdefault"}),t.push({thumbnail:"ScarlettTitsdefault00000",type:"Animation",animationID:"ScarlettTitsdefault"}),t.push({thumbnail:"ScarlettPussydefault00000",type:"Animation",animationID:"ScarlettPussydefault"}),t.push({thumbnail:"ScarlettAnaldefault00000",type:"Animation",animationID:"ScarlettAnaldefault"})),GAME.girl.getGirl("Ardura").isUnlocked()&&(t.push({thumbnail:"ArduraThroatdefault00000",type:"Animation",animationID:"ArduraThroatdefault"}),t.push({thumbnail:"ArduraTitsdefault00000",type:"Animation",animationID:"ArduraTitsdefault"}),t.push({thumbnail:"ArduraPussydefault00000",type:"Animation",animationID:"ArduraPussydefault"}),t.push({thumbnail:"ArduraAnaldefault00000",type:"Animation",animationID:"ArduraAnaldefault"})),GAME.girl.getGirl("Natasha").isUnlocked()&&(t.push({thumbnail:"NatashaThroatdefault00000",type:"Animation",animationID:"NatashaThroatdefault"}),t.push({thumbnail:"NatashaTitsdefault00000",type:"Animation",animationID:"NatashaTitsdefault"}),t.push({thumbnail:"NatashaPussydefault00000",type:"Animation",animationID:"NatashaPussydefault"}),t.push({thumbnail:"NatashaAnaldefault00000",type:"Animation",animationID:"NatashaAnaldefault"})),t}))}}class BattleManager{constructor(){this.currentBattle=!1,this.battleConditions={}}getClientPack(){let t=[],e=2,i=[],a=[],n={min:1,max:4},s={min:10,max:30};i.push("ClientBorderE1"),i.push("ClientBorderE2"),i.push("ClientBorderE3"),i.push("ClientBorderE4"),a.push("Passive"),a.push("Cummer"),GAME.quest.isComplete("greenhaven")&&(n.min=1,n.max=10,s.min=10,s.max=30,e=3),GAME.quest.isComplete("hornyBoris","WhoreGreenhaven")&&(i.push("ClientBorderG1"),i.push("ClientBorderG2"),i.push("ClientBorderG3"),i.push("ClientBorderG4"),a.push("Speedy"),s.min=15,s.max=40,e=5),GAME.quest.isComplete("mushroomQuest","ReturnThisa")&&(i.push("ClientBorderGo1"),i.push("ClientBorderGo2"),i.push("ClientBorderGo3"),i.push("ClientBorderGo4"),a.push("Switcher"),n.min=8,n.max=15,s.min=20,s.max=60,e=7),GAME.quest.isComplete("kingsQuest")&&(i.push("ClientBorderP1"),i.push("ClientBorderP2"),i.push("ClientBorderP3"),i.push("ClientBorderP4"),a.push("Edger"),n.min=10,n.max=20,s.min=25,s.max=80,e=10),GAME.quest.isComplete("mountainTraining","NaknuAfterOrcBoss")&&(i.push("ClientBorderO1"),i.push("ClientBorderO2"),i.push("ClientBorderO3"),i.push("ClientBorderO4"),a.push("BigCock"),n.min=15,n.max=25,s.min=30,s.max=100,e=13);for(let r=1;r<=e;r++){let e,r=chance.pickone(i);switch(chance.pickone(a)){case"Passive":e=new BattleClient("",chance.integer(n),[new BattleClientTypePassive],chance.pickone(skills),16e3,r).setGold(chance.integer(s));break;case"Cummer":e=new BattleClient("",chance.integer(n),[new BattleClientTypeCummer],chance.pickone(skills),8e3,r).setGold(chance.integer(s));break;case"Speedy":e=new BattleClient("",chance.integer(n),[new BattleClientTypeSpeedy],chance.pickone(skills),16e3,r).setGold(chance.integer(s));break;case"Switcher":e=new BattleClient("",chance.integer(n),[new BattleClientTypeSwitcher],chance.pickone(skills),2e4,r).setGold(chance.integer(s));break;case"Edger":e=new BattleClient("",chance.integer(n),[new BattleClientTypeEdger],chance.pickone(skills),16e3,r).setGold(chance.integer(s));break;case"BigCock":e=new BattleClient("",chance.integer(n),[new BattleClientTypeBigCock],chance.pickone(skills),2e4,r).setGold(chance.integer(s))}t.push(e)}return t=Phaser.Utils.Array.Shuffle(t),t}clientAttack(t){let e=GAME.battle.currentBattle,i=e.getClientByGUID(t),a=i.getGirl().getID(),n=i.getBodyPart(),s=i.getAttack(!0),r=GAME.girl.getGirl(a).getStat(n),o=.6-Math.round(10*GAME.Sigmoid(r,i.getLevel()))/10*.6;o*=s.damageScale,o<=0&&(o=0);let l=i.getExp(a);GAME.girl.getGirl(a).loseStamina(o),GAME.girl.getGirl(a).gainExp(l,!0),!1===e.isUltimating(a)&&(o<=.2?GAME.girl.getGirl(a).addUltimate(5):o>.2&&o<=.5?GAME.girl.getGirl(a).addUltimate(10):GAME.girl.getGirl(a).addUltimate(15)),GAME.girl.getGirl(a).getStamina()<=0&&(e.stopFuckingClient(i),e.getActiveGirls().length<=0&&e.loseBattle()),globalEvents.emit("clientTick",t)}startBattle(t){return new Promise((e=>{this.currentBattle=t,globalEvents.on("clientAttack",this.clientAttack,this),game.scene.start("BattleScene",{pauseAllScenes:!0,BATTLE:this.currentBattle}),game.scene.getScene("BattleScene").events.once("shutdown",((t,i)=>{this.currentBattle=!1,globalEvents.off("clientAttack",this.clientAttack),e(i.answer)}))}))}}class Battle{constructor(t,e,i){t=t||GAME.girl.getUnlocked(),e=e||"Easy",i=i||null,this.GIRLS={girlArray:t},this.CLIENTS=[],this.SelectedClient=!1,this.Difficulty=e,this.Parameters=i;for(let e in t)this.GIRLS[t[e]]={Client:!1,Trapped:!1,Effect:!1,Ultimate:!1};return this}winBattle(){game.scene.getScene("BattleScene").winBattle()}loseBattle(){game.scene.getScene("BattleScene").loseBattle()}addClient(t){return this.CLIENTS.push(t),globalEvents.emit("refreshClients"),this}addClients(t){for(let e of t)this.CLIENTS.push(e);return globalEvents.emit("refreshClients"),this}fuck(t,e){if(!1===e)return GAME.notify("Select a client!"),null;e.getBodyPart();return GAME.girl.getGirl(t).getStamina()<=0?(GAME.notify(t+" does not have enough stamina!"),null):this.isTrapped(t)?(GAME.notify(t+" is trapped!"),null):!1!==e.getGirl()&&this.isTrapped(e.getGirl().getID())?(GAME.notify("Client is busy fucking "+e.getGirl().getID()),null):(!1!==this.getClientByGirl(t)&&this.stopFuckingClient(this.getClientByGirl(t)),void e.fuck(t))}stopFuckingClient(t){t.stopFucking(),t.setAnimation("battleNullImage"),globalEvents.emit("stopFuckingClient",t)}getClientByGUID(t){return this.CLIENTS[this.CLIENTS.map((function(t){return t.GUID})).indexOf(t)]||!1}numActiveClients(){let t=0;for(let e of this.CLIENTS)!1===e.getFinished()&&(t+=1);return t}getActiveGirls(){let t=[];for(let e of this.GIRLS.girlArray)GAME.girl[e].getStamina()>0&&t.push(e);return t}getClientByGirl(t){let e=!1;for(let i of this.CLIENTS)!1!==i.getGirl()&&i.getGirl().getID()===t&&(e=i);return e}isTrapped(t){return!1!==this.GIRLS[t].Trapped}trapGirl(t,e){let i=this.GIRLS[t];this.isTrapped(t)&&this.removeTrap(t),i.Trapped=e,i.Trapped.start(this.getClientByGirl(t),null,(()=>{this.removeTrap(t)}))}getTrap(t){return!!this.isTrapped(t)&&this.GIRLS[t].Trapped}removeTrap(t){this.isTrapped(t)?(this.GIRLS[t].Trapped.remove(),this.GIRLS[t].Trapped=!1):this.GIRLS[t].Trapped=!1}isEffected(t){return!1!==this.GIRLS[t].Effect}effectGirl(t,e){let i=this.GIRLS[t];this.isEffected(t)&&this.removeEffect(t),i.Effect=e,i.Effect.start(this.getClientByGirl(t),null,(()=>{this.removeEffect(t)}))}getEffect(t){return!!this.isEffected(t)&&this.GIRLS[t].Effect}removeEffect(t){this.isEffected(t)?(this.GIRLS[t].Effect.remove(),this.GIRLS[t].Effect=!1):this.GIRLS[t].Effect=!1}isUltimating(t){return!1!==this.GIRLS[t].Ultimate}ultimateGirl(t){let e=this.GIRLS[t];this.isUltimating(t)&&this.removeUltimate(t),e.Ultimate=this.getUltimateEffect(t),e.Ultimate.start(this.getClientByGirl(t),null,(()=>{this.removeUltimate(t)}))}getUltimate(t){return!!this.isUltimating(t)&&this.GIRLS[t].Ultimate}getUltimateEffect(t){let e=!1;switch(t){case"Queen":e=new BattleEffectUltimateQueen;break;case"Suki":e=new BattleEffectUltimateSuki;break;case"Esxea":e=new BattleEffectUltimateEsxea;break;case"Scarlett":e=new BattleEffectUltimateScarlett;break;case"Ardura":e=new BattleEffectUltimateArdura;break;case"Natasha":e=new BattleEffectUltimateNatasha}return e}removeUltimate(t){this.isUltimating(t)?(this.GIRLS[t].Ultimate.remove(),this.GIRLS[t].Ultimate=!1):this.GIRLS[t].Ultimate=!1}useUltimate(t){let e=GAME.girl.getGirl(t);if(!1===this.isUltimating(t)&&e.getUltimate()>=100){if(!0===this.getUltimateEffect(t).needsClient){let i=this.getClientByGirl(t);!1!==i&&!1===i.getFinished()?(e.subtractUltimate(100),this.ultimateGirl(t)):GAME.notify("Select a client!")}else e.subtractUltimate(100),this.ultimateGirl(t)}else GAME.notify(t+"'s ultimate is not ready!")}}class BattleEffect{constructor(t,e,i,a){return this.battle=GAME.battle.currentBattle,this.id=t,this.name=e,this.description=i||"",this.thumbnail=a||"nullPixel",this.lengthMS=1e3,this.attackMS=1e3,this.effectText="",this.properties={tween:!1,attackTween:!1,tweenDuration:0,attackDuration:0},this}getName(){return this.name}setName(t){return this.name=t,this}getID(){return this.id}setID(t){return this.id=t,this}getEffectText(){return this.effectText}setEffectText(t){return this.effectText=t,this}setThumbnail(t){return this.thumbnail=t,this}getThumbnail(){return this.thumbnail}onStart(t){}onComplete(t){}onRepeat(t){}start(t,e,i){this.remove();let a=game.scene.getScene("BattleScene");this.properties.tween=a.tweens.add({targets:this.properties,tweenDuration:100,ease:"Linear",duration:this.lengthMS,onStart:e,onComplete:i,paused:!1}),this.properties.tween.on(Phaser.Tweens.Events.TWEEN_COMPLETE,(()=>{this.onComplete(t)})),this.properties.tween.on(Phaser.Tweens.Events.TWEEN_START,(()=>{this.onStart(t)})),this.properties.attackTween=a.tweens.add({targets:this.properties,attackDuration:100,ease:"Linear",duration:this.attackMS,repeat:-1,paused:!1}),this.properties.attackTween.on(Phaser.Tweens.Events.TWEEN_REPEAT,(()=>{this.onRepeat(t)}))}update(t,e){return t}remove(){!1!==this.properties.tween&&this.properties.tween.stop(),!1!==this.properties.attackTween&&this.properties.attackTween.stop()}getTweenDuration(){return this.properties.tweenDuration}getAttackTweenDuration(){return this.properties.attackDuration}}class BattleEffectTrap extends BattleEffect{constructor(t,e,i){return super("Trap","Trap",t+" is trapped and can not move.","trapIcon"),this.girlID=t,this.damageScale=e||0,this.trapUpdate&&(this.update=i),this}onRepeat(){this.battle.getClientByGirl(this.girlID)&&this.battle.getClientByGirl(this.girlID).fuck(this.girlID)}update(t,e){return t.damageScale=t.damageScale+this.damageScale,t}}class BattleEffectBreak extends BattleEffect{constructor(){return super("Break","Break","Girl has a chance to stop fucking the client","breakIcon"),this.attackMS=1e4,this.lengthMS=1e4,this}}class BattleEffectLactate extends BattleEffect{constructor(t,e){return super("Lactate","Lactate",t+" is lactating and losing extra stamina.","lactateIcon"),this.attackMS=1e4,this.lengthMS=e||1e4,this}update(t,e){return t.damageScale=t.damageScale+.5,t}}class BattleEffectMud extends BattleEffect{constructor(t){super("Mud","Mud","Mud slows down the client's cum meter.","nullPixel"),this.attackMS=1e4,this.mudStack=t||1,this.lengthMS=1e3*this.mudStack,this.setThumbnail("mudIcon"),this.mudStack<0&&(this.mudStack=1),this.mudStack>10&&(this.mudStack=10),this.effectText=this.mudStack.toString()}update(t,e){return t.cumTweenScale=t.cumTweenScale-this.mudStack/10,t}}class BattleEffectUltimateQueen extends BattleEffect{constructor(){super("UltimateQueen","Ultimate for Queen","Ultimate for Queen","nullPixel"),this.lengthMS=1e3,this.attackMS=1e3,this.needsClient=!1,this.onStart=()=>{for(let t of GAME.battle.currentBattle.GIRLS.girlArray)GAME.girl.getGirl(t).gainStamina(1,!1)}}}class BattleEffectUltimateSuki extends BattleEffect{constructor(){super("UltimateSuki","Ultimate for Suki","Ultimate for Suki","nullPixel"),this.lengthMS=1e4,this.attackMS=1e4,this.needsClient=!1,this.update=(t,e)=>(t.excitementTweenScale=t.excitementTweenScale-.3,t)}}class BattleEffectUltimateEsxea extends BattleEffect{constructor(){super("UltimateEsxea","Ultimate for Esxea","Ultimate for Esxea","nullPixel"),this.lengthMS=5e3,this.attackMS=5e3,this.needsClient=!1,this.update=(t,e)=>(t.damageScale=t.damageScale-2,t)}}class BattleEffectUltimateScarlett extends BattleEffect{constructor(){super("UltimateScarlett","Ultimate for Scarlett","Ultimate for Scarlett","nullPixel"),this.lengthMS=1e4,this.attackMS=1e4,this.needsClient=!1,this.update=(t,e)=>(t.cumTweenScale=t.cumTweenScale+.5,t)}}class BattleEffectUltimateArdura extends BattleEffect{constructor(){super("UltimateArdura","Ultimate for Ardura","Ultimate for Ardura","nullPixel"),this.lengthMS=1e4,this.attackMS=1e4,this.before=0,this.client="",this.needsClient=!0,this.onStart=t=>{this.before=t.getLevel(),this.client=t.GUID,t.setLevel(t.getLevel()-10)},this.onComplete=()=>{GAME.battle.currentBattle.getClientByGUID(this.client).setLevel(this.before)}}}class BattleEffectUltimateNatasha extends BattleEffect{constructor(){super("UltimateNatasha","Ultimate for Natasha","Ultimate for Natasha","nullPixel"),this.lengthMS=1e3,this.attackMS=1e3,this.needsClient=!1,this.onStart=()=>{for(let t of GAME.battle.currentBattle.GIRLS.girlArray)GAME.girl.getGirl(t).addUltimate(20)}}}class Boss{constructor(t,e,i){return this.id=t,this.name=e,this.condition=i,this.dialogue={Easy:!1,Normal:!1,Hard:!1},this.rewards={Easy:{Clothes:[]},Normal:{Clothes:[]},Hard:{Clothes:[]}},this}setID(t){return this.id=t,this}getID(){return this.id}setName(t){return this.name=t,this}getName(){return this.name}setCondition(t){return this.condition=t,this}getCondition(){return this.condition}isAvailable(){return"boolean"==typeof this.condition?this.condition:this.condition()}setDialogue(t,e){return this.dialogue[t]=e,this}getDialogue(t){return this.dialogue[t]}addClothesReward(t,e){return this.rewards[t].Clothes.push(e),this}getRewards(t){return this.rewards[t]}getTimesCompleted(t){return gameData.bosses[this.id][t]}}class BossManager{constructor(){this.Bosses={}}_initBosses(){this.add(new Boss("Boris","Boris",(function(){return GAME.quest.isComplete("hornyBoris","End")}))).setDialogue("Easy","hornyBorisBossEasy").addClothesReward("Easy","ForestQueen").addClothesReward("Easy","ForestSuki").addClothesReward("Easy","ForestEsxea").addClothesReward("Easy","ForestScarlett").addClothesReward("Easy","ForestArdura").addClothesReward("Easy","ForestNatasha"),this.add(new Boss("Goblins","Wild Goblins",(function(){return GAME.quest.isComplete("mushroomQuest")}))).setDialogue("Easy","mushroomQuestBossEasy").addClothesReward("Easy","MudQueen").addClothesReward("Easy","MudSuki").addClothesReward("Easy","MudEsxea").addClothesReward("Easy","MudScarlett").addClothesReward("Easy","MudArdura").addClothesReward("Easy","MudNatasha"),this.add(new Boss("KingOfAvia","King of Avia",(function(){return GAME.quest.isComplete("kingsQuest")}))).setDialogue("Easy","kingsQuestBossEasy").addClothesReward("Easy","PrincessQueen").addClothesReward("Easy","PrincessSuki").addClothesReward("Easy","PrincessEsxea").addClothesReward("Easy","PrincessScarlett").addClothesReward("Easy","PrincessArdura").addClothesReward("Easy","PrincessNatasha"),this.add(new Boss("Orcs","Orcs",(function(){return GAME.quest.isComplete("mountainTraining")}))).setDialogue("Easy","orcBossEasy").addClothesReward("Easy","OrcQueen").addClothesReward("Easy","OrcSuki").addClothesReward("Easy","OrcEsxea").addClothesReward("Easy","OrcScarlett").addClothesReward("Easy","OrcArdura").addClothesReward("Easy","OrcNatasha"),this.add(new Boss("Minotaurs","Minotaurs",(function(){return GAME.quest.isComplete("lilithQuest")}))).setDialogue("Easy","demonBossEasy").addClothesReward("Easy","DemonQueen").addClothesReward("Easy","DemonSuki").addClothesReward("Easy","DemonEsxea").addClothesReward("Easy","DemonScarlett").addClothesReward("Easy","DemonArdura").addClothesReward("Easy","DemonNatasha")}add(t){return!1===gameData.bosses.hasOwnProperty(t.id)&&(gameData.bosses[t.id]={Easy:0,Normal:0,Hard:0}),this.Bosses[t.id]=t,this.Bosses[t.id]}getBoss(t){return this.Bosses[t]}getAvailableBosses(){let t=[];for(let e in this.Bosses)this.Bosses[e].isAvailable()&&t.push(this.Bosses[e]);return t}incrementBossCompleted(t,e){!1===gameData.bosses.hasOwnProperty(t)&&(gameData.bosses[t]={}),!1===gameData.bosses[t].hasOwnProperty(e)&&(gameData.bosses[t][e]=0),gameData.bosses[t][e]+=1}giveRewards(t,e){let i=[],a=this.getBoss(t).getRewards(e);if(a.hasOwnProperty("Clothes")){let t=[...a.Clothes];for(let e=t.length-1;e>=0;e--){let i=GAME.clothes.getClothes(t[e]);!0!==i.isUnlocked()&&!1!==i.Girl.isUnlocked()||t.splice(e,1)}if(0!==t.length){let e=chance.pickone(t);i.push({clothesID:e,type:"Clothes"}),GAME.clothes.getClothes(e).unlock(),GAME.notify("Boss dropped "+GAME.clothes.getClothes(e).getName()+" clothes for "+GAME.clothes.getClothes(e).Girl.id)}}return GAME.boss.incrementBossCompleted(t,e),i}startBossBattle(t,e){return new Promise((i=>{let a=this.getBoss(t);!1!==a.getDialogue(e)?(gameData.bossToday=!0,GAME.dialogue.playDialogue(a.getDialogue(e)).then((t=>{i(t)}))):(console.error("Boss "+t+", difficulty "+e+", not found!"),i(!1))}))}}class SoundManager{constructor(){this.currentSound={girl:!1,body:!1,speed:!1,girlKey:!1,ballKey:!1,lubeKey:!1,unique:!1},this._sounds={}}_initSounds(){(()=>{this.addSound({Girl:"Queen",ID:"Queen-BJ-Medium-1",MaxVolume:.4,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Queen",ID:"Queen-BJ-Fast-1",MaxVolume:.4,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Queen",ID:"Queen-Moan-Medium-1",MaxVolume:.4,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Queen",ID:"Queen-Moan-Fast-1",MaxVolume:.4,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Queen",ID:"Queen-Throat-1",MaxVolume:1,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Throat-2",MaxVolume:1,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Throat-3",MaxVolume:1,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Throat-4",MaxVolume:1,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Throat-5",MaxVolume:1,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Tits-1",MaxVolume:1,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Tits-2",MaxVolume:1,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Tits-3",MaxVolume:1,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Tits-4",MaxVolume:1,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Tits-5",MaxVolume:1,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Pussy-1",MaxVolume:1,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Pussy-2",MaxVolume:1,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Pussy-3",MaxVolume:1,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Pussy-4",MaxVolume:1,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Pussy-5",MaxVolume:1,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Anal-1",MaxVolume:1,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Anal-2",MaxVolume:1,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Anal-3",MaxVolume:1,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Anal-4",MaxVolume:1,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Queen",ID:"Queen-Anal-5",MaxVolume:1,BodyParts:["Anal"],isUnique:!0})})(),this.addSound({Girl:"Suki",ID:"Suki-BJ-Medium-1",MaxVolume:.7,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Suki",ID:"Suki-BJ-Fast-1",MaxVolume:1,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Suki",ID:"Suki-Moan-Medium-1",MaxVolume:.7,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Suki",ID:"Suki-Moan-Fast-1",MaxVolume:1,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Suki",ID:"Suki-Throat-1",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Throat-2",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Throat-3",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Throat-4",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Throat-5",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Tits-1",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Tits-2",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Tits-3",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Tits-4",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Tits-5",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Pussy-1",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Pussy-2",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Pussy-3",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Pussy-4",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Pussy-5",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Anal-1",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Anal-2",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Anal-3",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Anal-4",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Suki",ID:"Suki-Anal-5",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-BJ-Medium-1",MaxVolume:.7,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Esxea",ID:"Esxea-BJ-Fast-1",MaxVolume:.7,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Esxea",ID:"Esxea-Moan-Medium-1",MaxVolume:.7,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Esxea",ID:"Esxea-Moan-Fast-1",MaxVolume:1,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Esxea",ID:"Esxea-Throat-1",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Throat-2",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Throat-3",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Throat-4",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Throat-5",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Tits-1",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Tits-2",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Tits-3",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Tits-4",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Tits-5",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Pussy-1",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Pussy-2",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Pussy-3",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Pussy-4",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Pussy-5",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Anal-1",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Anal-2",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Anal-3",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Anal-4",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Esxea",ID:"Esxea-Anal-5",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-BJ-Medium-1",MaxVolume:1,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Scarlett",ID:"Scarlett-BJ-Medium-2",MaxVolume:1,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Scarlett",ID:"Scarlett-BJ-Fast-1",MaxVolume:1,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Moan-Medium-1",MaxVolume:1,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Moan-Fast-1",MaxVolume:1,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Throat-1",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Throat-2",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Throat-3",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Throat-4",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Throat-5",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Tits-1",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Tits-2",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Tits-3",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Tits-4",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Tits-5",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Pussy-1",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Pussy-2",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Pussy-3",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Pussy-4",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Pussy-5",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Anal-1",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Anal-2",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Anal-3",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Anal-4",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Scarlett",ID:"Scarlett-Anal-5",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-BJ-Medium-1",MaxVolume:.2,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Ardura",ID:"Ardura-BJ-Fast-1",MaxVolume:.2,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Ardura",ID:"Ardura-Moan-Medium-1",MaxVolume:.2,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Ardura",ID:"Ardura-Moan-Fast-1",MaxVolume:.2,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Ardura",ID:"Ardura-Throat-1",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Throat-2",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Throat-3",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Throat-4",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Throat-5",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Tits-1",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Tits-2",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Tits-3",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Tits-4",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Tits-5",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Pussy-1",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Pussy-2",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Pussy-3",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Pussy-4",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Pussy-5",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Anal-1",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Anal-2",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Anal-3",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Anal-4",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Ardura",ID:"Ardura-Anal-5",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-BJ-Medium-1",MaxVolume:.4,BodyParts:["Throat"],Speed:"Medium"}),this.addSound({Girl:"Natasha",ID:"Natasha-BJ-Fast-1",MaxVolume:.4,BodyParts:["Throat"],Speed:"Fast"}),this.addSound({Girl:"Natasha",ID:"Natasha-Moan-Medium-1",MaxVolume:.4,BodyParts:["Pussy","Anal","Tits"],Speed:"Medium"}),this.addSound({Girl:"Natasha",ID:"Natasha-Moan-Fast-1",MaxVolume:.4,BodyParts:["Pussy","Anal","Tits"],Speed:"Fast"}),this.addSound({Girl:"Natasha",ID:"Natasha-Throat-1",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Throat-2",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Throat-3",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Throat-4",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Throat-5",MaxVolume:.4,BodyParts:["Throat"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Tits-1",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Tits-2",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Tits-3",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Tits-4",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Tits-5",MaxVolume:.4,BodyParts:["Tits"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Pussy-1",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Pussy-2",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Pussy-3",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Pussy-4",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Pussy-5",MaxVolume:.4,BodyParts:["Pussy"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Anal-1",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Anal-2",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Anal-3",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Anal-4",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0}),this.addSound({Girl:"Natasha",ID:"Natasha-Anal-5",MaxVolume:.4,BodyParts:["Anal"],isUnique:!0})}playSound(t,e,i){if(!1===t)this.removeLoops();else if(this.currentSound.girl!==t||this.currentSound.body!==e||this.currentSound.speed!==i){this.removeLoops();try{let a=GAME.sound.add("Lube-"+i);if(this.currentSound.lubeKey="Lube-"+i,a.play({loop:!0,volume:1,seek:chance.integer({min:0,max:Math.floor(a.duration)})}),"Pussy"===e||"Anal"===e){let t=GAME.sound.add("Ballslap-"+i);this.currentSound.ballKey="Ballslap-"+i,t.play({loop:!0,volume:1,seek:chance.integer({min:0,max:Math.floor(t.duration)})})}let n=this._sounds[t][i].filter((t=>t.BodyParts.includes(e)));if(n.length>0){let t=chance.pickone(n),e=GAME.sound.add(t.ID);this.currentSound.girlKey=t.ID,e.play({loop:!0,volume:t.MaxVolume,seek:chance.integer({min:0,max:Math.floor(e.duration)})})}}catch(a){console.warn("Sound does not exist",t,e,i)}this.currentSound.girl=t,this.currentSound.body=e,this.currentSound.speed=i}}removeLoops(){!1!==this.currentSound.girlKey&&(GAME.sound.stopByKey(this.currentSound.girlKey),GAME.sound.removeByKey(this.currentSound.girlKey)),!1!==this.currentSound.ballKey&&(GAME.sound.stopByKey(this.currentSound.ballKey),GAME.sound.removeByKey(this.currentSound.ballKey)),!1!==this.currentSound.lubeKey&&(GAME.sound.stopByKey(this.currentSound.lubeKey),GAME.sound.removeByKey(this.currentSound.lubeKey)),this.currentSound.girl=!1,this.currentSound.body=!1,this.currentSound.speed=!1,this.currentSound.girlKey=!1,this.currentSound.ballKey=!1,this.currentSound.lubeKey=!1}playUnique(t,e){if(!1===this.currentSound.unique&&this._sounds[t]&&this._sounds[t].Uniques[e].length>0){let i=chance.pickone(this._sounds[t].Uniques[e]),a=GAME.sound.add(i.ID);this.currentSound.unique=!0,a.on(Phaser.Sound.Events.STOP,(()=>{this.currentSound.unique=!1})),a.on(Phaser.Sound.Events.STOP_ALL,(()=>{this.currentSound.unique=!1})),a.on(Phaser.Sound.Events.COMPLETE,(()=>{this.currentSound.unique=!1})),a.play({loop:!1,volume:i.MaxVolume})}}getCurrentSound(){return this.currentSound}volume(t){GAME.sound.volume=t}stopAll(){GAME.sound.stopAll(),this.currentSound.girl=!1,this.currentSound.body=!1,this.currentSound.speed=!1,this.currentSound.girlKey=!1,this.currentSound.ballKey=!1,this.currentSound.lubeKey=!1,this.currentSound.unique=!1}addSound(t){if(!1===t.hasOwnProperty("isUnique")&&(t.isUnique=!1),!1===this._sounds.hasOwnProperty(t.Girl)&&(this._sounds[t.Girl]={Medium:[],Fast:[],Uniques:{Throat:[],Tits:[],Pussy:[],Anal:[]}}),!0===t.isUnique)for(let e of t.BodyParts)this._sounds[t.Girl].Uniques[e].push({ID:t.ID,MaxVolume:t.MaxVolume});else this._sounds[t.Girl][t.Speed].push({ID:t.ID,MaxVolume:t.MaxVolume,BodyParts:t.BodyParts})}}const VERSION="0.10.2",gameDebugging=!1,isLocal=!1,givenTo="originSource",apiVersions={1:["0.9.0","0.9.1","0.9.2","0.9.3","0.9.4","0.9.5","0.10.0","0.10.1","0.10.2","0.10.3"]};let packBlob,GAME,isOnline=!1;function updateAnalytics(t,e){t=t||"",e=e||"",fetch("https://queensbrothel.com/api/1/analytics/update",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t,value:e})}).then((()=>{})).catch((t=>{}))}fetch("https://queensbrothel.com").then((()=>{isOnline=!0})).catch((t=>{isOnline=!1})),Phaser.Scenes.SceneManager.prototype.pauseAllScenes=function(t){var e=this.getScene(t);e.data.set("pausedScenes",[]),e.data.set("pausedDoms",[]);var i=e.sys;for(var a in e.scene.manager.scenes)e.scene.manager.scenes[a].sys.isActive()&&e.scene.manager.scenes[a].sys.settings.key!==t&&"HUD"!==e.scene.manager.scenes[a].sys.settings.key&&"DialogueScene"!==e.scene.manager.scenes[a].sys.settings.key&&(e.data.get("pausedScenes").push(e.scene.manager.scenes[a].sys.settings.key),e.scene.manager.scenes[a].sys.pause());$(game.domContainer).children().each((t=>{e.data.get("pausedDoms").push($(game.domContainer).children(t)),$(game.domContainer).children(t).addClass("d-none")})),i.events.once("shutdown",(()=>{if(e.data.has("pausedScenes")){let i=e.data.pop("pausedScenes");for(var t in i)this.getScene(i[t]).sys.resume()}if(e.data.has("pausedDoms")){let i=e.data.pop("pausedDoms");for(var t in i)i[t].removeClass("d-none")}}))},Phaser.GameObjects.Group.prototype.setVisible=function(t){this.forEach((e=>{e.setVisible(t)}))},Phaser.GameObjects.Group.prototype.forEach=function(t){this.children.iterate(t)},Phaser.GameObjects.Group.prototype.getByName=function(t){let e=this.getChildren();for(let i=0;i<e.length;i++)if(e[i].name===t)return e[i]},Phaser.GameObjects.Group.prototype.getByObj=function(t,e){let i=this.getChildren();for(let a=0;a<i.length;a++)if(i[a].hasOwnProperty(t)&&i[a][t]===e)return i[a]},Phaser.GameObjects.Group.prototype.fadeOut=function(){return new Promise((t=>{for(let t of this.getChildren())t.setAlpha(1),t.disableInteractive();this.scene.tweens.add({targets:this.getChildren(),alpha:0,ease:"Sine.easeOut",duration:300,onComplete:t})}))},Phaser.GameObjects.Group.prototype.fadeIn=function(){return new Promise((t=>{for(let t of this.getChildren())t.setAlpha(0);this.scene.tweens.add({targets:this.getChildren(),alpha:1,ease:"Sine.easeIn",duration:300,onComplete:t})}))},Phaser.GameObjects.Container.prototype.button=function(t,e,i){return(i=i||!1)?this.setInteractive({hitArea:i,hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}):this.setInteractive({hitArea:t.getBounds(),hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}),this.originalScale=this.scaleX,e=e||this.originalScale-.05,this.on("pointerover",(()=>{this.scene.tweens.add({targets:this,scaleX:e,scaleY:e,ease:"Back.easeOut",duration:500})})),this.on("pointerout",(()=>{this.scene.tweens.add({targets:this,scaleX:this.originalScale,scaleY:this.originalScale,ease:"Back.easeOut",duration:500})})),this},Phaser.GameObjects.GameObject.prototype.button=function(t,e){return e=e||!1,this.setInteractive({useHandCursor:!0,pixelPerfect:e}),this.originalScale=this.scaleX,t=t||this.originalScale-.05,this.on("pointerover",(()=>{this.scene.tweens.add({targets:this,scaleX:t,scaleY:t,ease:"Back.easeOut",duration:500})})),this.on("pointerout",(()=>{this.scene.tweens.add({targets:this,scaleX:this.originalScale,scaleY:this.originalScale,ease:"Back.easeOut",duration:500})})),this},Phaser.GameObjects.GameObjectFactory.prototype.textButton=function(t,e,i,a){return this.scene.add.dom(t,e,$("<div>",{class:"btn btn-lg "+(a||"btn-success")}).html(i).get(0))},updateAnalytics("connect"),window.onerror=function(t,e,i,a){updateAnalytics("error",{message:t,source:e,lineno:i,colno:a})};let globalEvents=new Phaser.Events.EventEmitter;globalEvents.on("completeQuest",(t=>{updateAnalytics("completeQuest",t)}));const GAME_X=1920,GAME_Y=1080;let gameInfo,gameData,DAILIES=[],lastNotifications=[],setDifficulty="Easy",skills=["Throat","Tits","Pussy","Anal"],MAX_LEVEL=50,LEVELS=[0,0,86,185,299,431,582,756,955,1185,1448,1750,2098,2496,2954,3480,4084,4777,5572,6486,7535,8740,10124,11713,13537,15632,18039,20802,23975,27620,31806,36613,42135,48476,55760,64125,73734,84771,97447,112007,128732,147942,170007,195352,224464,257904,296316,340437,391118,449333,516204,593016,681249,782600,899020,1032750,1186364,1362818,1565509,1798337,2065785,2373e3,2725895,3131263,3596907,4131789,4746206,5451982,6262705,7193978,8263728,9492545,10904083,12525513,14388043,16527527,18985146,21808206,25051047,28776092,33055042,37970262,43616364,50102030,57552100,66109982,75940403,87232589,100203901,115104023,132219766,151880588,174464939,200407543,230207767,264439231,303760855,348929536,400814723,460415148],MODS={},MOD_LIST=[],modAssets=[],renderers=["AUTO","WebGL","Canvas"],renderer=Phaser.CANVAS,isIncognito=!1;try{if(null!==localStorage.getItem("renderer3")){let t=localStorage.getItem("renderer3");renderer="AUTO"===t?Phaser.AUTO:"WebGL"===t?Phaser.WEBGL:"Canvas"===t?Phaser.CANVAS:Phaser.AUTO}else localStorage.setItem("renderer3","Canvas"),renderer=Phaser.CANVAS}catch(t){renderer=Phaser.CANVAS,isIncognito=!0}let config={type:renderer,parent:"QueensBrothelWindow",width:1920,height:1080,backgroundColor:"#000000",dom:{createContainer:!0},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:1920,height:1080},callbacks:{postBoot:function(t){t.scene.add("Boot",Boot,!0),t.scene.add("MainMenu",MainMenu),t.scene.add("ModMenu",ModMenu),t.scene.add("SaveSelect",SaveSelect),t.scene.add("Credits",Credits),t.scene.add("Gameplay",Gameplay),t.scene.add("HUD",HUD),t.scene.add("Menu",MenuManager),t.scene.add("popUpBoard",popUpBoard),t.scene.add("Notification",Notification),t.scene.add("QuestLog",QuestLog),t.scene.add("QuestLogContainer",QuestLogContainer),t.scene.add("ClientScene",ClientScene),t.scene.add("GirlContainer",GirlContainer),t.scene.add("ViewImage",ViewImage),t.scene.add("ClothesContainer",ClothesContainer),t.scene.add("ClothesStyles",ClothesStyles),t.scene.add("Gallery",Gallery),t.scene.add("PlayVideo",PlayVideo),t.scene.add("BossMenu",BossMenu),t.scene.add("BattleScene",BattleScene),t.scene.add("DialogueScene",DialogueScene),t.scene.add("Debug",Debug),t.scene.add("PaperPopUp",PaperPopUp),t.scene.add("PatreonPopUp",PatreonPopUp);for(let e in t.scene.scenes)t.scene.scenes[e].load.on(Phaser.Loader.Events.FILE_LOAD_ERROR,(t=>{updateAnalytics("error",{message:t.src})}));Gameplay.prototype.quest=new QuestManager,Gameplay.prototype.dialogue=new DialogueManager,Gameplay.prototype.girl=new GirlManager,Gameplay.prototype.map=new MapManager,Gameplay.prototype.clothes=new ClothesManager,Gameplay.prototype.animation=new AnimationManager,Gameplay.prototype.battle=new BattleManager,Gameplay.prototype.boss=new BossManager,Gameplay.prototype.QBsound=new SoundManager,Gameplay.prototype.popUpBoard=Gameplay.prototype.dialogue.popUpBoard,Gameplay.prototype.menu=t.scene.getScene("Menu"),GAME=t.scene.getScene("Gameplay"),globalEvents.emit("postBoot"),console.log("%c %c %c Queen's Brothel 0.10.2 %c %c %c https://queensbrothel.com/","background: #BB33FF","background: #C44DFF","background: #CC66FF; color: #FFFFFF;","background: #C44DFF","background: #BB33FF","background:#FFF;color:#000"),console.log("Interested in modding? Visit https://queensbrothel.com/tools")}}},game=new Phaser.Game(config);function saveScreenshot(){game.renderer.snapshot((t=>{let e=dataURItoBlob(t.src);saveAs(e,"screenshot.png")}))}function dataURItoBlob(t){for(var e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(e.length),n=new Uint8Array(a),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return new Blob([a],{type:i})}function toggleFullscreen(){game.scale.fullscreenTarget=document.getElementById("QueensBrothelWindow"),game.scale.isFullscreen?game.scale.stopFullscreen():game.scale.startFullscreen()}function toggleSound(){game.sound.setMute(!game.sound.mute)}let createNewGame=function(t){return new Promise((e=>{let i=game.cache.json.get("gameInfoJSON");isIncognito?gameData=i:(localStorage.setItem("saveFile"+t,JSON.stringify(i)),gameData=JSON.parse(localStorage.getItem("saveFile"+t))),gameData.saveFile=t,e()}))};function saveSaveFile(t){t=t||!1,isIncognito?console.log(gameData):localStorage.setItem("saveFile"+gameData.saveFile,JSON.stringify(gameData)),!0!==t&&GAME.save()}let loadSave=function(t){return new Promise((function(e){isIncognito||(gameData=JSON.parse(localStorage.getItem("saveFile"+t))),!0===gameData.newGame?createNewGame(t).then(e):(gameData.saveFile=t,e())}))};class Boot{preload(){function t(t,e){if(0==t)return"0 Bytes";var i=e||2,a=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,a)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}this.loadingText=this.add.text(960,490,"Downloading Assets...",{fill:"#FFFFFF",font:"50px Arial"}),this.loadingText.setOrigin(.5),this.sizeText=this.add.text(960,610,"",{fill:"#FFFFFF",font:"32px Arial"}).setOrigin(.5),this.loadingBar=this.add.graphics(),this.sizeBar=this.add.graphics(),this.load.on("fileprogress",((e,i)=>{this.sizeText.setText(t(e.bytesLoaded,1)+" / "+t(e.bytesTotal)),this.sizeBar.clear(),this.sizeBar.fillStyle(16777215,1),this.sizeBar.lineStyle(4,16777215,1),this.sizeBar.strokeRect(480,640,960,20),this.sizeBar.fillRect(480,640,Math.floor(e.bytesLoaded/e.bytesTotal*100)/100*960,20)})),this.load.on("progress",(t=>{this.loadingBar.clear(),this.loadingBar.fillStyle(16777215,1),this.loadingBar.lineStyle(4,16777215,1),this.loadingBar.strokeRect(480,540,960,30),this.loadingBar.fillRect(480,540,Math.floor(100*t)/100*960,30),this.loadingBar.clear(),this.loadingBar.fillStyle(16777215,1),this.loadingBar.lineStyle(4,16777215,1),this.loadingBar.strokeRect(480,540,960,30),this.loadingBar.fillRect(480,540,Math.floor(this.load.totalComplete/this.load.totalToLoad*100)/100*960,30),this.loadingText.setText("Loading Assets "+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.loadedJson=!1,this.load.on("complete",(()=>{if(!1===this.loadedJson){let t=this.cache.json.get("loadpackjson");packBlob=URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),this.cache.json.remove("loadpackjson"),this.load.pack("loadpack",packBlob,"boot"),this.loadedJson=!0,this.load.start()}else this.loadingBar.destroy(),this.sizeBar.destroy(),this.loadingText.setText(""),this.sizeText.setText(""),this.startMainMenu()})),this.load.json("loadpackjson","json/loadpack.json")}startMainMenu(){try{try{$.getScript("https://use.fontawesome.com/releases/v5.15.0/js/all.js").done((function(t,e){console.log("Loaded FontAwesome")})).fail((function(t,e,i){console.warn("Failed to load FontAwesome")}))}catch(t){}updateAnalytics("referrer",document.referrer),updateAnalytics("givenTo",givenTo),gameInfo=this.cache.json.get("gameInfoJSON");for(let t=1;t<=3;t++)if(isIncognito)createNewGame(t.toString()).then((()=>{console.log("Created new game in slot "+t)}));else{let e=JSON.parse(localStorage.getItem("saveFile"+t.toString()));null===e&&createNewGame(t.toString()).then((()=>{console.log("Created new game in slot "+t)})),null!==e&&e.hasOwnProperty("character")&&createNewGame(t.toString()).then((()=>{console.log("Created new game in slot "+t)}))}this.scene.stop("Boot"),this.scene.start("MainMenu")}catch(t){this.loadingText.setText(t.message)}}getModsFromLocalDirectory(){return new Promise((t=>{let e=ipcRenderer.sendSync("getMods");if(e.length>0){let i=0;for(let a of e){(new JSZip).loadAsync(a).then((a=>{a.file("config.json").async("text").then((n=>{let s=JSON.parse(n);a.generateAsync({type:"blob"}).then((a=>{i++;let n={online:!1,enabled:!0,id:s.id,create_date:Date.now(),change_date:Date.now(),name:s.name||s.id+"-Name",short_description:s.short_description||s.description||"",long_description:s.long_description||s.description||"",dependencies:s.dependencies||[],author:s.author||{name:"NO AUTHOR NAME",url:"https://queensbrothel.com/"},type:s.type||"community",version:s.version||"1.0",api:s.api||"1",script:s.script,zip:URL.createObjectURL(a),thumbnails:s.thumbnails||[]},r=MOD_LIST.findIndex((t=>t.id===s.id));-1!==r&&MOD_LIST.splice(r,1),Phaser.Utils.Array.AddAt(MOD_LIST,n,0),i===e.length&&t()}))}))}))}}else t()}))}}class MainMenu{preload(){this.menu=this.add.group()}create(){this.cameras.main.fadeIn(500),this.scene.sendToBack(),this.add.image(0,0,"MainMenu").setOrigin(0),game.cache.json.get("version")&&!0===this.textures.exists("banner")&&this.add.image(141,199,"banner").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{updateAnalytics("marketing","banner"),window.open(game.cache.json.get("version").banner_url)})),this.add.image(20,990,"twitterlogo").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{updateAnalytics("marketing","twitterlogo"),window.open("https://twitter.com/queens_brothel")})),this.add.image(160,990,"discordlogo").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{updateAnalytics("marketing","discordlogo"),window.open("https://discord.gg/hymT8HG")})),this.add.image(354,361,"patchNotes").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{updateAnalytics("marketing","patchnotes"),window.open("https://queensbrothel.com/docs")})),this.add.image(141,361,"credits").setOrigin(0,0).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{updateAnalytics("marketing","credits"),this.openCredits()})),this.add.image(602,361,"patreonNews").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",(()=>{updateAnalytics("marketing","patreonlogo"),window.open("https://patreon.com/dpmaker")})),this.add.image(1910,10,"fullScreen").setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerdown",(function(){toggleFullscreen()}));let t=this.add.sprite(1810,10,"sound").setOrigin(1,0).button().on("pointerup",(()=>{toggleSound(),!0===game.sound.mute?t.setFrame(0):t.setFrame(1)}));this.startMenu()}startMenu(){if(this.menu.destroy(!0,!0),this.add.image(0,550,"menuMods").setOrigin(0).setInteractive({useHandCursor:!0,pixelPerfect:!0}).on("pointerover",(function(){this.setFrame(1)})).on("pointerout",(function(){this.setFrame(0)})).on("pointerup",(()=>{updateAnalytics("marketing","mods"),this.modMenu()})),this.add.image(1032,740,"menuBook").setOrigin(.5,0).setInteractive({useHandCursor:!0,pixelPerfect:!0}).on("pointerover",(function(){this.setFrame(1)})).on("pointerout",(function(){this.setFrame(0)})).on("pointerup",(()=>{this.saveSelect()})),isIncognito){let t=this.add.bitmapText(960,30,"crimsonred","DO NOT PLAY THE GAME IN INCOGNITO MODE YOU WILL NOT BE ABLE TO SAVE!!!",48).setOrigin(.5);this.menu.add(t)}}selectSave(t){return new Promise((e=>{t=t||"";let i=t=>{this.menu.fadeOut().then((()=>{this.menu.destroy(!0,!0),e(t)}))};this.menu.destroy(!0,!0),this.menu.create(400,232,"exitButton").button().on("pointerup",(()=>{i(!1)})),this.menu.add(this.add.bitmapText(960,130,"crimson",t,72,1).setOrigin(.5));let a=310;for(let t=1;t<=3;t++){let e,n=this.add.image(0,0,"saveFileBox").setName(t),s=this.add.container(960,a).button(n).on("pointerup",(()=>{i(n.name)}));s.add(n),e=isIncognito?gameData:JSON.parse(localStorage.getItem("saveFile"+t.toString()));let r=this.add.bitmapText(0,0,"crimsonblack","New Game",56);if(!0===e.newGame)Phaser.Display.Align.In.Center(r,n);else{Phaser.Display.Align.In.TopLeft(r,n,-5,-5),r.setText("Gold: "+e.gold.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"\nDay: "+Math.floor(e.day/30%12+1)+"/"+e.day%30+"/"+Math.floor(e.day/30/12+1));let t=null;for(let i of GAME.girl.getGirls())if(e.girl.hasOwnProperty(i)&&!0===e.girl[i].Unlocked&&!1===e.newGame){let e=this.add.image(0,0,i+"Avatar").setScale(.6);s.add(e),null===t?(Phaser.Display.Align.In.BottomLeft(e,n,-20,10),t=e):(Phaser.Display.Align.To.RightBottom(e,t,-40),t=e)}}s.add(r),this.menu.add(s),a+=250}this.menu.fadeIn()}))}importSave(){this.menu.destroy(!0,!0),this.menu.create(400,232,"exitButton").button().on("pointerup",(()=>{this.menu.fadeOut().then((()=>{this.startMenu()})),n.destroy()}));let t=$("<div>",{class:"justify-content-center text-center"}).css("width","700px").css("height","300px"),e=$("<textarea class='form-control' style='resize: none;'>").attr("rows",15).attr("cols",30).attr("placeholder","Paste your save file code here and then click submit!");t.append(e);let i=$("<div>",{class:"btn btn-lg btn-block btn-success my-2"}).html("Submit").on("click",(()=>{try{let t=JSON.parse(e.val().replace(/(\r\n|\n|\r)/gm,""));!0!==t.newGame&&localStorage.setItem("saveFile"+t.saveFile,JSON.stringify(t))}catch(t){console.error(t)}this.menu.fadeOut().then((()=>{this.startMenu()})),n.destroy()}));t.append(i);let a=$("<div>",{class:"btn btn-lg btn-block btn-primary my-2"}).html("Paste").on("click",(()=>{try{navigator.clipboard.readText().then((t=>e.val(t)))}catch(t){alert("Error pasting. Please paste manually.")}}));t.append(a);let n=this.add.dom(960,560,t.get(0)).setOrigin(.5);this.menu.fadeIn()}exportSave(){this.menu.destroy(!0,!0),this.selectSave("Export Save").then((t=>{if(!1===t)this.startMenu();else{this.menu.create(400,232,"exitButton").button().on("pointerup",(()=>{this.menu.fadeOut().then((()=>{this.startMenu()})),n.destroy()}));let e=$("<div>",{class:"justify-content-center text-center bg-light"}).css("width","700px").css("height","300px"),i=$("<textarea class='form-control' style='resize: none;'>").attr("rows",15).attr("cols",30);i.val(localStorage.getItem("saveFile"+t)),e.append(i);let a=$("<div>",{class:"btn btn-lg btn-block btn-success my-2"}).html("Copy to Clipboard").on("click",(()=>{i.select(),document.execCommand("copy")}));e.append(a);let n=this.add.dom(960,560,e.get(0)).setOrigin(.5);this.menu.fadeIn()}}))}modMenu(){game.scene.start("ModMenu",{pauseAllScenes:!0}),game.scene.getScene("ModMenu").events.once("shutdown",(()=>{}))}saveSelect(){game.scene.start("SaveSelect",{pauseAllScenes:!0}),game.scene.getScene("SaveSelect").events.once("shutdown",((t,e)=>{e&&loadSave(e).then((()=>{this.startGame()}))}))}openCredits(){game.scene.start("Credits",{pauseAllScenes:!0}),game.scene.getScene("Credits").events.once("shutdown",((t,e)=>{}))}startMods(){return new Promise((t=>{let e=!1,i=!1,a=this.add.graphics(),n=this.add.bitmapText(960,540,"crimson","Loading...",42,1).setOrigin(.5),s=t=>{a.clear(),a.fillStyle(16777215,1),a.lineStyle(4,16777215,1),a.strokeRect(500,600,900,50),a.fillRect(500,600,Math.floor(100*t)/100*900,50),n.setText("Loading assets...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)},r=(t,i)=>{n.setText("Mods loaded\n"+t+" / "+i),t===i&&(e=!0,this.load.start())},o=(t,e)=>{n.setText("Mod assets loaded\n"+t+" / "+e),t===e&&(i=!0,this.load.start())},l=0,h=0,u=()=>{if(!1===e&&!1===i)for(let t in MOD_LIST){let e=MOD_LIST[t];if(!0===e.enabled){let i=new JSZip,a=0,s=0;h+=1,i.loadAsync(this.cache.binary.get(e.id+"binary")).then((i=>{MOD_LIST[t].JSZip=i,i.file("config.json").async("text").then((t=>{s+=1;let o=JSON.parse(t);i.file(o.script).async("blob").then((t=>{if(a+=1,!0==(i=a,o=s,n.setText("Extracting mods...\n"+i+" / "+o),i===o)){l+=1;let i=URL.createObjectURL(t);this.load.script(e.id+"script",i),r(l,h)}var i,o}))}))}))}}else if(!0===e&&!1===i)if(l=0,h=Object.keys(MODS).length,h<=0)o(0,0);else for(let t in MODS){let e=MODS[t],i=0,a=e.assets.length,s=!MOD_LIST.some((t=>t.id===e.id));if(0===a)l+=1,o(l,h);else if(s){for(let t of e.assets)this.load.image(t.key,t.location);l+=1,o(l,h)}else{let t=MOD_LIST[MOD_LIST.findIndex((t=>t.id===e.id))];for(let s of e.assets)t.JSZip.file(s.location).async("blob").then((t=>{let e=URL.createObjectURL(t);var r,u;this.load.image(s.key,e),i+=1,!0==(r=i,u=a,n.setText("Extracting mod assets...\n"+r+" / "+u),r===u)&&(l+=1,o(l,h))}))}}else!0===e&&!0===i&&(n.destroy(),a.destroy(),this.load.off("progress",s),this.load.off("complete",u),t())};this.load.on("progress",s),this.load.on("complete",u);let c=MOD_LIST.filter((t=>!0===t.enabled));if(0!==c.length){for(let t of c)this.load.binary(t.id+"binary",t.zip);this.load.start()}else e=!0,u()}))}startGame(){this.add.image(0,0,"nullImage").setOrigin(0),this.input.enabled=!1;let t=new Phaser.Curves.Path(1060,840).circleTo(100),e=this.add.particles("RedParticle").createEmitter({scale:{start:.5,end:0},blendMode:"ADD",emitZone:{type:"edge",source:t,quantity:48,yoyo:!1}});this.startMods().then((()=>{GAME.updateGame().then((()=>{game.textures.remove("QueenAvatar"),game.textures.remove("SukiAvatar"),game.textures.remove("EsxeaAvatar"),game.textures.remove("ScarlettAvatar");let t=this.add.graphics(),i=this.add.bitmapText(960,540,"crimson","Loading...",56,1).setOrigin(.5);this.load.on("progress",(e=>{t.clear(),t.fillStyle(16777215,1),t.lineStyle(4,16777215,1),t.strokeRect(500,600,900,50),t.fillRect(500,600,Math.floor(100*e)/100*900,50),i.setText("Loading assets...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.load.on("complete",(()=>{e.stop(),i.destroy(),t.destroy(),this.scene.stop(),this.scene.start("Gameplay")})),this.load.pack("loadmaps",packBlob,"maps"),this.load.pack("loadgameplay",packBlob,"gameplay"),this.load.pack("loaddialogue",packBlob,"dialogue"),this.load.pack("loadcharacters",packBlob,"characters"),this.load.pack("loadlayers",packBlob,"layers"),this.load.pack("loadstyles",packBlob,"styles"),this.load.pack("loadquestimage",packBlob,"questImages"),this.load.start()})).catch((t=>{e.stop(),this.add.bitmapText(960,540,"crimson","There was an error\nPlease try reloading or download the latest version",56,1).setOrigin(.5),this.add.bitmapText(960,640,"crimson",t,32,1).setOrigin(.5)}))}))}}class SaveSelect{create(){this.menu=this.add.container(),this.background=this.add.image(0,1180,"Paper").setOrigin(0),this.menu.add(this.background),this.dom,this.openMenu()}closeMenu(t){this.tweens.add({targets:this.menu,y:1180,ease:"Sine.easeOut",duration:400,onComplete:()=>{this.scene.stop()}})}openMenu(){this.tweens.add({targets:this.background,y:-100,ease:"Sine.easeOut",duration:500,onComplete:()=>{this.menu.add(this.add.bitmapText(960,30,"crimsonbrown","Menu",64,1).setOrigin(.5)),this.menu.add(this.add.bitmapText(250,35,"crimsonbrown",(()=>{let t="Version 0.10.2 Alpha";return game.cache.json.get("version")&&(t=t+"\nLatest Version: "+game.cache.json.get("version").versionPatreon),t})(),32).setOrigin(.5).setInteractive().on("pointerdown",(()=>{window.open("https://patreon.com/dpmaker/")})));let t=$("<div>",{class:"btn btn-lg btn-danger"}).html("Exit").on("click",(()=>{this.closeMenu()}));this.menu.add(this.add.dom(195,1010,t.get(0)).setScale(1.5));let e=$("<div>",{class:"btn btn-lg btn-primary"}).html("Import Save").on("click",(()=>{this.importSaves()}));this.menu.add(this.add.dom(1680,1010,e.get(0)).setScale(1.5)),this.displaySaves()}})}displaySaves(){this.dom&&this.dom.destroy();let t=$("<div>",{class:"container-fluid"}).css("width","1140px").css("height","850px"),e=$("<div>",{class:"row"});t.append(e);for(let t=1;t<=3;t++){let i;i=isIncognito?gameData:JSON.parse(localStorage.getItem("saveFile"+t.toString()));let a=$("<div>",{class:"col-12 mt-4"});e.append(a);let n=$("<div>",{class:""});a.append(n);let s=$("<div>",{class:"card-body"});n.append(s);let r=$("<h1>",{class:"card-title"}).text("Save File "+t+" ");s.append(r);for(let t of GAME.girl.getGirls())i.girl.hasOwnProperty(t)&&!0===i.girl[t].Unlocked&&!1===i.newGame&&r.append($(this.textures.get(t+"Avatar").getSourceImage(),{class:"img-fluid mx-1"}).css("height","67.5px"));let o=$("<div>",{class:"btn btn-lg btn-outline-danger float-right"}).html("X").click((()=>{!0===confirm("Are you sure you want to delete this save file?")&&createNewGame(t).then((()=>{this.displaySaves()}))}));r.append(o);let l=$("<div>",{class:"btn btn-lg btn-outline-primary mx-2 float-right"}).html("Export").click((()=>{this.exportSave(t)}));r.append(l);let h="<hr>";!0===i.newGame?h+="<p style='font-size:160%'>New Game</p>":h=h+"<p style='font-size:160%'>Gold: "+i.gold.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+", Day: "+Math.floor(i.day/30%12+1)+"/"+i.day%30+"/"+Math.floor(i.day/30/12+1)+"</p>";let u=$("<div>",{class:"card-text"}).html(h);s.append(u);let c=$("<div>",{class:"btn btn-lg btn-outline-success w-100"}).html("Play").click((()=>{game.scene.stop("SaveSelect",t)}));s.append(c)}this.dom=this.add.dom(406,80,t.get(0)).setOrigin(0),this.menu.add(this.dom)}importSaves(){this.dom&&this.dom.destroy();let t=$("<div>",{class:"container-fluid text-center"}).css("width","1140px").css("height","850px"),e=$("<div>",{class:"btn btn-lg btn-danger float-left mb-2"}).html("Back").click((()=>{this.displaySaves()}));t.append(e);let i=$("<h3>").text("Paste your save file and click 'Submit'");t.append(i);let a=$("<textarea class='form-control' style='resize: none;'>").attr("rows",15).attr("cols",30);t.append(a);let n=$("<div>",{class:"btn btn-lg btn-block btn-success my-2"}).html("Submit").on("click",(()=>{try{let t=JSON.parse(a.val().replace(/(\r\n|\n|\r)/gm,""));!0!==t.newGame&&localStorage.setItem("saveFile"+t.saveFile,JSON.stringify(t))}catch(t){console.error(t)}this.displaySaves()}));t.append(n),this.dom=this.add.dom(406,400,t.get(0)).setOrigin(0),this.menu.add(this.dom)}exportSave(t){this.dom&&this.dom.destroy();let e=$("<div>",{class:"container-fluid text-center"}).css("width","1140px").css("height","850px"),i=$("<div>",{class:"btn btn-lg btn-danger float-left mb-2"}).html("Back").click((()=>{this.displaySaves()}));e.append(i);let a=$("<h3>").text("Copy your save file below!");e.append(a);let n=$("<textarea class='form-control' style='resize: none;'>").attr("rows",15).attr("cols",30);n.val(localStorage.getItem("saveFile"+t)),e.append(n),this.dom=this.add.dom(406,400,e.get(0)).setOrigin(0),this.menu.add(this.dom)}}class ModMenu{create(){this.menu=this.add.container(),this.background=this.add.image(0,1180,"Paper").setOrigin(0),this.menu.add(this.background),this.dom,this.selectedMod=!1,this.openMenu()}closeMenu(){this.tweens.add({targets:this.menu,y:1180,ease:"Sine.easeOut",duration:400,onComplete:()=>{this.scene.stop()}})}openMenu(){this.tweens.add({targets:this.background,y:-100,ease:"Sine.easeOut",duration:500,onComplete:()=>{this.menu.add(this.add.bitmapText(960,30,"crimsonbrown","Mods",64,1).setOrigin(.5));let t=$("<div>",{class:"container-fluid"}).css("width","1280px"),e=$("<div>",{class:"row"});t.append(e);let i=$("<div>",{class:"col"});e.append(i);let a=$("<div>",{class:"btn btn-lg btn-danger"}).html("Exit").on("click",(()=>{this.closeMenu()}));i.append(a);let n=$("<div>",{class:"col"});e.append(n);let s=$("<div>",{class:"form-group justify-content-center text-center"});n.append(s);let r=$("<label>").attr("for","uploadFileButton").html("Upload a mod");s.append(r);let o=$("<input>",{class:"form-control-file",id:"uploadFileButton"}).attr("type","file").attr("multiple","multiple").attr("accept",".zip").css("width","500px");s.append(o),o.on("change",this.uploadMod);let l=$("<div>",{class:"col"});e.append(l);let h=$("<div>",{class:"btn btn-lg btn-secondary float-right"}).html("Change Mod Order").on("click",(()=>{h.isOnModOrder?(this.displayMods(!0),h.html("Change Mod Order")):(this.openModOrder(),h.html("Show Mods")),h.isOnModOrder=!h.isOnModOrder}));h.isOnModOrder=!1,l.append(h);let u=this.add.dom(120,980,t.get(0)).setOrigin(0).setScale(1.333);this.menu.add(u),this.loadMods(!0).then((()=>{this.displayMods(!0)}))}})}openModOrder(){function t(){n.empty();for(let t of MOD_LIST.filter((t=>!0===t.enabled))){let e=$("<button>",{class:"list-group-item list-group-item-action display-4"}).html(t.name).on("click",(()=>{game.scene.getScene("ModMenu").selectedMod=t,n.find("button").each((function(){$(this).removeClass("active"),$(this).html()===game.scene.getScene("ModMenu").selectedMod.name&&$(this).addClass("active")}))}));game.scene.getScene("ModMenu").selectedMod&&t.name===game.scene.getScene("ModMenu").selectedMod.name&&e.addClass("active"),n.append(e)}}this.dom&&this.dom.destroy();let e=$("<div>",{class:"container-fluid"}).css("width","1640px").css("height","850px"),i=$("<div>",{class:"row"});e.append(i);let a=$("<div>",{class:"col"}).css("height","750px").css("overflow-y","auto");i.append(a);let n=$("<div>",{class:"list-group"});a.append(n),t();let s=$("<div>",{class:"row text-center justify-content-center"});e.append(s);let r=$("<div>",{class:"btn btn-lg btn-danger mx-4"}).html("Move Down").on("click",(()=>{this.selectedMod&&(Phaser.Utils.Array.MoveUp(MOD_LIST,this.selectedMod),t())}));s.append(r);let o=$("<div>",{class:"btn btn-lg btn-success mx-4"}).html("Move Up").on("click",(()=>{this.selectedMod&&(Phaser.Utils.Array.MoveDown(MOD_LIST,this.selectedMod),t())}));s.append(o),this.dom=this.add.dom(960,80,e.get(0)).setOrigin(.5,0),this.menu.add(this.dom)}loadMods(t){return new Promise((e=>{this.dom&&!0===t&&this.dom.destroy(),fetch("https://queensbrothel.com/api/1/mods").then((t=>{t.json().then((t=>{for(let e of t.mods){if(MOD_LIST.some((t=>t.id===e.id))){let t=MOD_LIST[MOD_LIST.findIndex((t=>t.id===e.id))],i=t.enabled;!0===t.online&&(t=e,t.online=!0),t.enabled=i||!1}else e.enabled=!1,e.hasOwnProperty("event")&&e.event&&(e.enabled=!0),e.online=!0,MOD_LIST.push(e)}e()})).catch((t=>{let e=this.add.bitmapText(960,540,"crimsonbrown","Error loading mods from server!\n"+t.message,48,1).setOrigin(.5);this.time.addEvent({delay:5e3,callback:()=>{e.destroy()}}),this.menu.add(e),console.log(t)}))})).catch((t=>{let e=this.add.bitmapText(960,540,"crimsonbrown","Error loading mods from server!\n"+t.message,48,1).setOrigin(.5);this.time.addEvent({delay:5e3,callback:()=>{e.destroy()}}),this.menu.add(e),console.log(t)}))}))}displayMods(t){if(this.dom&&t&&this.dom.destroy(),t){let t=$("<div>",{class:"container-fluid"}).css("width","1640px").css("height","850px").css("overflow-y","auto"),e=$("<div>",{class:"row justify-content-center"});for(let t of MOD_LIST){if(t.hasOwnProperty("event")&&!0===t.event)continue;let i=$("<div>",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-6 my-3"}),a=$("<div>",{class:"card",id:t.id});i.append(a);let n=$("<div>",{class:"carousel slide"}).attr("data-ride","carousel");a.append(n);let s=$("<div>",{class:"carousel-inner"});n.append(s);for(let e=0;e<=t.thumbnails.length-1;e++){let i=$("<div>",{class:"carousel-item"});s.append(i),0===e&&i.addClass("active");let a=$("<img>",{class:"d-block w-100"}).attr("src",t.thumbnails[e]);i.append(a)}let r=$("<div>",{class:"card-body"});a.append(r);let o=$("<h1>",{class:"card-title"}).text(t.name);r.append(o);let l=$("<a>").text(t.author.name).attr("href",t.author.url).attr("target","_blank");r.append(l);let h=$("<p>",{class:"card-text"}).text(t.short_description);r.append(h);let u=$("<div>",{class:"btn btn-lg"}).html("Install");r.append(u),u.on("click",(()=>{!0===t.enabled?this.removeMod(t.id).then((()=>{this.displayMods(!1)})):(!1===this.modIsCompatible(t.id)&&alert("Warning: This mod is not compatible with the current game version. It might not work!"),this.enableMod(t.id).then((()=>{this.displayMods(!1)})))})),!0===t.enabled?(u.addClass("btn-danger"),u.html("Remove")):(u.addClass("btn-success"),u.html("Install")),!1===this.modIsCompatible(t.id)&&(u.removeClass("btn-danger"),u.removeClass("btn-success"),u.addClass("btn-warning")),e.append(i)}t.append(e),this.dom=this.add.dom(156,80,t.get(0)).setOrigin(0),$(".carousel").carousel({interval:4e3}),this.menu.add(this.dom)}else for(let t of MOD_LIST){let e=$(this.dom.node).find("#"+t.id).find(".btn");e.removeClass("btn-success"),e.removeClass("btn-danger"),!0===t.enabled?(e.addClass("btn-danger"),e.html("Remove")):(e.addClass("btn-success"),e.html("Install"))}}checkDependencies(t){return new Promise(((e,i)=>{let a=[],n=1,s=0,r=t=>{if(MOD_LIST.some((e=>e.id===t))){let i=MOD_LIST[MOD_LIST.findIndex((e=>e.id===t))];n+=i.dependencies.length;for(let t of i.dependencies)r(t);a.push(i.id),s+=1,s===n&&e(a)}else i("Dependency Mod "+t+" is required!")};r(t)}))}enableMod(t){return new Promise((e=>{this.checkDependencies(t).then((t=>{for(let e of t)MOD_LIST.find((t=>t.id===e)).enabled=!0;e()})).catch((t=>{console.log(t),alert(t)}))}))}removeMod(t){return new Promise((e=>{MOD_LIST.find((e=>e.id===t)).enabled=!1,e()}))}uploadMod(){if(this.files.length>0){let t=0;for(let e=0;e<this.files.length;e++){(new JSZip).loadAsync(this.files[e]).then((e=>{e.file("config.json").async("text").then((i=>{let a=JSON.parse(i);e.generateAsync({type:"blob"}).then((e=>{t++;let i={online:!1,enabled:!1,id:a.id,create_date:Date.now(),change_date:Date.now(),name:a.name||a.id+"-Name",short_description:a.short_description||a.description||"",long_description:a.long_description||a.description||"",dependencies:a.dependencies||[],author:a.author||{name:"NO AUTHOR NAME",url:"https://queensbrothel.com/"},type:a.type||"community",version:a.version||"1.0",api:a.api||"1",script:a.script,zip:URL.createObjectURL(e),thumbnails:a.thumbnails||[]},n=MOD_LIST.findIndex((t=>t.id===a.id));-1!==n&&MOD_LIST.splice(n,1),Phaser.Utils.Array.AddAt(MOD_LIST,i,0),game.scene.getScene("ModMenu").checkDependencies(a.id).then((e=>{for(let t of e)MOD_LIST.find((e=>e.id===t)).enabled=!0;MOD_LIST.find((t=>t.id===a.id)).enabled=!0,t===this.files.length&&game.scene.getScene("ModMenu").displayMods(!0)})).catch((e=>{console.log(a.id+": "+e),t===this.files.length&&game.scene.getScene("ModMenu").displayMods(!0)}))}))}))}))}}}modIsCompatible(t){let e=!0,i=MOD_LIST.find((e=>e.id===t)),a="1";for(let t in apiVersions)if(apiVersions[t].includes(VERSION)){a=t;break}return e=i.api===a,e}}class Credits{create(){this.menu=this.add.container(),this.background=this.add.image(0,1180,"Paper").setOrigin(0),this.menu.add(this.background),this.openMenu()}closeMenu(){this.tweens.add({targets:this.menu,y:1180,ease:"Sine.easeOut",duration:400,onComplete:()=>{this.scene.stop()}})}openMenu(){this.tweens.add({targets:this.background,y:-100,ease:"Sine.easeOut",duration:500,onComplete:()=>{let t=$("<div>",{class:"container-fluid"}).css("width","1140px").css("height","900px").css("overflow-y","auto"),e=$('<section class="page-section mb-0" id="team"><div class="container">\x3c!-- About Section Heading--\x3e<h2 class="page-section-heading text-center text-uppercase">Meet the Team</h2>\x3c!-- About Section Content--\x3e<div class="row mt-4"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/DPMaker.webp" alt="DPMaker"></div><div class="col"><h3 class="text-primary d-inline-block">DPMaker</h3><a href="https://twitter.com/DPMaker_" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Game Developer & Writer</i><p class="mt-2">Hello! I am the mad scientist behind the game. 2 years ago I set off to make a fun adult game. I managed to find some great artists to help and now we\'re here! My DMs are open, drop me a message anytime!</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/LNSC.webp" alt="LNSC"></div><div class="col"><h3 class="text-primary d-inline-block">LNSC</h3><a href="https://twitter.com/latenightsexyco" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Lead Character Artist & Animator</i><p class="mt-2">LNSC created all of the beautiful characters you see in the game, as well as the animations. With LN\'s help we were able to completely redesign and push the game forward. More importantly, without LN we wouldn\'t have Suki!</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/vegetableman.webp" alt="vegetableman"></div><div class="col"><h3 class="text-primary d-inline-block">vegetableman</h3><a href="https://www.artstation.com/vegetableman" target="_blank"><span class="fab fa-fw fa-artstation mx-2"></span></a><i class="d-block">Overworld / Map Artist</i><p class="mt-2">vegetableman is the amazing illustrator for all of the maps in the game. His vision is spot on. Even with the subpar descriptions I give him, he somehow manages to nail every piece of art on the first try.</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/Zen.webp" alt="Zen"></div><div class="col"><h3 class="text-primary d-inline-block">Zen</h3><a href="https://twitter.com/Meandering_NSFW" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Technical Artist</i><p class="mt-2">What doesn\'t Zen do? Zen\'s best attribute is knowing how the game is developed and being able to adapt the assets to fit the programming. Zen is responsible for 90% of the clothes in the game and the coloring of 90% of the NPCs. Without Zen this game would still be black and white.</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/HydraBomb.webp" alt="HydraBomb"></div><div class="col"><h3 class="text-primary d-inline-block">HydraBomb</h3><a href="https://twitter.com/HydraBombArt" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Quest Images Artist</i><p class="mt-2">HydraBomb creates all of the static sex scenes for the game. Hydra\'s art has brought the quests to life by giving us a visual representation of what is happening during the dialogue.</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/Oolay-Tiger.webp" alt="Oolay-Tiger"></div><div class="col"><h3 class="text-primary d-inline-block">Oolay-Tiger</h3><a href="https://twitter.com/OolayTiger" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Voice Actress - Queen & Ardura<audio id="soundOolay" src="https://queensbrothel.com/website/characters/oolaysound.mp3" preload="auto"></audio><div class="btn btn-sm btn-outline-dark mx-1" onclick="document.getElementById(\'soundOolay\').play();"><i class="fas fa-play"></i></div></i><p class="mt-2">Oolay-Tiger has been a tremendous help for the game. Not only is she the voice actress for Queen and Ardura, Oolay helped write the voice lines for the other characters.</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/Mintea.webp" alt="Mintea"></div><div class="col"><h3 class="text-primary d-inline-block">Mintea</h3><a href="https://twitter.com/MinteaVA" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Voice Actress - Suki & Esxea<audio id="soundMintea" src="https://queensbrothel.com/website/characters/minteasound.mp3" preload="auto"></audio><div class="btn btn-sm btn-outline-dark mx-1" onclick="document.getElementById(\'soundMintea\').play();"><i class="fas fa-play"></i></div></i><p class="mt-2">Mintea is a great voice actress to work with. She is skilled enough to handle both Esxea\'s cute high pitch voice, and Suki\'s deeper seductive voice.</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/PixieWillow.webp" alt="PixieWillow"></div><div class="col"><h3 class="text-primary d-inline-block">PixieWillow</h3><a href="https://twitter.com/_PixieWillow" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Voice Actress - Scarlett & Sex SFX<audio id="soundPixie" src="https://queensbrothel.com/website/characters/pixiesound.mp3" preload="auto"></audio><div class="btn btn-sm btn-outline-dark mx-1" onclick="document.getElementById(\'soundPixie\').play();"><i class="fas fa-play"></i></div></i><p class="mt-2">PixieWillow helped introduce the first sound effects for the game. She created unique sex sound effects that are used for all of the girl\'s during the gameplay. Pixie also voices the only girl in this sexual game that dislikes sex!</p></div></div><div class="row"><div class="col-md-3"><img class="img-fluid" src="https://queensbrothel.com/website/team/ZeroDiamonds.webp" alt="ZeroDiamonds"></div><div class="col"><h3 class="text-primary d-inline-block">ZeroDiamonds</h3><a href="https://twitter.com/ZeroDiamonds" target="_blank"><span class="fab fa-fw fa-twitter mx-2"></span></a><i class="d-block">Voice Actress - Natasha<audio id="soundZeroDiamonds" src="https://queensbrothel.com/website/characters/zerodiamondssound.mp3" preload="auto"></audio><div class="btn btn-sm btn-outline-dark mx-1" onclick="document.getElementById(\'soundZeroDiamonds\').play();"><i class="fas fa-play"></i></div></i><p class="mt-2">ZeroDiamonds not only voice acts Natasha, she gave us Natasha\'s name! She does an excellent job voice acting our shy nerdy elf girl.</p></div></div></div></section>');t.append(e),this.menu.add(this.add.dom(406,80,t.get(0)).setOrigin(0));let i=$("<div>",{class:"btn btn-lg btn-danger"}).html("Exit").on("click",(()=>{this.closeMenu()}));this.menu.add(this.add.dom(195,980,i.get(0)).setScale(1.5))}})}}class HUD{preload(){this.notifications=[],this.debugPress=0,this.debugTimer=!1,this.input.keyboard.on("keydown_D",this.debug,this),this.anims.create({key:"gold",frames:"goldspin",frameRate:24,repeat:-1}),this.anims.create({key:"removegold",frames:"removegoldspin",frameRate:24,repeat:-1})}create(){this.add.image(0,0,"hudBar").setOrigin(0),this.debugText=this.add.bitmapText(1100,0,"crimson","",24),this.goldDebugCounter=0,this.add.image(0,0,"goldIcon").setOrigin(0).setInteractive().on("pointerup",(()=>{this.goldDebugCounter>6?GAME.debug():this.goldDebugCounter+=1})),this.goldText=this.add.bitmapText(85,22,"crimson","",50).setOrigin(0,.5),this.add.image(500,0,"staminaIcon").setOrigin(0),this.staminaText=this.add.bitmapText(570,22,"crimson","",50).setOrigin(0,.5),this.girlAvatar=this.add.image(700,0,GAME.girl.currentGirl+"Avatar").setOrigin(0).setScale(.4,.36),this.girlStaminaText=this.add.bitmapText(770,22,"crimson","",50).setOrigin(0,.5),this.add.image(870,0,"dayIcon").setOrigin(0),this.dayText=this.add.bitmapText(950,22,"crimson","",50).setOrigin(0,.5),this.expText=this.add.bitmapText(0,0,"crimson","",42).setVisible(!1),this.mapNameText=this.add.bitmapText(960,100,"crimson","",64,1).setOrigin(.5,0),this.add.image(1320,0,"questLogIcon").setOrigin(0).button().on("pointerup",GAME.checkQuests),this.add.image(1420,0,"notificationIcon").setOrigin(0).button().on("pointerup",GAME.checkNotifications),this.add.image(1520,0,"camera").setOrigin(0).button().on("pointerup",saveScreenshot),this.add.image(1620,0,"saveButton").setOrigin(0).button().on("pointerup",saveSaveFile);let t=this.add.sprite(1720,0,"sound").setOrigin(0).button().on("pointerup",(()=>{toggleSound(),!0===game.sound.mute?t.setFrame(0):t.setFrame(1)}));!0===game.sound.mute?t.setFrame(1):t.setFrame(0),this.add.image(1820,0,"fullScreen").setOrigin(0).button().on("pointerdown",(()=>{toggleFullscreen()})),this.refresh(),globalEvents.on("refresh",(()=>{this.refresh()})),globalEvents.on("addGold",this.addGold,this),globalEvents.on("removeGold",this.removeGold,this),globalEvents.on("loseStamina",this.loseStamina,this),globalEvents.on("gainStamina",this.gainStamina,this),globalEvents.on("levelUp",this.levelUp,this),globalEvents.on("switchGirl",(t=>{(t=t||{}).girl=t.girl||GAME.girl.currentGirl;let e=t.girl;this.girlAvatar.setTexture(e+"Avatar"),this.girlStaminaText.setText(GAME.girl.getGirl(e).getStamina())})),globalEvents.on("gainExp",this.gainExp,this)}update(){this.scene.bringToTop()}debug(){!1===this.debugTimer?(this.debugTimer=!0,this.debugPress+=1,this.time.addEvent({delay:2e3,callback:()=>{this.debugTimer=!1,this.debugPress=0},callbackScope:this})):(this.debugPress+=1,this.debugPress>=5&&(this.debugPress=0,GAME.debug()))}showMapName(t){this.tweens.killTweensOf(this.mapNameText),this.mapNameText.setText(t),this.mapNameText.setAlpha(1),this.tweens.add({targets:this.mapNameText,alpha:0,duration:1500,delay:1e3})}levelUp(t){let e=t.girl;GAME.notify(e+" leveled up!")}loseStamina(t){this.refresh()}gainStamina(t){this.refresh()}gainExp(t,e){!1===(e=e||!1)&&(this.tweens.killTweensOf(this.expText),this.expText.setVisible(!0),this.expText.x=this.input.activePointer.x+chance.integer({min:40,max:70}),this.expText.y=this.input.activePointer.y+chance.integer({min:40,max:70}),this.expText.setText("+"+t+"exp"),this.tweens.add({targets:this.expText,x:600,y:20,ease:"Expo.easeIn",duration:chance.integer({min:750,max:1250}),onComplete:()=>{this.expText.setVisible(!1)}}))}addGold(t){let e=Math.ceil(t/100);e>10&&(e=10);let i=this.input.activePointer.x,a=this.input.activePointer.y;for(let t=0;t<e;t++){let t=this.add.sprite(i+chance.integer({min:-100,max:100}),a+chance.integer({min:-70,max:70}),"goldspin").play("gold");this.tweens.add({targets:t,x:30,y:20,ease:"Expo.easeIn",duration:chance.integer({min:750,max:1250}),onComplete:()=>{t.destroy()}})}this.refresh()}removeGold(t){let e=Math.ceil(t/50);e>80&&(e=80);let i=this.input.activePointer.x,a=this.input.activePointer.y;for(let t=0;t<e;t++){let t=this.add.sprite(chance.integer({min:-100,max:100}),chance.integer({min:-50,max:50}),"removegoldspin").play("removegold");this.tweens.add({targets:t,x:i,y:a,ease:"Expo.easeIn",duration:chance.integer({min:750,max:1250}),onComplete:()=>{t.destroy()}})}this.refresh()}refresh(){let t=gameData.gold.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");this.goldText.setText(t),this.staminaText.setText(GAME.girl.getTotalStamina()),this.girlAvatar.setTexture(GAME.girl.currentGirl+"Avatar"),this.girlStaminaText.setText(GAME.girl[GAME.girl.currentGirl].getStamina()),this.dayText.setText(GAME.getDate())}notification(t){this.notifications.push(t),lastNotifications.push(t),lastNotifications.length>20&&(lastNotifications=lastNotifications.slice(lastNotifications.length-20,lastNotifications.length)),globalEvents.emit("refreshNotifications");let e=this.add.bitmapText(40,-50,"crimson",t,52);this.tweens.add({targets:e,y:70*this.notifications.length,ease:"Sine.easeOut",duration:150,yoyo:!0,hold:1500,onComplete:()=>{e.destroy(),this.notifications.splice(this.notifications.indexOf(t),1)}})}popUpMessage(t,e){e=e||2e3;let i=this.add.text(960,340,t,{font:"228px Arial",fill:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3,wordWrap:{width:1800}}).setOrigin(.5,.5);this.time.addEvent({delay:e,callback:()=>{i.destroy()}})}save(){let t=this.add.text(960,340,"Saved!",{font:"228px Arial",fill:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3,wordWrap:{width:1800}}).setOrigin(.5,.5);this.time.addEvent({delay:1e3,callback:()=>{t.destroy()}})}}class Gameplay{preload(){this.debugDialogue=!1;let t=this.add.graphics(),e=this.add.bitmapText(960,540,"crimson","Loading...",64,2).setOrigin(.5);this.load.on("progress",(i=>{t.clear(),t.fillStyle(16777215,1),t.lineStyle(4,16777215,1),t.strokeRect(500,600,900,50),t.fillRect(500,600,Math.floor(100*i)/100*900,50),e.setText("Loading mod assets...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.load.on("complete",(()=>{e.destroy(),t.destroy()}));for(let t in modAssets)game.textures.exists(modAssets[t].key)?(game.textures.remove(modAssets[t].key),this.load.image(modAssets[t])):this.load.image(modAssets[t])}create(){game.scene.start("HUD"),this.mapGroup=this.add.group(),GAME.map._mapGroup=this.mapGroup,GAME.createMap(),this.events.once(Phaser.Scenes.Events.CREATE,(()=>{for(let t in MODS)MODS[t].boot(),!1===MODS[t].silent&&(console.log(MODS[t].name+" mod loaded."),GAME.notify(MODS[t].name+" mod loaded.")),updateAnalytics("mod",MODS[t].name);updateAnalytics("effectivePlay"),!0===gameData.newGame&&GAME.dialogue.playDialogue("newGame")}),this)}update(){this.mapText&&(this.mapText.x=this.input.activePointer.x,this.mapText.y=this.input.activePointer.y)}}Gameplay.prototype.createMap=function(t){return t=t||!1,new Promise((e=>{let i=GAME.map.getBuildings(GAME.map.currentMap);for(let t in MODS)if(MODS[t].hasOwnProperty("Buildings"))for(let e in MODS[t].Buildings)for(let a in MODS[t].Buildings[e])i[e][a]=MODS[t].Buildings[e][a];this.mapGroup.destroy(!0,!0),this.mapGroup.create(0,0,GAME.map.currentMap+"Background").setOrigin(0);for(let t in i){let e=i[t];if(e.hasOwnProperty("visible"))if("function"==typeof e.visible){if(!1===e.visible())continue}else if(!1===e.visible)continue;let a=0,n=0,s=this.add.image(0,0,e.key).setInteractive({useHandCursor:!0,pixelPerfect:!0}).on("pointerover",(()=>{this.mapGraphics.clear(),this.mapGraphics.lineStyle(8,16776960,.5),this.mapGraphics.strokeRect(r.x-s.width/4,r.y-s.height/4,s.width/2,s.height/2),this.mapText.setText(e.name)})).on("pointerout",(()=>{this.mapGraphics.clear(),this.mapText.setText("")})).on("pointerup",e.callback);e.hasOwnProperty("scale")&&s.setScale(e.scale),a=s.displayWidth/2,n=s.displayHeight/2;let r=this.add.container(e.x+a,e.y+n);r.setName(e.key),r.add(s);let o=this.add.image(0,0,"nullPixel").setOrigin(.5,.5);o.setName("questIcon"),Phaser.Display.Align.In.Center(o,s,0,0),o.setVisible(!1),r.add(o);let l=this.add.bitmapText(0,0,"crimson"," ",42,1);l.setName("bottomText"),Phaser.Display.Align.In.BottomLeft(l,s,-10,34),r.add(l),this.mapGroup.add(r)}if(this.mapGraphics=this.add.graphics(),this.mapText=this.add.bitmapText(0,0,"crimson","",42,0).setOrigin(0,1),this.mapGroup.forEach((t=>{if("Container"===t.type){let e;e="House"===t.name.substring(0,5)?GAME.quest.getActiveQuests("House"):GAME.quest.getActiveQuests(t.name);let i=[];for(let t in e){let a=e[t];!1!==a.getMapIcon()&&(a.getID()===a.getQuest().getStart()?!1===a.getProgress()?i.push("questStartIncomplete"):i.push("questStart"):!1===a.getProgress()?i.push("questIncomplete"):i.push("questComplete"))}let a=t.getByName("questIcon");i.includes("questIncomplete")&&a.setTexture("questIncomplete"),i.includes("questStartIncomplete")&&a.setTexture("questStartIncomplete"),i.includes("questStart")&&a.setTexture("questStart"),i.includes("questComplete")&&a.setTexture("questComplete"),a.setVisible(!0)}})),"Easthollow"===GAME.map.currentMap&&game.cache.json.get("version")&&(game.cache.json.get("version").versionPatreon===VERSION&&game.cache.json.get("version").versionPatreon!==game.cache.json.get("version").versionFree||(this.mapGroup.create(20,75,"patreonMap").setName("patreonMap").setAlpha(0).setOrigin(0).setInteractive().on("pointerup",(()=>{updateAnalytics("marketing","patreonMap"),window.open("https://patreon.com/dpmaker/")})),this.tweens.add({targets:this.mapGroup.getByName("patreonMap"),alpha:.7,ease:"Sine.easeOut",duration:1e3}))),!1!==GAME.map.getMap(GAME.map.currentMap)){let t=GAME.map.getMap(GAME.map.currentMap);this.mapGroup.create(960,50,"north").setName("north").setOrigin(.5,0).button().on("pointerup",(()=>{GAME.map.switchMap(t.north)})),this.mapGroup.create(1920,540,"east").setName("east").setOrigin(1,.5).button().on("pointerup",(()=>{GAME.map.switchMap(t.east)})),this.mapGroup.create(960,1080,"south").setName("south").setOrigin(.5,1).button().on("pointerup",(()=>{GAME.map.switchMap(t.south)})),this.mapGroup.create(0,540,"west").setName("west").setOrigin(0,.5).button().on("pointerup",(()=>{GAME.map.switchMap(t.west)})),this.mapGroup.getByName("north").setVisible(!1!==t.north),this.mapGroup.getByName("south").setVisible(!1!==t.south),this.mapGroup.getByName("east").setVisible(!1!==t.east),this.mapGroup.getByName("west").setVisible(!1!==t.west),GAME.map._doArrowConditions(GAME.map.currentMap)}!0!==t&&GAME.map._playMapConditions(GAME.map.currentMap).then(e)}))},Gameplay.prototype.newDay=function(){gameData.bossToday=!1,gameData.brothelToday=!1;for(let t of GAME.girl.getGirls())GAME.girl.getGirl(t).removeAllLayers(),GAME.girl.getGirl(t).setNaked(!1),GAME.girl.getGirl(t).setFuta(!1);for(let t of GAME.girl.getGirls())GAME.girl.getGirl(t).setStamina(GAME.girl.getGirl(t).getMaxStamina()),GAME.girl.getGirl(t).subtractUltimate(100);GAME.dailyEvents().then((()=>{for(let t in MODS)MODS[t].newDay();gameData.day+=1,saveSaveFile(!0),globalEvents.emit("refresh")}))};class Daily{constructor(t,e,i){this.condition=t,this.dialogueTree=e,this.dialogueBranch=i}play(){return new Promise((t=>{!0===this.condition()?GAME.dialogue.playDialogue(this.dialogueTree,this.dialogueBranch).then((()=>{t()})):t()}))}}Gameplay.prototype._initDailies=function(){DAILIES.push(new Daily((()=>1===GAME.girl.Queen.getStaminaGainAmount()&&!1===gameData.quests.firstStaminaGain),"onSleep","firstStaminaGain")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("worldQuests","introduceAntagonist")),"onSleep","introduceAntagonist")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("hornyBoris","NaknuDialogue")),"onSleep","hornyBorisNaknuDialogue")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("worldQuests","naknuAfterHornyBoris")),"onSleep","naknuAfterHornyBoris")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("mushroomQuest","NaknuSoil")),"onSleep","mushroomQuestNaknuSoil")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("kingsQuest","Start")),"onSleep","kingsQuestStart")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("kingsQuest","NaknuCurseKing")),"onSleep","kingsQuestNaknuCurseKing")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("kingsQuest","NaknuClimbCastle")),"onSleep","kingsQuestNaknuClimbCastle")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("returnDathea","Start")),"onSleep","returnDatheaStart")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("battleOrcs","NaknuPoison")),"onSleep","battleOrcsNaknuPoison")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("battleOrcs","End")),"onSleep","battleOrcsEnd")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("mountainTraining","NaknuAfterStart")),"onSleep","mountainTrainingNaknuAfterStart")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("mountainTraining","Debrief")),"onSleep","mountainTrainingDebrief")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("mountainTraining","NaknuAfterOrcBoss")),"onSleep","mountainTrainingNaknuAfterOrcBoss")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("magic","End")),"onSleep","magicEnd")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("getBooks","Start")),"onSleep","getBooksStart")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("getBooks","OpenPortal")),"onSleep","getBooksOpenPortal")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("getBooks","End")),"onSleep","getBooksEnd")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("lilithQuest","ScaryMan")),"onSleep","lilithQuestScaryMan")),DAILIES.push(new Daily((()=>!0===GAME.quest.isActive("scarlettBoredTitFuck","Start")),"onSleep","scarlettBoredTitFuckStart"))},Gameplay.prototype.dailyEvents=function(){return new Promise((t=>{let e=i=>{DAILIES[i]?DAILIES[i].play().then((()=>{e(i+1)})):t()};e(0),t()}))},Gameplay.prototype.nextQueue=function(t){if(0!==t.length){t.shift()}};class BossMenu{init(){globalEvents.on("selectBoss",this.updateBosses,this),globalEvents.on("changeDifficulty",this.updateBosses,this),globalEvents.on("refreshBosses",this.refreshBosses,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("selectBoss",this.updateBosses),globalEvents.off("changeDifficulty",this.updateBosses),globalEvents.off("refreshBosses",this.refreshBosses)}))}preload(){this.cameras.main.setViewport(20,70,855,830),this.objects=this.add.container(),this.objects.y=0,this.scrollBar=this.add.group(),this.input.on("drag",((t,e,i,a)=>{if(e.y=a,e.y<=50&&(e.y=50),e.y>780-e.displayHeight&&(e.y=780-e.displayHeight),730!==e.displayHeight){let t=(e.y-50)/(730-e.displayHeight);this.objects.y=-(this.sceneSize-830)*t}}))}create(){this.scene.bringToTop();let t=this.add.image(832.5,0,"scrollLine830").setOrigin(.5,0),e=this.add.image(832.5,0,"scrollUp").setOrigin(.5,0).button().on("pointerup",(()=>{this.scrollUp()})).setName("scrollUp"),i=this.add.image(832.5,830,"scrollDown").setOrigin(.5,1).button().on("pointerup",(()=>{this.scrollDown()})).setName("scrollDown"),a=this.add.image(832.5,50,"scrollBar830").setOrigin(.5,0).setInteractive().setName("scrollBar");this.input.setDraggable(a),this.scrollBar.add(e),this.scrollBar.add(t),this.scrollBar.add(a),this.scrollBar.add(i),this.refreshBosses()}refreshBosses(){this.objects.removeAll(!0);let t=GAME.boss.getAvailableBosses(),e=0;for(let i of t){let t=this.add.image(0,0,"bossBox").setName("bossIcon"),a=this.add.image(0,0,"confirmCheck").setName("confirm").setScale(.8,.8).setVisible(!1);Phaser.Display.Align.In.BottomRight(a,t,2,2);let n=this.add.container(400,e+67.5).setName(i.id).button(t).on("pointerup",(()=>{globalEvents.emit("selectBoss",{boss:i.id})}));n.add(t),n.add(a);let s=this.add.bitmapText(0,0,"crimson",i.getName(),54).setName("title");Phaser.Display.Align.In.TopLeft(s,t,-10,-5),n.add(s);let r=this.add.bitmapText(0,0,"crimson",i.getTimesCompleted(setDifficulty),28).setOrigin(1,0).setName("completed");Phaser.Display.Align.In.TopRight(r,t,-10,-5),n.add(r),this.objects.add(n),e+=145}let i=Math.ceil(t.length);if(this.sceneSize=135*i+10*i,this.sceneSize<830)this.sceneSize=830,this.scrollBar.setVisible(!1);else{let t=830/this.sceneSize;this.scrollBar.getByName("scrollBar").setScale(1,t),this.scrollBar.setVisible(!0)}830-this.objects.y>this.sceneSize&&(this.objects.y=830-this.sceneSize,this.scrollBar.getByName("scrollBar").y=780-this.scrollBar.getByName("scrollBar").displayHeight),this.updateBosses()}updateBosses(t){(t=t||{}).boss=t.boss||null,this.objects.iterate((e=>{let i=GAME.boss.getBoss(e.name).getTimesCompleted(setDifficulty);e.getByName("completed").setText("Times Completed: "+i),e.getByName("confirm").setVisible(!1),t.boss&&e.name===t.boss&&e.getByName("confirm").setVisible(!0)}))}scrollDown(){let t=this.scrollBar.getByName("scrollBar"),e=145/this.sceneSize;if(t.y+=730*e,t.y<=50&&(t.y=50),t.y>780-t.displayHeight&&(t.y=780-t.displayHeight),730!==t.displayHeight){let e=(t.y-50)/(730-t.displayHeight);this.objects.y=-(this.sceneSize-830)*e}}scrollUp(){let t=this.scrollBar.getByName("scrollBar"),e=145/this.sceneSize;if(t.y-=730*e,t.y<=50&&(t.y=50),t.y>780-t.displayHeight&&(t.y=780-t.displayHeight),730!==t.displayHeight){let e=(t.y-50)/(730-t.displayHeight);this.objects.y=-(this.sceneSize-830)*e}}}class PlayVideo{init(t){this.video=t.video}preload(){GAME.animation.getAnimation(this.video);this.load.once("start",(()=>{this.loadingText=this.add.bitmapText(960,540,"crimson","Loading animation...",50,1).setOrigin(.5)})),this.load.on("progress",(t=>{this.loadingText.setText("Loading animation...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.load.once("complete",(()=>{this.loadingText.destroy()})),this.load.pack("loadanimations",packBlob,"animations")}create(){game.scene.getScene("HUD").scene.sleep(),this.anims.remove("video"),this.anims.create(GAME.animation.getAnimation(this.video));let t=this.add.sprite(960,540,"nullPixel").play("video").setScale(0,0).setOrigin(.5);this.tweens.add({targets:t,scaleX:1,scaleY:1,ease:"Sine.easeOut",duration:500,onComplete:()=>{t.setInteractive(),t.on("pointerup",(()=>{game.scene.getScene("HUD").scene.wake(),this.scene.stop()}))}}),this.scene.bringToTop()}}class Gallery{preload(){this.scene.bringToTop(),this.loadingText=this.add.bitmapText(960,540,"crimson","Loading gallery...",64,1).setOrigin(.5),this.load.on("progress",(t=>{this.loadingText.setText("Loading gallery...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.load.pack("loadanimations",packBlob,"animations")}create(){this.loadingText.destroy();let t=$("<div>",{class:"container-fluid"}).css("width","1880px").css("height","850px").css("overflow-y","auto"),e=$("<div>",{class:"row"});t.append(e);let i=GAME.animation.getGallery();for(let t of i){let i=$("<div>",{class:"col-4 my-2"});e.append(i);let a=$(this.textures.get(t.thumbnail).getSourceImage());a.addClass("img-fluid"),i.on("click",(()=>{updateAnalytics("animation",t.animationID),GAME.animation.playAnimation(t.animationID).then((()=>{}))})),i.append(a)}this.add.dom(20,100,t.get(0)).setOrigin(0)}}class GirlContainer{init(t){this.GIRLS=t.girls||GAME.girl.getUnlocked(),this.containerX=t.x,this.containerY=t.y,this.horizontalGirls=t.horizontal||!1,this.alwaysOn=t.alwaysOn||!1,this.backgroundStamina=t.backgroundStamina||!1,t.hasOwnProperty("changeCurrentGirlOnUp")?this.changeCurrentGirlOnUp=t.changeCurrentGirlOnUp:this.changeCurrentGirlOnUp=!0,this.hotkeys=t.hotkeys||!1,globalEvents.on("switchGirl",this.updateGirl,this),globalEvents.on("chooseGirl",this.chooseGirl,this),globalEvents.on("selectClothes",this.refreshGirls,this),globalEvents.on("loseStamina",this.updateStamina,this),globalEvents.on("gainStamina",this.updateStamina,this),globalEvents.on("gainExp",this.updateGirl,this),globalEvents.on("recoveryStamina",this.updateGirl,this),globalEvents.on("refresh",this.refreshGirls,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("switchGirl",this.updateGirl),globalEvents.off("chooseGirl",this.chooseGirl),globalEvents.off("selectClothes",this.refreshGirls),globalEvents.off("loseStamina",this.updateGirl),globalEvents.off("gainStamina",this.updateGirl),globalEvents.off("refresh",this.refreshGirls),globalEvents.off("gainExp",this.updateGirl),globalEvents.off("recoveryStamina",this.updateGirl)}))}preload(){this.container=this.add.container()}create(){this.scene.bringToTop(),this.refreshGirls(),!0===this.hotkeys&&(this.input.keyboard.on("keyup-ONE",(()=>{globalEvents.emit("chooseGirl",{girl:"Queen"})}),this),!0===GAME.girl.Suki.isUnlocked()&&this.input.keyboard.on("keyup-TWO",(()=>{globalEvents.emit("chooseGirl",{girl:"Suki"})}),this),!0===GAME.girl.Esxea.isUnlocked()&&this.input.keyboard.on("keyup-THREE",(()=>{globalEvents.emit("chooseGirl",{girl:"Esxea"})}),this),!0===GAME.girl.Scarlett.isUnlocked()&&this.input.keyboard.on("keyup-FOUR",(()=>{globalEvents.emit("chooseGirl",{girl:"Scarlett"})}),this),!0===GAME.girl.Ardura.isUnlocked()&&this.input.keyboard.on("keyup-FIVE",(()=>{globalEvents.emit("chooseGirl",{girl:"Ardura"})}),this),!0===GAME.girl.Natasha.isUnlocked()&&this.input.keyboard.on("keyup-SIX",(()=>{globalEvents.emit("chooseGirl",{girl:"Natasha"})}),this))}update(){this.container.iterate((t=>{let e=t.name,i=t.getByName("bars");i.clear(),i.fillStyle(16737280,1),i.lineStyle(3,0,1),i.strokeRect(-72,61.5,145,6);let a=GAME.girl[e].getExp(),n=GAME.getExp(GAME.girl[e].getLevel()),s=GAME.getExp(GAME.girl[e].getLevel()+1);if(i.fillRect(-72,61.5,(a-n)/(s-n)*145,6),i.strokeRect(-72,54.5,72,6),i.fillStyle(63487,1),i.fillRect(-72,54.5,GAME.girl.getGirl(e).getUltimate()/100*72,6),!0===this.backgroundStamina){let i={r:0,g:255,b:0};GAME.girl.getGirl(e).getStamina()>0?(i.r=Math.ceil(255-GAME.girl.getGirl(e).getStamina()/GAME.girl.getGirl(e).getMaxStamina()*255),i.g=Math.ceil(GAME.girl.getGirl(e).getStamina()/GAME.girl.getGirl(e).getMaxStamina()*255),GAME.girl.getGirl(e).getStamina()<0&&(i.r=0,i.g=0),i.r>255&&(i.r=255),i.r<0&&(i.r=0),i.g>255&&(i.g=255),i.g<0&&(i.g=0)):i.g=0,t.getByName("staminaRect").setFillStyle(parseInt(Number(Phaser.Display.Color.RGBToString(i.r,i.g,i.b,255,"0x")),10))}if(GAME.girl.getGirl(e).availablePoints()>0?t.getByName("levelUpIcon").setVisible(!0):t.getByName("levelUpIcon").setVisible(!1),!1!==GAME.battle.currentBattle){let a=GAME.battle.currentBattle;a.isTrapped(e)?(t.getByName("trapIcon").setTexture(a.getTrap(e).getThumbnail()),t.getByName("trapIcon").setVisible(!0)):t.getByName("trapIcon").setVisible(!1),a.isEffected(e)?(i.strokeRect(-72,47.5,72,6),i.fillStyle(8740607,1),i.fillRect(-72,47.5,(100-a.getEffect(e).getTweenDuration())/100*72,6),t.getByName("effectIcon").setTexture(a.getEffect(e).getThumbnail()),t.getByName("effectIcon").setVisible(!0),t.getByName("effectText").setText(a.getEffect(e).getEffectText())):(t.getByName("effectIcon").setVisible(!1),t.getByName("effectText").setText("")),a.isUltimating(e)?(i.strokeRect(-72,54.5,72,6),i.fillStyle(16770560,1),i.fillRect(-72,54.5,(100-a.getUltimate(e).properties.tweenDuration)/100*72,6),t.getByName("ultimateIcon").setTexture(a.getUltimate(e).getThumbnail()),t.getByName("ultimateIcon").setVisible(!0)):t.getByName("ultimateIcon").setVisible(!1)}}))}refreshGirls(){this.container.removeAll();let t=this.containerX,e=this.containerY,i=1,a=this.GIRLS;for(let n of a){let a=this.add.rectangle(0,0,150,135).setName("staminaRect"),s=this.add.image(0,0,n+"Avatar").setName(n),r=this.add.image(0,0,"nullPixel").setVisible(!1).setName("effectIcon"),o=this.add.bitmapText(0,0,"crimson","",48,1).setOrigin(.5).setName("effectText"),l=this.add.image(0,0,"nullPixel").setVisible(!1).setName("ultimateIcon"),h=this.add.image(0,0,"trapIcon").setVisible(!1).setName("trapIcon"),u=this.add.image(-55,-47.5,"staminaIcon").setScale(.7),c=this.add.bitmapText(-35,-72.5,"crimson",GAME.girl.getGirl(n).getStamina(),42).setName("staminaText"),d=this.add.image(55,-47.5,"levelUpIcon").setName("levelUpIcon").setVisible(!1),p=this.add.bitmapText(-39,-47.5,"crimsongreen","",36).setName("staminaGain").setVisible(!1),f=this.add.bitmapText(-39,-7.5,"crimsonred","",36).setName("staminaLoss").setVisible(!1),m=this.add.graphics().setName("bars"),g=this.add.container(t+75,e+67.5).setName(n).button(null,null,new Phaser.Geom.Rectangle(-75,-67.5,150,135)).on("pointerover",(()=>{globalEvents.emit("switchGirl",{girl:n})})).on("pointerout",(()=>{globalEvents.emit("switchGirl")})).on("pointerup",(()=>{globalEvents.emit("chooseGirl",{girl:n})}));g.add(a),g.add(s),g.add(r),g.add(o),g.add(l),g.add(h),g.add(u),g.add(c),g.add(d),g.add(p),g.add(f),g.add(m),!0===this.alwaysOn||n===GAME.girl.currentGirl?g.setAlpha(1):g.setAlpha(.5),this.container.add(g),i++,t+=160,!1===this.horizontalGirls&&i>3&&(i=1,t=this.containerX,e+=145)}this.updateGirl()}updateGirl(t){"object"!=typeof t&&(t={}),(t=t||{}).girl=t.girl||GAME.girl.currentGirl,t.staminaAmount=t.staminaAmount||0;let e=t.girl;this.container.iterate((t=>{!0===this.alwaysOn||t.name===e?t.setAlpha(1):t.setAlpha(.5),t.getByName("staminaText").setText(GAME.girl[t.name].getStamina())}),this)}updateStamina(t){let e=t.girl,i=t.staminaAmount;this.container.iterate((t=>{if(t.name===e)if(i>0){let e=this.tweens.getTweensOf(t.getByName("staminaGain"));for(let t of e)t.complete();t.getByName("staminaGain").setText("+"+i.toFixed(2)),t.getByName("staminaGain").setVisible(!0),t.getByName("staminaGain").y=-27.5,this.tweens.add({targets:t.getByName("staminaGain"),y:-47.5,duration:2e3,ease:"Sine.easeOut",onComplete:()=>{t.getByName("staminaGain").setVisible(!1)}})}else if(i<0){let e=this.tweens.getTweensOf(t.getByName("staminaLoss"));for(let t of e)t.complete();t.getByName("staminaLoss").setText(i.toFixed(2)),t.getByName("staminaLoss").setVisible(!0),t.getByName("staminaLoss").y=-7.5,this.tweens.add({targets:t.getByName("staminaLoss"),y:12.5,duration:2e3,ease:"Sine.easeOut",onComplete:()=>{t.getByName("staminaLoss").setVisible(!1)}})}t.getByName("staminaText").setText(GAME.girl[t.name].getStamina())}))}chooseGirl(t){this.changeCurrentGirlOnUp?(GAME.girl.currentGirl=t.girl,globalEvents.emit("switchGirl",{girl:t.girl})):globalEvents.emit("switchGirl",{girl:GAME.girl.currentGirl})}}class ClientScene{init(t){this.CLIENTS=t.battle.CLIENTS,globalEvents.on("loseCum",this.updateClients,this),globalEvents.on("startFuckingClient",this.updateClients,this),globalEvents.on("stopFuckingClient",this.updateClients,this),globalEvents.on("clientTick",this.clientTick,this),globalEvents.on("refreshClients",this.refreshClients,this),globalEvents.on("updateClients",this.updateClients,this),globalEvents.on("clientCum",this.clientCum,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("loseCum",this.updateClients),globalEvents.off("startFuckingClient",this.updateClients),globalEvents.off("stopFuckingClient",this.updateClients),globalEvents.off("clientTick",this.clientTick),globalEvents.off("refreshClients",this.refreshClients),globalEvents.off("updateClients",this.updateClients),globalEvents.off("doClient",this.updateClients),globalEvents.off("clientCum",this.clientCum)}))}preload(){this.cameras.main.setViewport(455,65,1010,165),this.objects=this.add.container(),this.objects.y=0}create(){this.scene.bringToTop(),this.refreshClients()}update(){for(let t of this.CLIENTS){let e=this.getClientPos(t.GUID),i=this.objects.getAll()[e];if(i){let e=i.getByName("bars");e.clear(),e.fillStyle(16777215,1),e.lineStyle(3,0,1),e.strokeRect(-79,72,157,6),e.fillRect(-79,72,t.getCum()/100*157,6),e.fillStyle(65289,1),e.lineStyle(3,0,1),e.strokeRect(70,70,6,-148),e.fillRect(70,70,6,-t.getExcitement()/100*148),t.getExcitement()>0||t.GUID===GAME.battle.currentBattle.SelectedClient.GUID?i.setAlpha(1):i.setAlpha(.5),i.getByName("levelText").setText("Lvl: "+t.getLevel())}}}refreshClientIcons(){let t=0;for(let e of this.CLIENTS){let i=this.getClientPos(e.GUID),a=this.objects.getAll()[i];if(a){let i=a.getByName("clientIcon");this.textures.exists("gradient"+t)&&this.textures.remove("gradient"+t);let n=this.textures.createCanvas("gradient"+t,160,160),s=n.context.createLinearGradient(0,0,160,0),r=e.getAllTypes();if(r.length>1)for(let t=0;t<r.length;t++)s.addColorStop(t/(r.length-1),r[t].getColor());else s.addColorStop(0,r[0].getColor());n.context.fillStyle=s,n.context.fillRect(0,0,160,160),renderer===Phaser.WEBGL&&n.refresh(),i.setTexture("gradient"+t)}t++}}refreshClients(){this.objects.removeAll(!0);let t=this.CLIENTS,e=0;for(let i in t){let a=t[i],n=this.add.image(0,0,"nullPixel").setName("clientIcon"),s=this.add.image(0,0,a.getThumbnail()).setName("clientBorder"),r=this.add.bitmapText(0,0,"crimson",a.getName(),28,1).setOrigin(.5,.5).setName("clientName").setMaxWidth(100);Phaser.Display.Align.In.Center(r,s);let o=this.add.image(0,0,"QueenAvatar").setScale(.3).setOrigin(.5,0).setName("currentGirl");Phaser.Display.Align.In.TopCenter(o,s,-22.5);let l=this.add.image(0,0,"Hands").setScale(.3).setOrigin(.5,0).setName("wantBodyPart");Phaser.Display.Align.In.TopCenter(l,s,22.5);let h=this.add.bitmapText(0,0,"crimson","Lvl: "+a.getLevel(),28,2).setName("levelText").setOrigin(0,1);Phaser.Display.Align.In.BottomLeft(h,s,-7,-7),l.setTexture("nullPixel"),o.setTexture("nullPixel");let u=this.add.graphics().setName("bars"),c=this.add.container(e+80,80).setName(a.id).button(s).on("pointerup",(()=>{globalEvents.emit("selectClient",a)}));c.add(n),c.add(s),c.add(r),c.add(o),c.add(l),c.add(u),c.add(h),c.setAlpha(.5),a.getExcitement()>0&&c.setAlpha(1),this.objects.add(c),!0===a.getFinished()?(c.setAlpha(0),c.disableInteractive(),c.y-=200):e+=170}this.updateClients()}updateClients(){let t=this.CLIENTS;(()=>{for(let e in t){let i=this.objects.getAll()[e],a=t[e];i.getByName("levelText").setText("Lvl: "+a.getLevel()),!1===a.getGirl()?i.getByName("currentGirl").setTexture("nullPixel"):i.getByName("currentGirl").setTexture(a.getGirl().getID()+"Avatar"),i.getByName("wantBodyPart").setTexture(a.getBodyPart()),i.getByName("clientName").setText(a.getName()),i.getByName("clientBorder").setTexture(a.getThumbnail())}})(),this.refreshClientIcons()}getClientPos(t){return this.CLIENTS.map((function(t){return t.GUID})).indexOf(t)}clientCum(t){let e=this.getClientPos(t),i=this.objects.getAll()[e];if(i){i.disableInteractive(),this.tweens.add({targets:i,y:-200,alpha:0,ease:"Sine.easeOut",duration:1e3,onComplete:()=>{globalEvents.emit("finishClient",t)}});for(let t=e+1;t<=this.objects.getAll().length-1;t++){let e=this.objects.getAll()[t],i=e.x;this.tweens.add({targets:e,x:i-170,ease:"Sine.easeOut",duration:500})}this.updateClients()}}clientTick(t){let e=this.CLIENTS,i=e.map((function(t){return t.GUID})).indexOf(t),a=e[i],n=this.objects.getAll()[i];!1===a.getGirl()?n.getByName("currentGirl").setTexture("nullPixel"):n.getByName("currentGirl").setTexture(a.getGirl().getID()+"Avatar")}}class ClothesContainer{init(t){this.x=t.x,this.y=t.y,this.shop=t.shop||"house",globalEvents.on("switchGirl",this.refreshClothes,this),globalEvents.on("refreshClothes",this.refreshClothes,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("switchGirl",this.refreshClothes),globalEvents.off("refreshClothes",this.refreshClothes)}))}preload(){this.cameras.main.setViewport(this.x,this.y,525,300),this.objects=this.add.container(),this.objects.y=0,this.scrollBar=this.add.group(),this.input.on("drag",((t,e,i,a)=>{if(e.y=a,e.y<=50&&(e.y=50),e.y>250-e.displayHeight&&(e.y=250-e.displayHeight),200!==e.displayHeight){let t=(e.y-50)/(200-e.displayHeight);this.objects.y=-(this.sceneSize-300)*t}})),this.input.on(Phaser.Input.Events.POINTER_WHEEL,((t,e,i,a)=>{a>=100?this.scrollDown():a<=-100&&this.scrollUp()}))}create(){this.scene.bringToTop();let t=this.add.image(502.5,0,"scrollLine300").setOrigin(.5,0),e=this.add.image(502.5,0,"scrollUp").setOrigin(.5,0).button().on("pointerup",(()=>{this.scrollUp()})).setName("scrollUp"),i=this.add.image(502.5,300,"scrollDown").setOrigin(.5,1).button().on("pointerup",(()=>{this.scrollDown()})).setName("scrollDown"),a=this.add.image(502.5,50,"scrollBar300").setOrigin(.5,0).setInteractive().setName("scrollBar");this.input.setDraggable(a),this.scrollBar.add(e),this.scrollBar.add(t),this.scrollBar.add(a),this.scrollBar.add(i),this.refreshClothes()}refreshClothes(t){(t=t||{}).girl=t.girl||GAME.girl.currentGirl;let e=t.girl;this.objects.removeAll(!0);let i=[];if("house"===this.shop){let t=GAME.clothes.getAllClothes(e);for(let e of t)e.isUnlocked()&&i.push(e)}else{let t=GAME.clothes.getAllClothes();for(let e in t)!0===t[e].getShop()&&!1===t[e].isUnlocked()&&t[e].Girl.isUnlocked()&&t[e].isVisible()&&i.push(t[e])}let a=0,n=0,s=1;for(let t of i){let e=this.add.image(0,0,t.id).setName(t.id),i=this.add.bitmapText(0,0,"crimsonpink","",32),r="";for(let e in t.getStats())0!==t.getStats(e)&&(r=r+e+": "+t.getStats(e)+"\n");i.setText(r),Phaser.Display.Align.In.TopLeft(i,e,-5,-5);let o=this.add.bitmapText(0,0,"crimsonpink","Level "+t.getLevel(),32,1).setOrigin(.5,1);Phaser.Display.Align.In.BottomCenter(o,e);let l=this.add.container(a+75,n+150).setName(t.id).button(e).on("pointerup",(()=>{globalEvents.emit("selectClothes",{clothes:t.id})})).on("pointerover",(()=>{globalEvents.emit("switchClothes",{clothes:t.id})})).on("pointerout",(()=>{globalEvents.emit("switchClothes")}));l.add(e),l.add(i),l.add(o),this.objects.add(l),s++,a+=160,s>3&&(s=1,a=0,n+=310)}let r=Math.ceil(i.length/3);if(this.sceneSize=310*r,this.sceneSize<=310)this.sceneSize=310,this.scrollBar.setVisible(!1);else{let t=310/this.sceneSize;this.scrollBar.getByName("scrollBar").setScale(1,t),this.scrollBar.setVisible(!0)}310-this.objects.y>this.sceneSize&&(this.objects.y=310-this.sceneSize,this.scrollBar.getByName("scrollBar").y=250-this.scrollBar.getByName("scrollBar").displayHeight)}scrollDown(){let t=this.scrollBar.getByName("scrollBar"),e=310/this.sceneSize;if(t.y+=200*e,t.y<=50&&(t.y=50),t.y>250-t.displayHeight&&(t.y=250-t.displayHeight),200!==t.displayHeight){let e=(t.y-50)/(200-t.displayHeight);this.objects.y=-(this.sceneSize-300)*e}}scrollUp(){let t=this.scrollBar.getByName("scrollBar"),e=310/this.sceneSize;if(t.y-=200*e,t.y<=50&&(t.y=50),t.y>250-t.displayHeight&&(t.y=250-t.displayHeight),200!==t.displayHeight){let e=(t.y-50)/(200-t.displayHeight);this.objects.y=-(this.sceneSize-300)*e}}}class ClothesStyles{init(t){this.containerID="ItemInventory",this.x=t.x,this.y=t.y,this.selectedItem=null,globalEvents.on("selectClothes",this.refreshItems,this),globalEvents.on("switchGirl",this.refreshItems,this),globalEvents.on("selectStyle",this.updateItems,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("selectClothes",this.refreshItems),globalEvents.off("switchGirl",this.refreshItems),globalEvents.off("selectStyle",this.updateItems)}))}preload(){this.cameras.main.setViewport(this.x,this.y,500,620),this.objects=this.add.container(),this.objects.y=0,this.scrollBar=this.add.group(),this.input.on("drag",((t,e,i,a)=>{if(e.y=a,e.y<=50&&(e.y=50),e.y>570-e.displayHeight&&(e.y=570-e.displayHeight),520!==e.displayHeight){let t=(e.y-50)/(520-e.displayHeight);this.objects.y=-(this.sceneSize-620)*t}}))}create(){this.scene.bringToTop();let t=this.add.image(477.5,0,"scrollLine620").setOrigin(.5,0),e=this.add.image(477.5,0,"scrollUp").setOrigin(.5,0).button().on("pointerup",(()=>{this.scrollUp()})).setName("scrollUp"),i=this.add.image(477.5,620,"scrollDown").setOrigin(.5,1).button().on("pointerup",(()=>{this.scrollDown()})).setName("scrollDown"),a=this.add.image(477.5,50,"scrollBar620").setOrigin(.5,0).setInteractive().setName("scrollBar");this.input.setDraggable(a),this.scrollBar.add(e),this.scrollBar.add(t),this.scrollBar.add(a),this.scrollBar.add(i),this.refreshItems()}refreshItems(t){(t=t||{}).girl=t.girl||GAME.girl.currentGirl,t.clothes=t.clothes||GAME.girl[t.girl].getClothes().getID(),this.selectedItem=null,this.objects.removeAll(!0);let e=GAME.clothes.getClothes(t.clothes),i=e.getAllStyles(),a=0;for(let t of i){let i=e.getStyle(t),n=this.add.image(0,0,"StyleButtonEmpty").setName("styleButton"),s=this.add.bitmapText(0,0,"crimson",i.getName(),42).setOrigin(.5).setName("styleText");Phaser.Display.Align.In.Center(s,n);let r=this.add.image(0,0,"confirmCheck").setName("confirm").setScale(.8,.8).setVisible(!1);Phaser.Display.Align.In.BottomRight(r,n,2,2),e.getPlayerStyle()===i.getID()&&r.setVisible(!0);let o=this.add.container(227.5,a+37.5).setName(i.getID()).button(n).on("pointerup",(()=>{globalEvents.emit("selectStyle",{clothesID:e.getID(),styleID:i.getID()})}));o.add(n),o.add(s),o.add(r),this.objects.add(o),a+=85}let n=Object.keys(i).length;if(this.sceneSize=75*n+10*n,this.sceneSize<620)this.sceneSize=620,this.scrollBar.setVisible(!1);else{let t=620/this.sceneSize;this.scrollBar.getByName("scrollBar").setScale(1,t),this.scrollBar.setVisible(!0)}620-this.objects.y>this.sceneSize&&(this.objects.y=620-this.sceneSize,this.scrollBar.getByName("scrollBar").y=570-this.scrollBar.getByName("scrollBar").displayHeight)}updateItems(t){this.objects.iterate((e=>{e.name===t.styleID?e.getByName("confirm").setVisible(!0):e.getByName("confirm").setVisible(!1)}))}scrollDown(){let t=this.scrollBar.getByName("scrollBar"),e=160/this.sceneSize;if(t.y+=520*e,t.y<=50&&(t.y=50),t.y>570-t.displayHeight&&(t.y=570-t.displayHeight),520!==t.displayHeight){let e=(t.y-50)/(520-t.displayHeight);this.objects.y=-(this.sceneSize-620)*e}}scrollUp(){let t=this.scrollBar.getByName("scrollBar"),e=160/this.sceneSize;if(t.y-=520*e,t.y<=50&&(t.y=50),t.y>570-t.displayHeight&&(t.y=570-t.displayHeight),520!==t.displayHeight){let e=(t.y-50)/(520-t.displayHeight);this.objects.y=-(this.sceneSize-620)*e}}}class popUpBoard{create(t){let e=this.add.group();e.create(0,0,"nullImage").setOrigin(0);let i=this.add.container(960,540),a=this.add.image(0,0,"popUpBoard");i.add(a);let n=this.add.bitmapText(0,0,"crimsonbrown",t.text,42).setMaxWidth(1e3);if(Phaser.Display.Align.In.TopLeft(n,a,-10,-10),i.add(n),!1===t.type){let t=this.add.image(0,0,"okay").button().on("pointerup",(()=>{this.scene.stop(this,{answer:!0})}));Phaser.Display.Align.In.BottomCenter(t,a,0,-30),i.add(t)}else{let t=this.add.image(0,0,"yes").button().on("pointerup",(()=>{this.scene.stop(this,{answer:!0})}));Phaser.Display.Align.In.BottomCenter(t,a,150,-30),i.add(t);let e=this.add.image(0,0,"no").button().on("pointerup",(()=>{this.scene.stop(this,{answer:!1})}));Phaser.Display.Align.In.BottomCenter(e,a,-150,-30),i.add(e)}i.setScale(0,1),e.add(i),this.tweens.add({targets:i,scaleX:1,ease:"Sine.easeOut",duration:250}),this.scene.bringToTop()}}Gameplay.prototype.checkNotifications=function(){return new Promise((t=>{game.scene.getScene("Notification").sys.isActive()?game.scene.stop("Notification"):(game.scene.getScene("HUD").sys.pause(),game.scene.start("Notification",{pauseAllScenes:!0}),game.scene.getScene("Notification").events.once("shutdown",(()=>{game.scene.getScene("HUD").sys.resume(),t()})))}))};class Notification{init(){globalEvents.on("refreshNotifications",this.refresh,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("refreshNotifications")}))}create(){this.add.image(0,0,"nullImage").setOrigin(0).setInteractive().on("pointerup",(()=>{game.scene.stop("Notification")}));let t=this.add.image(960,100,"popUpBoard").setOrigin(.5,0).setInteractive(),e=this.add.bitmapText(0,0,"crimsonbrown","Notifications",32,1).setOrigin(.5,0);Phaser.Display.Align.In.TopCenter(e,t,0,-10),this.text=this.add.bitmapText(0,0,"crimsonbrown","",32),Phaser.Display.Align.In.TopLeft(this.text,t,-10,-50),this.refresh(),this.scene.bringToTop()}refresh(){let t=[];t=lastNotifications.length>20?lastNotifications.slice(lastNotifications.length-20,lastNotifications.length):lastNotifications;let e="";for(let i in t)e=e.concat(t[i]+"\n");this.text.setText(e)}}Gameplay.prototype.checkQuests=function(){return new Promise((t=>{game.scene.getScene("QuestLog").sys.isActive()?game.scene.stop("QuestLog"):(game.scene.getScene("HUD").sys.pause(),game.scene.start("QuestLog",{pauseAllScenes:!0}),game.scene.getScene("QuestLog").events.once("shutdown",(()=>{game.scene.getScene("HUD").sys.resume(),t()})))}))};class QuestLog{preload(){this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{game.scene.stop("QuestLogContainer")}))}create(){this.scene.bringToTop(),this.add.image(0,0,"nullImage").setOrigin(0).setInteractive().on("pointerup",(()=>{game.scene.stop("QuestLog")}));let t=this.add.image(960,100,"popUpBoard").setOrigin(.5,0).setInteractive(),e=this.add.bitmapText(0,0,"crimsonbrown","Quests",36,1).setOrigin(.5,0);Phaser.Display.Align.In.TopCenter(e,t,0,-10),game.scene.start("QuestLogContainer")}}class QuestLogContainer{preload(){this.cameras.main.setViewport(420,200,1320,620),this.objects=this.add.container(),this.objects.y=0,this.scrollBar=this.add.group(),this.input.on("drag",((t,e,i,a)=>{if(e.y=a,e.y<=50&&(e.y=50),e.y>570-e.displayHeight&&(e.y=570-e.displayHeight),520!==e.displayHeight){let t=(e.y-50)/(520-e.displayHeight);this.objects.y=-(this.sceneSize-620)*t}}))}create(){this.scene.bringToTop();let t=this.add.image(1052.5,0,"scrollLine620").setOrigin(.5,0),e=this.add.image(1052.5,0,"scrollUp").setOrigin(.5,0).button().on("pointerup",(()=>{this.scrollUp()})).setName("scrollUp"),i=this.add.image(1052.5,620,"scrollDown").setOrigin(.5,1).button().on("pointerup",(()=>{this.scrollDown()})).setName("scrollDown"),a=this.add.image(1052.5,50,"scrollBar620").setOrigin(.5,0).setInteractive().setName("scrollBar");this.input.setDraggable(a),this.scrollBar.add(e),this.scrollBar.add(t),this.scrollBar.add(a),this.scrollBar.add(i),this.getQuests()}getQuests(){let t=GAME.quest,e=GAME.quest.getActiveQuests(),i=0,a=this.add.graphics();this.objects.add(a),a.fillStyle(3418151,1);let n=0;for(let s in e){const r=t.getQuest(e[s].getQuest().getID()),o=t.getQuest(e[s].getQuest().getID(),e[s].getID());if(""!==o.getLogDescription()){i+=1;let t=this.add.image(0,n,"questStory").setOrigin(0);!1===r.getImportant()&&t.setTexture("questSidequest");let e=this.add.bitmapText(160,n,"crimsonbrown",r.getName()+"\n"+o.getLogDescription(),32).setMaxWidth(800);if(""!==o.getLogProgress()){let t=this.add.bitmapText(160,n+75,"crimsonbrown",o.getLogProgress(),28).setMaxWidth(800);this.objects.add(t)}a.fillRect(20,n+139,960,2),this.objects.add(t),this.objects.add(e),n+=145}}let s=Math.ceil(i);if(this.sceneSize=135*s+10*s,this.sceneSize<620)this.sceneSize=620,this.scrollBar.setVisible(!1);else{let t=620/this.sceneSize;this.scrollBar.getByName("scrollBar").setScale(1,t),this.scrollBar.setVisible(!0)}620-this.objects.y>this.sceneSize&&(this.objects.y=620-this.sceneSize,this.scrollBar.getByName("scrollBar").y=570-this.scrollBar.getByName("scrollBar").displayHeight),this.input.on(Phaser.Input.Events.POINTER_WHEEL,((t,e,i,a)=>{a>=100?this.scrollDown():a<=-100&&this.scrollUp()}))}scrollDown(){let t=this.scrollBar.getByName("scrollBar"),e=210/this.sceneSize;if(t.y+=520*e,t.y<=50&&(t.y=50),t.y>570-t.displayHeight&&(t.y=570-t.displayHeight),520!==t.displayHeight){let e=(t.y-50)/(520-t.displayHeight);this.objects.y=-(this.sceneSize-620)*e}}scrollUp(){let t=this.scrollBar.getByName("scrollBar"),e=210/this.sceneSize;if(t.y-=520*e,t.y<=50&&(t.y=50),t.y>570-t.displayHeight&&(t.y=570-t.displayHeight),520!==t.displayHeight){let e=(t.y-50)/(520-t.displayHeight);this.objects.y=-(this.sceneSize-620)*e}}}Gameplay.prototype.viewImage=function(t){return new Promise((e=>{game.scene.getScene("HUD").scene.sleep(),game.scene.start("ViewImage",{pauseAllScenes:!0,image:t}),game.scene.getScene("ViewImage").events.once("shutdown",(()=>{game.scene.getScene("HUD").scene.wake(),e()}))}))};class ViewImage{init(t){Array.isArray(t.image)?this.image=t.image:this.image=[{Key:t.image}]}create(){this.add.image(960,540,"viewImageBackground");let t=this.add.container();for(let e in this.image){let i=this.add.image(960,1080,this.image[e].Key).setOrigin(.5,1);"0"===e&&i.setName("body"),t.add(i)}t.setInteractive({hitArea:t.getByName("body").getBounds(),hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}).on("pointerup",(()=>{this.scene.stop()})),this.scene.bringToTop()}}Gameplay.prototype.fade=function(t){return t=t||1e3,new Promise((e=>{let i=game.scene.getScene("HUD");i.cameras.main.once("camerafadeincomplete",(()=>{i.cameras.main.resetFX()}),i),i.cameras.main.once("camerafadeoutcomplete",(()=>{i.cameras.main.fadeIn(t/2),e()}),i),i.cameras.main.fadeOut(t)}))},Gameplay.prototype.cumFlash=function(){game.scene.getScene("HUD").cameras.main.flash(500)};class BattleScene{init(t){this.BATTLE=t.BATTLE,GAME.girl.currentGirl=this.BATTLE.GIRLS.girlArray[0],globalEvents.emit("switchGirl",{girl:this.BATTLE.GIRLS.girlArray[0]}),globalEvents.on("selectClient",this.selectClient,this),globalEvents.on("finishClient",this.finishClient,this),globalEvents.on("clientCum",this.clientCum,this),globalEvents.on("loseBattle",this.loseBattle,this),this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{globalEvents.off("selectClient",this.selectClient),globalEvents.off("loseBattle",this.loseBattle),globalEvents.off("finishClient",this.finishClient),globalEvents.off("clientCum",this.clientCum)}))}preload(){this.scene.bringToTop(),this.loadingText=this.add.bitmapText(960,540,"crimson","Loading Assets...",64,1).setOrigin(.5),this.load.on("progress",(t=>{this.loadingText.setText("Loading Assets...\n"+this.load.totalComplete+" / "+this.load.totalToLoad)})),this.load.pack("loadanimations",packBlob,"animations"),this.load.pack("loadsound",packBlob,"sound"),this.load.pack("loadbattle",packBlob,"battle");GAME.animation.getAllAnimations();this.menu=this.add.group()}create(){this.loadingText.destroy(),this.scene.bringToTop();let t=this.menu;t.create(0,0,"HouseBackground").setOrigin(0),t.create(0,0,"brothelOutline").setOrigin(0),t.add(this.add.bitmapText(290,60,"crimson","Client",52)),t.add(this.add.image(280,120,"goldIcon").setScale(.7,.7).setOrigin(0));let e=this.add.bitmapText(340,120,"crimson","",32);t.add(e);let i=this.add.bitmapText(270,170,"crimson","",32).setInteractive().on("pointerup",(()=>{if(this.BATTLE.SelectedClient){let t=this.BATTLE.SelectedClient.getAllTypes(),e="Client Type Descriptions:\n\n";for(let i of t)e=e+i.getName()+": "+i.getDescription()+"\n\n";GAME.popUpBoard(e)}}));i.input.hitArea.setSize(180,240),t.add(i);let a=this.add.image(1560,295.5,"ultimateButton").setName("ultimateButton").setVisible(!1).button().on("pointerup",(()=>{GAME.battle.currentBattle.useUltimate(GAME.girl.currentGirl)}));t.add(a);let n=t=>{this.BATTLE.fuck(t,this.BATTLE.SelectedClient)};this.animation=this.add.sprite(984.99,720,"nullImage").setOrigin(.5).setScale(.6354,.6354),this.animation.currentAnimation="nullImage",this.animation.currentAnimationFPS=1,t.add(this.animation),game.scene.start("GirlContainer",{x:488,y:235,girls:this.BATTLE.GIRLS.girlArray,changeCurrentGirlOnUp:!1,horizontal:!0,alwaysOn:!0,backgroundStamina:!0,hotkeys:!0}),game.scene.start("ClientScene",{battle:this.BATTLE}),this.emptyClient=this.add.image(1520,100,"EmptyClient").setOrigin(0).setVisible(!1),t.add(this.emptyClient),this.emptyClientText=this.add.bitmapText(0,0,"crimson","+1",32,1).setAlpha(.7).setVisible(!1),Phaser.Display.Align.In.Center(this.emptyClientText,this.emptyClient),t.add(this.emptyClientText),this.loadG=this.add.graphics();let s=t=>{(t=>{!1!==t.getGirl()?e.setText(t.getGold(t.getGirl().getID())):e.setText(t.getGold());let a="";for(let e of t.getAllTypes())a=a+e.getName()+"\n";i.setText(a)})(t)},r=t=>{t===this.BATTLE.SelectedClient.GUID&&GAME.QBsound.removeLoops()},o=t=>{let e=t.girl;this.BATTLE.GIRLS.girlArray.includes(e)&&(GAME.girl.currentGirl=e,globalEvents.emit("switchGirl",{girl:e}),n(e))},l=()=>{for(let t of this.BATTLE.CLIENTS)!1===t.finished&&!1===t.getGirl()&&(t.cum-=Math.ceil(.02*t.cum))};this.load.on("progress",(t=>{this.loadG.clear(),this.loadG.fillStyle(16777215,1),this.loadG.lineStyle(4,16777215,1),this.loadG.strokeRect(50,600,1280,30),this.loadG.fillRect(50,600,Math.floor(100*t)/100*1280,30)})),globalEvents.on("selectClient",s),globalEvents.on("stopFuckingClient",r),globalEvents.on("chooseGirl",o),globalEvents.on("loseCum",l);let h=()=>{globalEvents.off("selectClient",s),globalEvents.off("stopFuckingClient",r),globalEvents.off("chooseGirl",o),globalEvents.off("loseCum",l),game.scene.stop("ClientScene"),game.scene.stop("GirlContainer")};this.events.once(Phaser.Scenes.Events.SHUTDOWN,h),this.events.once(Phaser.Scenes.Events.CREATE,(()=>{let t=[];for(let e of this.BATTLE.GIRLS.girlArray)GAME.girl.getGirl(e).getStamina()>0&&t.push(e);if(0===t.length)return h(),this.loseBattle(),null})),this.menu.create(44,980,"help").setOrigin(0,1).button().on("pointerup",(()=>{GAME.popUpBoard("Select a client and then select a girl to start having sex.\n\nEach time you select a girl, some of her stamina will be used to please the client.\nTry to keep the client happy until they cum!\n\nPressing the number buttons on the keyboard will select the respective girl.").then((()=>{}))})),this.menu.create(20,1060,"exit").setOrigin(0,1).setScale(.7).button().on("pointerup",(()=>{GAME.popUpBoard("Do you want to forfeit the battle?",!0).then((t=>{!0===t&&(h(),this.loseBattle())}))}))}update(){GAME.girl.getGirl(GAME.girl.currentGirl).getUltimate()>=100?this.menu.getByName("ultimateButton").setVisible(!0):this.menu.getByName("ultimateButton").setVisible(!1),this.animation&&(this.playSound(this.BATTLE.SelectedClient),this.BATTLE.SelectedClient?this.updateAnimation(this.BATTLE.SelectedClient.getAnimation(),this.BATTLE.SelectedClient.getAnimationFPS()):this.updateAnimation("nullImage",1),this.BATTLE.numActiveClients()>6?(this.emptyClientText.setText("+"+(this.BATTLE.numActiveClients()-6)),this.emptyClientText.setVisible(!0),this.emptyClient.setVisible(!0)):(this.emptyClientText.setVisible(!1),this.emptyClient.setVisible(!1)))}updateAnimation(t,e){if(this.animation.currentAnimation!==t||this.animation.currentAnimationFPS!==e){let i=this.tweens.getTweensOf(this.animation);for(let t of i)t.complete();this.anims.remove("battleVideo");let a=GAME.animation.getAnimation(t);GAME.animation._animations[t];if(a){this.animation.currentAnimation=t,this.animation.currentAnimationFPS=e,this.load.once("complete",(()=>{this.loadG.clear(),this.anims.remove("battleVideo"),this.animation.videoObj.key="battleVideo",this.anims.create(this.animation.videoObj),this.animation.play("battleVideo")}));a.frames;a.frameRate=e,this.animation.videoObj=a,this.load.pack("loadanimations",packBlob,"animations"),this.load.start()}else this.animation.currentAnimation="battleNullImage",a=GAME.animation.getAnimation("battleNullImage"),a.key="battleVideo",this.anims.create(a),this.animation.play("battleVideo")}}clientCum(t){this.BATTLE.SelectedClient.GUID===t&&(this.BATTLE.SelectedClient=!1),GAME.QBsound.removeLoops()}finishClient(t){let e=!1;for(let t of GAME.battle.currentBattle.CLIENTS)!1===t.finished&&(e=!0);!1===e&&this.winBattle(),globalEvents.emit("refreshClients")}selectClient(t){this.BATTLE.SelectedClient=t,!1!==t.getGirl()&&(GAME.girl.currentGirl=t.getGirl().getID(),globalEvents.emit("switchGirl",{girl:t.getGirl().getID()}))}playSound(t){if(!1!==t)if(t.getExcitement()<=0)GAME.QBsound.playSound(!1);else{let e="Medium";t.getExcitement()>70&&(e="Fast"),!1!==t.getGirl()?GAME.QBsound.playSound(t.getGirl().getID(),t.getBodyPart(),e):GAME.QBsound.playSound(!1)}else GAME.QBsound.playSound(!1)}loseBattle(){GAME.QBsound.stopAll(),this.scene.pause(),GAME.popUpMessage("Failure...",1100),GAME.fade(1100).then((()=>{game.scene.stop("BattleScene",{answer:!1})}))}winBattle(){GAME.QBsound.stopAll(),game.scene.stop("BattleScene",{answer:!0}),GAME.popUpMessage("Success!",1100)}}class DialogueScene{create(){this.scene.bringToTop(),this.background=this.add.image(0,0,"nullPixel").setOrigin(0),this.topDialogue=this.add.image(0,-160,"topDialogue").setOrigin(0),this.bottomDialogue=this.add.image(0,1320,"bottomDialogue").setOrigin(0,1),this.tweens.add({targets:this.topDialogue,y:0,ease:"Sine.easeOut",duration:500}),this.tweens.add({targets:this.bottomDialogue,y:1080,ease:"Sine.easeOut",duration:500,onComplete:()=>{this.events.emit("doneLoading")}})}end(t){return new Promise((e=>{this.tweens.add({targets:this.background,alpha:0,ease:"Sine.easeIn",duration:300}),this.tweens.add({targets:this.topDialogue,y:-160,ease:"Sine.easeIn",duration:500}),this.tweens.add({targets:this.bottomDialogue,y:1320,ease:"Sine.easeIn",duration:500,onComplete:()=>{this.events.once(Phaser.Scenes.Events.SHUTDOWN,(()=>{GAME.createMap(),e(t)})),this.scene.stop("DialogueScene",t)}})}))}setBackground(t){return new Promise((e=>{!1===t&&(t="nullPixel"),this.background.setTexture(t),e()}))}talk(t,e,i,a){return this.scene.bringToTop(),new Promise((n=>{this.textDisplayed=0,i=i||"Neutral";let s=e.split(" ").length;a=a||s/(350/60)*1e3;let r=GAME.girl.getGirls(),o=this.add.group(),l=t;if(l=""===t?"nullPixel":l+"-"+i,-1!==r.indexOf(t)){let e=GAME.girl.getGirlContainer(this,t,!0).setEmotion(i).setPosition(960,840).setScale(.7,.7);e.onPointerUp=()=>{this.input.keyboard.off("keydown_SPACE"),this.input.enabled=!1,e.viewImage().then((()=>{this.input.enabled=!0,this.input.keyboard.once("keydown_SPACE",(()=>{o.destroy(!0),n()}),this)}))},o.add(e)}else o.add(this.add.image(960,840,l).setScale(.7,.7).setOrigin(.5,1).setInteractive().on("pointerup",(()=>{"nullImage"!==l&&(this.input.enabled=!1,this.input.keyboard.off("keydown_SPACE"),GAME.viewImage(l).then((()=>{this.input.enabled=!0,this.input.keyboard.on("keydown_SPACE",(()=>{p()}),this)})))})));let h=this.add.container(0,840).setInteractive({hitArea:new Phaser.Geom.Rectangle(0,0,1920,240),hitAreaCallback:Phaser.Geom.Rectangle.Contains,useHandCursor:!0}).on("pointerup",(()=>{p()})),u=this.add.bitmapText(960,850,"crimsonpink",GAME.dialogue.getName(t),68,1).setOrigin(.5,0),c=150;""===t&&(c=170);let d=this.add.bitmapText(200,1080-c,"crimson","",52,0).setMaxWidth(1450).setOrigin(0,0),p=()=>{this.textDisplayed>=100?(this.input.keyboard.off("keydown_SPACE"),o.destroy(!0),n()):(this.textDisplayed=100,this.dTween.stop(),d.setText(e))};this.dTween=this.tweens.add({targets:this,textDisplayed:100,ease:"Linear",duration:a,onComplete:()=>{this.textDisplayed=100},onUpdate:()=>{let t=Math.floor(this.textDisplayed),i=e.length,a=Math.floor(t/100*i);d.setText(e.slice(0,a))}}),o.add(u),o.add(d),o.add(h),this.input.keyboard.on("keydown_SPACE",(()=>{p()}),this)}))}question(t,e,i,a,n){return this.scene.bringToTop(),new Promise((s=>{let r=GAME.girl.getGirls(),o=this.add.group(),l=a;a&&"nullPixel"!==a&&(l+="-Neutral"),-1!==r.indexOf(a)?o.add(GAME.girl.getGirlContainer(this,a,!1).setPosition(960,840).setScale(.7,.7)):o.add(this.add.image(960,840,l).setOrigin(.5,1).setScale(.7,.7));let h=this.add.bitmapText(960,940,"crimson",i,48).setMaxWidth(800);o.add(h);let u,c,d=this.add.container(),p=t=>{f(!1);let e=4*(t-1),i=4*t-1,a=[];for(;e<=i;e++)void 0!==d.getAll()[e]&&a.push(d.getAll()[e]);let n=[];d.iterate((t=>{t.x>=800&&n.push(t)})),this.tweens.add({targets:n,x:0,ease:"Sine.easeOut",duration:350,delay:this.tweens.stagger(100),onComplete:()=>{this.tweens.add({targets:a,x:800,ease:"Sine.easeOut",duration:350,delay:this.tweens.stagger(100),onComplete:()=>{f(!0)}})}})},f=t=>{if(t){c&&c.getByName("pages").setInteractive(),u&&u.getByName("exit").setInteractive();for(let t of d.getAll())t.getByName("slot").setInteractive()}else{c&&c.getByName("pages").disableInteractive(),u&&u.getByName("exit").disableInteractive();for(let t of d.getAll())t.getByName("slot").disableInteractive()}},m=t=>{o.destroy(!0),d.destroy(!0),s(t)},g=1;for(let e in t){let i=this.add.container(),a=this.add.image(0,150+(g-1)%4*150,"userInputOption").setName("slot").setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{m(i.name)})).on("pointerover",(()=>{this.tweens.add({targets:i,x:900,ease:"Sine.easeOut",duration:350})})).on("pointerout",(()=>{this.tweens.add({targets:i,x:800,ease:"Sine.easeOut",duration:350})})),s=this.add.bitmapText(0,0,"crimsonbrown",t[e],36,2).setOrigin(1,.5);if(Phaser.Display.Align.In.RightCenter(s,a,-150,-5),i.add(a),i.add(s),n){let t=n[e];"object"==typeof t&&(t.isStart()?!1===t.getProgress()?a.setTexture("userInputOptionQuestStartIncomplete"):a.setTexture("userInputOptionQuestStart"):!1===t.getProgress()?a.setTexture("userInputOptionQuestIncomplete"):a.setTexture("userInputOptionQuestComplete"))}i.setName(g),d.add(i),g++}let y=0,k=[];for(;y<=3;y++)void 0!==d.getAll()[y]&&k.push(d.getAll()[y]);if(this.tweens.add({targets:k,x:800,ease:"Sine.easeOut",duration:350,delay:this.tweens.stagger(100),onComplete:()=>{f(!0)}}),t.length>4){let e=1,i=Math.ceil(t.length/4);c=this.add.container();let a=this.add.image(0,750,"userInputOptionPage").setName("pages").setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{e++,e>i&&(e=1),p(e)})).on("pointerover",(()=>{this.tweens.add({targets:c,x:900,ease:"Sine.easeOut",duration:350})})).on("pointerout",(()=>{this.tweens.add({targets:c,x:800,ease:"Sine.easeOut",duration:350})})),n=this.add.bitmapText(0,0,"crimsonbrown","More options...",36,2).setOrigin(1,.5);Phaser.Display.Align.In.RightCenter(n,a,-150,-5),c.add(a),c.add(n),o.add(c),this.tweens.add({targets:c,x:800,ease:"Sine.easeOut",duration:350,delay:100*k.length})}if(!0===e){u=this.add.container();let t=this.add.image(0,900,"userInputOptionExit").setName("exit").setOrigin(1,0).setInteractive({useHandCursor:!0}).on("pointerup",(()=>{m(!1)})).on("pointerover",(()=>{this.tweens.add({targets:u,x:900,ease:"Sine.easeOut",duration:350})})).on("pointerout",(()=>{this.tweens.add({targets:u,x:800,ease:"Sine.easeOut",duration:350})})),e=this.add.bitmapText(0,0,"crimsonbrown","Leave",36,2).setOrigin(1,.5);Phaser.Display.Align.In.RightCenter(e,t,-150,-5),u.add(t),u.add(e),o.add(u),this.tweens.add({targets:u,x:800,ease:"Sine.easeOut",duration:350,delay:100*k.length})}f(!1)}))}}Gameplay.prototype.initDialogue=function(){(()=>{let t=GAME.dialogue.addDialogueTree("newGame").addBranch("root",!0).setBackground("EasthollowBackground").popUp("This game is still in development. Some artwork is not finished.").popUp("Do you want to skip the intro?",!0).ifLastAnswer(!1,"playIntro").ifLastAnswer(!0,"skipIntro");t.addBranch("skipIntro").completeQuest("worldQuests","newGame"),t.addBranch("playIntro").talk("E1","How about one last blowjob?").talk("","A man sits next to a woman on a bus. He has his hand on her breast.").playAnimation("QueenBus").setBackground("QueenBus").talk("Queen","No, thanks.","Angry").talk("E1","Fine.").talk("E1","We're sorry we have to do this Queen.").talk("Queen","...","Angry").talk("","The woman ignores the man.").talk("E1","You really shouldn't have stolen that money from the boss!").talk("",'"Easthollow!", said the bus driver as the bus stops.').talk("E3","I guess this is it.").setBackground(!1).talk("","A big man picks up Queen and gently tosses her out of the bus.").talk("E3","No hard feelings.").talk("","The bus drives away. Queen stands up and looks around.").talk("Queen","Ugh, where did those bastards drop me off?","Angry").talk("","Queen notices a small town not too far away.").talk("Queen","I guess I should find a place to live...").Fade().setBackground("TownBackground").talk("","Queen walks into town with a bag of gold in her hand. There's no one around for her to talk to, but she approaches a building that has a construction symbol on it.").talk("Queen","Um hi...").talk("","A big tall orc turns around from his workshop.").talk("Geoff","Hmm... I haven't seen you around here before.").talk("","The orc looks at Queen's body. Her skimpy outfit causes confused looks around town.").talk("Queen","I just took a bus here, I was wondering if you knew where I could buy a house.").talk("Geoff","You came to the right place. I build the houses in Easthollow. What's your name? What are you looking for?").talk("Queen","My name is Queen, I'm just looking for something small...","Happy").talk("","Queen places the bag of money on his desk.").talk("Geoff","Hmm...").talk("Geoff","I have a little 1 bedroom house not too far away from town for half of your gold.").talk("Queen","One bedroom? How much would you charge for another room?").talk("Geoff","Another room? With the rest of your gold I could add another small room...").talk("Queen","That's great!","Happy").talk("Geoff","Let me go show you the house.").Fade().setBackground("nullImage").talk("","Geoff and Queen walks south-west of town. They walk up to a small wooden house that doesn't seem like it has been touched in years.").talk("Queen","Not the most flattering house...","Sad").talk("Geoff","It just needs a little bit of cleaning. I can build the other room right here.").talk("","Geoff walks a few steps to the right of the house.").talk("Queen","That looks good.").talk("Geoff","I'll have it done in the morning. You should get some sleep.").talk("Queen","That's a good idea. Thank you!","Happy").setBackground("HouseBackground").talk("","Queen walks inside her house and wipes the dust off the bed.").talk("Queen","Well... I guess I'll have to make money the only way I know how...").talk("","She goes to sleep.").Fade().completeQuest("worldQuests","newGame")})(),GAME.dialogue.addDialogueTree("checkMountainsClothes").addBranch("root",!0).setBackground("EasthollowBackground").talk("","Queen walks north of Easthollow. A giant orc is blocking the way.").talk("Mog","Huh?").talk("Queen","Uh hi, can I get through?").talk("Mog","Hnnmmm...").talk("","Queen tries to walk past the orc.").talk("","The orc slams his hammer onto the ground in front of her.").talk("Queen","Eee!","Surprise").talk("Queen","Okay I'll leave...","Sad").switchMap("Easthollow"),GAME.dialogue.addDialogueTree("checkMountainsNaked").addBranch("root",!0).setBackground("EasthollowBackground").talk("","Queen walks north of Easthollow. A giant orc is blocking the way.").talk("Mog","Huh?").talk("Queen","Uh hi, can I get through?").talk("Mog","Hnnmmm?").talk("","Queen tries to walk past the orc.").talk("","The orc lifts his skirt, revealing his huge flaccid cock.").talk("Queen","Oh my god, no, what?!","Surprise").talk("Queen","I'm not fucking that huge thing!","Angry").talk("","Queen leaves before the orc gets too excited.").switchMap("Easthollow"),(()=>{let t=GAME.dialogue.addDialogueTree("onSleep");t.addBranch("firstStaminaGain").popUp("Queen's max stamina has increased by 1!\n\nWhen you reach certain levels, the girl's base stamina permanently increases!").Function((()=>new Promise((t=>{gameData.quests.firstStaminaGain=!0,t()})))),t.addBranch("introduceAntagonist").Fade().setBackground("BlackBackground").talk("","Somewhere, in a castle far away from Easthollow...").talk("","A man sits on a throne. His cock hangs out of his pants. He holds a staff in his right hand. The staff emits a purple glow of energy at the tip.").talk("","An imp barges through the door. A naked woman walks in shortly after him.").talk("Naknu","My liege!").talk("ScaryMan","Ah yes, finally.").talk("","The door closes behind them.").talk("Naknu","I found a great one just for you!").talk("ScaryMan","Perfect. Come here girl!").talk("","The woman runs up to the king and sits on his lap. He runs his hands over her body.").talk("ScaryMan","She feels good.").talk("","He picks up the girl and puts his cock into her pussy.").talk("Naknu","A success then right?!").talk("","The king lifts up his staff. A purple aura flows around the girl. Her body starts to levitate up and down on his cock by itself.").talk("","The girl, surprised, starts to moan.").talk("ScaryMan","What else can you do?").talk("","The king points his staff at his cock. A second cock grows out of his pelvis. He puts his second cock in the girl's asshole.").talk("","The girl's eyes widen. She looks down and sees the king's cocks getting thicker.").talk("","The king tries fucking the girl with both cocks, but they are too big to fit.").talk("ScaryMan","Naknu...").talk("","Naknu gulps.").talk("ScaryMan","It doesn't fit!!!").talk("","The king becomes enraged. A burst of purple light shoots out of the window. The woman gets up and runs back towards the door.").talk("ScaryMan","Another failure!").talk("ScaryMan","Find me another!").talk("","Naknu frantically grabs the girl's hand.").talk("Naknu","Yes my liege!").talk("ScaryMan","And quickly!").talk("","The king grips his staff. More beams of purple light shoot out the window.").Fade().completeQuest("worldQuests","introduceAntagonist"),t.addBranch("hornyBorisNaknuDialogue").Fade().setBackground("BlackBackground").talk("","Somewhere, in a land far away from Easthollow...").talk("Naknu",'Stupid wizard. "Bigger! I need someone bigger!"').talk("Naknu","No one can fit your dick if you make it that big!").talk("","Naknu the imp walks around a forest talking to himself.").talk("Naknu","Why can't he just use his powers to make the perfect girl?").talk("","He reaches the outskirts of Greenhaven.").talk("Naknu","Ah yes, I haven't been here in a while. I'll just bring him another failure to keep him busy. Yes. That way he won't kill me.").talk("","Naknu sneakily walks around Greenhaven.").Fade().completeQuest("hornyBoris","NaknuDialogue"),t.addBranch("naknuAfterHornyBoris").Fade().setBackground("BlackBackground").talk("","Naknu hides behind a tree near Boris's hut. He looks around making sure no one is around.").talk("Naknu","That was close!").talk("Naknu","Who were those girls?! They actually survived Boris?! I have to tell the king immediately!").talk("Naknu","No wait! I should just bring them to him!").talk("Naknu","I can't steal both of them?!").talk("Naknu","Why did he make an imp his servant?!").talk("","A beam of purple light shoots through the sky.").talk("Naknu","That's right! I'll wait! As long as the king stays angry, he'll create more monsters. Then once the girls fall to one of them I can drag them out!").talk("Naknu","Yes! Naknu you are one smart imp!").talk("","A tree branch falls in front of him.").talk("Naknu","AHH!").talk("Naknu","Okay I'm out of here!").talk("","Naknu hops away from Greenhaven.").Fade().completeQuest("worldQuests","naknuAfterHornyBoris"),t.addBranch("mushroomQuestNaknuSoil").Fade().setBackground("MoaningMorassBackground").talk("","Naknu bounces around the morass, confused at what he saw.").talk("Naknu","What in the world?!").talk("Naknu","How did those girls fuck all those goblins?!").talk("Naknu","I've never seen a human do that before!").talk("","Naknu bounces around as he ponders. He accidentally falls into a puddle of water.").talk("Naknu","AH!").talk("Naknu","Hmm...").talk("","Naknu floats on top of the puddle.").talk("Naknu","Wait a minute.").talk("Naknu","I need to tell the boss about this great new idea I just came up!").talk("Naknu","I'll tell the boss man to use his special powers to poison these mushrooms!").talk("Naknu","The next time the girls come around, the goblins won't cum so easily!").talk("Naknu","Hehehe!").talk("","A goblin walks by, stepping on Naknu by accident and not noticing.").talk("Naknu","GUH!").talk("Naknu","Hey!").talk("Naknu","Ugh, I have to go run to the boss!!").talk("","Naknu bounces away.").Fade().completeQuest("mushroomQuest","NaknuSoil"),t.addBranch("kingsQuestStart").Fade().talk("","Naknu walks towards Easthollow.").talk("Naknu","Those stupid girls. How did they get past all those goblins?").talk("Naknu","They leave me no choice!").talk("Naknu","I'm just going to have to convince them to go to the boss's castle!").talk("","Naknu turns around and walks away from Easthollow.").talk("Naknu","I can't just tell them to go. That's a stupid idea!").talk("","Naknu turns around and starts walking towards Easthollow.").talk("Naknu","I can do it. I'll just tell them there's a million gold waiting for them in the castle!").talk("Naknu","I'd hate to blow my cover though... I know!").talk("NotNaknu","There we go! No one will know who I am now!").talk("","Naknu approaches the girl's house.").Fade().talk("","There's a knock at the door.").talk("Queen","Huh?").talk("","Queen gets up and opens the door. She doesn't see anyone there.").talk("NotNaknu","Down here!").talk("","Queen looks down.").talk("Queen","Oh, hello. The brothel is next door.").talk("NotNaknu","No no! I'm here to give you an award!").talk("Queen","An award?","Surprise").talk("NotNaknu","Oh yes! The king of-").talk("",'Naknu looks around. He sees a sign that says "Easthollow".').talk("NotNaknu","The king of Weastfollow... wants to give it to you.").talk("Queen","Weastfollow? Never heard of it.").talk("NotNaknu","Oh ho ho! You're missing out! The king wants to award you in his really big castle!").talk("Queen","For doing what?").talk("NotNaknu","Ah... uh...").talk("NotNaknu","It's a nobel peace award!").talk("Queen","Peace?").talk("NotNaknu","Oh yeah absolutely! The king acknowledges your effort in creating peace! And he wants to give you 1 million gold!").talk("Queen","1 million gold?! Did you hear that Suki?!","Happy").talk("","Suki walks over to Queen.").talk("Suki","Who's at the door?").talk("","Suki sees the imp at the door.").talk("Suki","Ew, I'm not fucking that!","Angry").talk("Queen","No, he's here to give me an award.").talk("Suki","An award eh?").talk("NotNaknu","Yes yes. You should come to! The king is very rich.").talk("Suki","A king? Let's go Queen, I can seduce him.","Happy").talk("Queen","Don't be weird. He's probably married. He just wants to give me an award.").talk("NotNaknu","Great! Feastwallow is just south of the morass, you can't miss it! Look for a big castle!").talk("Queen","Big castle. South of the morass. Got it.").talk("NotNaknu","See you soon then!").talk("","Naknu runs away.").talk("Queen","What a nice guy.").completeQuest("kingsQuest","Start"),t.addBranch("kingsQuestNaknuCurseKing").Fade().setBackground("BlackBackground").talk("","Somewhere in a castle far far away...").talk("ScaryMan","So..? Where is she? You promised a girl for me.").talk("Naknu","Any second now!").talk("ScaryMan","...").talk("Naknu","Trust me! She is everything you have ever wanted!").talk("Naknu","Super hot!").talk("Naknu","Uh...").talk("Naknu","Has a pussy!").talk("ScaryMan","Stop joking around Naknu. What did you tell her?!").talk("Naknu","I told her to go to the castle south of the morass!").talk("ScaryMan","...").talk("ScaryMan","Don't you think she would have gone to Avia instead? You know... the place with the giant castle?").talk("","Naknu gulps.").talk("Naknu","I...").talk("ScaryMan","Why didn't you just grab her you stupid imp!").talk("Naknu","She's... intimidating...").talk("","The man grabs his staff. Naknu runs out the door.").talk("ScaryMan","I'll get her myself.").talk("","The man points his staff out the window towards Avia. A beam of purple light comes out and shoots directly to the King's throne room.").talk("ScaryMan","There. Now go fetch her.").talk("","He turns around and doesn't see Naknu.").talk("ScaryMan","Ugh... why did I hire him...").Fade().completeQuest("kingsQuest","NaknuCurseKing"),t.addBranch("kingsQuestNaknuClimbCastle").Fade().setBackground("AviaBackground").talk("","Inside the King's throne room, the king sits on his throne.").talk("KingEvil","Scarlett. Those girls. They're coming back correct?").talk("Scarlett","Um, yeah probably? Why are you being so weird?! I just made some friends and you scared them away!","Angry").talk("KingEvil","Perfect. I need those girls.").talk("Scarlett","You don't even know them.").talk("","Meanwhile...").talk("","Naknu climbs through one of the King's windows.").talk("Naknu","This stupid castle. Why is it so big?! Only two people live here!").talk("","Naknu accidentally walks into the throne room and sees the King and Scarlett. He quickly moves backwards and watches from a distance.").talk("Naknu","Eh? The spell is working on him, but where's the girls?").talk("Naknu","I guess this is where I'll be staying for a while...").talk("","Naknu sits down and waits, hoping the King will do his job and capture the girls for him.").Fade().completeQuest("kingsQuest","NaknuClimbCastle"),t.addBranch("returnDatheaStart").Fade().setBackground("AviaBackground").talk("","Meanwhile, at the castle of Avia.").talk("Naknu","Stupid girl got lucky when she kicked me out the window!").talk("","Naknu finishes climbing to the top of the castle. He jumps through a window.").talk("Naknu","Now where was I...").talk("Naknu","Huh?").talk("","Naknu notices that the castle is empty.").talk("Naknu","Eh? Where did everyone go?").talk("","Naknu runs to Scarlett's room.").talk("Naknu","Hey where did that stupid princess go?!").talk("","Naknu runs around the castle.").talk("King","Huh?").talk("","The king spots Naknu.").talk("","Naknu abruptly stops and looks around.").talk("King","Hey what's that imp doing in here?!").talk("Naknu","Uh oh...").talk("","Naknu jumps out the castle window.").Fade().completeQuest("returnDathea","Start"),t.addBranch("battleOrcsNaknuPoison").Fade().setBackground("MountainsBackground").talk("","Late at night, near the mountain campsite.").talk("Naknu","I guess I'm just going to have to do it the old fashioned way!").talk("","Naknu grinds up the mushrooms from the morass into a small container.").talk("Naknu","I don't need the boss's stupid magical powers. They don't even work!").talk("","Naknu finishes grinding up the last mushroom.").talk("Naknu","A sprinkle of this should get the blood flowing. Those dumb soldiers won't stand a chance against the orcs once I put this into their soup!").talk("Naknu","And when the girls are forced to fuck the soldiers I'll swing by and capture their weakened bodies!").talk("","Naknu starts laughing hysterically.").talk("Naknu","Hahaha!-").talk("","Naknu accidentally inhales the mushroom powder.").talk("Naknu","Uh oh...").talk("","Naknu falls on his back. His cock becomes fully erect immediately and he starts to furiously jerk himself off.").talk("Naknu","Oh god, I'll be here for a while!").Fade().completeQuest("battleOrcs","NaknuPoison"),t.addBranch("battleOrcsEnd").Fade().setBackground("MountainsBackground").talk("","Somewhere north of the mountains...").talk("Naknu","I can't believe that stupid girl handled an orc cock!").talk("Naknu","Can she do everything?!").talk("Naknu","As soon as the king gets his hands on her..!").talk("","Naknu almost walks into a different orc camp site.").talk("Naknu","Woah!").talk("","Naknu hides behind a rock.").talk("Naknu","You know, I bet those girls couldn't handle all of the orcs at the same time!").talk("Naknu","Yes, I need some more mushrooms.").talk("Naknu","And maybe a sprinkle of the king's powers! Hehehe!").talk("","Naknu laughs out loud.").talk("","A nearby orc accidentally steps on Naknu as he walks by the rock.").talk("Naknu","Ow!").talk("","Naknu's body flattens from the impact. He bounces back up after the orc leaves.").talk("Naknu","Phew, that hurt! I should get going!").Fade().completeQuest("battleOrcs","End"),t.addBranch("mountainTrainingNaknuAfterStart").Fade().setBackground("MountainsBackground").talk("","Somewhere near an orc camp site north of the mountains...").talk("Naknu","Finally! Done with my concoction!").talk("","Naknu holds a strange purple vial.").talk("Naknu","These orcs are so big they won't even notice me put this into their food!").talk("","Naknu runs towards a pot of soup in the middle of the orc's camp site.").talk("","Naknu gets stepped on by an orc.").talk("Naknu","Ow!").talk("","Naknu gets back up and runs towards the pot.").talk("","Naknu gets stepped on by another orc.").talk("Naknu","Ow!").talk("","Naknu gets back up and runs towards the pot.").talk("","Naknu gets stepped on by another orc.").talk("Naknu","What in the world?! Why are there so man-").talk("","Naknu gets stepped on by another orc.").talk("Naknu","Screw this!").talk("","Naknu gets up and throws the vial into the pot and runs away.").Fade().completeQuest("mountainTraining","NaknuAfterStart"),t.addBranch("mountainTrainingDebrief").Fade().talk("","The next morning...").talk("Queen","Alright girls. I think that was enough training, what do you think?").talk("Scarlett","That cum did not sit well...","Sad").talk("Suki","I don't know what to expect from the orcs, but I think we're ready.").talk("Queen","I think it's worth a shot trying to fuck those orcs. If it doesn't work yet then it doesn't work out...","Sad").talk("Suki","Don't worry Queen! We'll do it! And then we'll make Ardura do all of our dirty work for a week!","Happy").talk("Queen","Haha, I like the sound of that!","Happy").popUp("Head back to the mountains and try fucking the orcs.").completeQuest("mountainTraining","Debrief"),t.addBranch("mountainTrainingNaknuAfterOrcBoss").Fade().setBackground("BlackBackground").talk("","Meanwhile in a castle far away...").talk("","Naknu slams a door open.").talk("Naknu","Okay that's it!").talk("ScaryMan","Naknu you buffoon, how dare you-!").talk("Naknu","How the fuck did those girls handle all those orcs?!").talk("ScaryMan","What are you on about?").talk("Naknu","I've been telling you, there's some amazing girls out there! But I can't get them!!!").talk("Naknu","These human girls just fucked two orc camps!").talk("ScaryMan","What? You better not be making this up.").talk("Naknu","I'm being serious! You have to help me!").talk("ScaryMan","Ugh! Fine.").talk("Naknu","Just follow me! I know where they live!").talk("ScaryMan","Fine, we'll leave in the morning. Get some rest!").Fade().setBackground(!1).completeQuest("mountainTraining","NaknuAfterOrcBoss"),t.addBranch("magicEnd").Fade().setBackground("BlackBackground").talk("","Somewhere, in a castle far away...").talk("ScaryMan","Looks like I'll have to take matters into my own hands.").talk("ScaryMan","I'll need a better way to filter out all the sexually inept women.").talk("ScaryMan","How about my very own sex monsters?").talk("ScaryMan","That shouldn't take long...").talk("ScaryMan","I don't want anyone stopping me so how about this?").talk("","The man slams his staff on the ground. His entire castle becomes fortified with a magic shield.").talk("ScaryMan","There we go. No ones going to stop me until I find the perfect woman!").Fade().completeQuest("magic","End"),t.addBranch("getBooksStart").Fade().setNaked(["Natasha","Suki","Scarlett","Queen"],!1).talk("Scarlett","Queen! It's bed time, but some stupid orc won't stop following me!","Angry").talk("Scarlett","...","Angry").talk("Scarlett","Sorry sir, we're closed and this princess needs her beauty sleep.").talk("","The orc's cock throbs up and down. He looks at Scarlett.").talk("Scarlett","I know! I get it. You can't resist this!","Happy").talk("Scarlett","But I assure you, we'll get you taken care of tomorrow morning!").talk("","Natasha runs up to the front door.").talk("Natasha","Oh did we forget one customer? Haha... no worries.").talk("","Natasha grabs a hold of the orc's cock and licks his shaft up and down.").talk("Scarlett","Thank god.","Sad").talk("","Scarlett walks inside.").talk("","The orc grabs Natasha's head and tries to stick his cock as far as he can into her mouth.").playAnimation("NatashaOrcBJ").Flash().talk("","The orc cums into Natasha's mouth and quickly leaves.").talk("Queen","Natasha!").talk("","Natasha swallows the orc's cum.").talk("Natasha","Uh- hey!","Sad").talk("Queen","Tell me he paid you.").talk("Natasha","Uh oh...","Sad").talk("","Queen starts to walk back to her room.").talk("Queen","Stop giving people free sex. We're not whores!","Angry").talk("Queen","Well...").talk("Queen","You know what I mean!","Angry").talk("Natasha","Sorry!","Sad").talk("","Natasha walks to her room. On her way, her eyes connect with Suki laying on her bed.").talk("Suki","What's up nerd!").talk("Natasha","Hey...").talk("Suki","Look, I know you've been having fun sucking cock, but I think you should start studying again.").talk("Natasha","You think so? I could just work at the brothel for the rest of my life.").talk("Suki","No no no, look.").talk("Suki","We need you to get better at your magic so that you can gives us more than a penis and big boobs!").talk("Suki","And by the way, can you give me some bigger boobs?").talk("Natasha","... that spell is hard to do for people with small boobs...","Sad").talk("Suki","...").talk("Suki","...","Sad").talk("Suki","Anyways, we're going to need you to be more powerful okay?").talk("Natasha","Well, are you still going to help me steal some books from Trasonia?").talk("Suki","Now you're thinkin!").talk("","Suki undresses.").setNaked("Suki",!0).talk("Natasha","What are you doing?").talk("Suki","I may have ran to the clothes shop earlier today...").talk("","Suki puts on some new clothes.").equipClothes("Suki","ElfSuki").talk("Suki","Ta-da!","Happy").talk("Natasha","Wow! You even have fake elf ears!","Surprise").talk("Suki","I know. I'm a pretty smart girl, if I do say so myself!").talk("","Suki looks in the mirror and fixes her hair.").talk("Suki","Tomorrow, I'll head over to Trasonia.").talk("Natasha","Okay, but don't get caught!","Sad").talk("Suki","Oh Natasha, do you know who you're talking to?").talk("","Ardura walks into the room.").talk("Ardura","You two fairies go to sleep!","Angry").talk("Natasha","Sorry!","Sad").talk("","Ardura goes back to her room.").Fade().completeQuest("getBooks","Start"),t.addBranch("getBooksOpenPortal").popUp("This next quest has very long dialogue. Are you ready to read it?",!0).ifLastAnswer(!0,"viewDialogue").addBranch("viewDialogue").Fade().setBackground("EasthollowBackgroundDark").equipClothes("Suki","DefaultSuki").setNaked("Suki",!0).talk("","Late at night, in Suki's room.").talk("",'"Suki!"').talk("","Suki wakes up from her deep sleep.").talk("Suki","Huh?").talk("","Suki looks around her room.").talk("Suki","Queen, don't tell me someone wants their dick sucked at 3am!","Sad").talk("","Suki opens her room door, but no one is there.").talk("Suki","That's weird.").talk("","Suki closes the door and jumps back in her bed.").talk("","...").talk("",'"Suki!"').talk("","Suki rapidly opens her eyes.").talk("Suki","Who's messing with me?!","Angry").talk("","Suki runs and opens her door. There is no one there.").talk("Suki","Not funny!","Angry").talk("","Suki walks down the hallway. All of the other girl's doors are closed.").talk("","Suki checks the front door. It is still locked.").talk("Suki","This isn't funny, guys...","Sad").talk("","Suki turns around.").talk("","A red light dimly lights up Suki's room.").talk("Suki","Hey! Who's in my room?!","Sad").talk("Suki","If you wanted to have sex you're going to have to wait til tomorrow!","Angry").talk("","Suki slowly walks to her room.").talk("Suki","Okay I found you! You can come out now!","Sad").talk("","Suki tip toes her way to her room. She peaks inside...").talk("","The demonic book lays on her bed, glowing red.").talk("Suki","What the fuck?! Where did that come from?!","Surprise").talk("","Suki picks up the book. It starts to glow brighter.").talk("Suki","AHHHH!!!","Surprise").talk("","The other girls wake up from Suki's scream. They rush to her room.").talk("Queen","What the heck is going on?!","Surprise").talk("","Suki grabs the book and runs to the front door. She throws it as far away as she can.").talk("Suki","Cursed book! Cursed book!","Surprise").talk("","The book falls down by a nearby tree and glows red.").talk("Natasha","Suki! I told you!","Sad").talk("Suki","How was I supposed to know it was going to come to life?!","Sad").talk("Natasha","Queen, Suki brought home a demon book from Trasonia!","Sad").talk("Queen","Oh good lord...","Sad").talk("Suki","Come on, Natasha! Use your magic to set that thing on fire!","Sad").talk("Natasha","I don't know how to do that yet!","Sad").talk("","Scarlett walks in late.").talk("Scarlett","What in gods name was so important that you had to wake me up?","Sad").talk("Queen","Suki stole a cursed book from Trasonia and it's glowing red.").talk("Scarlett","Excellent.","Sad").talk("Scarlett","Good night.","Sad").talk("","Scarlett walks back to her room.").talk("Ardura","No worries. I'll rip the book in half.","Angry").talk("Esxea","Yeah, I'll rip it in half too!","Angry").talk("Queen","Esxea, maybe just leave this to Ardura.","Sad").talk("Esxea","Okay!").talk("","Ardura walks up to the book.").talk("Ardura","Goodbye, scary book!","Angry").talk("","Ardura grips the book tightly and rips it in half.").talk("","The book stops glowing. Ardura walks back to the girls.").talk("Natasha","Yay! You did it!","Happy").talk("Suki","Thank god. You won't believe it. That book was saying my name!").talk("Ardura","That is impossible. Books can't talk.").talk("Suki","Yeah, well books can't glow red either, but...!","Angry").talk("",'"Suki!"').talk("Suki","Huh?","Sad").talk("","The girls hear a voice coming from the broken book.").talk("Suki","Okay, tell me you guys heard something.","Sad").talk("","The book glows bright red. It starts to levitate and piece itself together.").talk("Ardura","Grrr, don't make me break you again!","Angry").talk("","The book spins around quickly. A gust of air pushes the girls back.").talk("","The book forms itself into a red portal and evaporates. The girls hear a faint sound of a woman laughing coming from the portal.").talk("Queen","Alright. No one get near that thing!","Sad").talk("Queen","Natasha, what do you know about demon books like that one?").talk("Natasha","I don't know! They told us not to read those ones!","Sad").talk("",'"Just take a look inside, Suki!"').talk("","The portal glows red. Suki gets put into a trance by the portal.").talk("Queen","Hold on, that portal just talked!","Sad").talk("","Suki places one step forward towards the portal.").talk("Queen","Woah woah woah!","Sad").talk("","Suki walks forward.").talk("Natasha","Suki is being hypnotized by the portal!","Sad").talk("Ardura","Oh no she isn't!","Angry").talk("","Ardura picks up Suki.").talk("","Ardura's body starts to walk towards the portal.").talk("Ardura","Hey! I can't stop myself!!","Angry").talk("","Scarlett walks back to the front door.").talk("Scarlett","I've had it with you ladies-","Angry").talk("Scarlett","What in the world is that?","Surprise").talk("Queen","That portal is sucking Suki and Ardura into it!","Sad").talk("","Suki and Ardura reach the portal.").talk("Ardura","Sorry, I have no choice!","Sad").talk("","Suki and Ardura walk into the portal and disappear.").talk("","...").talk("Scarlett","Now Queen...","Sad").talk("Scarlett","I know you're a smart woman...","Sad").talk("Queen","We have to go into the portal...","Sad").talk("Scarlett","I was hoping you wouldn't say that...","Sad").talk("","Esxea runs into the portal, head first, and disappears.").talk("Scarlett","That leaves us with the three smartest members here. Let's think about this.","Sad").talk("","Queen walks to the portal.").talk("Scarlett","I'll have to really contemplate this before jumping inside, that's all I'm saying!","Sad").talk("Queen","I'm just going to stick my head inside and see.").talk("","Queen moves her head close to the portal and slowly inches her head inside.").talk("","Inside the portal, Queen sees a dark world with a red sky. Below her are Suki, Ardura and Esxea.").talk("Ardura","Queen! Down here! It's a rough entrance, but we're safe!").talk("","A volcanic geyser erupts not too far from the girls.").talk("Ardura","Hah... uh... for now.","Sad").talk("Queen","I'm coming in!").talk("Ardura","What? Are you sure? I can try to find tools to build a ladder back up to the portal.").talk("Ardura","Don't worry about us!").talk("","Suki starts to walk up the nearby steps. They lead up to a mountain.").talk("Queen","Suki still isn't okay, I have to help you!","Sad").talk("Ardura","Fine, then jump quick. I'll catch you! Suki's not going to wait for you!").talk("","Queen sticks her head back out of the portal.").talk("Queen","Suki needs help. I'm going in.").talk("","Queen jumps into the portal. Ardura catches her on the other side.").Fade().setBackground("HellBackground").talk("","Scarlett sticks her head into the portal.").talk("Ardura","You too, pretty girl!","Angry").talk("Ardura","We need everyone for this war!","Angry").talk("Scarlett","Well, that's very thoughtful, but unfortunately this isn't a war!","Angry").talk("","Natasha pushes Scarlett into the portal. Ardura catches her.").talk("Scarlett","Oh you little elf bitch!","Angry").talk("","Scarlett's face turns bright red.").talk("Scarlett","If we make it out of here alive...","Angry").talk("","Natasha jumps into the portal. Ardura catches her.").talk("Natasha","Sorry!","Sad").talk("","Scarlett's body tenses up. She raises her claw-like hands and looks at Natasha.").talk("Natasha","Ahh!","Surprise").talk("","Natasha runs to Suki.").Fade().talk("","The girls follow Suki up the mountain. Dark rock surrounds them. The lava is too far away to reach them, they feel safer than before.").talk("Esxea","Suki!").talk("","Esxea pokes Suki's thigh.").talk("","Suki keeps walking up the mountain.").talk("Esxea","She won't listen to me!","Angry").talk("Queen","Here's hoping the top of the mountain is as far as we have to go...","Sad").talk("Scarlett","I have a feeling we're not going to run into any friendly people here.","Sad").talk("Scarlett","Just a couple of hot girls walking around in hell!","Sad").talk("Scarlett","Probably filled with a bunch of bad demon guys.","Sad").talk("Scarlett","And I'm taking a wild guess that they're going to have cocks!","Sad").talk("Scarlett","Is anybody picking up what I'm putting down?","Sad").talk("","The girls reach the top of the mountain. They see a throne with a woman sitting on it.").talk("",'"Suki!"').talk("Queen","Hey! Who are you?","Angry").talk("","The room is too dark for the girls to make out the woman.").talk("","Suki wakes up from her trance.").talk("Suki","Huh? Where are we?","Sad").talk("Suki","And why am I still naked?","Sad").talk("",'"I\'m so glad you could make it."').talk("Scarlett","Some of us really didn't have a choice.","Angry").talk("Queen","What do you want with Suki?","Angry").talk("","The silhouette of the woman stands up from the throne. She disappears into a puff of smoke.").talk("Ardura","Don't worry, I'll take care of this.","Angry").talk("","Ardura grips her hands.").talk("","Behind a puff of smoke, a woman appears in front of Suki. A gust of air causes the other girls to fall down.").talk("","Suki looks up at the woman.").talk("Suki","It's...","Surprise").talk("Suki","It's the girl from the book!","Surprise").talk("Lilith","Oh, I just can not believe my eyes!").talk("","The woman puts her hands on Suki's cheeks.").talk("Queen","Hey get your hands off of her!","Angry").talk("","Queen quickly stands up and gets ready to punch the woman.").talk("Lilith","Thank you, Queen.").talk("Queen","Huh?","Sad").talk("Lilith","You've brought me my daughter.","Surprise").talk("","The girls look at the woman, confused.").talk("Suki","Sorry, I already have a mom.").talk("Lilith","Suki, I am your great great great great great great great great great great great great great great great great great great great great...").talk("Lilith","Um... add a few more greats...","Surprise").talk("Lilith","Grandmother!","Happy").talk("Scarlett","Alright, we must be dead. Or I'm losing it!","Sad").talk("Suki","Okay grandma, you're not making any sense.","Sad").talk("Lilith","I am Lilith. THE succubus of the underworld! All others wish they were me.").talk("","Lilith brushes her hand against her hair.").talk("Lilith","Long time ago, I decided to run away to the human world and mistakenly had a child.","Sad").talk("Queen","Mistakenly?","Sad").talk("Lilith","It's impossible to have children down here. I was trying to be a normal girl and do normal things.","Sad").talk("Lilith","Now every couple of generations, a female human with my DNA becomes a little... too horny. Sorry about that.","Sad").talk("Suki","No problem!","Happy").talk("Queen","I guess that explains Suki a little bit... assuming you're telling the truth.").talk("Lilith","Of course I am! I've been watching all of my succubus daughters grow up!","Happy").talk("Lilith","But this is the first time I've been able to talk to one!","Happy").talk("Suki","I'm a succubus?","Surprise").talk("Queen","Couldn't you have gone to the human world and tell us?").talk("Lilith","Hah, well. The big boss, Lucifer, found out about my child and banned me from going back up there!","Sad").talk("Queen","Hmm...","Sad").talk("Scarlett","And I'm sure he'd hate for us to be here as well! I reckon we should leave immediately.").talk("Lilith","Oh no! He doesn't mind visitors. Great guy! Trust me!","Happy").talk("","Lilith runs her finger nails on Suki's neck.").talk("Lilith","Well honey, welcome home. Can I show you ladies around?").talk("","Lilith turns around and walks towards her throne.").talk("","Suki pulls on Lilith's tail.").talk("Suki","Now, hold on!").talk("","Lilith's body springs up. She turns around, with smoke coming out of her head.").talk("Lilith","Suki...","Angry").talk("Lilith","Don't get my attention by pulling on my tail...","Angry").talk("Suki","Oh, sorry...","Sad").talk("Suki","If I'm a succubus, where's my tail?").talk("Suki","And wings?").talk("Suki","And horns?").talk("Lilith","Excellent question.","Happy").talk("","Lilith taps her finger nails together.").talk("Ardura","Yeah, why don't your daughters grow up to have succubus features then?").talk("Lilith","It's simple!","Happy").talk("Lilith","The features only appear in the under world!").talk("Suki","Right. Okay.").talk("Suki","So, where are they?","Sad").talk("","Lilith laughs and turns around to keep walking.").talk("Suki","Mom!","Sad").talk("","Suki turns around and looks at the girls.").talk("Suki","She won't tell me!","Sad").talk("Esxea","I'm confused. I thought Queen was Suki's mom.","Sad").talk("","Scarlett facepalms herself.").talk("Queen","Esxea, how old do you think I am?!","Surprise").talk("Esxea","I don't know!","Sad").talk("Lilith","Hahaha! It's been a while since I've talked to a goblin. A loveable species.","Happy").talk("","Lilith walks to her throne.").talk("Lilith","So, here is my throne. You can find me here most of the time!","Happy").talk("Scarlett","Is that all you do?","Sad").talk("Lilith","Look, you run out of stuff to do when you're thousands of years old, okay?","Sad").talk("","Suki jumps up and sits on Lilith's throne.").talk("Suki","Is this how I'll get my wings?").talk("","Suki makes herself comfortable on the throne.").talk("Lilith","That is not how you get your wings.").talk("","Lilith rubs her fingernails on Suki's cheek. Suki becomes hypnotized for a second and stands up.").talk("Suki","Not cool! You can't control me with your powers!","Sad").talk("Lilith","Then don't sit on my throne.","Happy").talk("Queen","Does that mean you can control us too?").talk("Lilith","Nope! Just men! And my daughters.").talk("Lilith","Look!").talk("","Lilith vanishes into a black puff of smoke.").talk("","Lilith appears behind Queen. She puts her hands on Queen's neck and gently pushes her fingernails on Queen's skin.").talk("Lilith","See, I can't control you with my powers!").talk("","Lilith digs her fingernails into Queen's skin a little further and points her head towards a direction.").talk("Lilith","Nothing I can do to control you at all!").talk("","Lilith laughs. She hugs Queen and then vanishes again.").talk("","Queen rubs her hands on her neck to make sure she's not bleeding.").talk("Queen","For someone who is trying to be nice to us, you sure are scary.","Sad").talk("","Lilith appears back in front of the girls and continues walking.").talk("Lilith","Thank you, that's a lovely compliment.").talk("Lilith","Let me introduce you ladies to the playground.").talk("","Lilith brings the girls to a flat area with chains on the walls.").talk("","The girls walk past chained men with the head of a bull.").talk("Suki","Why are these guys chained up? Is this jail?").talk("Lilith","You won't believe it. These guys come here of their own free will just to get chained up and be tormented by me!","Happy").talk("Lilith","Men really are the dumbest!").talk("Minotaur","Lilith pick me, pick me!").talk("","Lilith puts her hand on one of the minotaur's chests and digs her fingernails into him.").talk("","The minotaur's cock throbs. Lilith grips it tightly.").talk("Lilith","I have a special guest today. You're going to let my daughter fuck you as hard as she wants, okay?","Angry").talk("","Lilith pulls on the minotaur's cock.").talk("Minotaur","Okay, I will!").talk("","Lilith takes the minotaur's chains off the wall and pushes him down on his back. The minotaur's hands are still tied.").talk("Lilith","He's all yours, Suki.").talk("Suki","Cool, thanks!","Happy").talk("Lilith","Right, and the rest of you. Feel free to play with the others.").talk("Scarlett","Not in the sexual mood, sorry. Mind if I sit on your throne?").talk("Lilith","I do.").talk("Scarlett","...","Sad").talk("Scarlett","Do you know who I am?","Angry").talk("Queen","I don't think you can win a fight against a demon, Scarlett.").talk("Scarlett","...","Sad").talk("","Lilith walks back to her throne.").talk("Suki","Time for some demon cock!","Happy").talk("","Suki jumps on top of the minotaur and nibbles on his cock.").talk("Suki","So you'll let me do anything, huh?").talk("","Suki pretends to bite down on the minotaur's cock.").talk("Minotaur","Anything for Lilith's daughter! Please break me!").talk("Suki","Haha! Wow. Are you guys hearing this?","Happy").talk("Ardura","I'm going to look around this place.").talk("Scarlett","Good idea. I'll go with you. I'm not a fan of this Lilith lady.","Sad").talk("Scarlett","Natasha, come help us find an exit.").talk("Natasha","But look at all of this free demon cock!","Sad").talk("Scarlett","Don't worry, we have plenty of cock back at home.","Sad").talk("Queen","I'll stick with Suki and Esxea.").talk("","Esxea walks up to a minotaur and punches his stomach.").talk("Esxea","Take that!","Angry").talk("Esxea","...","Angry").talk("Esxea","Sorry, was that too rough?","Sad").talk("Minotaur","No ma'am, feel free to do it again!").talk("Esxea","Okay!").talk("Suki","Look at this fat fucking cock! It's not as long as an orc's, but it's wider-").talk("","Suki inserts the minotaur's cock into her pussy. She slowly slides down on him.").talk("Suki","Gah!","Blush").talk("Suki","It's a lot wider than an orc's!","Blush").talk("","Suki grips the man's chest as she forces herself down on him.").talk("Suki","Haha! It fits!","Happy").talk("","Suki slowly rides on the man's cock.").talk("Minotaur","Lilith! Your daughter's pussy is too tight, I'm going to cum!").talk("Lilith","Oh no, he isn't. Suki, control him.","Angry").talk("","Suki looks at Lilith. Lilith taps her fingernails together.").talk("Suki","Yeah! You're right!").talk("","Suki grips the man's chest and digs her fingernails into him.").talk("Suki","You'll cum when I say you'll cum!","Angry").talk("Minotaur","Yes master!").talk("","Suki gyrates on his cock, finding the most pleasurable spots.").talk("Suki","Your cock is so fat, I bet I would explode if you came!").talk("Suki","Oh, just think about all of that cum dripping out of my pussy!").talk("","Suki feels the Minotaur's cock throbbing inside of her.").talk("Suki","Do you want to cum inside?").talk("Minotaur","I would love to, master!").talk("Suki","Fine, I will allow you to. Give me everything you've got!","Angry").talk("Minotaur","Thank you, master!").talk("","The minotaur pushes his hips up, he shoots a load into Suki's pussy. Suki's eyes roll back.").cumOn("Suki","Pussy",2).talk("Suki","There's so much cum inside of me!","Blush").talk("","Suki grips the minotaur's chest tighter.").talk("","The minotaur keeps cumming inside of Suki.").cumOn("Suki","Pussy",2).talk("Suki","Don't stop!","Blush").talk("","A vortex of black smoke begins to form around Suki.").talk("Lilith","Oh, excellent. It's about time.").Fade().talk("","Meanwhile. Ardura, Natasha and Scarlett walk around the under world.").talk("Scarlett","I'm fairly certain our only exit is the same portal we came from.").talk("Scarlett","But how are we going to get up there?","Sad").talk("Ardura","I can try throwing you, but if I miss you'll fall into a pool of lava.").talk("Scarlett","Thanks Ardura, let's not do that.","Sad").talk("Natasha","I wish I had learned that levitation spell sooner...","Sad").talk("Scarlett","Yes, I wish you had learned a whole lot more.","Angry").talk("Natasha","Hey! It takes a long time to master spells!","Angry").talk("","The girls feel a gust of air coming from Suki's direction.").talk("Ardura","That doesn't look good.").talk("Natasha","We should go back!","Sad").talk("","The girls hurry back.").Fade().talk("Suki","Oh, you better not stop cumming!","Angry").talk("","Suki digs her fingernails into the man's body.").talk("Queen","Suki! You should leave him alone!","Sad").talk("","Suki ignores Queen and the black smoke starting to surround her.").talk("","The minotaur becomes hypnotized by Suki's angry gaze.").talk("Scarlett","Queen! What's going on?!","Sad").talk("Lilith","You can't stop a succubus from getting what she wants!","Happy").talk("","Suki continues to hypnotize the minotaur into cumming inside of her.").talk("Suki","Look at all of this cum!","Angry").talk("","The black smoke engulfs Suki's body.").talk("Queen","What is that stuff?!","Sad").talk("","The black smoke vanishes. Suki remains on top of the minotaur, forcing him to cum.").equipClothes("Suki","SukibusSuki").talk("Suki","You stupid minotaur, how dare you stop cumming!").talk("Queen","Suki!","Surprise").talk("","Suki keeps stabbing the minotaur with her sharp fingernails. The minotaur cums with each thrust.").talk("Suki","Ha ha ha!").talk("Suki","That's right, keep coming!","Angry").talk("Scarlett","Oh dear heavens.","Surprise").talk("","Lilith watches, with a grin on her face. The man's chest gets filled with bloody scratches from Suki.").talk("Queen","Suki, look at yourself!","Sad").talk("","The minotaur's pelvis shakes from pleasure. He can't stop cumming.").talk("","Lilith bursts into flight. She quickly flies to Suki and picks her up.").talk("Suki","Hey! Put me down! I'm not done yet!","Angry").talk("Lilith","Sorry honey, you would have killed that poor man! Trust me, I know from experience.").talk("","Lilith drops Suki off by Queen. She gently floats down.").talk("Suki","What the?","Surprise").talk("","Suki looks at her body.").talk("Suki","Wait a minute, are these mine?","Surprise").talk("","Suki grabs her wings.").talk("Queen","Suki, you're a succubus!","Surprise").talk("Esxea","Sukibus!").talk("Lilith","Hey buddy, you okay?","Surprise").talk("Minotaur","It would have been an honor to die by the hands of Lilith's daughter!!").talk("Lilith","He's okay.").talk("Suki","Woah, no way! My wings! My tail!").talk("","Suki touches the top of her head.").talk("Suki","My horns! Ha ha!").talk("Suki","Stab stab!").talk("","Lilith hovers over Suki, wrapping her arms around Suki's neck.").talk("Lilith","Yes, stab stab!").talk("Lilith","My baby succubus is finally here!","Surprise").talk("Queen","Okay, but how do we get the old Suki back?","Sad").talk("Lilith","Aw, did you already forget? She won't look like this in the human world.").talk("Lilith","If, she goes back to the human world...").talk("Scarlett","Oh great, we're all going to die here.","Sad").talk("Queen","We have to go back!","Sad").talk("Lilith","You're free to leave. Suki, on the other hand...").talk("Queen","I want Suki back!","Angry").talk("Lilith","Ladies, aren't you forgetting to ask someone?").talk("","Lilith places her head on Suki's shoulder.").talk("Lilith","What do you think Suki? Stay in the under world and train to be a succubus?").talk("Lilith","Or go back to the human world and eventually grow old and die?","Angry").talk("Natasha","When she puts it like that...","Sad").talk("Suki","...","Surprise").talk("Suki","But, I still want to hang out with Queen!","Surprise").talk("Lilith","Hmm?","Surprise").talk("Suki","Why can't I do both?","Surprise").talk("Lilith","The human world is filled with pain and misery. It's best if we spend most of our time here.","Sad").talk("Suki","But, look at all my friends! They're pretty cool!","Happy").talk("Esxea","Hello!","Happy").talk("Suki","And they can train to be succubi too!","Happy").talk("Scarlett","I'd rather not.","Sad").talk("Esxea","Stab stab!").talk("Lilith","Oh Suki, they don't have our genes.","Sad").talk("Suki","But they can ride a mean cock!").talk("Lilith","I-","Surprise").talk("Lilith","I don't doubt their abilities, but it's hard to compete against a blood thirsty demon.").talk("Suki","I don't know! Queen was the first one to get fucked by an orc!").talk("Ardura","Um...","Sad").talk("Ardura","Nevermind...").talk("Lilith","There's the issue, Suki. You girls let guys do what they want with you.").talk("Lilith","Rule number one of being a succubus. You take what you want.","Angry").talk("Suki","Look at that, we're already learning together!","Happy").talk("Suki","Come on, it'll be fun!").talk("Lilith","Queen, I'm afraid I can't convince my daughter to stay.","Sad").talk("Lilith","So, I am inviting all of you girls to my free succubus training.").talk("Lilith","Bring your horns, tail, and wings.").talk("Esxea","And fangs!").talk("Esxea","Grrr!","Angry").talk("Scarlett","Hey, I'll pass! Now. How do we get out of here?").talk("Lilith","So hasty...","Sad").talk("Lilith","Suki, you have the key. Keep that book in your room and you can visit me anytime.").talk("","Lilith uses her hands to rip open a portal from thin air.").talk("Lilith","This will lead you back to your house.").talk("Scarlett","Thank god!","Happy").talk("","Scarlett quickly runs into the portal.").talk("Suki","I'll be back soon, mom!").talk("Lilith","I know you will, sweetie. And I'll try to be nicer to your friends.").talk("Suki","Thanks!","Happy").talk("","Suki hugs Lilith. The girls enter the portal.").equipClothes("Suki","DefaultSuki").setNaked("Suki",!0).Fade().setBackground("EasthollowBackgroundDark").talk("","The portal disappears, it forms into the demonic book and falls to the ground.").talk("Queen","Well... I can't believe what just happened.").talk("Suki","Aw man, she was right. My horns are gone!","Sad").talk("Natasha","Suki, your mom is hot.").talk("Suki","Yeah, she sure is.").talk("Queen","Lilith seemed to cooperate. We got Suki back, and maybe getting some succubus training wouldn't be so bad.").talk("Scarlett","You'll have to drag me into that portal again if you want me to go!","Angry").talk("Ardura","Don't worry Queen, I'll bring Scarlett.").talk("Queen","Lilith wants to teach Suki how to be a succubus, and it wouldn't hurt for us to learn a thing or two.").talk("","Suki picks up the demonic book from the ground and hugs it.").talk("Suki","Let's go to sleep! I can't wait to go back tomorrow!","Happy").talk("","Suki skips to her room.").talk("Ardura","Queen, we've had a demon living with us this whole time.").talk("Queen","Yeah... I don't know what to say...","Sad").talk("Queen","I hope Suki doesn't change too much from this...","Sad").talk("","Queen looks flustered.").talk("Scarlett","Queen.","Sad").talk("Scarlett","Suki is still our friend and she fought to stay with us.").talk("Queen","Yeah...","Sad").Fade().completeQuest("getBooks","OpenPortal"),t.addBranch("getBooksEnd").Fade().setBackground("HellBackground").talk("","Meanwhile, in the under world.").talk("ScaryMan","Look at this place. So much power flowing through the air.").talk("ScaryMan","What is this?").talk("","The man approaches a throne. He sees a woman sitting on it.").talk("ScaryMan","Ah yes, my first victim.").talk("ScaryMan","Excuse me!").talk("","Lilith spots the man, she walks over to him.").talk("Lilith","Oh my. You must be lost.","Sad").talk("ScaryMan","Quite the opposite, you see I'm here looking for brutal monsters, but instead I've found myself a beautiful woman!").talk("Lilith","I'm flattered. You know, this isn't the safest place for people from the human world.").talk("","The man points his staff to the sky.").talk("ScaryMan","I was the smartest magician in my class! Nothing can stop me!").talk("Lilith","Well, that's very impressive.").talk("ScaryMan","I could use a woman like you! For research...").talk("Lilith","I'm sorry, I'm not sure I can help you with that.","Surprise").talk("ScaryMan","I'm sorry too!").talk("","The man charges his staff. He shoots a beam of light at Lilith, forcing her to her knees.").talk("Lilith","What are you doing?!","Angry").talk("ScaryMan","Don't worry, I just need to disect every inch of your body. You are too good to be true!").talk("Lilith","(The human boys always have the same fantasies! How boring!)").talk("Lilith","No, please! I'm completely helpless!","Sad").talk("ScaryMan","That's right. Now, you'll obey me!").talk("Lilith","What do you want me to do, master?","Sad").talk("ScaryMan","Open your mouth!").talk("","The man begins to pull out his cock, before he gets a chance to pull it out, Lilith vanishes.").talk("ScaryMan","Huh?").talk("","Lilith appears next to the man. She puts her arm around his neck and forces him to walk with her.").talk("Lilith","Look, you skipped all the foreplay!","Sad").talk("ScaryMan","Hey, what are you doing?").talk("","The man tries to push Lilith away, but she holds onto him.").talk("Lilith","If you want to roleplay as a strong man dominating a girl, you'll need to do more than whip your dick out!").talk("","The man points his staff at Lilith.").talk("Lilith","Oh jeez, look. Unfortunately for you, you ran into me. And I'm not going to let you do that.").talk("","Lilith lets go of the man. He charges his staff.").talk("ScaryMan","Take this! My cum slut spell will make you hungry for my cum!").talk("","The beam of light hits Lilith.").talk("Lilith","Oh no! I'm so hungry for cum now!").talk("","Lilith laughs at the man.").talk("ScaryMan","Well, how about this?!").talk("","The man charges his staff.").talk("ScaryMan","My bimbo spell will prime your body to be my perfect little sex doll!").talk("","The beam of light hits Lilith, her appearance is unchanged.").talk("Lilith","Oh, would you look at that. Looks like I'm already perfect!","Happy").talk("ScaryMan","What the heck are you?!").talk("Lilith","I'm a succubus! And I know a few tricks too!").talk("","Lilith flies into the man, picking him up and tying his hands together.").talk("ScaryMan","Let go of me!").talk("Lilith","Why? It's my turn to roleplay!").talk("","Lilith lays the man down and sits on top of him.").talk("Lilith","Here, you can roleplay as a defenseless little elf boy.").talk("Lilith","And I'll be the dominant demon mommy coming for that cock!").talk("","Lilith gets on her hands and knees, she parallels the man.").talk("ScaryMan","Get away from me! I don't want to roleplay!").talk("Lilith","What's wrong honey? Scared a little sex?","Sad").talk("","Lilith pulls out a knife and stabs the ground next to the man's head.").talk("ScaryMan","Woah, woah! What the fuck is that?").talk("Lilith","Do you not like my toys? They make the roleplay better.","Sad").talk("ScaryMan","No, I don't like your fucking kni-").talk("","Lilith pulls out her knife and tries to stab the man's face again. He dodges it.").talk("ScaryMan","No, I don't like this at all!").talk("Lilith","Come on, it's just a little roleplay! I am a demon afterall!","Happy").talk("ScaryMan","Let me go, at once!").talk("Lilith","Fine, but you have to say the safe words.").talk("","Lilith tries to stab the man again, but she purposely makes it easy to avoid.").talk("ScaryMan","Please! Just tell me the safe words!").talk("Lilith","The safe words are...").talk("","Lilith raises her knife. She points it at the man's heart.").talk("Lilith",'"I am your little whore!"').talk("ScaryMan","I am your little whore!").talk("ScaryMan","Please, don't hurt me! I am your little whore!").talk("","The man has tears coming out of his eyes. Lilith gently taps the man's cheeks.").talk("Lilith","Yes, you are!","Happy").talk("","Lilith stands up. She unties the man and throws him his staff.").talk("Lilith","I suggest you leave, before you run into someone other than me.").talk("ScaryMan","Yes, I'll leave! I'm sorry!").Fade().completeQuest("getBooks","End"),t.addBranch("lilithQuestScaryMan").Fade().setBackground("BlackBackground").talk("","In a castle, far away...").talk("","A man jumps out of a portal. The portal closes behind him.").talk("ScaryMan","Good lord! What a weird girl!").talk("ScaryMan","I would kill for a taste of that demon pussy!").talk("","The man pulls out a notebook.").talk("ScaryMan","Looks like I was still able to get enough information to create my own monsters.").talk("ScaryMan","Let me try to create something that'll please the ladies.").talk("ScaryMan","A monster that will help me hunt down the perfect woman!").talk("","The man waves his staff around.").talk("ScaryMan","Something big and scary!!").talk("","The man laughs as he conjures up a monster.").talk("ScaryMan","Alas! My minion!").talk("","A 3 foot tall monster appears in front of him.").talk("ScaryMan","What the? That's not big!").talk("","The monster opens his mouth, revealing a large tongue.").talk("Monster","...").talk("ScaryMan","Oh my! That'll definitely please the ladies.").talk("ScaryMan","Alright my minion! Go find me some women!").talk("","The monster tilts his head.").talk("ScaryMan","Girls! I'm horny!").talk("","The man thrusts his pelvis back and forth.").talk("","The monster looks at the man and understands what he is trying to say.").talk("","The monster runs out of the castle.").talk("ScaryMan","I hope he got that...").Fade().completeQuest("lilithQuest","ScaryMan"),t.addBranch("scarlettBoredTitFuckStart").Fade().talk("Queen","Ladies, I think we need a break!","Happy").talk("Queen","We've been through too much the past few days.").talk("Queen","How about we split up and do our own thing for a while?").talk("Suki","Sure, sounds fun.").talk("Esxea","My own thing, huh?","Surprise").talk("Esxea","... maybe I'll visit the orcs.").talk("Ardura","Esxea, they might think you're food.","Sad").talk("Queen","Let's all meet back here tonight?").talk("Scarlett","You girls go ahead. We all know what happens when we leave the house.","Sad").talk("Scarlett","I'll stay here and relax.").talk("","A client knocks on the door.").talk("Queen","Sorry, closed today!","Happy").talk("","The client keeps knocking.").talk("Queen","Ugh...","Sad").talk("","Queen opens the door. The client points at Scarlett's tits.").talk("Scarlett","Oh jeez, interrupting us for a tit fuck?","Sad").talk("Scarlett","Fine, but I'm not taking my shirt off.","Sad").talk("","The client pulls out his cock and runs to Scarlett. He tosses a bag of gold at Queen.").talk("Queen","Alright, no one get in trouble, okay?").talk("Suki","No promises!").talk("","Suki walks out the door.").Fade().completeQuest("scarlettBoredTitFuck","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("hornyBorisBossEasy").addBranch("root",!0);t.setBackground("GreenhavenBackground").Function((()=>new Promise((t=>{let e=new BattleClient("",10,[new BattleClientTypeSpeedy,new BattleClientTypeTrapper(30,6e3,1e3,-.5)],"Pussy",2e4,"ClientBorderBoris"),i=new Battle(GAME.girl.getUnlocked());i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).ifLastAnswer(!0,"round2").ifLastAnswer(!1,"round1fail"),t.addBranch("round2").talk("Queen","Did we do it?","Surprise").talk("","Boris starts to glow even brighter.").talk("","Boris jumps on top of Queen and starts to fuck her mouth.").playAnimation("forestBeastThroat").talk("","The greenhaven residents begin to glow purple and start walking towards the girls.").talk("Suki","Hey Queen! There seems to be more people coming our way!","Surprise").Function((()=>new Promise((t=>{let e=new BattleClient("",17,[new BattleClientTypeSwitcher(["Throat","Pussy"]),new BattleClientTypeTrapper(20,6e3,1e3,-.5),new BattleClientTypeSummoner([new BattleClient("",6,[new BattleClientTypeCummer],"Throat",8e3,"ClientBorderG1"),new BattleClient("",5,[new BattleClientTypeCummer],"Pussy",8e3,"ClientBorderG2"),new BattleClient("",6,[new BattleClientTypeCummer],"Pussy",8e3,"ClientBorderG3"),new BattleClient("",5,[new BattleClientTypeCummer],"Throat",8e3,"ClientBorderG4")],10)],"Throat",6e4,"ClientBorderBoris"),i=new Battle(GAME.girl.getUnlocked());i.addClient(e),i.addClients([new BattleClient("",10,[new BattleClientTypeSpeedy],"Throat",8e3,"ClientBorderG1"),new BattleClient("",7,[new BattleClientTypeCummer],"Pussy",8e3,"ClientBorderG2"),new BattleClient("",10,[new BattleClientTypeSpeedy],"Pussy",8e3,"ClientBorderG3"),new BattleClient("",7,[new BattleClientTypeCummer],"Throat",8e3,"ClientBorderG4")]),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).returnLastAnswer(),t.addBranch("round1fail").return(!1),GAME.dialogue.addDialogueTree("mushroomQuestBossEasy").addBranch("root",!0).Function((()=>new Promise((t=>{let e=GAME.girl.getUnlocked();!1===GAME.girl.Esxea.isUnlocked()&&e.push("Esxea");for(let t of e)GAME.girl[t].gainStamina(3,!0);let i=new Battle(e,"Easy");i.addClients([new BattleClient("",10,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo1"),new BattleClient("",11,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Pussy",2e4,"ClientBorderGo2"),new BattleClient("",12,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Anal",2e4,"ClientBorderGo3"),new BattleClient("",13,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Tits",2e4,"ClientBorderGo4"),new BattleClient("",14,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Tits",2e4,"ClientBorderGo1"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Tits",2e4,"ClientBorderGo2"),new BattleClient("",16,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Pussy",2e4,"ClientBorderGo3"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo4"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Pussy",2e4,"ClientBorderGo1"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo3"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Anal",2e4,"ClientBorderGo2"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Anal",2e4,"ClientBorderGo4"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Tits",2e4,"ClientBorderGo2"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Tits",2e4,"ClientBorderGo1"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo3"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo2"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo4"),new BattleClient("",15,[new BattleClientTypeSwitcher,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo1"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo2"),new BattleClient("",16,[new BattleClientTypeSwitcher,new BattleClientTypeSpeedy,new BattleClientTypeMudder],"Throat",2e4,"ClientBorderGo3")]),GAME.battle.startBattle(i).then((i=>{!1===GAME.girl.Esxea.isUnlocked()&&(GAME.girl.currentGirl="Queen");for(let t of e)GAME.girl[t].setStamina(0);t(i)}))})))).returnLastAnswer();let e=GAME.dialogue.addDialogueTree("kingsQuestBossEasy").addBranch("root",!0);e.setBackground("AviaBackground").Function((()=>new Promise((t=>{let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",10,[new BattleClientTypeEdger,new BattleClientTypeLactater],"Pussy",16e3,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeLactater],"Throat",16e3,"ClientBorderG1"),new BattleClient("",10,[new BattleClientTypeEdger,new BattleClientTypeLactater],"Throat",16e3,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeLactater],"Anal",14e3,"ClientBorderG3"),new BattleClient("",10,[new BattleClientTypeEdger,new BattleClientTypeLactater],"Tits",14e3,"ClientBorderE2"),new BattleClient("",10,[new BattleClientTypeLactater],"Tits",1e4,"ClientBorderG2"),new BattleClient("",10,[new BattleClientTypeEdger,new BattleClientTypeLactater],"Pussy",1e4,"ClientBorderG4")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"round2").ifLastAnswer(!1,"round1fail"),e.addBranch("round2").talk("","The guard's cocks throb heavily.").talk("Queen","They look like they're about to explode!").talk("","The guards hold back their cum til the last second.").Function((()=>new Promise((t=>{let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",35,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],"Tits",12e3,"ClientBorderE1"),new BattleClient("",35,[new BattleClientTypeCummer,new BattleClientTypeLactater],"Pussy",13e3,"ClientBorderG1"),new BattleClient("",35,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],"Throat",14e3,"ClientBorderE3"),new BattleClient("",35,[new BattleClientTypeCummer,new BattleClientTypeLactater],"Anal",15e3,"ClientBorderG3"),new BattleClient("",35,[new BattleClientTypeCummer,new BattleClientTypeLactater],"Tits",16e3,"ClientBorderE2"),new BattleClient("",35,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],"Pussy",17e3,"ClientBorderG2"),new BattleClient("",35,[new BattleClientTypeCummer,new BattleClientTypeLactater],"Throat",18e3,"ClientBorderG4"),new BattleClient("",35,[new BattleClientTypeCummer,new BattleClientTypeLactater],"Anal",19e3,"ClientBorderE1"),new BattleClient("",50,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderE2"),new BattleClient("",50,[new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderG4"),new BattleClient("",50,[new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderE2"),new BattleClient("",50,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderG4"),new BattleClient("",50,[new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderG1"),new BattleClient("",60,[new BattleClientTypeEdger,new BattleClientTypeCummer,new BattleClientTypeLactater],chance.pickone(skills),12e3,"ClientBorderE3")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).returnLastAnswer(),e.addBranch("round1fail").return(!1);let i=GAME.dialogue.addDialogueTree("orcBossEasy").addBranch("root",!0);i.setBackground("MountainsBackground").Function((()=>new Promise((t=>{for(let t of GAME.girl.getUnlocked())GAME.girl.getGirl(t).setNaked(!0),"Ardura"===t&&GAME.girl.getGirl(t).setNaked(!1);let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO1"),new BattleClient("",10,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO2"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO3"),new BattleClient("",10,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO4"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO3"),new BattleClient("",30,[new BattleClientTypeBigCock],"Anal",15e3,"ClientBorderO2"),new BattleClient("",40,[new BattleClientTypeBigCock],"Anal",2e4,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO1")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"round2").ifLastAnswer(!1,"round1fail"),i.addBranch("round2").cumOn(["Queen","Suki","Esxea","Scarlett"],"Throat",4).talk("","An orc finishes cumming into Queen's mouth.").talk("Queen","There!").talk("Queen","The last one. We're done!").talk("Ardura","I can't believe it. No, this can't be true!","Angry").talk("Ardura","We're missing someone, I know it! EVERYONE GET OUT HERE NOW!","Angry").talk("","All of the orcs have passed out after fucking the girls.").talk("Ardura","Grr...","Angry").talk("Queen","You're mine now Ardura!").talk("","The girls hear loud footsteps headed their direction.").talk("Ardura","Huh?").talk("","Mog makes it back to the camp site. There are a group of wild orcs surrounding him.").talk("Ardura","Mog! What's going on?!").talk("","Mog and the orcs have a purple aura around them.").talk("Queen","Uh oh... this is the worst time...","Sad").talk("Suki","They got the purple horny aura around them!","Angry").talk("","Mog runs up to Ardura and rips off her armor.").setNaked("Ardura",!0).talk("Ardura","Mog what are you doing?!","Angry").talk("Queen","Ardura! Mog is possessed! The purple stuff is making him horny!").talk("Ardura","Horny?! What kind of-","Surprise").talk("Queen","You have to make him cum to stop him!").talk("","The wild orcs grab the girls. Their cocks are bigger and wider than the previous.").talk("Ardura","Make him cum?! Is that how we win this?","Angry").talk("Queen","Please help us make them cum!").talk("","The wild orc jams his cock into Queen's asshole. Her belly bulges out.").talk("Ardura","I don't know who these orcs are, but I declare war!","Angry").talk("Ardura","and I've never lost a battle in my life!","Angry").talk("","Ardura pushes back onto Mog, fitting his entire cock into her asshole.").Function((()=>new Promise((t=>{let e=GAME.girl.getUnlocked();!1===GAME.girl.Ardura.isUnlocked()&&e.push("Ardura");let i=new Battle(e,"Easy");i.addClients([new BattleClient("",15,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",15,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Throat",2e4,"ClientBorderO2"),new BattleClient("",15,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Throat",2e4,"ClientBorderO3"),new BattleClient("",15,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO4"),new BattleClient("",20,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO3"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO2"),new BattleClient("",25,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Anal",2e4,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Anal",2e4,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",15,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",15,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Throat",2e4,"ClientBorderO2"),new BattleClient("",15,[new BattleClientTypeBigCock],"Anal",1e4,"ClientBorderO4"),new BattleClient("",20,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO3"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO2"),new BattleClient("",25,[new BattleClientTypeBigCock,new BattleClientTypeCummer],"Anal",2e4,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock],"Anal",12e3,"ClientBorderO1"),new BattleClient("",20,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1"),new BattleClient("",23,[new BattleClientTypeBigCock,new BattleClientTypeBreaker],"Anal",2e4,"ClientBorderO1")]),GAME.battle.startBattle(i).then((e=>{!1===GAME.girl.Ardura.isUnlocked()&&(GAME.girl.currentGirl="Queen"),t(e)}))})))).returnLastAnswer(),i.addBranch("round1fail").return(!1);let a=GAME.dialogue.addDialogueTree("demonBossEasy").addBranch("root",!0);a.setBackground("HellBackground").Function((()=>new Promise((t=>{let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Throat",2e4,"ClientBorderE1"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Tits",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Pussy",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Anal",2e4,"ClientBorderE4"),new BattleClient("",20,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderE1"),new BattleClient("",40,[new BattleClientTypeSubordinate(30),new BattleClientTypeEdger],"Tits",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Pussy",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(30),new BattleClientTypeEdger],"Anal",2e4,"ClientBorderE4")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"round2").ifLastAnswer(!1,"round1fail");let n=a.addBranch("round2").talk("Lilith","Oh, you girls sure are making it look easy.","Sad").talk("Lilith","Only 100 minotaurs left!").Function((()=>new Promise((t=>{let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",40,[new BattleClientTypeSubordinate(10)],"Throat",2e4,"ClientBorderE1"),new BattleClient("",20,[new BattleClientTypePassive],"Tits",2e4,"ClientBorderE2"),new BattleClient("",20,[new BattleClientTypePassive],"Pussy",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Anal",2e4,"ClientBorderE4"),new BattleClient("",20,[new BattleClientTypePassive],"Tits",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Pussy",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(30),new BattleClientTypeEdger],"Throat",2e4,"ClientBorderE4")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"round3").ifLastAnswer(!1,"round2fail");n.addBranch("round3").talk("","Lilith siphons dark energy into each minotaur. Their cocks grow bigger.").talk("Lilith","Sorry, I hope you don't mind them a little bigger!").Function((()=>new Promise((t=>{let e=new Battle(GAME.girl.getUnlocked(),"Easy");e.addClients([new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeBigCock],"Throat",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeBigCock],"Throat",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer,new BattleClientTypeBigCock],"Throat",1e4,"ClientBorderE1"),new BattleClient("",40,[new BattleClientTypeSubordinate(30),new BattleClientTypeBigCock],"Throat",2e4,"ClientBorderE1"),new BattleClient("",30,[new BattleClientTypePassive,new BattleClientTypeBigCock],"Pussy",2e4,"ClientBorderE2"),new BattleClient("",30,[new BattleClientTypePassive,new BattleClientTypeBigCock],"Throat",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Anal",2e4,"ClientBorderE4"),new BattleClient("",10,[new BattleClientTypeCummer],"Throat",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Anal",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20),new BattleClientTypeBigCock],"Tits",2e4,"ClientBorderE4")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).returnLastAnswer();n.addBranch("round2fail").return(!1),a.addBranch("round1fail").return(!1)})(),(()=>{let t=GAME.dialogue.addDialogueTree("ClothesShop");t.addBranch("openClothesShop").return("openClothesShop"),t.addBranch("root",!0).Function((()=>new Promise((t=>{!1===GAME.quest.isComplete("worldQuests","firstVisitCassie")?t("firstVisitCassie"):t()})))).ifLastAnswer("firstVisitCassie","firstVisitCassie").QuestPicker("TownClothesShop","Hey girl!","Cassie").returnLastAnswer().addBranch("firstVisitCassie").talk("Cassie","Oh my god hey!!!").talk("Cassie","I love the outfit!! You're the new girl huh? Psst... I heard about what you're doing here.").talk("","Cassie giggles.").talk("Queen","Thanks, um yeah your outfit looks great too.","Sad").talk("Cassie","Really!? Wow, you can have it if you want?! I have a whole lot more!").talk("","Cassie begins to take off her shirt.").talk("Queen","No, no! It's okay. I'll keep my clothes.","Sad").talk("Cassie","Oh okay!").completeQuest("worldQuests","firstVisitCassie"),(()=>{let e=t.addBranch("ariettaQuestGetClothes").talk("Cassie","Hey girls! I have some new clothes for you to try on!").talk("Suki","Not today, where's the boy clothes at?").talk("Cassie","Boy clothes? Uhhh, over there.").talk("Queen","Sorry, Cassie do you mind if we borrow some clothes? We'll bring them back.").talk("Cassie","Sure whatever! I don't care about the boy section.").talk("",'Suki grabs a shirt that has the phrase "Pussy Magnet" written on it.').talk("Suki","Check this out! Girls can't resist this!").talk("Scarlett","Good lord...","Sad").talk("Queen","Suki quick, grab some clothes. Let's not waste time.").talk("Cassie","Hey Scarlett!").talk("Cassie","I really love your body, mind if I make some clothes for ya?").talk("Scarlett","Oh finally, someone acknowledges my royalty.","Happy").talk("Scarlett","Cassie. Sometimes I don't feel princess-y enough around here you know what I mean?").talk("Cassie","Nope!").question(["Make me something sexy! (+ Morals)","Make me something that accentuates my body! (- Morals)"],!1,"What should Scarlett say?","Scarlett").ifLastAnswer(1,"praise").ifLastAnswer(2,"degrade");e.addBranch("praise").talk("Scarlett","How about you make me something sexy to torment the boys with!","Happy").talk("Scarlett","Give them something to talk about! There's a new girl in town!").talk("Cassie","Some sexy princess clothes huh? Say no more!").talk("","Cassie slams her desk drawers open and pulls out some fabric.").talk("Scarlett","Thank you!").talk("Cassie","Yup! Give me a few days!").talk("","Queen walks around the clothes shop. An outfit catches her eye. She throws it into Suki's pile of clothes.").talk("Suki","Alright I'm done!","Happy").talk("Queen","Queen runs her eyes across the strange assortment of clothes Suki has picked out.").talk("Queen","Uhh, are you sure?","Sad").talk("Suki","Oh yeah! Come on let's go!").talk("Queen","Eh, okay. I trust ya!").talk("Queen","Cassie we'll bring these back later okay?").talk("Cassie","Don't care!").talk("","The girls leave the clothes shop.").completeQuest("ariettaQuest","GetClothes",!0),e.addBranch("degrade").talk("Scarlett","How about you make me something that accentuates my perfect body!","Happy").talk("","Scarlett runs her hands against her waist and breasts.").talk("","Cassie's eyes widen, she focuses on Scarlett's breasts.").talk("Cassie","Wow, if you say so!").talk("","Cassie slams her desk drawers open and pulls out some fabric.").talk("Scarlett","Thank you!").talk("Cassie","Yup! Give me a few days!").talk("","Queen walks around the clothes shop. An outfit catches her eye. She throws it into Suki's pile of clothes.").talk("Suki","Alright I'm done!","Happy").talk("Queen","Queen runs her eyes across the strange assortment of clothes Suki has picked out.").talk("Queen","Uhh, are you sure?","Sad").talk("Suki","Oh yeah! Come on let's go!").talk("Queen","Eh, okay. I trust ya!").talk("Queen","Cassie we'll bring these back later okay?").talk("Cassie","Don't care!").talk("","The girls leave the clothes shop.").completeQuest("ariettaQuest","GetClothes",!1)})(),(()=>{let e=t.addBranch("scarlettDressCowStart").talk("Cassie","Scarlett! I have a gift for you!").talk("Scarlett","Yay! Is it that outfit from before?").talk("Cassie","Absolutely, here go try it on!").talk("","Scarlett walks into the dressing room with her new clothes.").talk("","After a moment, she comes out of the dressing room.").Function((()=>new Promise((t=>{GAME.quest.isComplete("scarlettDressCow","Hucow")?t("hucow"):GAME.quest.isComplete("scarlettDressCow","Dress")&&t("dress")})))).ifLastAnswer("hucow","hucow").ifLastAnswer("dress","dress").equipClothes("Scarlett","DefaultScarlett",!0).completeQuest("scarlettDressCow","Start").completeQuest("scarlettDressCow","End");e.addBranch("hucow").completeQuest("scarlettDressCow","GetHucow").equipClothes("Scarlett","HucowScarlett",!0).talk("Scarlett","Cassie, why did you make me look like a cow?","Sad").talk("Cassie","You said you wanted me to accentuate your body!").talk("Cassie","and how do I do that without showing off your two milkers?").talk("Scarlett","...","Sad").talk("Scarlett","I suppose this is how the men see me as anyways.").talk("Cassie","Great! So do you love it?!").talk("Scarlett","Let me wear it around town and see what reactions I get before I answer that question."),e.addBranch("dress").completeQuest("scarlettDressCow","GetDress").equipClothes("Scarlett","RabbitDressScarlett",!0).talk("Scarlett","Cassie, I look amazing!","Surprise").talk("Cassie","I knew you'd like this one!").talk("Scarlett","The boys are going to drop dead once they see me in this.").talk("Cassie","Hey don't kill all your customers!").talk("Scarlett","I'll try my best not to!")})()})(),(()=>{let t=GAME.dialogue.addDialogueTree("TownMayor");t.addBranch("root",!0).QuestPicker("TownMayor","How can I help?","Mayor");t.addBranch("sukiQuestStart").talk("Mayor","Queen! How is Greenhaven?").talk("Queen","Do you happen to know where I could find more girls that might want to work in the brothel with me?").talk("Mayor","More girls? Hmm...").talk("Mayor","Have you tried the school?").talk("Queen","You want me to find whores at a school?").talk("Mayor","Yes! New rising stars! You have to grab them early or else they'll be off becoming a doctor or something dumb like that!").talk("Queen","Okay, but I can't just walk into the school and find one...").talk("Mayor","No worries, you're young enough! Just go to the clothes shop and buy a school uniform! They're always on sale!").talk("Queen","Okay I guess I'll go do that then.").completeQuest("sukiQuest","Start"),(()=>{t.addBranch("firstVisitTown").talk("Mayor","Oh why hello there! You must be Queen, the new girl in town!").talk("Mayor","I'm the mayor of this town. Please, call me Mayor.").talk("Queen","...","Sad").talk("Queen","Wow, word sure does spread fast over here.").talk("Mayor","Absolutely! We're a nice small town, perfect for gossip!").talk("Mayor","What brings you to this town Queen?").talk("Queen","I uh...","Sad").talk("Queen","I just wanted to start my own business!","Happy").talk("Mayor","Your own business? In our small town? Very adventurous! What are you thinking?").talk("Mayor","A shoe store?").talk("Mayor","A fishing shop?").talk("Mayor","Let me guess, a book store?").talk("Queen","A brothel.").talk("Mayor","I'm sorry, did you say brothel?!").talk("Queen","Yes.").talk("Mayor","...").talk("","The mayor looks at her, confused.").talk("Mayor","Well...").talk("Mayor","I'm sure the people of Easthollow will be very excited to have their own slut!").talk("Mayor","I'm heading to my office. Feel free to come by if you have any questions.").completeQuest("worldQuests","firstVisitTown");let e=t.addBranch("townFuckQuestStart").talk("Queen","Can you help me get clients for my brothel?").talk("Mayor","Clients eh? Well you might need to advertise in town to let people know what you're doing.").talk("Queen","I don't really have any money to advertise.","Sad").talk("Mayor","Well the best advertisement is free products!").talk("Queen","Free products? I mean I guess I can give out some free blowjobs or something.").talk("Mayor","There we go! Here let me get you a sign!").talk("","The mayor pulls out a piece of cardboard and starts to write on it.").talk("Queen","Free... blowjobs...").talk("Mayor","Just hold this up! I'm sure someone will be interested.").talk("Queen","Outside like right here in town?","Surprise").talk("Mayor","Yeah! You can give some blowjobs in town, I don't mind.").talk("Queen","Well if you say so...").talk("","Queen grabs the cardboard and starts to walk out.").talk("Mayor","Good luck and let me know if it works!").Fade().talk("","Queen walks outside and towards the center of town. She awkwardly walks around holding the sign up.").talk("Queen","Free blowjobs!").playAnimation("QueenFreeBlowjobs").setBackground("QueenFreeBlowjobs").talk("Leon","Hey! What are you talking about?").talk("Queen","Huh? Oh, I'm giving out blowjobs.").talk("Leon","Really? What's the catch?").talk("Queen","I'm trying to get people to come to my brothel by giving out free blowjobs.").talk("Leon","Oh! You're a whore? That makes more sense.").talk("Queen","Yeah, would you like a free blowjob?").talk("Leon","Um... yeah. Like right here?").talk("Queen","Yeah, the mayor said we can do it right here?").talk("Leon","Okay then, why not!").talk("","Leon pulls out his cock.").removeBackground().Function((()=>new Promise((t=>{let e=new BattleClient("Leon",2,[new BattleClientTypePassive],"Throat",8e3,"ClientBorderE1"),i=new Battle(["Queen"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).ifLastAnswer(!0,"townFuckQuestStartWin1").ifLastAnswer(!1,"townFuckQuestStartLose1"),i=e.addBranch("townFuckQuestStartWin1").Flash().talk("","Leon pulls out his cock and cums on Queen's face.").talk("Leon","Man! I couldn't last any longer!").talk("Queen","Well you can come to my brothel later.").talk("Leon","You earned yourself a customer!").talk("","More men start to walk up to Queen.").talk("Leon","And I think you're about to earn some more!").talk("","One man puts his cock into Queen's mouth. The other runs his hands against her body.").talk("Queen","Just blowjobs today.","Angry").talk("E3","Open your mouth, I'm about to nut!").talk("","Queen rolls her eyes and starts to suck the man's cock.").Function((()=>new Promise((t=>{let e=new BattleClient("",2,[new BattleClientTypePassive],"Throat",12e3,"ClientBorderE4"),i=new BattleClient("",1,[new BattleClientTypeCummer],"Throat",4e3,"ClientBorderE3"),a=new Battle(["Queen"]);a.addClient(e),a.addClient(i),GAME.battle.startBattle(a).then((e=>{t(e)}))})))).ifLastAnswer(!0,"townFuckQuestStartWin2").ifLastAnswer(!1,"townFuckQuestStartLose2");e.addBranch("townFuckQuestStartLose1").popUp("You lost the first battle. Go home and go to sleep to restore you stamina and try again."),i.addBranch("townFuckQuestStartWin2").Flash().talk("","The man finishes himself off onto Queen's tongue. He rubs the remaining cum against her lip.").talk("Queen","Alright you guys done?").talk("E4","What a pretty whore. So glad she moved to Easthollow.").talk("","The men zip up their pants and walk away.").talk("","Queen spits out their cum. She notices a group of men staring at her from afar.").talk("Queen","Well hopefully they tell their friends...").talk("Queen","I'm a little tired, let's see if anyone comes to the brothel tomorrow.").Fade().completeQuest("townFuckQuest","Start"),i.addBranch("townFuckQuestStartLose2").popUp("You lost the battle. Make sure you let Queen recover stamina before fucking another person!"),t.addBranch("townFuckQuestEnd").talk("Queen","Hey Mayor, people seem to be coming to my brothel now.").talk("Mayor","That's great!").talk("Mayor","I bet you would really make a name for yourself if you did more for your customers!").talk("Queen","Huh, yeah probably. Blowjobs aren't enough.").talk("Mayor","I'm sure you'll figure out what to do!").completeQuest("townFuckQuest","End")})(),t.addBranch("alphaBlackStart").talk("Mayor","Hey Queen!").talk("Mayor","Have you considered wearing something a little more revealing?").talk("Queen","I thought this was already pretty revealing?").talk("Mayor","How about something to let people know you're open for business?!").talk("Queen","Okay, what exactly do you have in mind?").talk("Mayor","Something transparent! Have you been to the clothes shop lately? They can change the clothes you have already bought!").talk("Queen","I guess I could check it out.").completeQuest("alphaBlack","Start"),t.addBranch("alphaBlackEnd").setNaked("Queen",!1).talk("Queen","Hey how does this look?").talk("Mayor","Wow! Perfect!").talk("Queen","Yeah, you think so? It's just like being naked in public.").talk("Mayor","Well let's see if it works!").talk("","Queen and the mayor walk outside.").talk("Leon","Hey Mayor!").talk("Leon","And Queen.").talk("","Leon looks at Queen's body.").talk("Leon","Not wearing much today huh?").talk("Leon","So uh, how much does it cost to have sex with you again?").talk("Mayor","100 gold!").talk("Leon","100?!").talk("Queen","100 and we do it right here right now.").talk("Leon","A quickie and the approval from the mayor huh? I can't refuse this offer!").talk("","Leon pulls out 100 gold. The mayor grabs it.").talk("Mayor","I think you owe me 100 gold for telling you about those clothes Queen!").talk("Queen","...").talk("Mayor","Here, take 8 gold pieces. You work very hard!").talk("","The mayor tosses some gold towards Queen and walks back into his office.").talk("","Leon pulls out his cock and rubs it against Queen's crotch.").talk("Queen","Well okay hurry it up please.").talk("","Queen pulls her underwear to the side to let him in.").Function((()=>new Promise((t=>{let e=new BattleClient("Leon",2,[new BattleClientTypePassive],"Pussy",8e3,"ClientBorderE1"),i=new Battle(["Queen"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).ifLastAnswer(!0,"alphaBlackEndWin").ifLastAnswer(!1,"alphaBlackEndLose"),GAME.dialogue.addDialogueTree("alphaBlackCum").addBranch("root",!0).talk("","Leon pulls out his cock and points it towards Queen's crotch.").talk("Queen","Hey don't cum on my brand new clothes!"),t.getBranch("alphaBlackEnd").addBranch("alphaBlackEndWin").Flash().talk("","Leon cums on Queen's clothes.").playAnimation("QueenLeonAlphaBlack").setBackground("QueenLeonAlphaBlack").cumOn("Queen","Pussy",2).talk("Leon","Oh yeah your new clothes got me so horny!").talk("Queen","Aw man, I just got these!").completeQuest("alphaBlack","End"),t.getBranch("alphaBlackEnd").addBranch("alphaBlackEndLose").talk("Leon","Man these new clothes don't even get me hard!").talk("Queen","Excuse me?").talk("","Leon pulls up his pants and walks away.").talk("Queen","...").talk("Queen","Well, I think my new clothes are pretty cool!").completeQuest("alphaBlack","End"),t.addBranch("greenhavenStart").talk("Mayor","Hey Queen! You've grown quite the reputation around town!").talk("Queen","Thanks!").talk("Mayor","Look, I know you're interested in getting more clients, I was wondering if you could travel somewhere for me?").talk("Queen","Travel? How far?").talk("Mayor","Just east of here is a place called Greenhaven. The people there haven't visited Easthollow lately and I just wanted to know why. Maybe you can go over there and find out?").talk("Queen","Sure, I'll go over there. Anything to get more customers.").popUp("Greenhaven is just east of Easthollow. Click on the arrow on the map to go there!").completeQuest("greenhaven","Start").patreonPopUp(),t.addBranch("greenhavenEnd").talk("","Queen follows a dirt path that leads into a forest.").talk("","Queen walks into the forest following a dirt path.").talk("Queen","Whoever came to visit Easthollow surely didn't decide to make a pleasing path.").talk("","Queen steps on multiple loose branches as she follows the path.").talk("","Queen's foot gets stuck on a vine causing her to fall.").talk("Queen","AH!").talk("Queen","You stupid vine. How did I not see that?").talk("",'"Who goes there?!", said a voice nearby.').talk("Queen","Um... just a friend of Greenhaven. Where are you?").talk("","Queen stands up and looks around the forest.").talk("","A man jumps out from behind a tree and cuts the vine that Queen tripped on with a spear.").talk("Nirvokk","You need to be careful around here.").talk("","Queen brushes the dirt off her clothes.").talk("Queen","Hi, I'm Queen. I'm trying to get to Greenhaven, can you help me?").talk("Nirvokk","I'm Nirvokk. I can help you, but what do you want to do over there?").talk("Queen","Just looking for some more clients for my business.").talk("Nirvokk","I don't know if we can help with that... what's your business?").talk("Queen","I run a brothel.").talk("Nirvokk","A brothel?! So you want to fuck us?").talk("Queen","For money.").talk("Nirvokk","I have to introduce you to our leader!").Fade().talk("","Greenhaven, a village inside a forest.").talk("","The residents are wandering around chopping down fresh trees.").talk("","Nirvokk takes Queen into Greenhaven and walks into a hut.").talk("Nirvokk","Darrak! I have a visitor.").talk("Darrak","Ah, hello there.").talk("Queen","Hi, I'm Queen.").talk("Darrak","What brings you here?").talk("Nirvokk","She said she wants to have sex with us.").talk("Queen","For money!","Angry").talk("Darrak","A whore eh? This is perfect.").talk("Nirvokk","Our towns people have been extraordinarily horny lately. Let's just say they're like animals!").talk("Queen","Well that's good.").talk("Nirvokk","And bad. One of our locals can't quite take his hands off our girls.").talk("Nirvokk","Last night he was having sex with my wife all night. I don't even remember when he stopped.").talk("Queen","And you let him?").talk("Nirvokk","Well...").talk("Nirvokk","He looks a bit strange at night, not sure what's wrong, but I can't really get him to stop.").talk("Queen","What does your wife think?").talk("Nirvokk","She doesn't mind.").talk("Queen","That's strange. Maybe I can help?").talk("Darrak","You can try. Give him a visit. His hut is south of mine.").talk("Queen","Sure, I'll head over there right now.").popUp("You can now visit Greenhaven!").completeQuest("greenhaven","End"),t.addBranch("battleOrcsTalkToMayor").talk("Mayor","Ladies! What happened? I heard you were captured by those monsters!").talk("Queen","They won't be bothering us any more.").talk("Mayor","Amazing!").talk("Scarlett","Yeah, I have to get rid of the guards though...").talk("Mayor","What?! You're falling for their trap!").talk("Queen","Hmm... maybe?").talk("Mayor","You move those guards and they'll storm us the next day!").talk("Queen","I don't know... she kind of liked us.").talk("Suki","Yeah Queen fucked an orc!").talk("","The mayor gulps.").talk("Mayor","That thing fit inside of you?").talk("Queen","I-").talk("Queen","Well, yeah.").talk("Suki","Yeah and I'm going to try it next!","Happy").talk("Mayor","Alright, how about you keep those orcs occupied so that they don't try to steal our stuff again?").talk("Scarlett","Uhhh...").talk("Suki","Sure!").talk("Queen","I don't know if that's necessary, but we're allowed to go up the mountain so we'll make sure they don't invade okay?").talk("Mayor","Okay I'll take your word for it!").completeQuest("battleOrcs","TalkToMayor"),t.addBranch("milkShortageStart").talk("Mayor","Princess Scarlett, I need your help!").talk("Scarlett","My help?","Sad").talk("Mayor","Our University doesn't have enough funds for the cafeteria, do you think you can help out?").talk("Scarlett","Awh~ what am I? A walking money bag?","Angry").talk("Mayor","Hmm, what if we use you for publicity?").talk("Mayor","Imagine this! Princess Scarlett helping out at the local University!").talk("Mayor","Our ratings will skyrocket! Then surely someone will give us some money!").talk("Scarlett","Now that, I can do!","Happy").talk("Mayor","Great! I'll tell the cafeteria ladies that you are coming over!").completeQuest("milkShortage","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("Geoff");t.addBranch("root",!0).QuestPicker("GeoffShop","Hey, need some repairs?","Geoff");t.addBranch("upgradeHouse").Function((()=>new Promise((t=>{let e=GAME.getUpgradePayment();GAME.popUpBoard("Upgrade house for "+e+" gold?",!0).then((e=>{!0===e?GAME.upgradeHouse().then((e=>{!0===e?GAME.dialogue.talk("Geoff","Your house has been upgraded.").then((()=>{t()})):GAME.dialogue.talk("Geoff","Sorry you don't have enough gold.").then((()=>{t()}))})):t()}))}))))})(),(()=>{let t=GAME.dialogue.addDialogueTree("TownSquare"),e=(t.addBranch("root",!0).QuestPicker("TownSquare"),t.addBranch("townMoralsStart").talk("E1","Hey the whore is back for more!").talk("","A group of men walk up to Queen.").talk("Queen","Oh hey, I'll be at my brothel soon if you guys were looking for me.").talk("","A man grips Queen's soft ass cheek.").playAnimation("QueenAssGrab").setBackground("QueenAssGrab").popUp("You are able to change a girl's morals based on your answer to certain scenarios.\n\nHigh morals will make clients give girls more gold when they have sex.\nLow morals will give girls more exp when they have sex.").question(["It's going to cost extra to fuck me right now! (+ Morals)","Ugh, I guess we can do it right now... (- Morals)"],!1,"What should Queen say?","Queen").ifLastAnswer(1,"townMoralsPraise").ifLastAnswer(2,"townMoralsDegrade")),i=e.addBranch("townMoralsPraise").talk("Queen","It's going to cost extra to fuck me right now!").talk("","The men frown and pull out their wallets.").talk("E1","Hey, come on we're just trying to have some fun!").talk("Queen","That's right, 50 gold per person.").talk("","The men give Queen the gold.").talk("Queen","There we go. Now go ahead and do whatever you like.").setNaked("Queen",!0).talk("","The man gets on his knees. He pulls down Queen's panties and sticks his face into her ass cheeks.").talk("Queen","Oh!","Surprise").talk("","Another man wraps his arms around Queen and kisses her lips.").talk("Queen","This isn't too bad!").talk("","Queen kisses the man, while the other runs his tongue against her pussy.").talk("","Queen moves her hips around, helping the man find the sweet spot.").talk("E1","This girl tastes good!").talk("Queen","I think I'm getting a little too excited today!","Blush").talk("","Queen stops kissing the man and reaches down to pull out his cock.").Function((()=>new Promise((t=>{let e=new BattleClient("",3,[new BattleClientTypePassive],"Throat",12e3,"ClientBorderE1"),i=new BattleClient("",3,[new BattleClientTypePassive],"Pussy",12e3,"ClientBorderE3"),a=new Battle(["Queen"]);a.addClient(e),a.addClient(i),GAME.battle.startBattle(a).then((e=>{t(e)}))})))).ifLastAnswer(!0,"townMoralsPraiseWin").ifLastAnswer(!1,"townMoralsPraiseLose"),a=e.addBranch("townMoralsDegrade").talk("Queen","Ugh, I guess we can do it right now...","Angry").setNaked("Queen",!0).talk("","The man slaps Queen's ass and then pulls her panties down.").talk("E1","Look at that! My own personal whore!").talk("","He quickly pulls out his hard cock and pushes it into her pussy.").talk("Queen","You guys really couldn't wait til I was back home huh?","Angry").talk("","The man starts fucking Queen quickly. Another man brings her head down towards his crotch.").talk("","Queen opens her mouth, she lets the man slide his cock against her tongue.").talk("E1","She lets us do whatever we want with her!").Function((()=>new Promise((t=>{let e=new BattleClient("",4,[new BattleClientTypePassive],"Throat",12e3,"ClientBorderE1"),i=new BattleClient("",5,[new BattleClientTypePassive],"Pussy",12e3,"ClientBorderE3"),a=new Battle(["Queen"]);a.addClient(e),a.addClient(i),GAME.battle.startBattle(a).then((e=>{t(e)}))})))).ifLastAnswer(!0,"townMoralsDegradeWin").ifLastAnswer(!1,"townMoralsDegradeLose");i.addBranch("townMoralsPraiseWin").setBackground(!1).talk("Queen","Aw, done already?","Blush").talk("","Queen rubs her clit as the men zip up their pants.").talk("Queen","You know where to find me for more later.","Blush").completeQuest("townMorals","Start",!0),i.addBranch("townMoralsPraiseLose").setBackground(!1).talk("","The men can't stay hard when fucking Queen.").talk("Queen","Aw, what happened? Am I not good enough?"),a.addBranch("townMoralsDegradeWin").setBackground(!1).talk("","A man slaps Queen's ass as he zips up his pants.").talk("Queen","Alright, done?","Angry").talk("Queen","Pervs.","Angry").completeQuest("townMorals","Start",!1),a.addBranch("townMoralsDegradeLose").setBackground(!1).talk("","The men can't stay hard when fucking Queen.").talk("Queen","Aw, what happened? Am I not good enough?");t.addBranch("battleOrcsStart").talk("Mayor","Stay back ladies!").talk("Queen","What?").talk("","The mayor is standing in his office, yelling out the window.").talk("","The girls look into the town and see a group of giant orcs walking about.").talk("Queen","What's going on?").talk("","The orcs calmly walk to and from Geoff's shop carrying wood.").talk("Mayor","We're under attack!").talk("","The mayor throws a rock at one of the orcs.").talk("","The rock hits the orc's head. He stops and looks around, confused.").talk("Queen","I don't think you're winning.").talk("Geoff","Hey hey! Don't take everything now!").talk("","Geoff is arguing with a female orc. The girls walk towards him.").talk("Ardura","You chose to live in the wrong place Geoff!","Angry").talk("Geoff","I don't want to live with you savages, it's much better over here!").talk("Suki","Hey Geoff! Is that your girlfriend?","Happy").talk("","Ardura turns toward the girls and looks down at Suki. Suki looks straight up at the towering orc above her. Suki smiles.").talk("Geoff","Uh, girls, don't upset her. She'll be out of here in no time.").talk("","Some orcs come out of Geoff's shop with a stack of wood.").talk("Queen","Hey are they taking your stuff?","Sad").talk("Geoff","Yeah, don't worry about it. It's not a big deal.").talk("","Suki puts her hand on Ardura's thigh and feels her muscles.").talk("","Ardura picks up Suki with one hand.").talk("Suki","Woah! Cool!","Surprise").talk("Ardura","I will eat you!","Angry").talk("Suki","You wouldn't be the first!").talk("Queen","Suki stop! She's twice your size!","Surprise").talk("","Ardura drops Suki to the ground.").talk("Suki","Ow...","Blush").talk("Geoff","Alright that's it. Now get out of here.").talk("","The orcs finish gathering all of the wood from Geoff's shop.").talk("Ardura","Let's get out of here.").talk("","The orcs starting marching up north towards a mountain.").talk("Mayor","And stay out!!!").talk("","The mayor throws another rock that misses the orcs.").talk("Queen","What was that about?").talk("Suki","Your girlfriend is pretty strong.").talk("Geoff","That was Ardura. She's the captain of the orcs up north.").talk("Geoff","I used to live up there, but decided to move down here.").talk("Queen","Why'd you move?").talk("Geoff","They don't know how to build themselves up. They just steal from the weak.").talk("Queen","Speaking of that, why did they take your stuff?").talk("Geoff","Ah right, I don't know. There's no trees on the mountain. Just rocks. They're just down here scouting the area.").talk("Geoff","Must have noticed I've had an influx on wood lately.").talk("Queen","That sucks.","Sad").talk("","The mayor runs out his office and towards Geoff.").talk("Mayor","Phew! Now that was a tough battle!").talk("Suki","You lost.").talk("Mayor","Wait a minute, what's the princess of Avia doing here?!").talk("Scarlett","Hello!","Happy").talk("","Scarlett stands up straight and does a royal wave.").talk("Suki","She's ours now!").talk("","Suki hugs Scarlett's arm.").talk("Mayor","Oh my gosh, you girls stole a princess?!").talk("Queen","No, she's our friend now.").talk("Mayor","Oh... Well it's an honor to be standing next to you!").talk("Mayor","Geoff, how much wood did we lose?").talk("Geoff","All of it.").talk("Mayor","That's a lot!").talk("Geoff","We're going to have to wait for the next batch from Greenhaven before I continue production.").talk("Mayor","I didn't expect them to come so early!").talk("Queen","The orcs come here a lot?").talk("Mayor","Oh yeah, every couple of months. They don't take much, but this time they wanted all of our wood!").talk("Queen","Have you considered not letting them take it.").talk("Mayor","Not letting them take it? What? Have you seen how big they are?!").talk("Mayor","One step towards them and I'd be toast!").talk("Suki","I don't know, I got pretty close.").talk("Mayor","You know what, maybe Queen's right! We can't let these dumb orcs push us around!").talk("Mayor","No offense Geoff.").talk("Geoff","...").talk("Queen","What are you going to do? Fight them?").talk("Mayor","Yeah I'll fight them! I mean, I'll have someone else fight them!").talk("Mayor","Do we have any soldiers in Easthollow?").talk("Queen","Shouldn't you know that?").talk("Mayor","Ah right, uhh...").talk("Mayor","No, I don't think we have any.").talk("Mayor","Would you girls like to join Easthollow's first ever army?!").talk("Queen","No thank you.").talk("Suki","We'll pass.").talk("","The mayor looks around, his eyes stop at Scarlett.").talk("Mayor","Wait a minute! Princess Scarlett! How about you lend a hand?").talk("Scarlett","Eh? I don't want to fight.","Sad").talk("Mayor","No! How about you lend us some troops? I know Avia has a bunch!").talk("Scarlett","Oh... I don't know, I'd have to ask my dad.").talk("Queen","What happens if he says no?").talk("Mayor","Hm...").talk("Mayor","I don't know! I guess we'll have to be slaves to the orcs for the rest of our lives!").talk("","The mayor laughs.").talk("Scarlett","Oh god...","Sad").talk("Scarlett","Okay. If I'm living here now, I might as well help.").talk("Mayor","Wow! Amazing! Please do!").talk("Geoff","I don't know, I can't imagine you'd be able to break through their defense.").talk("Mayor","Nonsense! Avia has the best army you will ever see!").talk("Geoff","Alright...").talk("Scarlett","I'll go ask him I guess...","Sad").completeQuest("battleOrcs","Start");(()=>{let e=t.addBranch("mountainTrainingEasthollowTraining").talk("Queen","Alright this shouldn't be too bad.").talk("Queen","Free asshole! Fuck me in the ass!").talk("Scarlett","That's not very elegant.","Sad").talk("","Queen and the girls take off their clothes.").setNaked(["Queen","Suki","Esxea","Scarlett"],!0).talk("","A group of men walk up to the girls.").talk("Leon","Queen! Free assholes today huh? Don't mind if I do!").question(["Make the boys use lube (+ Morals all girls)","Don't use lube (- Morals all girls)"],!1,"What should Queen do?","Queen").ifLastAnswer(1,"lube").ifLastAnswer(2,"nolube").Function((()=>new Promise((t=>{let e=new Battle(["Queen","Suki","Esxea","Scarlett"],"Easy");e.addClients([new BattleClient("",10,[new BattleClientTypePassive],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE2"),new BattleClient("",10,[new BattleClientTypeSpeedy],"Anal",1e4,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeEdger],"Anal",1e4,"ClientBorderE4"),new BattleClient("",10,[new BattleClientTypePassive],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypePassive],"Anal",1e4,"ClientBorderE4"),new BattleClient("",10,[new BattleClientTypePassive],"Anal",1e4,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE2"),new BattleClient("",10,[new BattleClientTypePassive],"Anal",1e4,"ClientBorderE3")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win").ifLastAnswer(!1,"lose"),i=e.addBranch("win").talk("","More men start to line up. The girl's assholes have been stretched.").talk("Queen","Alright, I think we can finish up here. Their cocks aren't stretching my asshole any wider.").talk("","The girls get up.").talk("Scarlett","I need a break!").talk("Queen","Yeah we're done here. Let's try Greenhaven tomorrow later...").setNaked(["Queen","Suki","Esxea","Scarlett"],!1).Function((()=>new Promise((t=>{t(GAME.dialogue.getDialogueTree("TownSquare").getBranch("mountainTrainingEasthollowTraining").getLastAnswer(1))})))).ifLastAnswer(1,"upMorals").ifLastAnswer(2,"downMorals");i.addBranch("upMorals").completeQuest("mountainTraining","EasthollowTraining",!0),i.addBranch("downMorals").completeQuest("mountainTraining","EasthollowTraining",!1),e.addBranch("lose").talk("Queen","Ugh, this is harder than I expected."),e.addBranch("lube").talk("Queen","Yeah, don't be so rough okay?").talk("Leon","You got it!").talk("","Leon spits on his cock. He pushes his cock into her asshole.").talk("Leon","Oh yeah Queen you have a great ass!").talk("Queen","Yeah yeah, just get to fucking."),e.addBranch("nolube").talk("Queen","Yeah free assholes today.").talk("","Leon quickly pulls out his cock and shoves it into her asshole.").talk("Queen","Ah!","Surprise").talk("Leon","Oh sorry, did that hurt?").talk("Queen","It's fine...").talk("","Leon slaps her ass and continues to use her body.")})(),t.addBranch("natashaEasthollowAnalStart").setNaked("Natasha",!1).talk("Leon","Hey! Elf girl!").talk("Natasha","Oh hey, me?").talk("Leon","Yeah! I saw you at Queen's the other day. Welcome to Easthollow!").talk("Natasha","Thanks!").talk("","Natasha stares at Leon's muscles.").talk("Leon","How are you liking it so far?").talk("Natasha","Well, you know, I haven't really gotten a good look of the area.").talk("Leon","Really? How about we take a walk together?").talk("Natasha","That would be great!","Blush").talk("","Leon and Natasha walk over to Geoff's shop.").talk("Leon","Here's Geoff's shop. This man builds the best houses in the entire world!").talk("Natasha","How impressive!").talk("Geoff","Leon, please leave me alone.").talk("Leon","Haha! What a funny guy.").talk("Leon","Let's visit the Mayor, he's much more friendly.").talk("","Leon and Natasha knock on the Mayor's door.").talk("Mayor","Hello!").talk("Mayor","Oh, Queen's friend. Nice to meet you.").talk("Natasha","Hi! I'm Natasha.").talk("Leon","I'm giving Natasha a tour of Easthollow. She came from Trasonia!").talk("Mayor","Trasonia?! I haven't heard of that place in years!").talk("Mayor","It is an honor.").talk("Natasha","Thanks, but I wasn't there for very long.").talk("Mayor","Right. You were probably too smart! Queen always picks the best ones to join her!").talk("Natasha","Something like that.").talk("Leon","Well, I'm going to continue Natasha's tour.").talk("Mayor","See you around!").talk("","Leon and Natasha walk to the clothes shop.").talk("Leon","Here's the clothes shop! Maybe, I can spot you a few gold for something nice?").talk("","Leon nudges Natasha. Natasha's mouth salivates.").talk("Natasha","(Wow, this boy is being so nice to me! I should say something back!)","Blush").talk("Natasha","No, thank you. I don't wear clothes.").talk("Natasha","(I don't wear clothes?!)","Surprise").talk("Natasha","I mean, I'm usually naked all day long.","Sad").talk("Natasha","I mean! My clothes don't matter!","Surprise").talk("Natasha","(AHHHHHH!)","Surprise").talk("Leon","You're a funny girl, Natasha!").talk("Natasha","(Oh my gosh, he thinks I was joking!)","Happy").talk("Natasha","Thanks.").talk("Leon","Maybe I'll come visit Queen's more often!").talk("Natasha","Or we could do it right here?").talk("Leon","I...").talk("Leon","I meant, to hang out. Not to go to the brothel.").talk("Natasha","Oh!","Surprise").talk("Natasha","Oh no! We can do that too!","Sad").talk("Natasha","I was just saying um...","Sad").talk("Natasha","You know, guys always come over and...","Sad").talk("Natasha","We don't really 'hang out' if you know what I mean...","Sad").talk("Natasha","Well, sometimes they hold me upside down and-","Sad").talk("Natasha","That's kind of like hanging out-","Sad").talk("Natasha","Because I'm hanging upside down and sucking their-","Sad").talk("","Leon pulls out his cock.").talk("Leon","Natasha, did you want to have sex?").talk("Natasha","Oh my!","Blush").talk("Natasha","Well, since it's already out, I might as well give it a quick taste.","Blush").talk("","Natasha gets on her knees in the middle of the town. She can't help, but rub her tongue against shaft.").talk("Natasha","Are we going to get in trouble?","Sad").talk("Leon","No way! I've banged Queen plenty of times right here!").talk("Natasha","Okay!","Happy").talk("","Natasha takes off her clothes.").setNaked("Natasha",!0).talk("","Leon picks up Natasha and holds her up against the clothes shop wall.").talk("","Natasha wraps her arms around Leon.").talk("Natasha","(What an intimate position! I think he really likes me!)","Blush").talk("","Leon slides his cock into Natasha. She exaggerates a moan. Leon kisses Natasha.").talk("Natasha","(Wow! A kiss! People usually only use my mouth for blowjobs!)").talk("","Leon picks up the pace. Natasha slobbers over Leon's mouth.").talk("Natasha","So, we're like friends now, right?","Blush").talk("Leon","Of course! Why wouldn't we be?").talk("Natasha","(Oh my gosh! He's a boy... and he's my friend.)","Surprise").talk("Natasha","(That's kind of like... a boyfriend!)","Happy").talk("Natasha","(Do I have a boyfriend?)","Surprise").talk("Natasha","(No, that was way too quick! I have to play it cool!)").talk("Leon","Mind if I try the other hole?").talk("Natasha","Sure! Anything for my bo-").talk("Natshsa","Anything for my... friend!","Happy").talk("","Leon brings Natasha down with him. He turns her around and lifts her legs up.").talk("Leon","You don't mind it being a little rough, right?").talk("Natasha","Please, plow me!","Blush").talk("","Leon puts Natasha into a full nelson position. Leon's cock slips into Natasha's ass easily.").talk("Leon","Is that okay?").talk("","Natasha salivates onto her chest.").talk("Natasha","Huh? Yeah! That's good!","Blush").talk("","Leon doesn't hesitate to pick up the pace. His cock pushes against her pussy from the inside.").talk("Natasha","(I wish I had another cock inside me!)","Blush").talk("Natasha","(No, this is an intimate moment with my boyfriend! And I am his girlfriend!)").talk("Natasha","(I am a girl, and his friend, so we're basically... you know...)","Blush").talk("","Natasha's clitoris trembles. Each thrust pushes against it, edging her.").talk("Natasha","(Oh, but imagine if I could reach my pussy right now, I would cu-!)","Blush").talk("","Leon's cock slips out of Natasha's asshole. His cock slides up and rubs against Natasha's clitoris.").talk("Natasha","Oh fuck!","Blush").talk("","Natasha points her hips up and squirts. Her face turns red.").talk("Leon","Sorry! I didn't mean to pull out.").talk("","Natasha can't muster up any words. Her clitoris is too sensitive.").talk("Leon","Let me just-").talk("","Leon puts his cock back into Natasha's asshole. Natasha arches her body forward.").talk("Natasha","MNPH-","Blush").talk("","Natasha tries to hide her pleasure. She doesn't want to scare Leon away.").talk("Leon","Everything okay?").talk("","Leon pushes his cock deep into Natasha's ass. Natasha opens her mouth and lets out a quick gasp.").talk("Natasha","I'M-OKAY!","Blush").talk("Leon","Alright, well I'm just about done.").talk("","Leon cums into Natasha's ass.").talk("Natasha","(He's filling me up!)","Blush").talk("Natasha","(My boyfriend is filling my asshole up with his big hot load!)","Blush").talk("","Natasha can't help but let out a loud moan.").talk("","Leon pulls out his cock and stands up with Natasha. Natasha leans her body against the wall.").talk("Leon","That was fun! Let's hang out again some time?").talk("","Natasha tries her hardest to stand on both feet. Her clitoris is too sensitive to walk.").talk("Natasha","Yeah! Let's-","Blush").talk("","Natasha let's out a moan. She puts her hands on her mouth.").talk("Natasha","Let's hang out again soon!","Blush").talk("Leon","Okay! See ya later!").talk("","Leon walks away.").talk("","Natasha picks up her clothes and runs back to the brothel.").talk("Natasha","I just fucked my boyfriend! That was so hot! That was so hot!!!","Blush").Fade().completeQuest("natashaEasthollowAnal","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("schoolEntrance");t.addBranch("root",!0).setBackground("SchoolBackground").talk("Queen","Looks like this is the local University. There's no reason for me to go there.").switchMap("Town");t.addBranch("clothes").setBackground("SchoolBackground").talk("Queen","I shouldn't go in there without a school uniform.").switchMap("Town")})(),(()=>{let t=GAME.dialogue.addDialogueTree("janitorsCloset");t.addBranch("root",!0).QuestPicker("JanitorsClosetButton");t.addBranch("sukiQuestFindSuki").talk("","Queen tries to open the janitor's closet door, but it is locked.").talk("","She hears a girl yelling at a boy from inside the closet.").talk("Queen","Are there students in there?").talk("","A kid runs out of the closet screaming, almost crying.").talk("Suki","You stupid dweeb! AHHH!","Angry").talk("","A girl walks out of the janitor's closet furious.").talk("Queen","What was going on in there?").talk("Suki","That nerd wouldn't give me his homework! Now I'll never pass class!","Angry").talk("","Queen notices the girl's skirt has been lifted.").talk("Queen","What did you do to the poor boy?","Surprise").talk("Suki","Who cares, who even are you? You look like you're 30!","Angry").talk("Queen","Do I really look 30?","Sad").talk("Suki","You know what, you're probably his type! You have to help me!").talk("Queen","What the, what are you talking about?").talk("Suki","That dumb kid wouldn't even have sex with me for his homework. Maybe he's into older women like you!").talk("Queen","Oh... do you do that often?").talk("Suki","You don't?!").talk("Queen","My name is Queen, what's yours?").talk("Queen","(I think I found a girl that might help me! Maybe she'll help me if I help her.)","Happy").talk("Suki","Suki, now are you going to help me?").talk("Queen","Hey I'll help you out. Where did that boy go?").talk("Suki","Oh my gosh! You're the best!","Happy").talk("Suki","His name is Daniel, he's probably in the cafeteria.").talk("Suki","Bring him to the janitor's closet! This is my go-to spot when I need to get work done!").talk("Queen","Right, yeah I'll try my best.").talk("Suki","It's lunch time. Go go go!").talk("Queen","Alright hold on, is there anything else I need to know?").talk("Suki","Just bring him back here! You keep him busy while I copy all the answers!").talk("Queen","Okay I'll be back.").completeQuest("sukiQuest","FindSuki");let e=t.addBranch("sukiQuestFuckDaniel").talk("","Queen and Suki wait outside of the janitor's closet.").talk("Suki","Are you sure he's coming?","Sad").talk("Queen","Yeah of course! I told him I don't know where the janitor's closet is.").talk("Suki","It's been 10 minutes!","Sad").talk("","Suki sees Daniel walking down the hallway.").talk("Suki","WAIT THERE HE IS!").talk("","Suki runs away and hides around the corner.").talk("Daniel","Hey Mrs. Queen. You're actually standing right next to the janitor's closet!").talk("Queen","Oh silly me! I don't know how I missed it!","Happy").talk("Queen","How about we go inside and find me some stuff to get this milk off me?").talk("","Queen opens the door and they walk in together. She closes the door behind them.").talk("Daniel","I think... there might be something-").talk("","Queen takes off her clothes.").setNaked("Queen",!0).talk("","Daniel gulps.").talk("Queen","Oh sorry, I thought I might as well take these off to make it easier to clean!").talk("Daniel","Oh right... of course...").talk("","Daniel gets an erection.").talk("","Queen rubs some milk off of her clothes and then licks her fingers while staring at Daniel.").talk("","He tries to hide his erection bulging out of his pants.").talk("Daniel","Uh-").talk("Queen","You know, the milk tasted really good today. Don't you think?").talk("","Queen puts her hand in front of Daniel's face.").talk("","Daniel looks at her and then at her hand. He sticks his tongue out and licks her finger.").talk("Daniel","Yeah, I guess it was pretty good.").talk("Queen","Yeah, I kind of want some more white milk in my mouth.").talk("","Queen puts her hand on his crotch.").talk("Daniel","Uh... what are you doing?").talk("Queen","Come on, let's see what you have down there.").talk("Queen","I want to suck all the milk out of it!").talk("","Daniel nervously takes off his pants. His small cock bounces up.").talk("Queen","Mmm, you're a big boy!").talk("","Queen gets on her knees and starts to stroke it.").Function((()=>new Promise((t=>{let e=new BattleClient("Daniel",10,[new BattleClientTypePassive],"Throat",3e4,"ClientBorderE1"),i=new Battle(["Queen"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).ifLastAnswer(!0,"sukiQuestFuckDanielWin").ifLastAnswer(!1,"sukiQuestFuckDanielLose");e.addBranch("sukiQuestFuckDanielWin").talk("","Suki barges into the room.").talk("Daniel","Ahh!").talk("Suki","What's up nerd!").talk("","Suki closes the door and pulls the test answers out of Daniel's backpack.").talk("Daniel","What are you doing?!").talk("Suki","What are you doing? You seem a little occupied.").talk("Daniel","I-").talk("","Suki sits on the bench near by and starts to copy the answers.").talk("Daniel","Tell her to stop copying my homework!").talk("Queen","Sorry, little busy.").talk("Daniel","Aren't you a teacher? Get her in trouble!").talk("Suki","What kind of teacher doesn't know where the janitor's closet is?").talk("Daniel","Huh? Who are you then?").talk("Queen","Just some new girl.").talk("Daniel","Ugh!").talk("","Suki finishes copying the homework.").talk("","Daniel turns around and faces Suki.").talk("Daniel","Give me my stuff!").talk("Suki","Fine, here. I'm done!","Happy").talk("Daniel","Hnnnng!").talk("Daniel","You owe me!").talk("Suki","Owe you what? I gave you this super hot girl, which you are ignoring right now!").talk("Daniel","I want to fuck you!").talk("Suki","Ah-").talk("Queen","Oh?").talk("Suki","Me? I'm honored, but you didn't want to fuck me earlier!").talk("Daniel","Come here!").talk("Suki","Hahaha! Okay okay, here just cum in me and let's get out of here.").talk("","Suki puts one leg up on a cabinet and flashes her pussy.").talk("","Daniel grabs Suki by the waist and awkwardly bends her down towards his cock.").talk("Suki","Hold on, I can help.").talk("","Suki grabs his cock and positions it towards her pussy.").talk("Suki","Alright, fuck me.").talk("","Daniel moves his cock towards her asshole and tries to push in.").talk("Suki","Hey! Wrong hole!","Angry").talk("","Daniel tries pushing in harder, but he isn't strong enough.").talk("Suki","Oh you perv, trying to get back at me by fucking my asshole huh?!","Angry").talk("","Daniel pushes the head of his cock into her, but can't get any farther. He awkwardly humps her.").talk("Suki","Oh geez...","Sad").talk("","Suki rolls her eyes and lets him try to fuck her.").talk("Daniel","It's too tight!").talk("Suki","Yeah I know! You're just going in raw!","Angry").talk("Suki","Just cum already so we can get this over with.","Angry").talk("Daniel","No I want to cum on your face!").talk("Suki","Wow! What are we doing this for then?","Angry").talk("","Suki pushes him back and gets on her knees.").talk("Suki","Come on now, we don't have all day.","Angry").talk("","Daniel starts to stroke his cock while looking at Suki.").Flash().cumOn("Suki","Throat",1).talk("","Daniel shoots a string of cum into Suki's eye. She flinches and turns her cheek.").talk("","She opens her other eye only to see him pointing his cock at her other eye. He shoots another load into her eye.").Flash().cumOn("Suki","Throat",1).talk("Suki","Oh my god aim for my fucking eye why don't you, are you done?").playAnimation("SukiDanielCum").talk("","She puts her hands on her eyes and tries wiping it off.").talk("Suki","You bitch-!","Angry").talk("","Daniel shoves his cock into her mouth as she tries to speak.").talk("Suki","HMNGH","Angry").talk("Daniel","Take this you devil!").talk("","He shoves his cock into her throat and shoots another load straight into her stomach.").talk("","Suki tries to bite down on his cock, but she gags. He quickly pulls out his cock and grabs his things.").talk("Suki","You bitch get back-!","Angry").talk("","Suki chokes on the cum. Daniel puts on half of his clothes and runs out the door. Suki frantically wipes her eyes.").talk("Suki","Where did he-","Angry").talk("","Suki falls on her hands and knees, coughing up his cum.").talk("Queen","Wow that boy really hates you.").talk("Suki","I'm going to rip his dick off the next time I see him!","Angry").talk("","Queen puts on her clothes.").setNaked("Queen",!1).talk("Queen","Come on, let's get you to a bathroom.").talk("","Queen guides her out of the door. As they walk out, they hear a group of boys giggling.").talk("Daniel","And then I came on her eyes! I think she liked it!").talk("","The group of nerdy boys started cheering. They see Queen and Suki walk out of the janitor's closet. Suki looks up at them with her bloodshot eyes.").talk("Daniel","Hey uhh... maybe we should get out of here!").talk("","The boys quickly run up the stairs. Queen takes her to the nearest bathroom.").talk("Queen","This might be a bad time, but I work at the local brothel.").talk("Suki","What, you're that girl?!").talk("Queen","I'm looking for another girl to join me, and you seem like someone that might be good at it.").talk("Suki","Getting paid to have sex?! That's way better than doing it for homework!").talk("Queen","Oh! I guess I didn't expect a yes, but that's great!","Happy").talk("Suki","Cool! I'm just going to drop out of school, can I move in with you?").talk("Queen","Uh, yeah I guess... I'm going to need to ask Geoff to make my house a little bigger.").talk("Suki","Yeah! Go do that! I'm sick of this place!").talk("Queen","Okay I'll go do that and then let you know when it's ready!").completeQuest("sukiQuest","FuckDaniel"),e.addBranch("sukiQuestFuckDanielLose").talk("Queen","Oh gosh, I couldn't even handle this little boy?")})(),(()=>{let t=GAME.dialogue.addDialogueTree("SchoolCafeteria");t.addBranch("root",!0).QuestPicker("CafeteriaButton");t.addBranch("sukiQuestFindDaniel").talk("","Queen walks into the cafeteria. She accidentally stands in the food line while looking around.").talk("",'"Next!"').talk("Queen","Oh... um, I'm not-").talk("","The cafeteria lady slaps some food onto a plate and hands it to her.").talk("Queen","Oh okay...").talk("","Queen sees a boy sitting by himself. He looks like the boy that ran out of the closet.").talk("","Queen grabs some milk.").talk("","Queen walks up and sits next to him. She touches her leg against his.").talk("Queen","Hey do you mind if I sit here?").talk("","Daniel flinches and then turns and looks up at her.").talk("","Daniel is a short boy, when Queen sits up, her breasts are right in front of his face.").talk("Queen","Your name is Daniel right? My friends told me about you.").talk("Daniel","Yeah... what do you want?").talk("Queen","Nothing, I've just heard great things about you and that big brain of yours!","Happy").talk("Daniel","Huh... are you a teacher?").talk("Queen","Me? Oh... yeah my name is Mrs. Queen.").talk("Daniel","That's cool.").talk("","Daniel nervously drinks his milk.").talk("Queen","Mm, yeah and I have a thing for smart boys like you!").talk("","Queen moves her skirt up and rubs her hand against her leg.").talk("","Daniel gulps.").talk("Queen","It's a little hot in here!").talk("","Queen opens the carton of milk and looks at him while she drinks.").talk("","She purposely spills some onto her chest.").playAnimation("QueenDanielMilk").setBackground("QueenDanielMilk").talk("Queen","Oh no my school uniform!","Sad").talk("Daniel","Careful!").talk("Queen","Oh gosh, do you know where I can get some cleaning supplies?","Sad").talk("Daniel","Um, I think there's some in the janitor's closet. I think I saw some earlier...").talk("Queen","I don't think I know where that is. Mind showing me?").talk("","Queen unbuttons 2 top buttons on her shirt.").talk("","Daniel gulps.").talk("Daniel","Sure, meet me in the hallway in a second, I'm still eating.").talk("","Queen puts her hand on his leg and uses it to stand up.").talk("Queen","Thanks Daniel, you're so sweet!","Happy").completeQuest("sukiQuest","FindDaniel"),t.addBranch("sukiQuestEnd").talk("Queen","Hey Suki, my house is ready.").talk("Suki","Finally! Lets go!","Happy").completeQuest("sukiQuest","End").popUp("Congratulations!\nYou have recruited another girl to your brothel."),(()=>{let e=t.addBranch("milkShortageEnd").talk("Scarlett","Hello! I'm here for the publicity stunt!").talk("Phyllis","Argh, princess here.").talk("Scarlett","What should I do? Take a picture of me holding a spoon or something?").talk("Scarlett","I can pretend I'm having a good time talking with the students!").talk("Phyllis","You, pass out milk cartons!").talk("Scarlett","Milk cartons? Uhm, okay I can do that I guess.","Sad").talk("","Scarlett walks over to the crate of milk cartons. Students start to line up for their food.").talk("Phyllis","One milk carton per student please!").talk("Scarlett","Okay okay, you don't have to yell at me.","Sad").talk("","A student gets his food from the cafeteria ladies and walks up to Scarlett for his milk.").talk("Daniel","Hi ma'am, why are you dressed up as a cow?").question(["Ignore him","Play it cool"],!1,"What should Scarlett do?","Scarlett").ifLastAnswer(1,"ignoreDaniel").ifLastAnswer(2,"playItCoolDaniel").talk("","Scarlett hands him a carton of milk. He walks away.").talk("Scarlett","There's only like 12 cartons in here, how am I supposed to give every student one?","Sad").talk("Scarlett","Hey lady! Give me some more milk!").talk("Phyllis","No can do!").talk("Scarlett","What do you mean? We're all out?").talk("Phyllis","Yes!").talk("","Scarlett passes out milk cartons as the students walk by.").talk("Scarlett","This is dumb! Just take a picture of me handing out milk or something so I can leave!","Angry").talk("","The lunch line starts to get packed. Some students voice their concerns about the milk shortage.").talk("Scarlett","Oh dear. This place really does need more money...","Sad").talk("Phyllis","Go to cow lady for milk!").talk("Scarlett","No no don't tell them that! There's no milk here!","Angry").talk("Phyllis","Cow lady cow lady!").talk("","The crowd of students surround Scarlett.").talk("Scarlett","Hello everyone, you are mistaken. There is no milk here!").talk("E1","Give us your milk!").talk("Scarlett","There is none!","Angry").talk("Scarlett","Oh jeez, why don't you go drink some water instead?","Sad").talk("","The crowd of students get angry.").talk("Scarlett","Oops, I shouldn't have made them angry. Bad publicity!","Sad").talk("E2","We want your milk!").talk("Scarlett","My milk?","Surprise").talk("Scarlett","You want these?","Surprise").talk("","Scarlett grabs her breasts. The crowd erupts with joy.").talk("Scarlett","I guess I do have an endless supply of milk on me.").talk("","Scarlett takes off her top.").setClothesStyle("Scarlett","NoTop").talk("Scarlett","I'm going to have to prep myself first!").talk("","Scarlett squeezes her beasts, trying to make herself start lactating.").question(["Ask someone for help","Do it herself"],!1,"What should Scarlett do?","Scarlett").ifLastAnswer(1,"askForHelp").ifLastAnswer(2,"doItHerself").talk("","Scarlett's breasts start to lactate.").talk("Scarlett","There we go!").talk("Scarlett","Okay who's first?").talk("","The students start to push each other aside on their way to Scarlett.").talk("Scarlett","Okay okay, no fight-").talk("","Scarlett feels a sudden rush of milk pour out of her tits. Two students squeeze on her breasts tightly and gulp it down.").talk("Scarlett","Oh my, not so fast!","Angry").talk("","Scarlett's breasts start to tingle. Her body starts producing milk faster.").talk("E1","More milk more milk!").talk("Scarlett","I'm trying!","Sad").talk("","Students take turns gulping down Scarlett's milk. Her nipples stay perked up even after all of the sucking.").talk("","One student walks up to Scarlett and runs his hands against her hips.").talk("Scarlett","Hey are you guys only doing this because it turns you on?","Angry").talk("","The student lets go of Scarlett and licks her breasts instead.").talk("Scarlett","Oh you horny boys, I had a feeling this wasn't about the milk!","Angry").question(["Stop giving them milk","Keep giving them milk"],!1,"What should Scarlett do?","Scarlett").ifLastAnswer(1,"stopMilking").ifLastAnswer(2,"keepMilking").completeQuest("milkShortage","End");e.addBranch("ignoreDaniel").talk("Scarlett","Please just take your milk and leave.","Sad").talk("Daniel","Okay..."),e.addBranch("playItCoolDaniel").talk("Scarlett","Hello peasant.").talk("Scarlett","I mean, student.").talk("Scarlett","It's not nice to talk about women's clothing okay?").talk("Daniel","Okay..."),e.addBranch("askForHelp").talk("Scarlett","Can someone help me get these tits going?").talk("","A student runs up to Scarlett.").talk("Scarlett","Can you give them a quick suck real quick-").talk("","The student doesn't hesitate to latch onto Scarlett's nipple.").talk("Scarlett","There, just keep sucking until it starts to come out.").talk("","The student licks Scarlett's nipples while continuing to suck on them.").talk("Scarlett","Jeez, you don't have to make out with them.","Sad").talk("","The crowd keeps growing. Everyone is watching Scarlett."),e.addBranch("doItHerself").talk("Scarlett","Hold on, I can do this.").talk("","Scarlett lifts her breast up and puts her nipple in her mouth.").talk("","The crowd watches in awe. Scarlett squeezes her breast as she sucks on her nipple.").talk("Scarlett","What happened? Never seen a girl suck her own nipple before?","Sad"),e.addBranch("stopMilking").talk("Scarlett","Alright that's enough!","Angry").talk("","Scarlett puts her top back on.").setClothesStyle("Scarlett",!1).talk("Scarlett","No more milk for you guys!").talk("","The crowd gets upset and leaves.").talk("Scarlett","I guess that's what happens when I help feed the poor!","Angry").setClothesStyle("Scarlett",!1);let i=e.addBranch("keepMilking").talk("Scarlett","Fine, I'll stay here until you guys are done, but make it quick!","Angry").talk("","The students start to get more touchy with Scarlett. Scarlett ignores it.").talk("E2","More milk!").talk("Scarlett","What do you want? I can't go any faster!","Angry").talk("","A student takes off his belt and wraps it around Scarlett's breasts.").setClothesStyle("Scarlett","Harness").talk("Scarlett","Oh my gosh, what are you up to?","Surprise").talk("","The student tightens the belt. Scarlett's breasts perk up.").talk("Scarlett","Oh! This really pumps the milk out faster!","Surprise").talk("","Scarlett watches as the students try to drink all of the milk pouring out.").talk("","Some students have taken off their pants and started jerking off to her.").talk("Scarlett","No different than the peasants back home...","Sad").talk("E3","Do something sexy!").talk("Scarlett","Something sexy? I'm not your toy!","Angry").question(["Moo, like a cow!","Suck on your nipples!"],!1,"What should the crowd say?","E3").ifLastAnswer(1,"moo").ifLastAnswer(2,"suckNipples").talk("","A student runs up to Scarlett and bends her forward. He points his cock at her tits and jerks off.").talk("Scarlett","Oh boy, if you cum on me this whole milk thing is over!").talk("Scarlett","Are you sure you want to do that?").talk("","The student grips Scarlett's tits and cums on her chest.").cumOn("Scarlett","Tits",2).talk("Scarlett","Whelp, I guess that's it!").talk("","Another students runs up and squeezes Scarlett's tits. Her milk pours all over his cock.").talk("Scarlett","You too? I guess this really is over.").talk("","The student points his milky cock at Scarlett's chest and cums.").cumOn("Scarlett","Tits",2).talk("","Scarlett fixes her posture.").talk("Scarlett","Whelp, sorry everyone. Looks like these two boys have ruined the milk supply!").talk("","The crowd boo's the students.").talk("","Scarlett puts her top back on.").setClothesStyle("Scarlett",!1).talk("Scarlett","Well, I'll be on my way now!");i.addBranch("moo").talk("E3","Moo, like a cow!").talk("Scarlett","Moo, like a cow?!","Surprise").talk("Scarlett","I'm not a cow!","Angry").talk("","The students jerk themselves off faster.").talk("E3","Please moo, like a cow!").talk("Scarlett","Oh dear heavens.","Sad").talk("Scarlett","Moo! I'm a cow!","Sad").talk("E3","YEAH!").talk("Scarlett","Milk my utters!","Sad").talk("","The students look like they are about to erupt.").talk("Scarlett","This is too easy.","Sad"),i.addBranch("suckNipples").talk("E3","Suck on your nipples!").talk("Scarlett","You want me to suck on my own nipples?","Surprise").talk("","Scarlett pushes her breasts up and sticks both nipples into her mouth.").talk("","Milk pours into her mouth, she lets it fall down onto her body.").talk("Scarlett","Wow, you guys really got my tits going!","Surprise").talk("","Scarlett swallows some of her milk.").talk("Scarlett","Not bad! As expected from a princess after-all.").talk("","The students furiously jerk themselves off. They look like they are about to explode.")})(),t.addBranch("arduraSchoolDoggystyleStart").setNaked("Ardura",!1).talk("Ardura","What in the world is this place?").talk("Ardura","There's people holding books and stuff!","Angry").talk("Principal","Excuse me, ma'am! You're not allowed here.").talk("Ardura","Hey buddy, I do whatever I want.","Angry").talk("Principal","Fair enough, have a good day.").talk("Ardura","I thought only those elf girls read books. They must be starting a magic school here.").talk("Ardura","Boys and girls at the same magic school? Very progressive.","Surprise").talk("Abigail","An orc? Here?! Somebody help!").talk("Ardura","I'm with Queen, and Suki, do those names ring a bell?").talk("Abigail","Ew. You're with the whores?").talk("Ardura","Those whores are my friends.","Angry").talk("","Ardura picks up Abigail by the neck.").talk("Abigail","AH-!").talk("Ardura","I thought this place would be a little more friendly.","Angry").talk("","A group of nerdy boys run up to Abigail and try to look up her skirt as Ardura holds her in the air.").talk("Abigail","PUTMEDOWN-!").talk("","Abigail moves her legs together, trying to stop the boys from seeing anything.").talk("Ardura","Looks like you have a few fans.").talk("","Ardura drops Abigail. Abigail rubs her hands against her neck.").talk("Abigail","Enjoy your stay...").talk("","Abigail walks back to her classroom.").talk("Daniel","Hey big lady! Did you say you knew Suki?").talk("Ardura","Yes.").talk("Daniel","Me and Suki used to have sex, a lot!").talk("Ardura","Ardura looks down at the nerdy kid. She looks confused.").talk("Ardura","You? A lot? You're not even in her league.").talk("Daniel","She said I was really good and we used to do it all the time!").talk("","Ardura ponders what the student is saying.").talk("Ardura","(What's so special about this boy? I can't picture him and Suki having sex. Atleast, not for fun...)","Surprise").talk("Ardura","I'm intrigued.").talk("Daniel","I can show you if you want.").talk("Ardura","(The audacity for this little twerp to ask to fuck me.)","Surprise").talk("Ardura","You've got balls kid. Show me what you got.","Angry").talk("Daniel","Okay, we used to do it in the janitor's closet.").talk("Ardura","Let's go.").Fade().talk("","Ardura and Daniel close the janitor's closet door. Ardura takes off her clothes.").setNaked("Ardura",!0).talk("","Daniel looks up at Ardura. She towers over him.").talk("Ardura","Give it to me just like you did to Suki!","Angry").talk("","Ardura gets on her hands and knees.").talk("Ardura","Can you reach, short man?").talk("","Daniel takes off his clothes and jumps onto Ardura's back.").talk("Daniel","You're so big!").talk("Ardura","Yeah yeah, get to it!").talk("","Daniel hugs Ardura. His legs dangle off the side of her hips.").talk("","Daniel gropes Ardura's breasts. He salivates on Ardura's back.").talk("Ardura","Did Suki like it when you drooled on her back?","Angry").talk("Daniel","She did! Yeah!").talk("","Daniel pushes and pulls on Ardura's breasts.").talk("Ardura","Enough with my breasts, fuck me already!","Angry").talk("","Daniel puts his cock into Ardura's pussy.").talk("","Daniel tries to wrap his legs around Ardura's hips. He cums inside her instantly.").talk("Daniel","Oh, fuck!").talk("Ardura","What happened? Are you in yet?").talk("Daniel","I-").talk("Ardura","I said, stop grabbing my breasts and fuck me already!").talk("","Ardura feels liquid fall from her pussy.").talk("Ardura","Don't tell me...","Angry").talk("","Ardura pushes Daniel off of her.").talk("Ardura","What the fuck? I didn't feel a thing! You were way too small!","Angry").talk("Daniel","Sorry!").talk("Ardura","You liar, Suki probably doesn't even fuck you!","Angry").talk("Daniel","She won't let me!").talk("Ardura","I wonder why!","Angry").setNaked("Ardura",!1).talk("","Ardura puts on her clothes and leaves the University.").Fade().completeQuest("arduraSchoolDoggystyle","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("principalsOffice");t.addBranch("root",!0).QuestPicker("PrincipalsOfficeButton","Hey, what do you want?","Principal");t.addBranch("principalFeetQuestStart").talk("Principal","Suki! It's been a while since you came back to school.").talk("Suki","Did you miss me?").talk("Principal","I miss... certain things about you. Definitely not your attitude.").talk("Suki","Well, I'm not too hard to find now.").talk("Principal","Right, your new uh... occupation... suits you well.").talk("Suki","Haha, thanks. Let me guess, you're going to come by sometime?").talk("Principal","I'm a fairly busy guy Suki, I was hoping you could offer your services in my office.").talk("Suki","Special service huh? That'll cost you double!").talk("","The principal scoffs.").talk("Principal","I'm a busy guy, but it doesn't mean I'm rich!").talk("Suki","Well then, I guess you don't get any of this!").talk("Principal","...").talk("Principal","Fine, but I have one more request.").talk("Principal","I'm tired of looking at all these school girl uniforms. Can you come back with something tight on?").talk("Suki","Boys I swear. Yeah sure I'll play dress up for you, just so you can take it off immediately and fuck me.").talk("Principal","I can't wait!").completeQuest("principalFeetQuest","Start").popUp("Come back to the principal's office with some skin tight clothing."),t.addBranch("principalFeetQuestEnd").talk("","Suki barges into the office.").talk("Suki","Do you know how much this cost me?!","Angry").talk("Principal","Oh my god, that's better than I expected!").talk("","Suki walks over to the principal's desk and opens the drawers.").talk("Suki","I should charge you triple.","Angry").talk("","Suki finds some gold and takes it.").talk("Suki","Come on I know you got more around here somewhere.").talk("Principal","We haven't even started yet and you're already taking all my gold!").talk("Suki","I deserve it.").talk("","The principal picks up Suki and sits her down on top of his desk.").talk("Principal","Let's stop looking around okay?").talk("Suki","...").talk("Principal","Oh this leotard comes with leggings, how nice.").talk("","He sits down in his chair and rubs her leg while pulling out his cock.").talk("Suki","Don't tell me you're just going to stare at me all day.").talk("","The principal puts her feet against his cock.").talk("Principal","What pretty little toes you have!").talk("","The principal spits on her feet and rubs them against his cock.").talk("Suki","Ew.","Sad").talk("Principal","Let me get a better feel of this outfit.").talk("","The principal stands up with Suki. He turns her around and wraps his arms around her.").talk("Principal","So soft!").talk("","He grips Suki's breast in one hand and her thigh with the other.").talk("Suki","Yeah yeah, just get to fucking already before someone walks in on us.").talk("","The principal puts his cock between her thighs.").talk("Suki","What are you doing?").talk("","He squeezes Suki's legs together to get a tighter grip around his cock.").talk("Principal","Just getting a better feel.").talk("","The principal starts to fuck Suki's thighs. His hands wrap around her chest tightly.").talk("Suki","Oh what's this? You don't even want to fuck me?").talk("","The principal pants heavily as he thrusts his cock between her thighs.").talk("Suki","I can't believe I made you this horny with just some stupid clothes!","Happy").talk("Suki","You're a real pervert.").talk("","The principal ignores Suki and keeps using her body.").talk("Principal","Oh! I can't hold it in!").talk("Suki","Already?").talk("","The principal shoots a massive load onto his desk.").playAnimation("SukiPrincipalThighs").talk("Principal","Oh fuck yes!").talk("","The principal falls back into his chair. Suki steps away.").talk("Principal","Oh no! I got cum all over my important papers!").talk("Suki","Not my problem. Thanks for the free gold pervert!").talk("","The principal puts his hands on his head.").talk("","Suki quickly leaves.").completeQuest("principalFeetQuest","End")})(),(()=>{let t=GAME.dialogue.addDialogueTree("AbigailClassroom");t.addBranch("root",!0).QuestPicker("ClassroomButton","What is it?","Abigail");(()=>{let e=t.addBranch("abigailCumQuestStart").talk("Abigail","Suki, where have you been?!").talk("Suki","Sorry Ms. Anderson, I don't go here anymore.").talk("Abigail","Look...").talk("","Abigail leans in to Suki.").talk("Abigail","We all know you were the school slut around here okay?").talk("Abigail","These dumb boys are more hornier than ever since you left!").talk("Suki","Not my problem. Maybe you should button your shirt up all the way.").talk("Abigail","...").talk("Abigail","Ugh.").talk("Suki","How about you redirect them to our wonderful brothel right outside of town!").talk("Abigail","What if we move your brothel to my classroom?").talk("Suki","What are you trying to say?").talk("Abigail","300 gold. You reward my students with sex and maybe they'll pay attention.").talk("Suki","300 gold?! I'm sold!").talk("Abigail","My next class is about to start, can you give me a hand?").talk("Suki","You got it!").Fade().talk("","The school bell rings. Suki is sitting on Abigail's desk as the students walk in.").talk("","Some of the boys notice Suki and say hi.").talk("Abigail","Okay students, everyone open your books up to page 327.").talk("","The students open up their books.").talk("Abigail","Alright, if anyone was paying attention during out last class. Question #1 should be easy. Who can answer it?").talk("","The class is silent. The boys stare at their teacher's chest.").talk("","Abigail tries to button her shirt up, but her breasts are too big.").talk("Abigail","Ahem...").talk("Abigail","Anyone?").talk("","The room stays silent.").talk("","Abigail points her ruler at a boy.").talk("Abigail","Timmy! Can you please answer question #1?").talk("E1","That's not my name.").talk("Abigail","Just answer the question please.").talk("E1","Uhh, is it like 7 or something?").talk("Abigail","Ugh... no.").talk("Abigail","Anyone else? Please, it would make me so happy if someone got the right answer!").talk("","Abigail unbuttons one of the buttons on her shirt.").talk("","The boys get excited. They shuffle around in their seats, trying not to show their boners.").talk("Suki","Oh jeez...").talk("E3","The answer is actually 12!").talk("Abigail","Oh! Would you look at that. Looks like some people pay attention after all.").talk("Abigail","Suki is giving students rewards to the smart kids in class today! Please come up and get your prize!").talk("","The boy walks up to Suki.").talk("Suki","Sup pervert.").talk("","She reaches down and rubs her hand against his crotch.").talk("","The students look at the boy in awe.").talk("Abigail","Let's move on to question #2.").talk("","The boys quickly try to find the answer to the question.").talk("","Meanwhile, Suki pulls out the boy's cock and starts to stroke it.").talk("E1","I have the answer! I have the answer!").talk("Abigail","Okay, what is it?").talk("E1","It's 39!").talk("Abigail","Wow, that was your quickest answer yet! Good job!").talk("E1","Do I get a reward?").talk("Abigail","Yes you do!").talk("E1","It looks like Suki is busy, are you going to reward me instead Ms. Anderson?").talk("Abigail","Pfft, in your dreams kid-").talk("Abigail","I mean, whatever you want to do to me, you can do to Suki.").talk("","The boy runs up behind Suki and squeezes her breasts tightly.").talk("Suki","Woah! Chill out, mine ain't as big as hers.").talk("Abigail","Let's move to question #3 okay?").Fade().talk("","A few minutes later, most of the boys have answered the questions correctly. They have a line formed in front of Suki.").playAnimation("SukiClassFuck").setBackground("SukiClassFuck").talk("Abigail","Suki, can you hurry it up? I have more to teach.").talk("Suki","Hey man, maybe you can give me a hand? They want you anyways!","Angry").talk("Abigail","Ugh..").talk("Suki","You better hope the principal doesn't walk in.").setNaked("Suki",!0).talk("","Suki takes off her clothes.").setBackground(!1).Function((()=>new Promise((t=>{let e=new Battle(["Suki"]);e.addClient(new BattleClient("",10,[new BattleClientTypePassive],"Tits",12e3,"ClientBorderE1")),e.addClient(new BattleClient("",10,[new BattleClientTypePassive],"Pussy",15e3,"ClientBorderE3")),e.addClient(new BattleClient("",10,[new BattleClientTypePassive],"Tits",11e3,"ClientBorderE1")),e.addClient(new BattleClient("",10,[new BattleClientTypePassive],"Tits",13e3,"ClientBorderE2")),e.addClient(new BattleClient("",10,[new BattleClientTypePassive],"Throat",14e3,"ClientBorderE4")),e.addClient(new BattleClient("",10,[new BattleClientTypeCummer],"Throat",7e3,"ClientBorderE4")),e.addClient(new BattleClient("",10,[new BattleClientTypeCummer],"Pussy",7e3,"ClientBorderE1")),e.addClient(new BattleClient("",10,[new BattleClientTypeCummer],"Throat",7e3,"ClientBorderE3")),e.addClient(new BattleClient("",10,[new BattleClientTypeCummer],"Throat",7e3,"ClientBorderE2")),e.addClient(new BattleClient("",10,[new BattleClientTypeCummer],"Tits",7e3,"ClientBorderE4")),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"abigailCumQuestWin").ifLastAnswer(!1,"abigailCumQuestLose"),i=e.addBranch("abigailCumQuestWin").talk("Suki","God, they just keep cumming!").question(["Make Abigail help you (+ Morals)","Suck all the boys dry (- Morals)"],!1,"What should Suki do?","Suki").ifLastAnswer(1,"abigailHelp").ifLastAnswer(2,"sukiSuck");e.addBranch("abigailCumQuestLose").talk("Abigail","Come on Suki, I thought you were good at this!"),i.addBranch("abigailHelp").talk("Abigail","I thought you were good at this!").talk("Suki","You try fucking these cum machines!","Angry").talk("Suki","They clearly like you more than me!").talk("","Abigail furrows her eyebrows and walks behind Suki.").talk("","The boys are taking turns fucking Suki's mouth.").talk("Abigail","Alright class. We have to get back to work.").talk("Abigail","If you need help...").talk("","Abigail nervously stutters.").talk("Abigail","If you need help, you can look at me while you fuck Suki.").talk("","Abigail awkwardly tries to strike a sexy pose.").talk("","The boys in the classroom look at her in awe. This is the best day they have ever had.").talk("E4","Ms. Anderson I want to cum in your mouth!").talk("Abigail","Ew you nasty little boy. Don't tell me that!").talk("","She smacks her ruler against her desk.").talk("E4","I mean I want to pretend to cum in your mouth! Can you open your mouth please!").talk("Abigail","How dare you...").talk("","Abigail folds her arms. She looks around the room and then back at the boy.").talk("","She barely opens her mouth.").talk("Abigail","Is this okay?").talk("E4","Can you open it wider please I want to see your tongue!!").talk("","The boy holds Suki's head as he fucks her mouth. Suki has a blank stare. She is being used as a receptacle for Abigail.").talk("","Abigail looks at the boy and opens her mouth a little wider.").talk("E4","Oh fuck yes!").talk("","Without looking away from Abigail, the boy cums into Suki's mouth.").talk("","The next boy in line is quick to jump onto Suki. He also stares at Abigail.").talk("Abigail","Okay, if this is helping please hurry up.").Fade().talk("","A minute later the boys are done cumming.").talk("","Suki finally has time to breathe.").talk("","Suki spits out all of the boys cum onto her chest.").talk("Suki","Fucking great. Am I done being your puppet?").talk("Abigail","Yes. Everyone. I hope you've had your fun, we still have-").talk("","The school bell rings.").talk("Abigail","Ah-").talk("","The boys quickly run out of class.").talk("Suki","They didn't learn much today again.").talk("Abigail","Oh brother...").completeQuest("abigailCumQuest","Start",!0),i.addBranch("sukiSuck").talk("Abigail","Come on Suki, faster! I'm running out of time!").talk("","Suki pushes the boy's cock deeper down her throat.").talk("Suki","Mmnph!").talk("","The boys tug against her body trying to rub their cocks against anything they see.").talk("Suki","Just fucking cum already!").talk("","Suki grabs two cocks with her hands and furiously strokes them.").talk("Abigail","Please do whatever you want with her, just hurry up!").talk("","Abigail becomes impatient.").talk("","The boys fight for Suki's face. They take turns pushing their cocks all the way down her throat.").talk("","Suki tightly sucks onto each cock pushed into her mouth, trying to please them the most.").talk("","A boy shoots a cum load directly across her eyes, causing her to keep them shut.").talk("Suki","Oh you bitch!","Angry").talk("","The boys pull Suki back and forth more quickly. Suki tries to keep her mouth open at all times because she can't see.").Fade().talk("","A few minutes pass. Suki's face is drenched in cum.").talk("Suki","Are they done?").talk("","The school bell rings.").talk("","The boys quickly run out of class.").talk("Abigail","You weren't quick enough Suki.").talk("Abigail","But it would be rude of me to not pay you.").talk("Suki","Yeah yeah fuck you Ms. Anderson, I did enough.").completeQuest("abigailCumQuest","Start",!1)})(),(()=>{let e=t.addBranch("sweaterSukiStart").talk("Abigail","Oh Suki, you disgusting whore!").talk("Abigail","What are you doing here wearing that?").talk("Suki","What's wrong?").talk("Abigail","You know what's wrong! We can see too much of your body!").talk("Suki","Oh, I didn't notice. I just bought this cool new sweater.").talk("Suki","What do you think?").talk("Abigail","That sweater won't keep you warm at all!").talk("Suki","I don't know what you mean.").talk("","The students can't stop looking at Suki.").talk("Abigail","We need to get you out of here as soon as possible, you're a danger to our school!").talk("Suki","Whatever you say, boss!").talk("","Abigail grabs Suki's hand and walks her to the principal's office.").Fade().talk("","The principal's door is open, they want in together.").talk("Abigail","Excuse me! Is there no security around here? Look at this!").talk("Suki","Hey what's up!").talk("Principal","Oh dear lord! Look at those beauti-").talk("Principal","What is the meaning of this Suki?").talk("Suki","I was just hanging out, I don't know why Abigail got so mad.").talk("Principal","You know we have a strict dress code around here!").talk("Principal","Just because you left, doesn't mean you don't have to follow the rules!").talk("Abigail","Exactly!").talk("Principal","And how much do you charge for your services again?").talk("Abigail","What?!").talk("Suki","100 gold.").talk("Abigail","What are you doing?").talk("","The principal hands Suki 100 gold.").talk("Principal","Well, if she's already here I might as well get a round in before I kick her out.").talk("Abigail","You are a disgusting principal, you know that?").Function((()=>new Promise((t=>{GAME.quest.isComplete("abigailCumQuest")?t("yes"):t("no")})))).ifLastAnswer("yes","yes").ifLastAnswer("no","no").talk("","Abigail stomps her foot.").talk("","The principal puts his hand on Suki's breasts. He flicks her pierced nipples.").talk("Abigail","Ew, don't do that in front of me!").talk("Principal","What? Then leave?").talk("Abigail","Ugh!").talk("","The principal puts his hands on Suki's tiny waist.").talk("Principal","Excellent outfit. Let's anyone get a quick feel of your nice soft body!").talk("","The principal pulls Suki's hips toward him, bending her chest back. He starts to lick every inch of her torso.").talk("Abigail","What a disgusting fantasy. Licking of your student's chest for pleasure?").talk("Abigail","I thought this school had a respectable principal!").talk("Suki","You can join too if you want Abigail!").talk("Abigail","How dare you.").talk("","The principal pulls out his cock.").talk("Abigail","Oh my god! Is that your thing?").talk("Principal","Suki, you have such a perfect body!").talk("","The principal becomes overwhelmed by Suki, he forgets Abigail is in the room.").talk("Suki","Maybe if you join he'll give you a promotion!").talk("","The principal brings Suki down to her knees. She bends her torso up for him.").talk("Principal","I'm going to cum! I'm going to cum all over those tits!").talk("Abigail","Ah! What am I watching?").talk("","Abigail tries to look away, but she can't help herself to watch.").cumOn("Suki","Tits",2).Flash().talk("","The principal cums on Suki's chest.").talk("Abigail","You are no different than those horny students in my classroom!").talk("Abigail","Goodbye!").talk("","Abigail storms out of the principal's office and heads back to her classroom.").talk("Principal","Wow, that was fun!").talk("Suki","Yup, oh yeah I had a blast!").talk("","Suki grabs her money.").talk("Principal","Do you think you can find some more sexy outfits for next time?").talk("Suki","Whatever you say, old man!").completeQuest("sweaterSuki","Start");e.addBranch("yes").talk("Principal","We all know what she did in your classroom. Let me have some fun!"),e.addBranch("no").talk("Principal","We can split her if you want? 50, 50?").talk("Abigail","No!")})()})(),(()=>{let t=GAME.dialogue.addDialogueTree("Nirvokk");t.addBranch("root",!0).QuestPicker("NirvokkHut","Hey Queen.","Nirvokk");(()=>{t.addBranch("hornyBorisAskNirvokk").talk("Queen","Hey Nirvokk").talk("Nirvokk","Hey did you talk to Boris?").talk("Queen","Yeah, he said you guys are lying and that he's not having any problems.").talk("Nirvokk","What the? We tell him about it all the time!").talk("Nirvokk","Look, he's not the same person at night.").talk("Queen","Well how about I just fuck some other people instead?").talk("Nirvokk","That's a good idea. I bet if Boris sees you having sex with others then he'll want to as well!").talk("Queen","Can I just fuck the guys in the middle of the village?").talk("Nirvokk","Really? You don't care about privacy?").talk("Queen","No, as long as it's okay with you guys.").talk("Nirvokk","I don't think anyone will mind.").talk("","A woman walks into Nirvokk's hut.").talk("Nirvokk","Oh Queen! Meet my wife Thisa.").talk("Thisa","Nirvokk, why do you have this strange woman in here?").talk("Thisa","Fucking around with other girls again huh Nirvokk?").talk("Nirvokk","No she's just helping us out!").talk("Thisa","Whatever...").talk("Queen","... I'll show myself out.").completeQuest("hornyBoris","AskNirvokk");let e=t.addBranch("hornyBorisEnd").popUp("Are you ready to fight the boss?",!0).ifLastAnswer(!0,"hornyBorisEndStart").addBranch("hornyBorisEndStart").talk("Queen","I did! She's right here!").talk("Suki","Hello!").talk("Nirvokk","Perfect. I hope you girls have been preparing for this. I can't imagine this will be easy.").talk("Suki","Wait what are we doing?").talk("Nirvokk","Should be in his hut. The sun is setting soon, let's wait it out.").Fade().talk("","The sun goes down. Greenhaven starts to feel eerie. No signs of Boris yet.").talk("Queen","Should we head over there?").talk("Nirvokk","Sure, take a look.").talk("","Queen and Suki walk over to Boris's hut.").talk("","They hear moaning coming from inside. They walk in and see Boris fucking Thisa.").talk("Suki","Oh my god, is that a person?!","Surprise").talk("","A purple aura surrounds Boris. He stops fucking Thisa.").talk("Thisa","Have fun!").talk("","Thisa runs back to her hut.").talk("","Boris's penis immediately becomes flaccid.").talk("BorisWolf","Grr...").talk("Queen","We have to make that guy cum Suki.").talk("Suki","Really? I mean, okay I can probably do that.").talk("","The girls take off their clothes.").setNaked(["Queen","Suki"],!0).talk("","Boris looks at the girls and becomes hard.").talk("Queen","Here he comes!","Surprise").talk("","Boris grabs Suki and jumps down to the middle of the village.").talk("","Boris jumps over to Suki and fucks her pussy.").playAnimation("forestBeastPussy").bossBattle("Boris","Easy").ifLastAnswer(!0,"hornyBorisWin").ifLastAnswer(!1,"hornyBorisLose");e.addBranch("hornyBorisWin").talk("","Boris starts to glow purple. He inserts his cock into Suki's pussy and cums inside.").Flash().cumOn("Suki","Pussy",3).talk("Suki","Oh fuck yes, fill me up!","Blush").talk("","Boris pulls out, he stumbles onto the ground. A puff of smoke surrounds his body.").talk("","The girls start coughing and try to fan the smoke away.").talk("Nirvokk","Did you do it?!").talk("Queen","I don't know! I think!").talk("","The smoke goes away. Underneath is Boris, back to his normal form, lying on the ground.").talk("Boris","Huh? What happened?").talk("Suki","He doesn't remember?").talk("Boris","Wow, I feel great right now!").talk("Nirvokk","Boris, these girls saved you!").talk("Boris","Saved me from what?").talk("Nirvokk","It's hard to explain, but you haven't been the same for a few months...").talk("Boris","Well, whatever happened, I want to say thanks.").talk("Nirvokk","Let's get some sleep. I have a good feeling about tomorrow!").Fade().completeQuest("hornyBoris","End").popUp("Congratulations! You have beaten your first boss battle!\n\nYou can re-fight bosses using the menu in your house. Re-fighting bosses lets you unlock new clothes!"),e.addBranch("hornyBorisLose").talk("Queen","I don't think we can handle this yet!","Surprise").Fade().switchMap("Easthollow")})(),t.addBranch("mushroomQuestStart").talk("","Queen walks by Nirvokk's hut and hears yelling coming from inside.").talk("Thisa","What do you mean it's too wet?!").talk("Nirvokk","If it was drier I would be able to go in!").talk("","Queen walks in.").talk("Queen","What's going on?").talk("Thisa","Oh look, your personal whore is here. Maybe she wouldn't mind how wet it is!").talk("Nirvokk","Queen! Um, bad timing!").talk("Queen","Anything I can help with?").talk("Nirvokk","Oh no, we were just talking about how wet the morass is. It's been raining there for weeks!").talk("Queen","The morass? Do we have one around here?").talk("Nirvokk","Oh yeah just south of here. We haven't been able to go there because the path turned into one big lake!").talk("Queen","Oh yeah, I guess it is too wet...").talk("Suki","What's so special about this morass?").talk("Nirvokk","The morass houses a goblin village. They have access to the best mushrooms in the world!").talk("Queen","Goblins, huh?").talk("Nirvokk","Yes they're very...").talk("Nirvokk","Friendly...").talk("Thisa","Those mushrooms are the only things that keep Nirvokk hard!").talk("Nirvokk","Hey! She means...").talk("Thisa","They make you horny. And apparently, I'm no good at helping him with that!").talk("","Nirvokk gulps.").talk("Suki","Haha! Horny mushrooms! We've got to try those out Queen!","Happy").talk("Queen","Yeah, they might be fun.").talk("Queen","When is the rain going to stop?").talk("Nirvokk","No idea, we were thinking about building a boat, but I don't think anyone would want to help.").talk("Suki","You want to me to seduce some guys into helping you?").talk("Nirvokk","That could work...").talk("Suki","Trust me, I can make boys do anything for me!").talk("Thisa","I bet you can, better yet, how about you two talented women go fetch me some mushrooms while you're at it?").talk("Nirvokk","Thisa! I'm sure we can go by ourselves after the boat is built...").talk("Thisa","Oh no, trust her! I bet they'll throw all their mushrooms at her once she goes down there!").talk("Suki","That's probably true, but I don't like your tone.").talk("Queen","Okay, we'll see what we can do. I'm thinking we can find some more clients if we head to the morass anyways.").talk("Nirvokk","That's very nice of you two. Now if you don't mind, I'm going to try to have sex with my wife again.").talk("Thisa","Oh jeez... how many times are we-").talk("","Queen and Suki walk out of the hut.").completeQuest("mushroomQuest","Start"),t.addBranch("mushroomQuestReturnThisa").talk("Queen","Hey Thisa, here's your stupid mushroom.").talk("","Queen tosses a mushroom at her.").talk("Thisa","Woah! You got one that quickly?!").talk("Queen","I mean yeah?").talk("Thisa","I'm usually there for days before finding one!").talk("Queen","Yeah, I guess we lucked out.").talk("Thisa","Nirvokk, come here! We have some work to do!").talk("Nirvokk","Excuse me ladies, I'm going to have to ask you to leave.").talk("Queen","Yeah yeah, see ya.").talk("","Queen and Suki walk out of Nirvokk's hut.").Fade().talk("Suki","So what do you think about the morass? Think we can get some more customers?").talk("Queen","Those goblins? Seems like they're not going to pay for us.").talk("Suki","Yeah, you're probably right.","Sad").talk("Suki","What do you think about that goblin girl?").talk("Queen","The one that walked into the Inn? She seems experienced...").talk("Suki","Yeah, I bet they'd pay for her.").talk("Queen","I bet, but I doubt she'd join us.").talk("Suki","You think so? Doesn't hurt to ask.").talk("Queen","Um, you're right. She seems friendly.").talk("Suki","I'll try not to be mean to her this time.").talk("Queen","That might help.").talk("Queen","Okay, we can give the morass another visit. She should be in her house right?").talk("Queen","The Innkeeper said she's usually stuck in her house.").talk("Suki","Yeah, let's check it out!").completeQuest("mushroomQuest","ReturnThisa"),t.addBranch("kingsQuestConvinceThisa").talk("","The girls walk into Nirvokk's hut. Nirvokk and Thisa are naked and in their bed.").talk("Thisa","Let me show you how you're supposed to do it!").talk("","Nirvokk is tied up on the bed. Thisa is on top of Nirvokk with a strap-on pointed at his asshole.").talk("Queen","Hey, what's up guys.").talk("Nirvokk","Save me!").talk("Thisa","Ugh, you girls always come in at the worst times...").talk("Nirvokk","Untie me please!").talk("Thisa","You shut up and stay there. What do you girls want?").talk("Queen","What are you doing to him?").talk("Thisa","Don't worry about it.").talk("","Thisa grabs Nirvokk's flaccid dick and strokes it.").talk("Suki","Can I help?").talk("Thisa","Absolutely not.").talk("","Thisa inches the strap-on closer to his asshole.").talk("Nirvokk","No please! You can do anything but that!").talk("Thisa","You said I can do anything I want!").talk("Thisa","Why are you girls still here? Can't you see we're busy?").talk("Suki","We're just here to ask you a question.").talk("Thisa","What is it?").talk("Suki","We need a girl that likes to get fucked.").talk("Queen","Suki!","Angry").talk("Queen","We need to... borrow a girl.").talk("Thisa","Aren't you two the local whores? And your new special guest over there.").talk("","Thisa points at Esxea. Esxea stops daydreaming and makes a surprised look on her face.").talk("Queen","Well, the goblins are looking for a replacement girl to work at the Inn. Just for a day.").talk("Thisa","The goblins?").talk("","Thisa gets off the bed and faces the girls.").talk("Thisa","Those perverts want to borrow one of our girls huh?").talk("Nirvokk","Yeah, I don't think anyone from Greenhaven wants to go there, especially after the beast incident.").talk("Nirvokk","Oh and, can you untie me?").talk("Queen","That's okay, we'll find someone else then.").talk("Thisa","Wait now, why do the goblins need a replacement? Did something happen to Dathea?").talk("Queen","It's a long story, but Dathea needs to go somewhere else for a day.").talk("Thisa","That is terrible. All those horny goblins stuck without their beloved Dathea...").talk("","Thisa licks her lips.").talk("Queen","I guess so. Well, I guess we'll go find someone else now.").talk("Thisa","Right. Uh... you girls have fun now!").completeQuest("kingsQuest","ConvinceThisa"),t.addBranch("returnDatheaEnd").talk("Queen","Hey Nirvokk we have a present for you.").talk("Nirvokk","A present?").talk("","Queen pushes Dathea towards him.").talk("Queen","This is from Thisa.").talk("","Nirvokk looks at her, confused.").talk("Queen","Thisa wants to stay in the morass, this is your new wife.").talk("Nirvokk","What?! This goblin is my wife?!").talk("Suki","Hey come on, she's pretty cool, check it out! I don't think she's ever worn clothes before.").talk("Dathea","Hi!").talk("Nirvokk","I'm going to be the only one in the village to have a goblin wife. That's weird!").talk("Queen","No-no, I'm sure they'll be jealous of you! Plus it's better than not having a wife right?").talk("Nirvokk","Uhh...").talk("Nirvokk","I mean, she is pretty cute.").talk("","Dathea blushes.").talk("Nirvokk","Fine, I'll try it out for a while.").talk("Queen","Awesome, you two have fun now!","Happy").completeQuest("returnDathea","End")})(),(()=>{let t=GAME.dialogue.addDialogueTree("VillageHangout");t.addBranch("root",!0).QuestPicker("VillageHangout");(()=>{let e=t.addBranch("hornyBorisWhoreGreenhaven").talk("","Queen stands in the middle of the village.").talk("Queen","Hey boys! Why don't you take a break and fuck me? Only 15 gold!").talk("","Some men look at her, but continue working.").talk("","Queen sighs. She takes off her clothes.").setNaked("Queen",!0).talk("Queen","15 gold for this!").talk("","The men turn and stare at Queen. One of them walks up to her.").talk("",'"15 gold right?", said the man. Queen nods. He puts the gold in her bag.').talk("","The man raises his loincloth revealing his huge erect cock.").talk("Queen","Oh my god that's way bigger than the Easthollow guys!","Surprise").talk("","The man brings Queen down to her knees and puts his cock in between her breasts.").talk("Queen","You like my breasts huh?").talk("","Queen's soft breasts cushion his hard cock when she pushes them against it.").talk("","Other men watch and start to walk up to her.").Function((()=>new Promise((t=>{let e=new Battle(["Queen"]);e.addClient(new BattleClient("",4,[new BattleClientTypePassive],"Tits",7e3,"ClientBorderG1")),e.addClient(new BattleClient("",4,[new BattleClientTypePassive],"Pussy",7e3,"ClientBorderG3")),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"firstBattleWin").ifLastAnswer(!1,"firstBattleLose"),i=e.addBranch("firstBattleWin").talk("Queen","Ooh, there's a lot of you waiting for me.").talk("Queen","Just come over here and use whatever you like!").talk("","Queen's tits bounce as she gets fucked from behind. The men can't resist getting a feel.").talk("Queen","Mm, yeah I know my tits are nice and soft!","Blush").talk("","Queen's dirty talk surprises the men. They have never met such a seductive woman before.").talk("","The man fucking Queen picks up the pace. The rest of the men want a piece too.").popUp("You are about to encounter a new client type!\n\nSpeedy:\nSpeedy clients lose excitement less quickly the higher their excitement meter is.").Function((()=>new Promise((t=>{let e=new Battle(["Queen"]);e.addClient(new BattleClient("",5,[new BattleClientTypeSpeedy],"Pussy",7e3,"ClientBorderG1")),e.addClient(new BattleClient("",5,[new BattleClientTypeCummer],"Throat",5e3,"ClientBorderG2")),e.addClient(new BattleClient("",6,[new BattleClientTypeSpeedy],"Pussy",7e3,"ClientBorderG3")),e.addClient(new BattleClient("",6,[new BattleClientTypeCummer],"Throat",5e3,"ClientBorderG4")),e.addClient(new BattleClient("",7,[new BattleClientTypeSpeedy],"Pussy",7e3,"ClientBorderG1")),e.addClient(new BattleClient("",8,[new BattleClientTypeSpeedy],"Tits",7e3,"ClientBorderG2")),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"whoreWin").ifLastAnswer(!1,"whoreLose");e.addBranch("firstBattleLose").talk("Queen","Ah, I don't think I'm ready to take on Greenhaven yet..."),i.addBranch("whoreWin").talk("","The last man thrusts his cock into Queen's pussy and shoots his load.").talk("","Queen lays down in the dirt, panting.").talk("Queen","Alright has everyone had their turn?").talk("","Nirvokk watches Queen getting fucked from his hut. His wife is currently away so he decides to jump in.").talk("Nirvokk","Hey Queen, mind if I get a round?").talk("Queen","Go ahead, I'm getting a little tired though...").talk("Nirvokk","Alright I'll be quick.").talk("","Nirvokk positions her doggy-style and starts to fuck her pussy.").playAnimation("QueenNirvokkDoggy").setBackground("QueenNirvokkDoggy").talk("Nirvokk","Oh god this is way better than Thisa's!").talk("","He starts to pick up the pace.").talk("","The sun starts to set.").Fade().talk("Queen","You almost done there Nirvokk? I thought this would be quick...").talk("","Nirvokk doesn't say anything. He starts to speed up even faster.").talk("","A purple aura starts to form around him. His muscles begin to grow.").talk("","Nirovkk bends over and puts his hands on the ground in front of Queen and starts to fuck her faster.").talk("","Queen looks at his arms. They have more hair on them than before.").talk("Queen","Nirvokk? Wait, who's fucking me?","Surprise").talk("","Queen turns around and sees Nirvokk, more muscular and hairy. His eyes are glowing purple.").talk("Queen","What the?!","Surprise").talk("","Nirovkk pushes Queen's back down and thrusts his cock into her hard. He cums inside her.").cumOn("Queen","Pussy",2).Flash().talk("Queen","Mmnph!","Surprise").talk("","Cum oozes out of her pussy. The purple aura starts to disappear. Nirvokk turns back to normal.").setBackground(!1).talk("Queen","Are you done now?").talk("Nirvokk","Huh?").talk("","Queen and Nirvokk stand up.").talk("Nirvokk","What happened?").talk("Queen","What do you mean? You looked different right now!").talk("Nirvokk","Me?! Wait...").talk("","Boris comes out of his hut. He has a purple aura surrounding him.").talk("BorisWolf","Hmm..!").talk("Nirvokk","Queen! Let's get you out of here.").talk("Queen","Is that Boris?!").talk("Nirvokk","He'll fuck you all night if you don't leave right now!").talk("Queen","I'm way too tired to handle that right now... let's go!").talk("","Boris runs into another resident's house.").Fade().switchMap("Easthollow").talk("","Nirvokk and Queen make it out of Greenhaven.").talk("Nirvokk","Look, I don't know what just happened with me, but I'm glad we got out of there!").talk("Queen","You kinda looked like Boris right now when you were fucking me.").talk("Nirvokk","Really? What in the world is going on?!").talk("Queen","I don't know, but you stopped when you came in me.").talk("Nirvokk","Huh, maybe that's all we need to do?").talk("Queen","Make Boris cum? I think I can do that.").talk("Nirvokk","I've seen him fuck girls for hours and still not cum. Are you sure you want to help?").talk("Queen","Maybe... I think I'm pretty talented.").talk("Nirvokk","How about you find a friend who can help when you get tired?").talk("Queen","Find another girl that wants to fuck random people? Might be difficult...").talk("Nirvokk","It would be for the best. Come back when you find someone and we can try it out!").talk("Queen","Alright, I'll let you know...").completeQuest("hornyBoris","WhoreGreenhaven"),i.addBranch("whoreLose").talk("Queen","Ah, I don't think I'm ready to take on Greenhaven yet...")})(),(()=>{let e=t.addBranch("mushroomQuestBuildBoat").talk("Queen","Alright what's your game plan Suki?").talk("Suki","I'm not sure! How do you build a boat?").talk("Queen","Well, I guess we just need a small raft that can fit two people. Shouldn't be too hard?").talk("Suki","Yeah! Something like that!").talk("","Suki walks up to random people.").talk("Suki","Hey, help me build a raft!").talk("","The men look confused.").talk("Suki","Come on! I need to go to the morass!").talk("","The men stare at her.").talk("Queen","...").talk("Queen","Um, we just need to cross that lake, do you guys think you can help?").talk("","The men look intrigued, but not eager to help.").setNaked("Suki",!0).talk("Suki","How about now?").talk("","The men are much more interested in helping now.").talk("Suki","Here, I'll jerk you guys off if you build me and my friend here a raft.").talk("","The men take out their cocks for her.").talk("Suki","See! Easy!","Happy").talk("","Suki lays one man down and sits on his face.").talk("Suki","One at a time! Start building my boat!").talk("","Suki wraps her tiny fingers around the man's cock tightly.").talk("Suki","You, get to lickin'!").talk("","The man under Suki nervously licks her pussy, trying to please her.").playAnimation("SukiHandsdefault").talk("Queen","Eh, Suki this is just turning into an orgy...","Sad").talk("","The men stroke their cocks while looking at Suki.").question(["Tell the men to get to work (+ Morals)","Keep fucking the men (- Morals)"],!1,"What should Suki do?","Suki").ifLastAnswer(1,"praise").ifLastAnswer(2,"degrade");e.addBranch("praise").talk("","Suki points at the men.").talk("Suki","Hey you wait your turn! Build me a boat and this could be you!").talk("","Suki quickly jerks the man off until he cums.").talk("Suki","Thanks for the fuck kid! Now build that boat!").talk("","Suki smacks her ass and gets up.").Fade().talk("","A few minutes later, the men finish building the boat.").talk("Queen","Looks like we're able to go to the morass with this raft now.").talk("Suki","Aw, they built it so quickly! Now nice!","Happy").talk("G2","Where's our reward?").talk("Suki","Okay okay, everyone come here.").talk("","The men circle Suki.").talk("Queen","Oh come on, I don't want to wait for you to fuck all of them.","Sad").talk("","Suki gets on her knees.").talk("Suki","I'm leaving my mouth open for 10 seconds. After that, I'm leaving.").talk("","The men look startled. Suki opens her mouth.").talk("Suki","10...").talk("","The men quickly pulls out their cocks and jerk themselves off.").talk("Suki","9...").talk("","One man points his cock into her mouth and cums.").talk("Suki","Mmm, so quick!").talk("","The men slap their cock on Suki's face, trying to cum faster.").talk("Suki","6...").talk("","Two men cum inside Suki's mouth.").talk("Suki","Unnmmgh","Happy").talk("Suki","Keeh cuhhing!").talk("","A man pulls Suki's head back. He slaps his cock down on Suki's bottom lip and tries to cum.").talk("","Suki sticks her cum covered tongue out and licks the bottom of his cock.").talk("","The man shoots a massive load into Suki's mouth.").talk("Suki","Mmmmm yuhhmy!","Happy").talk("","Suki swallows the men's cum.").talk("Suki","Times up!").talk("","Suki wipes her lips.").talk("","The men pant quickly. They're glad they made it in time.").talk("Queen","I'm glad I found you.").setNaked("Suki",!1).completeQuest("mushroomQuest","BuildBoat",!0).popUp("Congratulations! You can now go to the morass!"),e.addBranch("degrade").talk("Suki","Hold on, I just have to please them some more!").talk("","The men reach for Suki's body.").talk("Suki","Mmm, oh yeah you like my tits?").talk("","A man rubs his hand against Suki's breasts, playing with her pierced nipple.").talk("","Another man grazes his hand against Suki's face. Suki puts his finger in her mouth.").talk("Suki","Come on boys, fuck me harder!").talk("","Suki rocks back and forth on the man's face, pleasing herself. He sticks his tongue out for her.").talk("Queen","Ugh, now you're just having fun...").talk("","A man picks up Suki's hips and jams his cock into her asshole.").talk("Suki","WOAH!","Surprise").talk("","Another man grabs Suki's head and jams his cock into her mouth.").talk("Suki","Mmnph!","Surprise").talk("G1","What a tight little girl! This is great!").talk("","Suki's asshole spreads wider with each thrust.").talk("G3","I'm going to cum straight down her throat!").talk("","The man grabs Suki's head with both of his hands and pushes it towards his pelvis.").talk("Suki","GwuCK!","Surprise").talk("","Cum shoots down Suki's throat causing her cough some of it out the sides of her mouth.").talk("G3","Oh yeah that feels good!").talk("","The man rubs his cock on Suki's tongue until her comes soft.").talk("G1","Let me try that too!").talk("","The man fucking Suki's asshole pulls his cock out and grabs Suki's head.").talk("Suki","You fuckers!","Angry").talk("","The man rubs his cock around Suki's mouth.").talk("G1","Oh yeah this is nice!").talk("","He pushes his cock all the way into Suki's mouth and shoots his load.").talk("","Suki swallows the cum. The man pulls back in awe.").talk("Suki","Oh my god, you guys owe me the best fucking boat in the world!","Angry").talk("G1","Sorry Suki, we couldn't resist your perfect body!").talk("Suki","Ugh...","Angry").Fade().setNaked("Suki",!1).completeQuest("mushroomQuest","BuildBoat",!1).popUp("Congratulations! You can now go to the morass!"),e.addBranch("buildBoatLose").talk("Suki","That was tough, maybe I should try to get better at this...")})(),(()=>{let e=t.addBranch("mountainTrainingGreenhavenTraining").talk("Queen","Everyone ready for round 2?").talk("Scarlett","I wasn't a fan of round 1.").talk("Queen","Hey boys!").talk("","Queen yells out to gather Greenhaven's attention. Darrak comes out of his hut.").talk("Queen","Just your local horny little girls back for more sex!").talk("Darrak","Queen, what's going on?").talk("Queen","Oh nothing, we just need to let a few guys fuck our ass.").talk("Darrak","Ah, what for?").talk("Queen","We made a deal with some orc girl that we could take on some orc sized cocks so we just need some practice.").talk("Darrak","You girls sure are good at getting into trouble.").talk("Darrak","Say, fucking an orc doesn't seem very cooperative.").talk("Queen","What do you mean?").talk("Darrak","Well, they're twice your size. How do you go down on them?").talk("Queen","Um...").talk("Suki","Last time an orc grabbed Queen and slid his cock in her nice and easy!").talk("Queen","Not quite that easy.").talk("Darrak","Seems a little restricting on your end.").talk("Queen","I guess, there's not much to do if he's holding me with his hands.").talk("","Darrak pulls out some rope.").talk("Darrak","How about we tie your girls up so that you can't move your arms and legs?").talk("Scarlett","Oh ho ho, I don't know about that one old man!","Angry").talk("Queen","What's that going to do?").talk("Darrak","Well, the orcs are just going to pick you girls up and get to work aren't they?").talk("Queen","I guess.").talk("Darrak","You won't be able to move much, might as well practice tied up to make it more realistic.").talk("Queen","Ah, yeah that's pretty smart.").talk("Scarlett","Hey! I don't know if that's the greatest idea Queen!","Sad").talk("Queen","Sure it is! Darrak, go get some boys to tie us up!").talk("","Some Greenhaven residents run by with rope. They tie the girl's arms and legs together so that they can't move.").talk("","The men lay the girls down side by side on the ground with their belly on the ground.").setNaked(["Queen","Suki","Esxea","Scarlett"],!0).talk("Queen","Alright, this is how it'll feel when they're fucking us!").talk("","The men pull out their cocks.").talk("","Esxea rolls around in the dirt while being tied up.").talk("Esxea","Weee!").playAnimation("EsxeaTied").talk("Queen","Esxea stay still! These guys need to fuck you!").talk("","A man tries to pick up Esxea, but she's having too much fun rolling around.").Function((()=>new Promise((t=>{let e=new Battle(["Queen","Suki","Esxea","Scarlett"]);e.addClients([new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG1"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG2"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG3"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG4"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG3"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG2"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG4"),new BattleClient("",10,[new BattleClientTypeTrapper(100,1e4,1e3,-.2)],"Anal",1e4,"ClientBorderG1")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win").ifLastAnswer(!0,"lose"),i=e.addBranch("win").talk("","The men rotate between girls, trying to find their favorite ass to fuck.").talk("Scarlett","These guys are a lot rougher than the last!").talk("Darrak","Hey Queen by the way, who is this new girl?").talk("Darrak","She's really pretty!").talk("Queen","The Princess of Avia, Scarlett.").talk("Scarlett","Oh gosh, don't sell me to this old man now...","Sad").talk("Darrak","A princess?! Wow! How much for a round with her face?").talk("Scarlett","Ew, I don't want your old geezer cock in me.","Angry").talk("Queen","Scarlett!","Angry").talk("Scarlett","What!","Angry").talk("Queen","You work at a brothel now!").talk("Scarlett","Ugh...","Angry").question(["Help Darrak cum (+ Morals)","Let Darrak use Scarlett (- Morals)"],!1,"What should Scarlett do?","Scarlett").ifLastAnswer(1,"praise").ifLastAnswer(2,"degrade");e.addBranch("lose").talk("Queen","Okay okay, I think we've had enough. Untie us..."),i.addBranch("praise").talk("","Tied up, Scarlett looks up at Darrak.").talk("Scarlett","Here, I'll let you cum on my face just this one time!").talk("","Darrak sits down in front of her, his cock pointed toward her mouth.").talk("Darrak","Why don't you help me out princess?").talk("Scarlett","How dare you make a princess work for you!","Angry").talk("Scarlett","Start stroking that cock old man!").talk("Darrak","Uh-").talk("","Darrak starts to stroke his cock slowly.").talk("Scarlett","Do you know how many men would kill to cum on me?").talk("Darrak","Yeah, I guess I didn't really think about it like that...").talk("Scarlett","That's right, keep stroking until I tell you to finish!").talk("Darrak","Ah-").talk("Darrak","Okay princess!").talk("Queen","Oh jeez, what is she up to?","Sad").talk("","Darrak jerks himself off while nervously staring at Scarlett, waiting for her to say something.").talk("Scarlett","Yeah you like what you see?").talk("Scarlett","Tell me I'm pretty!","Angry").talk("Darrak","You're pretty!").talk("Scarlett","If I'm so pretty why aren't you cumming!?","Angry").talk("Darrak","I'm trying!!").talk("","Darrak speeds up.").talk("Scarlett","Tell me I'm pretty!","Angry").talk("Darrak","You're pretty! You're beautiful!").talk("Scarlett","Say it like you mean it!","Angry").talk("Darrak","You're the prettiest, most beautifullest, gorgeous-").Flash().cumOn("Scarlett","Throat").talk("","Darrak can't hold back, he cums on Scarlett's face.").talk("Darrak","Girl in the whole world!!").talk("Scarlett","Alright you done?").talk("","Darrak pants, Scarlett has exhausted him with just words.").talk("Darrak","I need a break...").talk("","Darrak gets up and leaves.").talk("Suki","Wow Scarlett! You're almost as evil as me!").talk("","Scarlett laughs.").talk("Scarlett","That was easy.","Happy").talk("Queen","Alright, I think we're done in Greenhaven. Should we head to the morass next?").talk("Esxea","Yeah! Let's go to the morass!!","Happy").talk("Suki","How are those small dick losers- uh I mean goblins going to help us?").talk("Queen","We don't know what to expect from the orcs. Might as well prepare for anything.").completeQuest("mountainTraining","GreenhavenTraining",!0),i.addBranch("degrade").talk("","Darrak sits down in front of Scarlett. He raises her head up.").talk("Scarlett","Here old man, you can use my face I guess...","Sad").talk("","Darrak rubs his cock against Scarlett's face. She opens her mouth for him.").talk("","Scarlett sucks on the tip of his cock, being tied up prevents her doing much.").talk("Darrak","Amazing, my own personal princess. This is what royalty feels like!").talk("","Scarlett rolls her eyes.").talk("","A man walks up behind Scarlett and begins to put his cock into her asshole.").talk("","Scarlett's eyes widen.").talk("Scarlett","Mnph!~","Surprise").talk("Darrak","Don't stop sucking please!").talk("","Scarlett starts to get railed from behind. She tries to keep sucking, but does a poor job pleasing Darrak.").talk("Darrak","Ugh, I'll do it myself.").talk("","Darrak holds Scarlett's head and pushes his cock deeper into her mouth.").talk("Scarlett","MNMM!!","Surprise").talk("Darrak","Oh my god it fits! I bet I can go all the way!").talk("","Darrak pushes Scarlett's head all the way into his pelvis.").talk("Darrak","Oh fuck! I can't hold it in!").Flash().talk("","Darrak cums down Scarlett's throat and pulls out.").talk("Darrak","I guess I can't hold it in like I used to! Haha!").talk("","Scarlett coughs up the cum.").talk("Scarlett","Oh my god...","Angry").talk("","The man fucking Scarlett's ass cums in her.").talk("Scarlett","Ah!","Surprise").talk("Queen","Alright, I think we're done in Greenhaven. Should we head to the morass next?").talk("Esxea","Yeah! Let's go to the morass!!","Happy").talk("Suki","How are those small dick losers- uh I mean goblins going to help us?").talk("Queen","We don't know what to expect from the orcs. Might as well prepare for anything.").completeQuest("mountainTraining","GreenhavenTraining",!1)})()})(),GAME.dialogue.addDialogueTree("Darrak").addBranch("root",!0).QuestPicker("DarrakHut","Hello Queen.","Darrak"),(()=>{let t=GAME.dialogue.addDialogueTree("Boris");t.addBranch("root",!0).QuestPicker("BorisHut","Hello.","Boris");t.addBranch("hornyBorisStart").talk("","Queen walks into Boris's hut.").talk("Boris","Huh?").talk("Queen","Hi! I'm Queen.").talk("Boris","Hello. I'm Boris. You're not from around here are you?").talk("Queen","Nope. I heard you've been having some problems lately.").talk("Boris","Problems? Hmm... about what?").talk("Queen","A little bit of a sex problem.").talk("Boris","Sex problem? Um, I don't think so?").talk("Queen","What? That's what Nirvokk said.","Sad").talk("Boris","Oh yeah, these guys have been telling me some crazy stories lately, I have no idea where they come up with it.").talk("Queen","Aw man, so they're lying?","Sad").talk("Boris","I think so. Those guys are way hornier than me, you should fuck them instead.").talk("Queen","Well, thanks for the help. I'll go tell Nirvokk.").completeQuest("hornyBoris","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("MorassInn"),e=t.addBranch("root",!0).Function((()=>new Promise((t=>{t(GAME.quest.isComplete("mushroomQuest","Introduce"))})))).ifLastAnswer(!1,"mushroomQuestIntroduce").QuestPicker("Inn","Hey, what can I get for ya?","Brior");(()=>{e.addBranch("mushroomQuestIntroduce").talk("","Queen and Suki walk into an Inn.").talk("","Inside, they see a crowd of naked goblins circling the tables. Moans echo throughout the inn.").talk("Brior","Welcome! Some human girls eh? Been a while since we seen some of those!").talk("Queen","Yeah, um, we just wanted to check this place out.").talk("Brior","Sure, sure, please have a seat.").talk("Brior","I'll introduce you to my wife! As soon as she's done over there.").talk("Queen","Over where?").talk("","Brior points at group of goblins.").talk("Dathea","Hi!-").talk("","Brior's wife, Dathea, pops her head out to say Hi, but is quickly pulled back down.").talk("Queen","Oh my god, are they fucking your wife?","Surprise").talk("Brior","Best pussy the Inn has to offer! I'm a lucky guy!").talk("Suki","This is just one giant orgy!").talk("Brior","No no, we're just a very friendly species. We don't fight for possessions, anyone can have sex with anyone!").talk("Suki","I can get used to that!").talk("Brior","Can I get you ladies a drink? First time customers, on the house!").talk("Queen","Sure.").talk("","Two goblins notice Queen and run up to her.").talk("Queen","Oh, hello.").talk("","The goblins sniff Queen's legs.").talk("Queen","They're like dogs.").talk("Suki","I think they like me.").talk("","A goblin runs his hands on Suki's legs.").playAnimation("SukiGoblinFeet").talk("","The goblins start to lick Queen's legs. One of them starts to suck on Queen's toes.").talk("Queen","That's a little weird.").talk("","Brior puts down two big glasses of beer in front of the girls.").talk("Brior","Here you go! I hope you two can stay, the boys would love to taste some human girls tonight!").talk("Queen","Oh, I don't know about that.").talk("","Queen lifts her legs up to get the goblins off of her. One runs over to Suki and starts to suck on her toes.").talk("Suki","That kinda tickles!").talk("Brior","What brings you here anyways?").talk("Queen","My friend is looking for some mushrooms.").talk("","Queen grabs her beer and starts to drink it.").talk("","Suki chugs half of her glass.").talk("Brior","Our mushrooms eh? Doesn't everyone want a taste!").talk("Brior","Look, we're running out. If you're lucky you'll find some outside, but these boys grab them as soon as they sprout!").talk("Queen","Aw, that sucks.").talk("Suki","Do they really make you horny?").talk("Brior","Oh yeah! If you're really interested, I always keep a few locked away in my Inn.").talk("","A goblin jumps on top of Queen's lap and licks her chest.").talk("Queen","We are really interested, do you mind if we take some?").talk("Brior","Of course. It's going to cost you...").talk("Queen","Right...").talk("","The goblin tries to lick Queen's face, but she pushes him off.").talk("Queen","I'm trying to talk!","Angry").talk("","The goblin on Suki jumps up to her glass of beer and puts his cock in it.").talk("Suki","Aw man, you soiled my beer!","Sad").talk("","The goblin cums inside Suki's beer.").talk("Suki","Oh well, I guess I can't let it go to waste.","Sad").talk("","Suki drinks the rest of her cum filled beer.").talk("Brior","If you girls stay a night at one of my tables, I'll give you one of our mushrooms!").talk("Queen","I don't know, I'm already tired of this one guy.","Angry").talk("","The goblin jumps back onto Queen's legs and starts to lick them.").talk("Brior","Fine, well, my offer is always available if you ever change your mind.").completeQuest("mushroomQuest","Introduce");let i=t.addBranch("mushroomQuestPerform").talk("Brior","Did you girls want to stay a night at the Inn?").question(["Sure, I think we can try it out","No, thank you"],!1,"Did you girls want to stay a night at the Inn?","Brior").ifLastAnswer(1,"perform").ifLastAnswer(2,"no"),a=i.addBranch("perform").talk("Queen","Sure, I think we can try it out.").talk("Brior","Amazing! I can't wait!").talk("Brior","Alright boys, we have some new girls at the Inn! Let's give them our warmest welcomes!").talk("","All of the goblins in the room turn and face the girls.").talk("Queen","Oh lord, what have I gotten myself into?","Sad").talk("Brior","Don't worry about it! Here, my treat!").talk("","Brior pulls out two mushrooms and throws it at the girls.").talk("Queen","Wait what?").talk("Brior","You're going to want to eat these!").talk("","Suki instantly devours the entire mushroom.").talk("Suki","WOAH!").talk("","Suki strips her clothes off quickly.").setNaked("Suki",!0).talk("Suki","Oh my god, I feel like I can fuck for hours!","Blush").talk("","Suki licks her fingers and rubs her pussy. A goblin jumps on top of her.").talk("Queen","Well, I guess I'm going to need this!").talk("","Queen eats the mushroom.").setNaked("Queen",!0).popUp("You are about to encounter a new client type!\n\nSwitcher\n\nSwitchers have a chance to change body parts.").Function((()=>new Promise((t=>{GAME.girl.Queen.gainStamina(3,!0),GAME.girl.Suki.gainStamina(3,!0);let e=new Battle(["Queen","Suki"],"Easy");e.addClients([new BattleClient("",14,[new BattleClientTypeSwitcher],"Tits",14e3,"ClientBorderGo1"),new BattleClient("",14,[new BattleClientTypeSwitcher],"Throat",14e3,"ClientBorderGo2"),new BattleClient("",14,[new BattleClientTypeSwitcher],"Pussy",14e3,"ClientBorderGo3"),new BattleClient("",14,[new BattleClientTypeCummer],"Pussy",8e3,"ClientBorderGo4"),new BattleClient("",14,[new BattleClientTypeSwitcher],"Pussy",14e3,"ClientBorderGo1"),new BattleClient("",14,[new BattleClientTypeSwitcher],"Pussy",14e3,"ClientBorderGo2"),new BattleClient("",14,[new BattleClientTypeCummer],"Anal",8e3,"ClientBorderGo3"),new BattleClient("",14,[new BattleClientTypeCummer],"Throat",8e3,"ClientBorderGo4"),new BattleClient("",18,[new BattleClientTypeSwitcher],"Pussy",2e4,"ClientBorderGo1")]),GAME.battle.startBattle(e).then((e=>{!1===e&&(GAME.girl.Queen.setStamina(0),GAME.girl.Suki.setStamina(0)),t(e)}))})))).ifLastAnswer(!0,"performWin").ifLastAnswer(!1,"performLose");i.addBranch("no").talk("Queen","No I think we're okay..."),a.addBranch("performWin").cumOn("Queen","Throat",3).cumOn("Suki","Throat",3).talk("Brior","You ladies are doing great!?").talk("","The goblins use every inch of the girl's bodies. The girl's hands and feet are constantly being sucked on, preventing them from moving.").talk("Queen","How many more hours?").talk("Brior","I don't know, like 10?").talk("Queen","Oh god...","Sad").talk("","A goblin opens Queen's mouth and sucks on her tongue.").talk("","A cute goblin girl walks into the Inn.").talk("Brior","Esxea! How are ya?!").talk("Esxea","Hello everyone!").talk("","Queen looks at the girl as she is being fucked.").talk("Esxea","I wanted to see what was going on! The boys finally gave me a break, and I can see why!").talk("Brior","Oh yes! We have some humans here today! Can't miss out on this!").talk("Esxea","That's great! It gives me time to do other things.","Happy").talk("","A goblin runs up to Esxea and tightly grips her nipples with his mouth.").talk("Esxea","Oh! He couldn't resist!","Happy").talk("Brior","Well, you are the local favorite after all!").talk("","A goblin finishes using Suki's mouth.").talk("Suki","Hey! Who's this chick?","Angry").talk("Suki","I don't like her attitude!","Angry").talk("Esxea","...","Happy").talk("Brior","This is Esxea. She usually doesn't have the time to leave her house because someone is always fucking her.").talk("Brior","You two taking over today gave her the opportunity to leave today!").talk("Esxea","Hello human girls! You two are very pretty! And tall!","Happy").talk("Suki","I don't like her!","Angry").talk("","A goblin jumps onto Suki's head and starts to fuck her mouth.").playAnimation("MorassInnGangbang").talk("Suki","GNMH!","Surprise").talk("Esxea","Well, I'm going to go take a walk! Maybe I'll visit Avia!").talk("Brior","Take care now Esxea! Don't worry, these two girls will man the battle station while you're away!").talk("Queen","(These goblins are so horny, I can't catch a break!)","Angry").talk("","A goblin grabs Queen's tongue and cums on it. He closes her mouth and forces her to swallow.").talk("Queen","Oh god, goblin cum doesn't taste the best.","Sad").Fade(2e3).bukkake(["Queen","Suki"]).talk("","5 hours later...").talk("","The girls lay on the tables. Cum oozes out of their bodies.").talk("Brior","Huh. I think they're done?").talk("","Queen and Suki don't move.").talk("Brior","I don't think I've ever heard the Inn this quiet before.").talk("","Queen slowly turns around to stand up, being careful not to slip on the cum stained table.").talk("Queen","I think we'll go home now...").talk("","Suki tries to wipe the globs of cum off her body.").talk("Suki","Hey, where's our mushroom?").talk("Brior","Here! Take 4!").talk("","Brior tosses the girls 4 mushrooms.").talk("Queen","Awh!","Surprise").talk("Queen","4?! How many do you have down there?").talk("Brior","I don't know, like a hundred.").talk("Queen","You made us do all that when you have that many?!","Angry").talk("Brior","Oh yeah! I love watching human girls take on hundreds of goblins!").talk("Queen","Alright, let's get out of here Suki.").talk("Suki","You got it boss!").Fade().switchMap("Easthollow").completeQuest("mushroomQuest","Perform"),a.addBranch("performLose").talk("Queen","This is way tougher than I thought!","Sad").Fade().switchMap("Easthollow")})(),t.addBranch("kingsQuestConvinceDathea").talk("Brior","Welcome ladies. What can I do for ya?").talk("","The girls sit down on the stools in front of Brior. A goblin crawls around the girls and starts licking their feet.").talk("Queen","Hey Brior, we need to borrow a girl.").talk("Brior","Borrow a girl?").talk("Brior","What for?").talk("Queen","Some guard in Avia won't let us into the castle unless we give him a goblin girl.").talk("Brior","I don't know if I can do that, the girls bring in all my profit!").talk("Dathea","Hey girls!").talk("","A group of goblins surround Dathea. They can't quite see her because of the amount of goblins around her.").talk("Esxea","Dathea do you want to help us out?!").talk("Dathea","Oh what me? Yeah I guess?!").talk("Brior","Hey! You want to borrow a girl and you choose my wife?").talk("Brior","Who am I going to have sex with at night?!").talk("Suki","Just pick another girl.").talk("Brior","Some nerve. How about you bring me a human girl?").talk("Queen","Now we need a human girl?!","Sad").talk("Brior","Yeah! Bring me a sexy human girl and Dathea is all yours!").talk("Queen","Fine, we'll be back when we find you a girl...").completeQuest("kingsQuest","ConvinceDathea"),t.addBranch("kingsQuestDropOffThisa").talk("","The girls walk towards the Inn.").talk("Queen","Well that sucks, I guess we're just going to have to find a different way to get into the castle.").talk("","The girls walk into the Inn.").talk("","There is a group of naked goblins surrounding a table.").talk("Brior","Hey! Thanks for the replacement girl! I'm surprised you got her to come back here!").talk("Queen","Wait what?").talk("","The girls walk towards the table. They see Thisa getting fucked by a goblin.").talk("Suki","Wait a minute, what is she doing here?").talk("","The goblin cums inside Thisa's pussy. Another goblin runs up and starts fucking her.").talk("Brior","Thisa was very popular around here! She used to stop by for mushrooms to take back home.").talk("Queen","Why didn't she tell us she used to come here?").talk("Brior","Haha, well I don't think she would want anyone from home to know she lets goblins use her body all day.").talk("Brior","You girls need Dathea right?").talk("Dathea","I'm ready to go!").talk("Queen","Um...").talk("Queen","Are you sure you don't want to put on clothes?","Sad").talk("Dathea","Huh?").talk("Dathea","Why would I do that?").talk("Queen","Nevermind...").talk("Brior","You girls make sure that guard doesn't do anything too weird with her!").talk("Suki","I don't think you can do anything weirder than what you goblins already do to girls.").talk("","Queen walks up to Thisa. The goblins run their hands on Queen's legs as they wait their turn with Thisa.").talk("Queen","Hey Thisa glad you could help us out!").talk("Thisa","Yeah don't tell Nirvokk.").talk("Queen","Won't he wonder why you're not coming home?").talk("Thisa","Who cares, I'm sure he's happy I'm gone!").talk("Queen","Oh...","Sad").talk("","A goblin jumps on the table and sticks his cock in Thisa's mouth.").talk("Queen","Alright well you have fun now!").completeQuest("kingsQuest","DropOffThisa"),t.addBranch("returnDatheaToMorass").talk("Queen","Hey we brought your wife back.").talk("Dathea","Hey!").talk("Brior","Ah great! Um...").talk("","The girls look at the tables and see two goblins fucking Thisa's pussy.").talk("Brior","Right, we've been doing well even without Dathea.").talk("Queen","What are you saying?").talk("Brior","Uh... I don't mind if Dathea stays out of the morass for a little longer...").talk("Suki","Wow, don't even want your own wife back?").talk("Brior","It's nice having a big tall human girl all to myself at night.").talk("Queen","What do you think Thisa?").talk("Thisa","Oh fuck yes!").talk("","The goblins cum inside her pussy.").talk("Queen","Ah well, she seems to be enjoying it still. What do we do with Dathea?").talk("Thisa","Give her to Nirvokk!").talk("Brior","Perfect! A good ol' friendly wife swap!").talk("Queen","A wife swap? Okay...").completeQuest("returnDathea","DatheaToMorass"),(()=>{let e=t.addBranch("mountainTrainingMorassTraining").talk("Brior","Esxea! Lovely seeing you back.").talk("Esxea","Hiii!","Happy").talk("Esxea","How's Thisa?").talk("Brior","Oh, she's at home. Sometimes she gets too occupied fucking everyone that she doesn't have time to walk over to the Inn.").talk("Brior","What can I help you ladies with?").talk("Queen","We need help fucking some orcs.").talk("Brior","Some orcs? I think you girls came to the wrong place!").talk("Queen","I figured. I was looking for some big cocks that could stretch our assholes wider.","Sad").talk("Brior","Very ambitious of you ladies. Last time an orc came by, my wife was coughing up cum for days! Haha!").talk("Brior","Hey! Maybe we can help!").talk("Queen","How so?").talk("Brior","If you're going to fuck an orc, you're going to want to be able to take their massive cumshots!").talk("Queen","That's true, the orcs do cum a lot...").talk("Suki","It's just cum, what's so hard about that?").talk("Brior","You girls are most likely the only ones that could handle it, but it's not a bad idea to practice.").talk("Queen","He's right, and Ardura did say we have to drink the orc's cum.").talk("Queen","Brior, do you mind letting us fuck some goblins here?").talk("Brior","Sure! Do whatever you want!").talk("Brior","I think you ladies would get far better practice with some of these!").talk("","Brior tosses over some long funnels.").talk("Scarlett","Ew, what's that?","Sad").talk("Brior","If you just want cum, put these in your mouth and let the boys do the work!").talk("Queen","Funnels huh, these might work.").talk("","Suki sticks the end of a funnel into her mouth.").talk("Suki","Mmmmm","Happy").talk("","Queen inspects the funnel. She tries to see how far it could into Suki's mouth before choking.").talk("","Queen manages to fit the entire funnel down Suki's throat without her gagging.").talk("Queen","Huh?").talk("Suki","GUH~").talk("","Suki pulls the funnel out and licks her lips.").talk("Queen","How did you do that?","Surprise").talk("Suki","Anything for you, Queen.","Blush").talk("Queen","Alright, I think these will work.").talk("Scarlett","So what are we doing? Just drinking cum?").talk("Queen","Well, they'll probably need some help cumming. Maybe we should let them fuck us too.").talk("Brior","Alright boys! The girls are thirsty! Come give them something to drink!").talk("","Queen gets on her knees and puts the end of a funnel into her mouth.").setNaked(["Queen","Suki","Esxea","Scarlett"],!0).Function((()=>new Promise((t=>{let e=new Battle(["Queen","Suki","Esxea","Scarlett"]);e.addClients([new BattleClient("",17,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo1"),new BattleClient("",18,[new BattleClientTypeSwitcher],"Anal",1e4,"ClientBorderGo2"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo3"),new BattleClient("",17,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo4"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo1"),new BattleClient("",18,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo3"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo4"),new BattleClient("",17,[new BattleClientTypeSwitcher],"Tits",1e4,"ClientBorderGo2"),new BattleClient("",17,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo1"),new BattleClient("",18,[new BattleClientTypeSwitcher],"Anal",1e4,"ClientBorderGo2"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo3"),new BattleClient("",17,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo4"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo1"),new BattleClient("",18,[new BattleClientTypeSwitcher],"Pussy",1e4,"ClientBorderGo3"),new BattleClient("",50,[new BattleClientTypeCummer],"Throat",1e4,"ClientBorderGo4"),new BattleClient("",17,[new BattleClientTypeSwitcher],"Tits",1e4,"ClientBorderGo2")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win").ifLastAnswer(!1,"lose");e.addBranch("win").talk("","The goblins take turns cumming into the funnels, they don't hesitate to grope the girl's bodies as they wait their turn.").talk("Queen","This isn't too bad.").talk("","Scarlett looks disgusted.").talk("Scarlett","From princess to drinking these vile creature's semen. Why did I do this to myself?","Sad").talk("","A group of goblins cum into Esxea's mouth. She swallows it immediately without a flinch.").talk("Queen","Esxea do you not want the funnel?").talk("","Esxea smiles as more goblins cum into her mouth. She has no problems swallowing it.").talk("Esxea","Huh?").talk("Queen","Uhh... nevermind.","Sad").talk("Brior","Alright you girls ready?").talk("Queen","Ready for what?").talk("Brior","What? That was just the warm up! The boys have been brewing up the drinks for you right here!").talk("","Brior places 4 mugs filled with cum on the counter.").talk("","Scarlett tries not to gag.").talk("Scarlett","That's for us?","Sad").talk("Queen","Oh! Okay, yeah I guess that's better than doing it one by one.").talk("Brior","An age old drink here in the morass. Try it out!").talk("","A goblin runs over and hands Esxea a mug.").talk("Esxea","Thank you!","Happy").talk("","Esxea chugs the drink with no problem.").talk("Queen","Esxea why didn't you tell me you were a semen drinking machine?!","Surprise").talk("Esxea","What do you mean?","Sad").talk("Suki","Hey now, I can't let this goblin girl steal my nickname in college!","Angry").talk("","Suki grabs a mug and attempts to chug it whole.").talk("","Suki struggles, but finishes the drink.").talk("Suki","Oh my god...","Sad").talk("Suki","Are you impressed Queen?","Happy").talk("","Suki holds onto her stomach.").talk("Brior","Please, you two ladies. Have a drink!").talk("","A goblin hands Queen and Scarlett a mug.").talk("Queen","Well, here goes nothing!").talk("","Queen begins to chug the cum.").talk("Scarlett","I think I'll take my time finishing this one...").talk("","Scarlett takes a sip.").talk("Scarlett","Hey, wait a minute. This tastes good? What did you do to it?","Surprise").talk("Brior","A little bit of sugar and citrus for the princess's drink!").talk("Scarlett","Well isn't that very nice of you...","Happy").talk("","Scarlett drinks the rest.").talk("Brior","Here! You'll need more than that to match what an orc can do!").talk("","Brior puts down 4 more mugs.").talk("Queen","Oh...").talk("Scarlett","I mean it's good, but... how many do I have to drink?","Sad").talk("Suki","Hey, how much cum do you have over there?").talk("","Brior picks up a giant bucket of cum and places it on the counter.").talk("Suki","What the?!","Surprise").talk("Brior","Yup, the boys did this just now. You girls sure do make the boys horny!").talk("Queen","If we're going to finish that...").talk("Scarlett","We're going to finish that?!","Surprise").talk("Queen","We should probably use a funnel.").talk("Brior","Oh no worries!").talk("","Brior attaches funnels to the bucket.").talk("Brior","Just use these!").talk("","Queen puts the end of the funnel into her mouth.").talk("Queen","Come on girls, let's finish this real quick and move on.").talk("","The girls wrap their lips around the funnel. Brior pulls a lever to make the cum start flowing down.").talk("Scarlett","Aw man here it comes!","Sad").talk("","The girls start swallowing the cum. As soon as they swallow, their mouth is filled with more.").talk("Queen","Mmnph").talk("","Unphased, Esxea leaves her mouth open, letting the cum fall straight down her throat.").talk("","The girls continue swallowing. The taste of the cum starts to fade away, they become focused on finishing.").Fade().talk("","A few minutes later...").talk("","The girls lay down on the ground, too full to move.").talk("Queen","I drank... too much...","Sad").talk("Suki","Ugh, I feel like I gained a hundred pounds!","Sad").talk("Brior","Wow you girls actually did it!").talk("Brior","I'm going to be honest, this was probably 20 times more cum than you'd probably get from an orc!").talk("Scarlett","Oh jeez, thanks...","Sad").talk("Queen","I think we'll go digest this now...").talk("","Queen somehow manages to get up.").completeQuest("mountainTraining","MorassTraining"),e.addBranch("lose").talk("Queen","Guh~","Sad").talk("Queen","This is a too much. Let's try again later.","Sad")})(),t.addBranch("findTrasoniaStart").talk("Brior","Good lord! Look at the size of that beauty!").talk("","Brior looks up at Ardura.").talk("","The other goblins look up at her in awe.").talk("Ardura","Hello, little ones.").talk("Queen","This is Ardura. Our latest addition to the brothel.").talk("Queen","She might be a little too much to handle for you guys.","Sad").talk("Brior","How much for you two to perform here tonight?!").talk("Ardura","Haha, sorry I'm not one of those lesbian fairy girls!").talk("Brior","That would be even better! Ardura and one of the elves!").talk("Ardura","You can't make me have sex with one of those sissy girls!","Angry").talk("Queen","The what? We don't have any elves.").talk("Brior","We haven't had an elf come by in months!").talk("Ardura","Maybe it's because they don't like cock!","Angry").talk("Brior","Last time an elf came by, she stayed for days! Besides, they only come during summer vacation!").talk("Scarlett","Not the most pleasant of places to come to, I'd say.","Sad").talk("Queen","Esxea, have you ever seen these elf girls?").talk("Esxea","Yeah! They're pretty!","Happy").talk("Ardura","Queen, those girls don't make any sense!","Angry").talk("Ardura","They just sit around in their stupid castle and read books and stuff!","Angry").talk("Brior","And they ride a mean cock!").talk("Queen","Where can I find these girls?").talk("Brior","Ehh, up north or something.").talk("Ardura","They're near our camp site. We usually scare them off when they come near.").talk("Queen","I want to see what the elves look like!").talk("Ardura","Ugh.","Angry").talk("Brior","Ardura and an elf. I'll give you any amount of money to see that!").talk("Queen","Sure... we'll see. Anyways, let's head over there now!").completeQuest("findTrasonia","Start"),t.addBranch("queenChatBriorStart").talk("","Queen walks into the Inn and sits down on a bar stool.").talk("Brior","Queen, what can I get for ya?").talk("Queen","Just get me a regular beer or something. None of that fancy stuff.").talk("Brior","You got it!").talk("","Brior fills up a glass with beer. A goblin hops his way to Queen's legs.").talk("Brior","Where's everyone else?").talk("Queen","We're taking a a short break. We've been through too much lately!","Sad").talk("Brior","Tell me about it! It all started when that weird man moved in!").talk("","Brior hands Queen a beer. The goblin beneath her begins to lick her legs.").talk("Queen","Weird man moved in? To the morass?","Sad").talk("","Queen kicks off her shoe and extends her leg for the goblin.").talk("Brior","No, no! Some elf kid. Stumbled by here years ago, I think he ended up making his own house just south of here.").talk("Queen","That's weird. How'd he end up down here?","Sad").talk("Brior","No idea. Seemed like a decent guy, a pretty horny guy too!").talk("Brior","That guy would not stop fucking our girls! He even used some weird purple magic stuff to make his cock bigger!").talk("Queen","Yeah... that is strange.").talk("Queen","Have you visited him before?").talk("Brior","No way, you have to go past that spooky forest to get to his house!").talk("Brior","I would visit if he chose to live in Avia instead!").talk("Queen","Interesting...").talk("","Queen gulps down the beer and hands Brior the glass, gesturing for more.").talk("Queen","That weird purple stuff has been causing us a lot of problems.").talk("Brior","I'm just glad you were able to save our morass!").talk("Queen","We saved quite a few places since then. Makes me wonder where the next one will be.","Sad").talk("Brior","You girls have some real talent! I'm sure you'll be able to handle anything thrown at you!").talk("Queen","Thanks, but I'm trying to avoid it.").talk("","Queen chugs down another beer. The goblin beneath her is slobbering over her legs and feet.").talk("Queen","Let me get another!","Happy").talk("Brior","Sure thing!").talk("","Brior quickly fills up another glass and hands it to Queen.").talk("Queen","This guy down here is enjoying my feet a little too much.","Sad").talk("Brior","Goblins enjoy human feet, because that's all we can see!").talk("","Queen holds her beer glass in front of the goblin.").talk("Queen","Times up buddy, just cum in it and go!","Happy").talk("","The goblin frowns. He dips his cock into Queen's beer and shoots a load into it.").talk("Queen","There we go. Now scram!").talk("","Queen raises the glass to her lips and drinks it in one go.").talk("Brior","Another one?").talk("Queen","Sure, why not!","Blush").Fade().talk("","A few drinks later...").setNaked("Queen",!0).talk("Brior","and then he said, that's not a goblin, that's my wife!").talk("Queen","Ha haha! Brior, you are too funny!","Blush").talk("","Queen slams the bar counter with her hand. Queen and Brior laugh together.").talk("Queen","Oh jeez, it's getting late huh?","Blush").talk("","Queen turns around. Two goblins are latched onto her nipples.").talk("","Queen kicks away the goblins at her feet and pushes the ones off of her chest.").talk("Queen","Thanks for the drinks Brior!","Blush").talk("Brior","Anytime!").talk("Brior","You okay to walk home?").talk("Queen","Oh absolutely!","Blush").talk("","Queen stumbles her way to the front door.").talk("Queen","See ya tomorrow!","Blush").talk("Brior","Queen, you forgot your clothes!").talk("Queen","I'll get them tomorrow!","Blush").talk("","Queen walks out the door.").Fade().talk("","Queen starts to head back home.").talk("Queen","Those goblins sure do know how to drink!","Blush").talk("","Queen falls to her hands and knees.").talk("Queen","Fuck, I hope there's some good cock waiting for me at home!","Blush").talk("","Queen reaches down and rubs her clitoris.").talk("Queen","Suki's pretty good, maybe she can help me out.","Blush").talk("","An entity sneaks up behind Queen.").talk("Queen","Huh? Someone there? Good timing!","Blush").talk("","Queen spreads her legs. Her face rests in the muddy ground. She closes her eyes.").talk("Queen","I've gotten a sudden urge for some nice cock!","Blush").talk("Monster","..?").talk("","A short pink monster looks down at Queen's invitation. He leans in and sticks his tongue into her pussy.").talk("Queen","Oh my!","Blush").talk("Queen","You sure do know how to please a woman!","Blush").talk("","The monster shapes his long tongue into a cylinder and fucks Queen's pussy with it.").talk("Queen","Fuck! Your cock is so smooth!","Blush").talk("","Queen arches her back, she keeps her eyes closed and enjoys the moment.").talk("Monster","MNG!").talk("","The monster enjoys Queen's pussy. His cock throbs, itching to penetrate her.").talk("Queen","I've never felt a cock this good before!","Blush").talk("","The monster pulls his tongue out of Queen's pussy and thrusts his rigged cock into her.").talk("Queen","Oh my god!","Blush").talk("","The monster cums into Queen's pussy.").talk("Queen","What was that? That doesn't feel like your cock?","Blush").talk("","The monster vanishes into a puff of smoke. Queen finally opens her eyes and turns around.").talk("Queen","Huh?","Blush").talk("Queen","Where did they go?","Blush").talk("","Queen stands up.").talk("Queen","Oh well, time to go home!","Blush").Fade().patreonPopUp(!0).switchMap("Easthollow").completeQuest("queenChatBrior","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("EsxeaHouse");t.addBranch("root",!0).QuestPicker("EsxeaHouse");t.addBranch("mushroomQuestEnd").talk("Queen","Hey Esxea we're ready to have you join us!").talk("Esxea","Wow no way! I'm ready to go!").completeQuest("mushroomQuest","End").popUp("Congratulations! You have unlocked Esxea!")})(),(()=>{let t=GAME.dialogue.addDialogueTree("MorassPond"),e=(t.addBranch("root",!0).QuestPicker("Pond"),t.addBranch("mushroomQuestBoss").setNaked("Esxea",!0).talk("","The girls see a crowd of goblins surrounding the pond. They have purple auras around them.").talk("Queen","What the?","Surprise").talk("Esxea","Oh, you boys sure are fiesty today! Hehe!","Happy").talk("","The goblins viciously grab Esxea's body, trying to suck on her body before being thrown off by another goblin.").talk("Suki","Hey those goblins look weird.","Sad").talk("Queen","Yeah they're purple, kinda like how Boris looked!","Surprise").talk("Esxea","Hey, stop playing so rough! No ones getting their turn if you keep fighting for me!","Angry").talk("Queen","Suki, I got a bad feeling about this, and I'm afraid we're going to have to help.").talk("","A goblin jumps on top of Esxea, pushing her into the pond.").talk("","Esxea resurfaces with mud covering her body.").talk("","A goblin shoves his cock into Esxea's pussy. It grows bigger as he fucks her.").talk("Esxea","Woah that's a big boy!","Surprise").playAnimation("EsxeaPondFuck").talk("Suki","We need to help her don't we?","Sad").talk("Queen","Yup.","Sad").talk("Queen","Hey, maybe these mushrooms can help?").talk("","Queen pulls out the 3 remaining mushrooms Brior gave her.").talk("Suki","Yeah! Let's give her one too!").talk("Queen","Hey you!").talk("Esxea","Huh?").talk("Queen","Eat this!").talk("","Queen and Suki run up to the pond. Queen shoves the mushroom into Esxea's mouth.").talk("Esxea","Woah!","Surprise").talk("","The girls quickly get taken over by the goblins. Their clothes are ripped off and their bodies start to get used.").setNaked(["Queen","Suki"],!0).talk("Queen","Well, here we go again!","Sad").bossBattle("Goblins","Easy").ifLastAnswer(!0,"mushroomQuestWin").ifLastAnswer(!1,"mushroomQuestLose"));e.addBranch("mushroomQuestWin").bukkake(["Queen","Suki","Esxea"]).talk("Queen","Oh my god, is it over?","Surprise").talk("","The girls lay in the muddy cum filled pond.").talk("","Suki spits on the ground.").talk("Suki","I swallowed so much muddy water.","Sad").talk("Esxea","Another successful day! Thanks girls!").talk("Brior","Esxea! Are you okay?!").talk("","Brior runs out of the Inn.").talk("Esxea","Yeah?").talk("Brior","These mushrooms are making everyone very strange today!").talk("Queen","That was not normal.","Sad").talk("Esxea","What do you mean?").talk("Suki","You couldn't tell?! They were glowing purple!","Angry").talk("Esxea","...","Sad").talk("Suki","I mean...","Sad").talk("Suki","There's something weird going on, Queen and I noticed it in Greenhaven as well...","Sad").talk("Brior","It looks like someone tampered with our mushrooms. I saw some weird purple stuff on the ground earlier!").talk("Queen","That would explain it. Is it still there?").talk("Brior","I don't think so, the boys already ate all the mushrooms.").talk("Queen","Well, I'm glad it's over.").talk("Suki","Esxea are you tired?").talk("Esxea","Huh? I mean I guess a little bit?").talk("Suki","Queen, she's perfect.").talk("Queen","Oh jeez.").talk("Esxea","Perfect for what?").talk("Suki","Queen here runs an amazing brothel!").talk("Esxea","Oh wow! That's like what I do!","Happy").talk("Queen","But we get paid for it.").talk("Esxea","Woah! Now that is crazy!","Surprise").talk("Brior","Hey are you girls thinking about stealing our prized possession Esxea?").talk("Queen","Not stealing. Esxea would you like to join us?").talk("Esxea","Um","Sad").talk("Suki","Trust me, it's way better than staying in one house all day.").talk("Esxea","Sure? I don't know.","Sad").talk("Brior","Ugh, as much as I don't want her to leave, I think it would be a good idea. Our boys don't leave her alone.").talk("Esxea","Yeah, I want to join you two!","Happy").talk("Queen","Oh wow it worked.","Surprise").talk("Suki","I can't believe it. Do we have enough room?").talk("Queen","I'll have to ask Geoff to make our house bigger again.").talk("Esxea","Oh! Well, I guess I'll be here until you two do that.").talk("Brior","Yes and I'll come by sometime later Esxea.").talk("Brior","Need to enjoy your body as much as I can before you leave!").talk("Esxea","Haha!","Happy").talk("Esxea","Yeah, but I'm a little tired today. I don't know if I have enough energy for cock and ball torture.").talk("Brior","A-").talk("Suki","You what?!","Surprise").talk("Queen","...","Surprise").talk("Brior","HAha, Esxea you're so funny!").talk("Brior","I don't know what she's talking about. Anyways, I'm off! I have an Inn to run!").talk("","Brior frantically runs away.").talk("Queen","We need to all go home and shower. I'll come pick you up once our house is upgraded Esxea.").talk("Esxea","That sounds fun! Thanks girls!","Happy").Fade().patreonPopUp().completeQuest("mushroomQuest","Boss").setNaked("Esxea",!1).switchMap("Easthollow"),e.addBranch("mushroomQuestLose").switchMap("Easthollow")})(),GAME.dialogue.addDialogueTree("crossroadFirstVisit").addBranch("root",!0).talk("","The girls walk south of the morass. They run across a crossroad.").talk("Queen","Wait, which way did that guy tell us to go?").talk("Suki","I don't know. He said there's a castle somewhere around here.").talk("","West of the girls is a road that leads into a dark forest with dead trees. East of the girls is an open well-maintained road that leads down a sunny path.").talk("","The girls look in both directions.").talk("Suki","I think it's this way.").talk("","Suki points towards the dark forest.").talk("Queen","Um... yeah it might be...","Sad").talk("","They hear crows off in the distance.").talk("","A homeless man stumbles across the girls. He is drunk and can barely walk.").talk("Esxea","Let's ask him.").talk("Queen","Excuse me sir.").talk("","The man looks up at the girls.").talk("Queen","We're looking for a place that has a really big castle.").talk("",'The man mumbles, "big castle, over there", and points east.').talk("","He throws up on the ground in front of them.").talk("Queen","Oh... ew... thanks.","Sad").talk("Queen","Come on, let's go girls.").completeQuest("kingsQuest","GoToCrossroads"),GAME.dialogue.addDialogueTree("aviaAfterFuckPeasants").addBranch("root",!0).talk("Queen","I don't think it's a good idea to be in Avia right now...").switchMap("Crossroad"),(()=>{let t=GAME.dialogue.addDialogueTree("AviaCastleKeep");t.addBranch("root",!0).QuestPicker("AviaCastleKeep","What do you want?","AviaGuard");t.addBranch("kingsQuestGoToAvia").talk("Queen","The king requested me.").talk("AviaGuard","The king requested you girls? What would he want with you whores?").talk("Suki","Wow, rude. I'll have you know, Queen won a peace award. What have you won?","Angry").talk("AviaGuard","Number one castle guard.").talk("Suki","...","Sad").talk("Suki","What a lame award.","Sad").talk("AviaGuard","...").talk("Queen","Well are you going to let us in or what?","Sad").talk("AviaGuard","Fine. I don't believe you, so don't get into any trouble okay?").talk("","The girls walk into the castle keep. The guard stares at Esxea as they walk in.").Fade().talk("","The girls walk into the throne room of the castle.").talk("Queen","Wow, this place is pretty big huh?").talk("Scarlett","Daddy!").talk("","The girls hear a high pitched voice from another room.").talk("Suki","Yikes, what is that?").talk("","The girls walk past a bunch of guards and finally reach the King who is sitting on the throne.").talk("","The King notices the girls walk in.").talk("King","Evening ladies, what brings you here?").talk("Queen","Ah, uh... I believe I won an award...").talk("King","An award?").talk("","A girl runs into the throne room.").talk("Scarlett","Daddy! Can I go out tonight?!").talk("King","Scarlett! Can't you see I'm busy?").talk("Scarlett","Please!").talk("King","Sorry, an award you said?").talk("Queen","Yeah, some imp told me you wanted to give m-").talk("Scarlett","Please!!!","Sad").talk("King","Scarlett! A princess can't just roam around town every night!").talk("Queen","Some imp told me-").talk("King","Sorry ladies, I don't think I made plans to give you an award.").talk("Queen","What?").talk("Scarlett","Please! I'll be back in an hour!","Sad").talk("King","One hour! Guards watch her.").talk("","A guard straightens himself up and turns to Scarlett.").talk("Scarlett","No! Guards don't watch me!","Angry").talk("","The guard turns back around.").talk("King","No, follow her wherever she goes!").talk("","The guard faces Scarlett again.").talk("Scarlett","I'm the princess! I said no!","Angry").talk("","The guard turns around and starts sweating. He doesn't know what to do.").talk("","Scarlett runs back to her room to get ready. The king gets up and follows her.").talk("Suki","What do we do now?").talk("Queen","That was embarrassing...","Sad").talk("Suki","Yeah, I'll beat up that stupid imp if he comes back to our house!","Angry").talk("Queen","Let's get out of here...").Fade().completeQuest("kingsQuest","GoToAvia"),t.addBranch("kingsQuestTalkToGuard").talk("AviaGuard","Hey it's the girls!").talk("Queen","Um, yeah can we get in?").talk("AviaGuard","Yeah the King has been waiting for you to show up!").talk("Queen","Oh really? That's good, I think?").talk("Suki","So let us in.").talk("AviaGuard","Hold on! You girls are whores right?").talk("Queen","Oh jeez...").talk("Suki","Alright, you can have a squeeze, let us in.").talk("","Suki flashes the guard.").talk("AviaGuard","No, I don't want to feel your small tits!").talk("AviaGuard","Give me some of that!").talk("","The guard points at Esxea.").talk("Suki","What?! Your loss idiot!","Angry").talk("Esxea","Some of me?! Well, okay!").talk("Queen","Alright, have your fun, but be quick.").talk("","The guard picks up Esxea and starts to make out with her.").talk("AviaGuard","You girls can go ahead, I'm going to need some time.").talk("Queen","What? We need her!","Angry").talk("","The guard keeps making out with Esxea.").talk("AviaGuard","Mmm! She's got such juicy lips!").talk("Suki","Hey! Times up loser, you had enough!","Angry").talk("AviaGuard","What?! You two just go up there, your friend will be here when you come back.").talk("","The guard reaches down to pull out his cock.").talk("","Queen grabs Esxea and pulls her away.").talk("AviaGuard","Hey! I wasn't done!").talk("Queen","Come to our brothel later and you can do whatever you want.").talk("AviaGuard","Aw man, find me another girl and I'll let you in!").talk("Queen","Fine you can have me after we're done.").talk("AviaGuard","Ew no, I want a goblin girl!").talk("Queen","Oh my gosh, so picky.","Angry").talk("AviaGuard","Hey you goblin girl, go bring me one of your friends!").talk("Esxea","Huh?").talk("Suki","You think one of those Inn girls can satisfy this idiot real quick?").talk("Esxea","Probably!").talk("AviaGuard","Yeah yeah, good, find me one with some big juicy lips!").talk("AviaGuard","I'm going to rub my cock all over them!").talk("AviaGuard","And then when I'm done I'll make out with her until I get hard again!").talk("Queen","Okay jeez, you can stop talking. I'll go ask one of those girls to help us.").completeQuest("kingsQuest","TalkToGuard"),t.addBranch("kingsQuestDropOffDathea").talk("Queen","Hey we brought you a girl.").talk("AviaGuard","Come here!").talk("","The guard picks up Dathea and kisses her on the lips.").talk("AviaGuard","This is great!").talk("Dathea","Hello!").talk("","The guard keeps kissing her whole face. Dathea turns her head and looks at the girls.").talk("Suki","So we can go in now right?").talk("Queen","Wait, how long do you need Dathea for? We have to take her back.").talk("AviaGuard","Just a few hours-").talk("","He unzips his pants and pulls out his cock.").talk("AviaGuard","You brought her naked just for me?!").talk("Suki","Well actually, I don't think she has any clothes.").talk("","The girls scoot closer to the gate.").talk("Suki","Right so, we'll be going now...").talk("","The guard puts his cock in Dathea's mouth and moans.").completeQuest("kingsQuest","DropOffDathea");let e=t.addBranch("kingsQuestBoss").talk("","The girls run past the gate and enter the castle.").talk("Queen","I wonder where she is.").talk("","In the throne room...").talk("Naknu","I'm getting tired of waitin. You know what? I'm just going to take the princess!").talk("","Naknu jumps out of hiding, towards Scarlett.").talk("Naknu","Aha! You're mine!").talk("","Scarlett looks down at Naknu.").talk("Scarlett","Ew!").talk("","Scarlett kicks Naknu. He flies out the castle window.").talk("Naknu","AHhhhh!").talk("Queen","Hey did you hear something?").talk("","The girls walk to the side of the throne room's door. They peak into the room and see a group of guards surrounding the king. Scarlett is in the back of the room.").talk("Queen","Okay the king is definitely not back to normal yet!").talk("Suki","Yeah what's the plan? Let's jump in there and break her out!").talk("Queen","We can wait a few more days?","Sad").talk("Suki","Or we can go in right now!").talk("Queen","Oh gosh, not this plan again...","Sad").talk("Suki","It worked last time!").talk("Queen","Sorta...","Sad").talk("","Suki starts taking off her clothes.").setNaked("Suki",!0).talk("Suki","Welp, I guess we HAVE to...").talk("Queen","Hey, we didn't even agree to this yet!","Angry").talk("","Suki runs into the throne room.").talk("KingEvil","Hey! Who goes there?!").talk("","Scarlett's eyes widen as she sees the girls walk in.").talk("KingEvil","Well well well, if it isn't your lovely friends Scarlett.").talk("KingEvil","Why is she naked?").talk("Suki","Hello!","Happy").talk("","Queen runs in after Suki").talk("Queen","Yeah we sort of... um... I'll give you 100 gold for Scarlet...").talk("KingEvil","Are you serious?").talk("KingEvil","Guard! Grab these girls!").talk("","The guard run and grab the girls from behind. Their eyes are glowing purple just like the King's.").talk("Queen","Hey we weren't even being aggressive!").talk("Suki","Watch where you grab me! I'm sensitive there!").talk("","The guard on Suki gets embarrassed and lets go a bit.").talk("","Suki reaches for his cock. The guard scoots back while still holding onto her.").talk("Suki","Ah! Stop it you're hurting me!","Blush").talk("","Suki smiles as he tries to hold her in place, but also trying to stop her from grabbing his cock.").talk("KingEvil","We've been expecting you girls for a while now. Scarlett told us how talented you are.").talk("","All of the guard's eyes glow brightly.").talk("KingEvil","Please, show us.").talk("","The guards start to squeeze the girl's tits. They start lactating.").setNaked(["Queen","Esxea"],!0).talk("Esxea","Uh oh! Here comes the milk again!").talk("Queen","I guess we have no choice now. Stick to the game plan ladies!").bossBattle("KingOfAvia","Easy").ifLastAnswer(!0,"win").ifLastAnswer(!1,"lose");e.addBranch("win").talk("KingEvil","Bring me that girl! I'll show you guards how it's done!").talk("","The guards bring Queen to the throne.").talk("","The king grabs Queen and thrusts his cock into her pussy.").talk("","The king leans forward and sucks one of Queen's nipples.").talk("KingEvil","Mnph!").talk("","The king's cock starts to throb. He tries holding his cum in, but he can't resist Queen's tight pussy.").talk("KingEvil","I can't stop!").Flash().talk("","The king moans loudly as he shoots his load into Queen's pussy.").talk("","The king locks his lips onto Queen's nipple tightly and sucks it as he cums.").talk("","The king pushes Queen's torso closer, trying to stick as much of her tit into his mouth as possible.").Flash().talk("KingEvil","That's about the best tit I have ever tasted!").talk("","The purple from the King's eyes starts to fade. Same with the guards.").talk("","The guards let go of the girls.").talk("Suki","Why'd you stop?","Blush").talk("","Suki rubs her face on the guard's cock.").talk("Scarlett","Daddy! Let go of her!","Angry").talk("King","Huh?!").talk("","The king looks down at Queen. He quickly pushes her off him.").talk("King","What in the world?! What is going on here?!").talk("Scarlett","You tell me!","Angry").talk("","The king looks around the room confused.").talk("Queen","I think I know what happened here...","Sad").talk("Queen","I think your dad was possessed.","Sad").talk("Scarlett","Possessed? By what?!","Surprise").talk("Queen","I wish I knew.","Sad").talk("King","I don't seem to remember how I got here, or how this mess started.").talk("Scarlett","Really?!","Sad").talk("King","All I know is that this woman may have saved my life!").talk("King","Please! What is your name?!").talk("Queen","Queen.").talk("King","Amazing! And I'm a king. Now what is your name?").talk("Queen","No, my name is Queen.","Sad").talk("King","Queen of what?").talk("Queen","No I mean-","Sad").talk("Suki","Her name is Suki.","Happy").talk("King","Suki! A wonderful name. As King of Avia, I will give you a nobel peace award!").talk("Suki","Wow! You hear that Suki? A peace award with your name on it!","Happy").talk("Scarlett","Wait! Are you going to ignore everything that just happened?!","Angry").talk("King","Well...").talk("King","I'm not really sure what just happened, I just woke up from a bad dream.").talk("Scarlett","I'm leaving!","Angry").talk("King","Huh?").talk("Scarlett","I'm moving in with my friends!","Angry").talk("King","These girls? Why would you leave the castle? Everything you need is here!").talk("Scarlett","I don't want to be a princess anymore! I'm always stuck in this stupid castle!","Angry").talk("","The king gulps.").talk("King","Well, if that's how you feel... I guess-").talk("Scarlett","Queen! Feel free to pick me up any time!","Happy").talk("","Scarlett runs to her room.").talk("King","Uh... I appreciate the help, but I think you ladies should get going.").talk("Queen","Way ahead of ya.").talk("","The girls quickly put on their clothes and run out the doors.").setNaked(["Queen","Suki","Esxea"],!1).Fade().talk("","The girls head out of Avia.").talk("Queen","Why does everyone we run into become possessed by some weird purple stuff?").talk("Suki","I don't know, I'm just glad I'm here with ya!").talk("Suki","Plus! I feel like a super hero, helping all of these people!").talk("Queen","I just hope something really bad doesn't become possessed...").Fade().patreonPopUp().completeQuest("kingsQuest","Boss").popUp("Congratulations! You have saved the King of Avia!"),e.addBranch("lose").talk("KingEvil","How pathetic. Not worth our time."),t.addBranch("kingsQuestEnd").talk("Queen","We're here to pick up a princess!").talk("Scarlett","Oh my gosh, finally! I'm so excited!","Happy").talk("King","Make sure my little girl doesn't get in too much trouble okay?").talk("Suki","No promises!").talk("King","...").completeQuest("kingsQuest","End").popUp("Congratulations! You have unlocked Scarlett!"),t.addBranch("returnDatheaGetDathea").talk("Queen","Hey, we're done here. Can we have Dathea back?").talk("AviaGuard","What? Already?! I'm not done yet!").talk("","The guard pulls out his flaccid cock and puts it in Dathea's cum covered mouth.").talk("Queen","Hey! You've fucked her enough, we need to take her home!").talk("AviaGuard","Ugh, you girls are the worst.").talk("Queen","Look, if you ever want to fuck a goblin just come to my brothel.").talk("AviaGuard","Yeah, good luck getting me out of this stupid castle.").completeQuest("returnDathea","GetDathea"),t.addBranch("battleOrcsAskKing").talk("","The girls walk into the castle.").talk("Scarlett","Hey Daddy...").talk("Scarlett","I need some help.").talk("King","Oh no, what is it?").talk("Scarlett","I need all of our troops.").talk("King","What?! Did you start a war?").talk("","The king laughs.").talk("Scarlett","Yes.").talk("","The king stops laughing.").talk("King","Are you serious?").talk("Queen","Our little town is susceptible to orc attacks. We were wondering if we could get some help.").talk("King","Aw Scarlett, you can't just start wars!").talk("","Scarlett looks down.").talk("Suki","Yeah alright, I guess we'll just get eaten alive by orcs then. Goodbye!","Sad").talk("King","No wait, I can't let my daughter get taken by some monsters.").talk("Suki","With honkers like those she'd probably be the first one to go!").talk("","Suki bounces Scarlett's tits up and down.").talk("","Scarlett puts her arms in front of her to stop Suki.").talk("King","The king has a disgusted look on his face.").talk("Suki","And then after they're done feasting on us, they'll come down south to Avia!").talk("King","Ugh.").talk("King","Okay, I guess I can help regulate the orcs. 100 troops. Is that okay?").talk("Scarlett","I don't know.").talk("King","Come on Scarlett, how many orcs did you see?").talk("Scarlett","Like, 20.").talk("King","Perfect, that should be enough.").talk("Queen","The orcs went north of Easthollow. My friend said they live in the mountains.").talk("King","Mountains north of Easthollow. Got it.").talk("Scarlett","Thank you!").talk("King","Alright, get out of here, I have work to do.").completeQuest("battleOrcs","AskKing"),t.addBranch("sukiAndKingStart").setNaked("Suki",!1).talk("AviaGuard","What do you want?").talk("AviaGuard","Can't you see the annual fair is today?").talk("Suki","A fair? I came on the right day!").talk("","The slums are filled with rides and entertainment of the sort.").talk("AviaGuard","I wish I could join them, but...").talk("Suki","Yeah, too bad you're a loser guard who has to watch this spot all day.").talk("AviaGuard","...").talk("Suki","Let me in so I can talk to the king.").talk("AviaGuard","You can't just walk up and see the king!").talk("Suki","Really? You don't think Princess Scarlett's friend might have some information for the king about his own daughter?").talk("AviaGuard","He-...").talk("AviaGuard","Well! He might have better things to do! But I'll let you in!").talk("Suki","Thanks, loser!").Fade().talk("","Suki walks up to the throne. The king is sitting there.").talk("Suki","Your personal whore is here!").talk("King","Personal whore? I didn't order a personal whore!").talk("King","Hey! Pink hair girl? You're Scarlett's friend right?").talk("Suki","Already forgot about me?").talk("King","How can I help you?").talk("Suki","Nothing, just wanted to come by and see how royal people live!").talk("King","It's not as exciting as it looks. I'm sure Scarlett has talked about it.").talk("Suki","Naw, she's always busy getting railed by the local town folk").talk("King","Oh...").talk("","Suki walks up to the throne and rests her elbow on the top of it.").talk("Suki","Must be pretty cool to be the owner of Avia and stuff.").talk("King","It's a little tiring!").talk("Suki","I can help you relax.").talk("","Suki puts her hand on the King's shoulder.").talk("King","I don't have time to relax anymore. And I'm not looking for your type of relaxation.").talk("Suki","Fine, let's go have some fun then!","Happy").talk("King","Fun? What are we going to do?").talk("Suki","Anything! There's a fair outside!").talk("King","A fair?").talk("","Suki grabs the King's hand.").talk("Suki","Come on, let's go mess with some people!").talk("","The king stands up.").talk("King","Well. I guess I can spare a few minutes.").talk("Suki","Yay!","Happy").talk("","Suki grips onto the King's hand and runs with him out of the castle.").Fade().talk("King","What the? When did this fair get here?").talk("Suki","How did you not notice?","Surprise").talk("King","Did I pay for this? I hope it was cheap.").talk("","Suki and the King walk around. The town folk hesitantly greet the king if their eyes lock.").talk("Suki","Hey! Can you buy me some cotton candy?","Happy").talk("King","Buy? Why would I buy it. I'm the king.").talk("","They walk up to a man running the cotton candy machine.").talk("Suki","Can I get some of that? The pink one!").talk("Peasant","Sure thing, that'll be 5 gold!").talk("Suki","Hey! You're that guy that fucked me!").talk("","The peasant nervously looks at the king.").talk("Peasant","I... I don't know what you're talking about.").talk("Suki","Yeah! It was me, Queen, Esxea, Sca-").talk("Peasant","HERE IS YOUR COTTON CANDY, MA'AM!").talk("","The peasant forces the cotton candy into Suki's mouth.").talk("","Suki grabs the handle.").talk("Suki","Hey! There's barely any on it!","Sad").talk("Peasant","Sorry, we're all out!").talk("King","That was terrible customer service!").talk("Peasant","I'm sorry, mister king sir!").talk("King","You're fired!").talk("Peasant","No, please! I have a family!").talk("","Suki and the King walk away from the cotton candy machine.").talk("Suki","Haha!","Happy").talk("Suki","That was fun! Do you want some?").talk("","Suki looks into the King's eyes and licks the cotton candy slowly.").talk("King","I'm okay!").talk("Suki","Let's go on that roller coaster!").talk("King","Oh! I don't know about that!").talk("","The king looks up at a wooden rollercoaster. The screws holding the ride together are rattling.").talk("King","That thing will break any second now!").talk("Suki","Come on! Look at all the people having fun on it!").talk("","Suki grabs the king's hand and runs to the front of the line.").talk("Suki","King of Avia and his personal assistant would like to ride this ride, please!").talk("Peasant","Sure thing!").talk("Suki","What the? Aren't you the same guy from the cotton candy machine?").talk("Peasant","What? The king just fired me from my cotton candy job!").talk("Suki","Oh, right...","Sad").talk("King","I hope this ride has been thoroughly checked.").talk("Peasant","Of course! I helped set this bad boy up last night!").talk("","Suki and the King sit in their seats.").talk("Peasant","Alright, no one put your hands up during the ride. They might get chopped off.").talk("Peasant","Put your seat belts on and yadda yadda yadda, see ya!").talk("","The peasant pushes a button, the roller coaster quickly kicks off.").talk("King","Woah! That was fast!").talk("Suki","Weee!","Happy").talk("","Suki and the king twist and turn in the roller coaster. Suki puts her arms up.").talk("King","Suki! The guy said not to-!").talk("Suki","Wee!","Happy").talk("","Suki can't hear the king.").talk("King","Suki! Your arms might get chopped off if you-!").talk("","The king grabs Suki's arms and brings them down. At the same time, the roller coaster reaches its peak height.").talk("","Suki and the king look down at the big drop. They look at each other and gulp.").talk("","Suki and the king hug each other as the roller coaster races downward.").talk("Suki","Ahhh!","Surprise").talk("King","Ahhh!!!").talk("","The roller coaster reaches the end of the drop and it slowly comes to an end.").talk("King","Wow! What a ride!").talk("Suki","You can let go of me now.").talk("","The king stops hugging Suki.").talk("King","Right.").talk("","Suki and the king get up and walk away from the roller coaster.").talk("King","This was a great time! I'm glad my daughter is friends with you!").talk("King","What is your name?").talk("Suki","Suki!").talk("King","I am glad we were able to hang out today, Suki.").talk("King","I think it would be best for me to go back to the castle now.").talk("Suki","Okay! Thanks for hanging out. I guess I'll go back home and fuck some guys or something.").talk("King","Right...").talk("King","Tell Scarlett to stay out of trouble, okay?").talk("Suki","Will do!").Fade().setBackground("EasthollowBackground").talk("","Suki walks into Queen's house.").talk("Scarlett","Back already?").talk("Suki","I am beat!").talk("Scarlett","What'd you do?").talk("Suki","Just hung out with you dad.").talk("Scarlett","My dad?!","Surprise").talk("Suki","Yeah, he's a cool guy!").talk("Scarlett","Suki... what did you do with my dad?","Sad").talk("Suki","We got some cotton candy, fired some guy, rode a roller coaster, uhhhhhh...").talk("Scarlett","Suki, did you fuck my dad?","Sad").talk("Suki","No! I didn't! I swear.","Happy").talk("Scarlett","...","Sad").talk("Suki","What? I'm not that horny!").talk("Scarlett","You're a succubus!","Sad").talk("Suki","You'll have to believe me!").talk("Scarlett","Fine...","Sad").Fade().switchMap("Easthollow").completeQuest("sukiAndKing","Start")})(),(()=>{let t=GAME.dialogue.addDialogueTree("AviaSlums");t.addBranch("root",!0).QuestPicker("AviaSlums");(()=>{t.addBranch("kingsQuestFindScarlett").talk("Queen","This place is gross.","Sad").talk("Suki","I've seen the brothel look worse than this.").talk("","The girls hear yelling coming from a broken up wood house.").talk("Queen","I wonder what's going on over there.").talk("","The girls approach the front window.").talk("Peasant","Please! I can't cum without your milk!").talk("Scarlett","I said fill it up!").talk("Queen","Woah, is that the princess?").talk("","The girls see Scarlett standing on a table pointing at a jar. Male peasants stand around her, jerking themselves off.").talk("Suki","What is she doing?").talk("Peasant","Please just a few drops!").talk("Scarlett","Open your mouth!").talk("","Scarlett pulls her shirt down, revealing her huge breasts. She bends over and squeezes them. The peasants open their mouth as milk squirts out.").playAnimation("ScarlettPeasantsMilk").setBackground("ScarlettPeasantsMilk").talk("","The peasants jerk themselves off faster. Some run up to the jar next to Scarlett and cum inside it.").talk("Queen","What in the world is she doing?","Surprise").setBackground(!1).talk("","Scarlett pushes her heavy breasts back into her shirt. Her shirt droops down.").talk("Scarlett","That's all you get. Now fill it up!").talk("","The peasants keep jerking themselves off as they stare at her.").talk("","Suki walks into the house. The other girls walk in after.").talk("Scarlett","Ah!","Surprise").talk("Suki","Hey what's up!","Happy").talk("Scarlett","Hey it's you girls! What are you doing here?","Surprise").talk("Suki","Just hanging out!").talk("Queen","What is the princess of Avia doing here?").talk("Scarlett","Uhh...","Sad").talk("","A peasant runs up to the jar and cums in it.").talk("Suki","Stockpiling some cum?").talk("Scarlett","It's for uh...","Sad").talk("Suki","Going to drink it later?").talk("Scarlett","No, uh it's for my skin.").talk("Queen","Skin huh?").talk("","Suki walks up to the jar and dips her fingers in it. The cum drips off her fingers and lands on the lid.").talk("Scarlett","Hey don't touch it!","Angry").talk("Suki","You use this for your skin?").talk("","Suki rubs the cum on her arm.").talk("Scarlett","No stop, you're doing it wrong!","Angry").talk("","Scarlett gets off the table and grabs the jar and closes it.").talk("Scarlett","Don't tell my dad I was here!","Sad").talk("Queen","We won't tell him. We just wanted to know what you were doing.").talk("Scarlett","I use their cum as a facial for my skin.").talk("Suki","Huh, so is that how Princesses look so good?").talk("Scarlett","Is it working?","Sad").talk("","Suki gets close to Scarlett's face and inspects it.").talk("Suki","Mmm, yeah your skin looks pretty good!").talk("Scarlett","Yay!","Happy").talk("Suki","We should start doing that too Queen.").talk("Queen","Uh, yeah I guess. It's hard when guys cum inside us most of the time.").talk("Peasant","Fuck I'm going to cum! Open the jar!").talk("","Scarlett tries to open the jar, but the cum on the lid is making it too slippery to open.").talk("Peasant","Hurry!").talk("","Scarlett can't open the jar.").talk("Suki","Here.").talk("","Suki cusps her hands and puts them by his cock.").talk("","The peasant cums into Suki's hands.").talk("","Scarlett finally gets the jar open.").talk("","Suki pours the cum into the jar and licks her hand clean.").talk("Scarlett","Thanks for that. You girls seem pretty cool, how come I've never seen you around?").talk("Queen","We're not from Avia. Just thought we would check out the slums and maybe get some more clients.").talk("Scarlett","Clients? From the slums?").talk("Suki","Yeah we'll just about fuck anything for money.").talk("Scarlett","Wait, are you girl's whores?","Surprise").talk("Queen","Well I own a brothel in Easthollow.").talk("Scarlett","Amazing! What's your names?").talk("Queen","Queen.").talk("Suki","Suki!").talk("Esxea","...").talk("","Queen nudges Esxea. Esxea quickly blinks twice and looks up.").talk("Esxea","Oh, hello! Wow you're pretty!").talk("Queen","That's Esxea. You'll get used to her.").talk("Scarlett","Nice to meet you all! Let's get of this dump!").talk("","The girls walk out of the house. The remaining peasants look around confused, with their cocks out.").Fade().talk("Suki","Are you going to use all of that cum?").talk("Scarlett","Yeah! You need a lot of it for the facial to work.").talk("Queen","How often do you do this?").talk("Scarlett","Like once a day. It's easy, you just squirt a little milk out your tits and all the guys cum!").talk("Queen","I don't think I've ever done that before...").talk("Suki","I bet it's easy with those big honkers of your Scarlett.").talk("Esxea","Honk honk!").talk("","Esxea squeezes her own breasts twice.").talk("Scarlett","Oh, yeah maybe. I'm sure you can do it too. Just takes some practice.").talk("Scarlett","How about you girls come by next week and we can do some facials together?","Happy").talk("Scarlett","If you're free of course!","Sad").talk("Esxea","Oh wow! Did the princess just ask us to hang out?!","Happy").talk("Queen","It would be an honor!").talk("Suki","It would be an honor to rub cum on our faces with a princess!").talk("Scarlett","Alright well, I'm going back up to the castle. I'll see you later!").talk("","The girls walk out of the slums and part ways.").talk("Queen","Wow did we just befriend a princess?!").talk("Suki","I can't believe the princess is such a hoe!").talk("Queen","Let's go get some rest before our hot date with the princess!","Happy").completeQuest("kingsQuest","FindScarlett");let e=t.addBranch("kingsQuestFuckPeasants").talk("","Some time later, the girls decide to head back to the slums.").talk("Queen","I hear a commotion, I think Scarlett is already in there.").talk("","The girls walk into the same building. There are a bunch of naked peasants angrily talking to each other.").talk("Peasant","Finally! Where have you been?").talk("Queen","What? I didn't know there was-").talk("","The peasants turn and face the girls. They start to stroke their cocks.").talk("Queen","Okay well, I think we should have brought a jar or something.").talk("Suki","Yeah, but I think Scarlett should be here any second now.").talk("Peasant","Let me see your tits!").talk("Queen","Hold on, don't shoot your loads yet.").talk("Queen","Should we go outside and wait for Scarlett?").talk("Suki","Um, yeah maybe?").talk("","The girls try to turn around and leave.").talk("Peasant","Hey where are you going?!").talk("Queen","We'll be back with a jar.").talk("Peasant","Hold on, we won't cum until Scarlett gets here I promise!").talk("Queen","You really think you can hold it in?").talk("Peasant","Yeah! Just take off your clothes!").talk("Queen","Oh brother...").talk("","The girls take off their clothes.").setNaked(["Queen","Suki","Esxea"],!0).talk("","The peasants start stroking their cocks faster.").talk("Queen","I don't know if jerking off faster will help them not cum.").talk("Suki","I don't know if this will help either!").talk("","Suki goes behind Queen and squeezes her breasts together.").talk("","The peasants stare at Queen's chest.").talk("Queen","Yeah this definitely isn't helping us.").talk("Peasant","Let me try that!").talk("","The peasant runs up to Queen and grabs her boobs.").talk("Queen","Look what you started Suki.").talk("Suki","Oops.").talk("","The peasant spits on her chest.").talk("Peasant","Oh yeah! Scarlett never lets us do this!").talk("Queen","Uh...","Sad").talk("","Queen looks back at Suki, she shrugs.").talk("Queen","God, this is so awkward.","Sad").talk("","The peasant rubs Queen's breasts around in circles.").talk("","Two peasants pick up Esxea and start to suck on her nipples.").talk("Esxea","Woah! Hello!","Happy").talk("Suki","What? Does nobody want these?","Sad").talk("Suki","I know they're small, but...","Sad").popUp("You are about to encounter a new client type!\n\nEdger\nEdgers lose excitement when they are about to cum.").Function((()=>new Promise((t=>{let e=new Battle(["Queen","Suki","Esxea"],"Easy");e.addClients([new BattleClient("",8,[new BattleClientTypeEdger],"Tits",14e3,"ClientBorderP1"),new BattleClient("",9,[new BattleClientTypeEdger],"Tits",14e3,"ClientBorderP2"),new BattleClient("",10,[new BattleClientTypeEdger],"Tits",14e3,"ClientBorderP3"),new BattleClient("",11,[new BattleClientTypeEdger],"Tits",14e3,"ClientBorderP4"),new BattleClient("",12,[new BattleClientTypeEdger,new BattleClientTypeCummer],"Tits",2e4,"ClientBorderP1")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win").ifLastAnswer(!1,"lose");e.addBranch("win").talk("","The girl's tits start to lactate.").talk("Peasant","Finally!").talk("","The peasants squeeze the girl's tits out, milk squirts out of their nipples.").talk("Queen","Oh my god, there's so much!").talk("Peasant","Hey move it! I can't hold it in!").talk("","The peasant pushes the other peasants out of the way and cums onto Queen's face.").cumOn("Queen","Throat").talk("Queen","What the! I said don't cum!","Angry").talk("","Another peasant shoots their load onto Suki's chest.").cumOn("Suki","Throat").talk("Suki","Hey you missed my face!","Angry").talk("Queen","Great, Scarlett isn't even here yet.").talk("","A peasant shoots his load onto Queen's lips.").talk("","Queen wipes the cum off her lips and rubs it into her cheeks.").talk("Queen","Aim for our face please, we need this cum.").talk("","Queen turns around and sees a group of peasants cumming on Esxea's lactating tits").cumOn("Esxea","Tits",1).talk("Esxea","I sure am milky today!").talk("Queen","Ugh...").talk("","Scarlett walks into the building with a jar in her hand.").talk("Scarlett","Oh... what happened here?").talk("Suki","We tried our hardest to stop them!").talk("Queen","We... messed up.","Sad").talk("Scarlett","Hmm...").talk("","Scarlett watches as the guys cum on the girl's bodies.").talk("Scarlett","Alright, let's go outside!").talk("Queen","Huh?").talk("","The girls stand up and follow Scarlett outside.").talk("","Scarlett takes off her clothes and lays down in the dirt outside the building.").setNaked("Scarlett",!0).talk("Queen","What are we doing?").talk("Scarlett","We need sunshine for the facial!").talk("","The girls lay down with Scarlett and close their eyes.").talk("Scarlett","We might as well get our whole body done since we're here.").talk("","The peasants come outside and walk up to the girls.").talk("Scarlett","Start with our face please, then you can have whatever you want.").talk("","The peasants start to drench the girl's faces with their cum.").cumOn(["Queen","Suki","Esxea","Scarlett"],"Throat").talk("Scarlett","Sorry I was late. It's a little hard leaving the castle when you're a princess!").talk("Queen","That's okay. We're just glad you showed up.").talk("Suki","Are we supposed to be in the sun?").talk("","The sun shines on the girl's bodies. The cum slowly dries up.").talk("Scarlett","Yeah! You'll thank me after we're done and you take a shower.").talk("Peasant","I'm going to cum again!").talk("Scarlett","Go ahead!").talk("","The peasants keep jerking off while looking at the girls.").cumOn(["Queen","Suki","Esxea","Scarlett"],"Throat").talk("Queen","This is a little weird for a princess don't you think?").talk("Scarlett","I guess, but I'm glad I have some new friends that enjoy it too!").talk("Suki","Somebody fuck me! This cum thing is boring!").cumOn(["Queen","Suki","Esxea","Scarlett"],"Throat").talk("","Suki lifts one leg up. A peasant lifts her hips up and starts to fuck her.").cumOn("Suki","Pussy",1).talk("Scarlett","How is your, um, business going Queen?").talk("Queen","Good. Haven't been able to get anyone from Avia yet.").talk("Suki","Yeah, maybe poor peasants weren't a good choice to make money from.").talk("Scarlett","Maybe I can help you get more customers?").cumOn(["Queen","Suki","Esxea","Scarlett"],"Throat").cumOn("Suki","Pussy",2).talk("Queen","Wow! Do you want to post some advertisements around here?").talk("Scarlett","Or what if the princess herself worked at the brothel?").talk("Suki","Hold up, really?","Surprise").talk("Queen","Would your dad let you do that?!","Surprise").talk("Scarlett","I don't know. Probably not, but who cares!").talk("Scarlett","I'm tired of being here. I want to leave!").talk("Esxea","That's so cool! Can I be the princess instead?").talk("Scarlett","I don't kn-...").talk("Suki","We got room at our place right Queen?").talk("Queen","Um, yeah we can fit you in there... maybe after some adjustments.").talk("","The peasants start to cum on the girls again. They aim for the girl's tits.").cumOn(["Queen","Suki","Esxea","Scarlett"],"Tits",3).talk("Scarlett","Can I go see your place?").talk("Queen","Right now?","Surprise").talk("Scarlett","Yeah!","Happy").talk("Queen","Sure, I guess.","Happy").talk("Scarlett","Cool let's go!").talk("","The girls rub the wet cum onto their bodies and then stand up.").talk("Scarlett","How far is your house?").talk("","The girls put their clothes back on.").setNaked(["Queen","Suki","Esxea","Scarlett"],!1).talk("Queen","Hmm, a little far. Not too bad. I hope you don't mind walking through mud.").talk("Scarlett","Um... okay!").Fade().setBackground("AviaBackground").talk("","The girls get stopped by the guards as they try to leave Avia.").talk("Scarlett","Move please.").talk("","The guards don't budge.").talk("","A hand grabs Scarlett's shoulder.").talk("KingEvil","Scarlett! I've been looking for you!").talk("Scarlett","Daddy?","Sad").talk("","The king's eyes glow purple along with a purple aura surrounding him and the guards.").talk("Queen","Uh oh...","Sad").talk("KingEvil","Yes, it's time to go home.").talk("Scarlett","But I... I was going to hang out with my friends.","Sad").talk("KingEvil","No, not today. Maybe tomorrow.").talk("","Queen grabs Scarlett's hand.").talk("Queen","It's okay we were just going to hang out for an hour!").talk("","The guards stand in front of Queen.").talk("KingEvil","Matter of fact, why don't you invite your friends over tonight?").talk("","Queen lets go of Scarlett. Her and the girls back away from the guards.").talk("Queen","No, I don't know if we can come over tonight...","Sad").talk("","Queen nudges Suki.").talk("Scarlett","Wait are you sure you don't want to come over?","Sad").talk("Queen","Ah, no not tonight. We'll be back tomorrow for sure!").talk("","Scarlett looks sad. Queen and the girls start to walk backwards quickly.").talk("Suki","Sorry! See you later!","Sad").talk("","The girls run away from Avia.").talk("KingEvil","Let's go. You're not leaving the castle anymore.").talk("","The guards take Scarlett. They walk back to the castle.").Fade().talk("Queen","Did you see that?! We almost got ourselves into trouble there!","Surprise").talk("Suki","Yeah somethings up. He definitely wasn't purple before.","Sad").talk("Queen","Do we have to save her too?").talk("Suki","Maybe. Or maybe he won't be possessed tomorrow?").talk("Esxea","We can't just leave her! I'm going back in!!!","Angry").talk("","Esxea tries to run back towards Avia, but Queen puts her hand on Esxea's forehead.").talk("Esxea","Let me at em!!","Angry").talk("","Esxea keeps trying to run past Queen.").talk("Queen","Let's come back tomorrow and see if the King is back to normal...").talk("","Esxea plops down on the ground.").talk("Esxea","Phew, I'm tired!").Fade().completeQuest("kingsQuest","FuckPeasants").switchMap("Crossroad"),e.addBranch("lose").talk("Peasant","These girls are dry. I'm out of here!").talk("","The peasants leave the building.").talk("Queen","Uh oh, I think we ruined it.","Sad")})(),t.addBranch("rabbitTormentStart").talk("Scarlett","Good afternoon gentlemen!").talk("","Scarlett seductively walks around the slums.").talk("","The men's jaws drop when they see Scarlett.").talk("Peasant","Hey, the princess is ba-").talk("Peasant","Woah mama!").talk("Scarlett","Did you miss me?").talk("","Scarlett twirls around, showing off her dress.").talk("Peasant","Where's the cum jar? I can't wait to bust a nut to you!").talk("Scarlett","Sorry, not today. I was just strolling by!").talk("Scarlett","Wanted to see what my peasants looked like again.").talk("Peasant","Well, I want to see what your titties look like again!").talk("Scarlett","Really? How badly do you want to see them?").talk("Peasant","Come on! Don't play with me!").talk("","Scarlett grips a nearby bench. She bends over slightly and squeezes her breasts together with her elbows.").talk("Peasant","Alright, what do you want?!").talk("Scarlett","It's going to cost you a few gold this time!").talk("Peasant","Oh you royal punks! Always taking money from the poor!").talk("","The peasant drops some coins in front of Scarlett.").talk("Scarlett","That's it? Maybe your friends can help.").talk("","The peasant looks around.").talk("Peasant","Hey, come on! Help me out, let's see her tits!").talk("","A few peasants walk up and drop some gold in front of Scarlett.").talk("Scarlett","I'm not a cheap whore. You guys can do better than that!").talk("Peasant","You know we don't have any money!").talk("","Scarlett jiggles her breasts up and down.").talk("","The peasants stare at her breasts, hoping to sneak a peak of her nipples, but they never come out.").talk("Peasant","Please, someone give her some more money!").talk("","More peasants give Scarlett some gold.").talk("Scarlett","All this money is making me so horny, I feel like taking all of my clothes off!","Blush").talk("Peasant","Yeah, yeah! Do it!").talk("","Scarlett puts her hands on her cleavage. She grips her dress and motions as if she is going to pull her breasts out.").talk("Scarlett","No, I can't do it!","Blush").talk("Scarlett","Not for-").talk("","Scarlett looks down at the pile of gold.").talk("Scarlett","Not for 400 gold!").talk("Peasant","Argh! Come on boys we need some more!").talk("","More peasants run up and give Scarlett gold.").talk("Scarlett","Oh yes! We're almost there!","Blush").talk("","Scarlett sticks her tongue out and lets her saliva fall down on her chest.").talk("","She rubs it on her cleavage.").talk("Scarlett","Oh, I had someone else's dirty saliva all over my tits!","Blush").talk("Peasant","Me! Me! That could be me!").talk("","The peasant's voice gets drowned out by the other cheering peasants.").talk("Scarlett","I'm so close to letting my big breasts out! Somebody please, help me!","Blush").talk("","More peasants drop gold in front of Scarlett.").talk("Scarlett","Oh, here they come!","Blush").talk("","Scarlett tugs on her cleavage. Her nipples follow her clothing down, until they finally pop out of her dress.").talk("Peasant","Yeah! Finally!").talk("","The peasants take out their cocks.").talk("","Scarlett puts her breasts back in her dress and picks up the gold.").talk("Scarlett","Sorry boys, shows over!").talk("Peasant","But, it just started!").talk("","The peasants boo Scarlett.").talk("Scarlett","Maybe next time the show will be longer!").talk("","Scarlett leaves.").Fade().talk("Scarlett","Haha! Queen is going to love all this free money I just got us!","Happy").completeQuest("rabbitTorment","Start")})(),(()=>{GAME.dialogue.addDialogueTree("battleOrcsCheckBattle").addBranch("root",!0).talk("","The girls walk towards the mountain.").talk("Ardura","You'll never make it up here alive!","Angry").talk("","Ardura yells from the top of the mountain.").talk("","One orc guard blocks the path of the troops.").talk("","A troop yells a mighty roar and charges the orc guard.").talk("","The guard yawns and flicks the troop away.").talk("Queen","Yikes, are they losing to one guy?").talk("AviaCaptain","Stand back princess, you don't want to be a part of this.").talk("","The captain stands in front of the girls.").talk("Scarlett","Are we winning?").talk("AviaCaptain","No...").talk("AviaCaptain","My men can't seem to handle one orc. They seem to be a little demoralized.").talk("Scarlett","Then cheer them up!","Angry").talk("AviaCaptain","I'm trying! They need to be ruthless, just like our opponents!").talk("","The orc guard lays on the ground and falls asleep.").talk("AviaCaptain","Alright men! Fall back and get ready for wave 2!").talk("Queen","What are you going to do in wave 2?").talk("AviaCaptain","Probably the same thing we did during wave 1. But this time stronger and better!").talk("","The captain's men sigh and mope back to the camp.").talk("AviaCaptain","Keep your back straight soldiers!").talk("AviaCaptain","Don't worry ladies, I'll get these soldiers up and running in no time!").talk("","The captain walks away from the girls.").talk("Queen","Well, this doesn't look good.","Sad").switchMap("Easthollow").popUp("Check on the soldier's morale tomorrow.").completeQuest("battleOrcs","CheckBattle");let t=GAME.dialogue.addDialogueTree("battleOrcsFuckSoldiers").addBranch("root",!0).talk("","The girls walk towards the soldier's campsite.").talk("Queen","What the?").talk("","The soldiers are butt naked jerking themselves off.").talk("AviaCaptain","Bad timing ladies!").talk("Suki","Is this how you train them?").talk("AviaCaptain","We've been ambushed!").talk("Queen","What how?").talk("AviaCaptain","I don't know! The orcs seem be using some sort of sexual voodoo!").talk("","Queen looks around, she notices all of the men jerking off have food stains on their mouth.").talk("Queen","Wait a minute...").talk("","Queen walks towards the cauldron of soup.").talk("Queen","Hey this smells like the mushrooms from the morass.").talk("Queen","They're mushrooms that make you horny.").talk("AviaCaptain","What? Who put that in my soup?").talk("AviaCaptain","I need to get this sorted with quick before the orcs attack!").talk("Queen","I think you might need our help. We just need to make them cum.").talk("AviaCaptain","You want to fuck all of them?").talk("Queen","Well I don't think the orcs are going to help.").talk("","A soldier runs up to Queen and pulls off her clothes. She lets him.").setNaked("Queen",!0).talk("Scarlett","What? Are we starting right now?","Sad").talk("","The soldier bumps the tip of his cock on Queen's asshole.").talk("Queen","Go down a bit.").talk("","The soldier puts the head of his cock into her asshole.").talk("Queen","Oh jeez.").talk("AviaCaptain","That's smart! That's your tightest hole. It should make him cum quick!").talk("","The soldier cums into Queen's asshole and pulls out.").talk("AviaCaptain","One down!").talk("AviaCaptain","Alright boys line up! We have some asses to pound!").Function((()=>new Promise((t=>{let e=new Battle;e.addClients([new BattleClient("",10,[new BattleClientTypeEdger],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypePassive],"Anal",12e3,"ClientBorderG1"),new BattleClient("",10,[new BattleClientTypeSwitcher],"Anal",1e4,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeEdger],"Anal",1e4,"ClientBorderG3")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win1").ifLastAnswer(!1,"lose1"),e=t.addBranch("win1").setNaked(["Queen","Suki","Esxea","Scarlett"],!0).talk("AviaCaptain","Hey this is really helping! Everyone cum and go!").talk("E1","Sir! Permission to cum in the princess's asshole!").talk("AviaCaptain","Absolutely!").talk("Scarlett","Hey! There's three other girls you know!","Angry").talk("","The guard puts his cock into Scarlett's asshole and cums immediately.").talk("G1","Sir, may I also have permiss-").talk("AviaCaptain","Cum as fast as you can boys we have a war to get back to!").Function((()=>new Promise((t=>{let e=new Battle(["Scarlett"]);e.addClients([new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderG1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderG3"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderG1"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderE3"),new BattleClient("",10,[new BattleClientTypeCummer],"Anal",1e4,"ClientBorderG3")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"win2").ifLastAnswer(!1,"lose2");e.addBranch("win2").talk("","The last guard runs to Scarlett and cums in her ass.").playAnimation("ScarlettGuardAnalCum").talk("Scarlett","Aw come on, why did they all want to cum in my ass?","Angry").talk("","The guards all pass out from exhaustion. Even the captain is asleep.").talk("Queen","I don't know if that helped...").talk("","An orc walks up to the camp.").talk("Mog","Huh?").talk("Queen","AH!","Surprise").talk("Scarlett","Oh my god what do we do?!","Surprise").talk("Suki","Just stand still! Maybe he can't see us!","Surprise").talk("","The girls stop and try their hardest not to move.").talk("","The orc scratches his belly.").talk("","With one hand, he picks up Queen.").talk("Suki","It didn't work!","Surprise").talk("","Esxea runs up to the orc and starts to kick his foot. The orc doesn't notice.").talk("Queen","He's going to eat me!","Surprise").talk("","The orc inspects Queen's asshole. He gets an erection.").talk("Scarlett","Oh my god! Look how big his thing is!","Surprise").talk("","The orc sticks the tip of his cock into Queen's asshole.").talk("Queen","Oh fuck! That's huge!","Surprise").talk("Mog","Ahh!").talk("","The orc slowly pushes his cock into Queen. It goes in with ease.").playAnimation("QueenOrcBattle").talk("Queen","Ahh!!! It fits?!","Surprise").Flash().talk("","The orc cums inside Queen's asshole.").talk("","Cum shoots out of her asshole when he takes his cock out.").talk("Mog","Huh... you... girl good.").talk("Queen","Good?").talk("","The orc starts walking towards the mountain.").talk("Queen","Wait! Let me go!").talk("Suki","Uh oh, what do we do?","Sad").talk("Scarlett","I don't know? Follow her!","Angry").talk("","The orc takes Queen up the mountain. The girls follow. Esxea continues punching the orc's foot while walking with him.").Fade().talk("","The orc brings the girls to the top of the mountain. Ardura is there to greet them.").talk("Mog","Girl!").talk("","The orc puts Queen down. Esxea sits down, exhausted from punching the orc.").talk("Ardura","Mog! Why did you bring them here?","Angry").talk("","The orc shows Ardura his flaccid cock. Cum drips down it.").talk("Ardura","Huh? She did this?").talk("","Ardura picks up Queen and looks at her ass.").talk("Queen","Hey!","Angry").talk("","Ardura licks the cum off of Queen's ass.").talk("Ardura","Huh, that is Mog's cum... with a hint of something else.").talk("","Ardura drops Queen.").talk("Ardura","That's some fine work. What's your name?").talk("Queen","Me? Queen...").talk("Ardura","Impressive Queen. You managed to fuck a man twice your size.").talk("Queen","Um thanks.").talk("Ardura","Mog go clean yourself up. We have some testing to do.").talk("Queen","Some testing? This doesn't involve me does it..?").talk("Ardura","What? Of course it does. I've never seen a human girl take an orc cock before.").talk("Ardura","You girls! Can you do this too?").talk("Scarlett","Oh absolutely not.").talk("Suki","I can do a lot of things.").talk("","Esxea lays on the ground.").talk("Queen","That orc's cock is as big as Esxea. There's no way it'll fit her.").talk("Ardura","Haha! Sure it will!","Happy").talk("Ardura","You girls can stay here, but get those stupid guys down there out of here!").talk("Scarlett","But we're here to invade the mountain.").talk("Ardura","Haha! That isn't going to happen!","Happy").talk("Queen","Alright, well can you not invade Easthollow then?").talk("Ardura","Easthollow? Fine. You don't have much anyways. How about Greenhaven?").talk("Queen","No wait, those are our friends.").talk("Ardura","I don't care about your friends.").talk("Queen","Isn't there some other orc people you guys can invade?").talk("Ardura","Other orcs? Maybe. MOG!").talk("Mog","Huh?!").talk("Ardura","Go find some more camp sites north.").talk("Mog","Okay!").talk("","Mog runs away.").talk("Ardura","Now get those guys away from our mountain!").setNaked(["Queen","Suki","Esxea","Scarlett"],!1).completeQuest("battleOrcs","FuckSoldiers").popUp("You can now visit the mountains north of Easthollow!"),e.addBranch("lose2").talk("Scarlett","Ow... okay I've had enough of this anal stuff. I'm going home.","Sad").switchMap("Easthollow");t.addBranch("lose1").talk("Scarlett","Ow... okay I've had enough of this anal stuff. I'm going home.","Sad").switchMap("Easthollow")})(),(()=>{let t=GAME.dialogue.addDialogueTree("CampSite");t.addBranch("root",!0).QuestPicker("CampSite");(()=>{t.addBranch("mountainTrainingStart").talk("","The girls climb back up the mountain.").talk("","They see Ardura finish swallowing a load of cum from a near by orc.").talk("","Ardura notices the walk over to her. She lets go of the man's cock and turns around.").talk("Ardura","Hey Queen! You back for some more orc cock?").talk("Queen","No, well...").talk("Ardura","Don't tell me you're too weak to try it again?!","Angry").talk("Queen","It wasn't my greatest achievement.").talk("Ardura","Look, you girls are weak. We take orc cock daily to strengthen our women.").talk("Suki","I bet your anal muscles are very strong.").talk("Ardura","Absolutely. Orc cum is the highest source of protein! I drain my men quickly.").talk("Scarlett","Is she showing off?").talk("Queen","I bet your skills would be much better suited in my line of work.").talk("Ardura","Are you an orc drainer?").talk("","Scarlett puts her hand on her head in shame.").talk("Queen","Sort of, we drain everyone.").talk("Queen","I run a brothel in Easthollow.").talk("Ardura","And after all of that you're still too scared to take on a few orcs?").talk("Scarlett","Hey I don't want that thing in my butt!","Angry").talk("Queen","Look if you're so good, why don't you show us your skills?").talk("Ardura","HAH! I've already gotten my intake for the day, I don't need to prove it to you.","Happy").talk("Suki","Queen she's bluffing!").talk("Ardura","Huh?!","Angry").talk("Suki","Yeah,  I don't believe you!","Angry").talk("","Ardura yells at a nearby orc. He runs up to her.").talk("Ardura","Watch and learn.","Angry").talk("","Ardura strips the man. She lifts her plate skirt and puts the orc's flaccid cock into her asshole.").talk("Queen","Oh, she really just started doing that immediately.").talk("","The orc's cock grows in her ass. Ardura pushes her hips against his pelvis. His cock expands her asshole.").talk("","Scarlett puts her hand on her throat.").talk("Scarlett","Is it all the way in her?").talk("","Ardura pushes her body forward. The orc's massive cock slides out with ease.").talk("Ardura","Are you sure you girls don't want some?").talk("","Ardura cusps her hands on front of the orc. He cums into her hands.").talk("Queen","That was quick...").talk("Ardura","What did I say? You think I can't do that with everyone right now?").talk("","Ardura puts her hands to her mouth and drinks all the cum. She licks her hand dry.").talk("Queen","Alright fine, maybe you are good. Let's make a deal.").talk("Ardura","A deal? I don't need a deal.").talk("Queen","If we fuck all of the orcs here, you have to join my brothel.").talk("Ardura","Last I checked, you struggled with one. How do you plan on taking all of them?").talk("Scarlett","I'm not a big fan of this deal.","Sad").talk("","Suki walks up to the orc Ardura fucked. She grabs his cock and tries to measure how big it is.").talk("Suki","I don't know, taking like 10 of these? Might be doable.").talk("Queen","We'll find a way to do it, do you agree to the deal?").talk("Ardura","You girls are out of your mind, but hey if your bodies manage to take on all of those cocks then I'll respect your deal.").talk("Scarlett","Are you sure you want to do this Queen? Look at Esxea.").talk("","Esxea jumps onto the orc's cock and hangs off of it. The orc scratches his head, confused.").talk("Scarlett","She's tiny!","Sad").talk("Queen","I feel like Esxea is the least of our worries.").talk("Ardura","No bullshit either. Take it up the ass and then swallow their cum.").talk("Queen","Fine. We'll be back when we're ready.").talk("Ardura","Good luck! Hah!","Happy").talk("","The girls walk down the mountain.").Fade().talk("Scarlett","Queen are you crazy?!","Angry").talk("Queen","Imagine that girl working with us! She could take on every single guy, we wouldn't even have to work!").talk("Scarlett","Oh! No working huh? I'm okay with that.").talk("Scarlett","How are we going to put those things in our ass?").talk("Queen","Well, I already did it once. I think it's possible.").talk("Suki","Maybe a bunch of lube?").talk("Queen","Yeah, we need some practice. Let's offer some free anal to people and see how it goes from there.").talk("Scarlett","Free?! That's not very business like!","Sad").talk("Suki","I'm down with that. Let's start at Easthollow tomorrow?").talk("Queen","Sounds good to me.").completeQuest("mountainTraining","Start");let e=t.addBranch("mountainTrainingBattle").talk("Ardura","Finally back eh? You girls ready?").talk("Queen","I think we are.").talk("Ardura","Amazing. I admire your commitment, but I have no doubt that you won't stand a chance.").talk("Ardura","Especially that one!").talk("","Ardura points at Esxea.").talk("Esxea","...").talk("Esxea","...","Angry").talk("Queen","She's the least of our worries.").talk("Queen","Now, get your boys out here and let us show you how it's done.").talk("Ardura","Alright boys come on out!","Happy").talk("","A group of orcs walk towards Ardura.").talk("Ardura","Today you get to fuck these tiny human girls.").talk("Ardura","And please, don't stop until you're done!").talk("","The orcs look confused, almost in disbelief.").talk("","Queen takes off her clothes.").setNaked("Queen",!0).talk("Queen","Come fuck me! I'll make you never want to fuck that orc girl ever again!","Angry").talk("Ardura","Pfft...","Angry").talk("","An orc picks up Queen.").talk("","Queen braces herself. The orc grabs his huge flaccid cock and tries pushing it into Queen's asshole.").talk("Queen","Okay, that's big that's big, but I've done it before!","Surprise").talk("","The orc's cock slips into Queen's asshole. It's a tight fit, but the orc is not erect yet.").talk("Suki","Go Queen!","Happy").talk("","An orc grabs Suki.").talk("Suki","Woah!","Surprise").talk("Esxea","Me too me too!","Happy").talk("","An orc grabs Esxea.").talk("","An orc walks up to Scarlett.").talk("Scarlett","Hey!","Angry").talk("","Scarlett slaps the orc's hand.").talk("Scarlett","You may fuck me, but you have to be gentle!","Angry").talk("","The orc reaches for Scarlett again.").talk("","Scarlett slaps the orc's hand again. He pulls back in shame.").talk("Scarlett","Did you hear me?!","Angry").talk("O1","... yes...").talk("","The orc looks upset. He gently picks up Scarlett.").talk("Scarlett","Good boy!","Happy").talk("Queen","You girls can do it! I believe in you!").talk("","The orc inside Queen starts to get become hard. Queen's asshole starts to widen.").talk("Queen","Oh fuck!","Surprise").talk("","The orc starts to push and pull Queen up and down his cock like a sex toy.").talk("Queen","Oh fuck it's so big!","Surprise").talk("","The orc's cock throb. He enjoys Queen's tight body so much he begins to fuck her faster.").talk("Queen","Oh god he's going faster!","Surprise").popUp("You are about to encounter a new client type.\n\nBig Cock\nBig cock clients do extra damage the more excited they are. Girls who think they can please these big orcs with ease will be mistaken.").bossBattle("Orcs","Easy").ifLastAnswer(!0,"win").ifLastAnswer(!1,"lose");e.addBranch("win").talk("","The last two orcs grab Suki. One sticks his cock into her asshole.").talk("Suki","Hey, don't tell me you're going to-").talk("","The other orc puts his cock into her mouth.").talk("Suki","MMNPH!!","Surprise").playAnimation("SukiSpitroastOrcs").setBackground("SukiSpitroastOrcs").talk("Ardura","Hey, pick on someone your own size!","Angry").talk("","Suki moans as she lets her body be stretched open by the orcs.").talk("Suki","Mmm..","Blush").talk("Ardura","What the? She's enjoying it?!","Surprise").talk("","Queen barely stands up. Her legs are wobbling.").talk("Queen","That is probably the horniest girl alive. Don't mess with her.").Flash().talk("","The orcs cum into Suki at the same time.").talk("","The orcs disappear into a puff of smoke. Suki falls to the ground. Cum oozes out of her body.").setBackground(!1).talk("Ardura","You alright little girl?").talk("Esxea","I'm fine!","Happy").talk("Ardura","Not you!","Angry").talk("","Suki lays on the ground, her hips trembling in pleasure.").talk("Ardura","What the fuck did I just witness?").talk("Queen","There's some weird stuff happening around here. Everywhere we go, people turn into weird purple horny monsters!","Angry").talk("Queen","It's getting tiring!","Angry").talk("","Scarlett crawls over to the girls. She's unable to stand up.").talk("Scarlett","A princess should NEVER be doing any of this!").talk("Ardura","Queen, I've learned a lot from you during this war. Your leadership saved us all.").talk("Ardura","It would be an honor to fight along-side you.").talk("Queen","What?! Oh I almost forgot!","Surprise").talk("Queen","Are you actually joining us?!","Surprise").talk("","Ardura kneels down in front of Queen.").talk("Queen","Oh my gosh we did it!","Happy").talk("Esxea","Yay!!","Happy").talk("","Suki, in a daze, tries to make an excited noise.").talk("Scarlett","Good, she can handle all the orcs!","Angry").talk("Ardura","Here, let me take you girls back home.").talk("","Ardura picks up Suki and Scarlett. The girls slowly walk home.").Fade().patreonPopUp().completeQuest("mountainTraining","Battle").switchMap("Easthollow"),e.addBranch("lose").talk("Queen","Oh god, this is a battle we can't win...","Sad").Fade().switchMap("Easthollow"),t.addBranch("mountainTrainingEnd").talk("Queen","Ardura, we're ready for you to move in.").talk("Ardura","Mog!").talk("Mog","Huh?!").talk("Ardura","You're in charge now. I'm moving in with the girls!").talk("Mog","Whah?").talk("","Ardura starts to walk away with the girls.").talk("Mog","Whah the??").talk("","Mog scratches his head.").switchMap("Easthollow").completeQuest("mountainTraining","End")})(),t.addBranch("esxeaHangoutOrcsStart").talk("","Esxea walks up to the orc camp site.").talk("Esxea","Hello hello!","Happy").talk("Mog","Huh?!").talk("","Mog runs up to Esxea.").talk("Mog","Goblin girl!").talk("Esxea","What's up?").talk("","Mog scratches his head. He's confused as to why she is here.").talk("Mog","Hungry?").talk("Esxea","Sure!").talk("","Mog runs to the middle of the camp site and grabs a block of meat.").talk("Mog","Here! Good!").talk("","Mog drops the meat in front of Esxea. She angrily bites out of it.").talk("","Mog claps his hands.").talk("Esxea","Pretty good!","Happy").talk("Mog","Oh! Here!").talk("","Mog runs back to the middle of the camp site and grabs a bucket of water.").talk("Mog","Water!").talk("","Mog drops the bucket of water in front of Esxea. Esxea sticks her entire head into it and drinks.").talk("Esxea","Thanks!","Happy").talk("Esxea","This place rules!").talk("","Esxea notices two orcs fighting for a rubber ball. They are slamming each other's heads together.").talk("Esxea","What are they doing?","Surprise").talk("Mog","Oh!").talk("Mog","Game! Fun game!").talk("","Esxea walks over to the orcs.").talk("Esxea","Can I play?").talk("","The orcs stop and look down at Esxea.").talk("Esxea","How do you play?","Sad").talk("Mog","Ball!").talk("","Mog points at the ball in the middle of the playing field. He then points at the rectangle marked near the end of the field.").talk("Esxea","So, I just get this ball and bring it over there?","Surprise").talk("Mog","Yes! Yes!").talk("Esxea","That's pretty easy!").talk("","The huge giant towers over Esxea.").talk("","Mog points at the orc.").talk("Mog","Bad guy!").talk("Esxea","So, that's my opponent huh? Okay!").talk("Mog","Goblin girl! You. Lose!").talk("Esxea","Me? No way!","Happy").talk("","Mog tries to stop Esxea from playing, but she already lines up at her side of the playing field.").talk("","The other orc stands on his side. They both get ready to run towards the ball in the center of the field.").talk("","Another orc counts down from 3.").talk("","Esxea gets into her running stance.").talk("","The orc finishes counting.").talk("Mog","Go goblin girl!").talk("","Esxea bolts to the ball. Her opponent rattles the ground as he runs.").talk("Esxea","AHH!","Angry").talk("","Esxea runs faster. She reaches the ball before the orc and grabs it.").talk("","The orc reaches his hand down to grab Esxea, but she runs through the orc's legs.").talk("Mog","Huh?!").talk("","The orc gasps. He turns around and Esxea is already at the finish line.").talk("Mog","Yay!!!").talk("","Mog claps for Esxea.").talk("Esxea","Thank you! Thank you!","Happy").talk("Esxea","These orc guys are fun!").Fade().completeQuest("esxeaHangoutOrcs","Start")})(),GAME.dialogue.addDialogueTree("TrasoniaMap").addBranch("root",!0).talk("","The girls arrive at Trasonia, an enormous ancient looking building.").talk("Queen","Oh my gosh, this place is huge!","Surprise").talk("Suki","What is this place?").talk("Ardura","Some kind of big school.").talk("","A group of elf girls look at the girls. Some of them point at Ardura and shriek.").talk("Ardura","...","Angry").talk("Queen","Are we allowed to be here?","Sad").talk("Suki","Who cares! Let's check it out!").Fade().setBackground("EasthollowBackground").talk("","Meanwhile in Easthollow...").talk("ScaryMan","Where are they?").talk("Naknu","Right here! Look, they work at this brothel right here!").talk("","Naknu knocks on Queen's door.").talk("Naknu","Just act natural!").talk("ScaryMan","Ahem...").talk("","...").talk("","...").talk("","Naknu knocks on the door again.").talk("Naknu","Any second now...").talk("Leon","Hey! You guys looking for Queen? They just left.").talk("ScaryMan","Naknu, ask the man which way they went.").talk("Leon","They we-").talk("Naknu","Sir, which way did they go?").talk("Leon","...").talk("Leon","They went up north, they were talking about an elf or something like that.").talk("ScaryMan","Naknu, tell the man I'm very grateful for his information.").talk("Leon","Oh yeah no prob-").talk("Naknu","We are very grateful for your help!").talk("Leon","...").talk("Leon","Uhh... yeah no problem...").talk("Naknu","Looks like they're headed towards Trasonia. Let's head over there!").Fade().completeQuest("findTrasonia","End"),GAME.dialogue.addDialogueTree("TrasoniaBanned").addBranch("root",!0).talk("Natasha","Hey I don't want to go back there I'll get in trouble!","Sad").talk("Queen","Right, we're banned. Let's go back.").switchMap("Mountains"),(()=>{let t=GAME.dialogue.addDialogueTree("TrasoniaGroundFloor");t.addBranch("root",!0).QuestPicker("TrasoniaGroundFloor");t.addBranch("magicStart").talk("Queen","This place is really big! Maybe we should split up.").talk("Ardura","How about I stay here?").talk("Queen","Uhh... sure. Don't scare anyone okay?").talk("Ardura","Ha ha ha! I'll try not to!","Happy").completeQuest("magic","Start"),t.addBranch("magicFindSabrina").talk("","Scarlett awkwardly walks around the ground floor of Trasonia.").talk("","She looks at the girls, although they are good looking, Scarlett knows she's better looking than them.").talk("Sabrina","...").talk("","Scarlett almost bumps into an elf.").talk("Scarlett","Oh lord!-","Surprise").talk("Scarlett","I mean... sorry.","Sad").talk("Sabrina","...").talk("Sabrina","Are you okay?").talk("","The elf has a sarcastic tone.").talk("Scarlett","Uhh... yeah?","Sad").talk("Sabrina","Then why are you here?").talk("Scarlett","I didn't know I couldn't be here.","Angry").talk("Sabrina","Pfft.").talk("","The elf walks away.").talk("Scarlett","What was her problem?","Angry").completeQuest("magic","FindSabrina"),t.addBranch("magicMeetElfGang").popUp("Scarlett's clothes will be changed for this dialogue.").Function((()=>new Promise((t=>{GAME.girl.Scarlett.equipClothes("DefaultScarlett"),t()})))).talk("","Queen, Natasha and Suki reach the ground floor. Esxea, Ardura and Scarlett are standing by some elves.").talk("Natasha","Uh oh...").talk("","Natasha stands behind Queen.").talk("Arietta","Good, it looks like your whole gang is here now, you can all leave together.","Bitchy").talk("Queen","Ardura, what did you do?").talk("Ardura","The big boob elf is mad at us or something I don't know, I was just standing here.","Angry").talk("Arietta","Real mature. What else do I expect from an orc?").talk("Sabrina","What kind of friend group is this? Humans, gobin, orc?").talk("Esxea","Elf!").talk("","Esxea grabs Daisy's arm.").talk("Daisy","Oh haha...").talk("","Daisy lets go and moves towards the elves.").talk("Esxea","Or, I guess not.","Sad").talk("","Natasha whispers to Queen.").talk("Natasha","These girls are mean! You shouldn't talk to them!","Sad").talk("Queen","Sorry ladies, we were just looking around.").talk("Daisy","Arietta, I found the goblin by the dorms. Pretty weird huh?").talk("","Daisy lets out a nervous laugh.").talk("Arietta","Gross, we don't want these ugly girls near our house.").talk("Suki","Haha, hey that's the big boob girl that blinded me!").talk("Arietta","Wait a minute, is that little ol' Natasha back there?","Bitchy").talk("Arietta","Haha, not surprising. She made friends with girls of her caliber.").talk("Suki","Look, you don't have much going for ya besides those two lumps!").talk("Suki","And we have our own pair right here!").talk("","Suki walks behind Scarlett and lifts her breasts. Scarlett moves Suki's hands away from her.").talk("Scarlett","Well I'd hate to admit it, but I think that elf's boobs are bigger-","Sad").talk("","Natasha waves her finger at Scarlett.").talk("","Scarlett's breasts start to grow. They pop out of her shirt.").playAnimation("ScarlettBigTits").setBackground("ScarlettBigTits").talk("","Scarlett tries to push her breasts back into her shirt.").talk("Scarlett","Woah! What the!","Surprise").talk("Arietta","...","Unamused").talk("","Arietta tightens her lips.").talk("Arietta","Let's get out of here!").talk("Scarlett","Holy smokes!","Surprise").talk("","Scarlett grabs her huge breasts.").talk("Scarlett","What's going on?").talk("","The elf girls leave.").talk("Queen","Natasha did you do that?").talk("Natasha","Yeah... sorry.","Sad").talk("Scarlett","Can you put them back to normal?","Sad").talk("Natasha","Yeah...","Sad").talk("","Natasha points her finger at Scarlett, her breasts change back to normal.").setBackground(!1).talk("Scarlett","Thank god...").talk("Suki","Okay my turn!").talk("","Suki lifts up her shirt, flashing Natasha.").talk("","Natasha blushes and looks at Suki's pierced nipples.").talk("Natasha","Piercings... owwie.").talk("","Natasha grips her own breasts.").talk("Queen","Natasha what else can you do?").talk("Natasha","Huh? Oh... I don't think I'm that good at magic...","Sad").talk("Queen","No way! That was so cool! We would kill for some enhancements like that!","Happy").talk("Natasha","Really? I mean... I could show you guys some more stuff I've been working on if you want...").talk("Scarlett","Sure, just don't do it to me. I'm already perfect!").talk("Natasha","Do you guys want to come to my dorm?").talk("Queen","Yeah!","Happy").talk("Natasha","Wow cool! Let's go!","Happy").talk("","The girls walk to the dorms. Natasha is excited to have made new friends.").Fade().talk("","The scary man and Naknu finally reach Trasonia.").talk("ScaryMan","Witchcraft... I never liked this place.").talk("Naknu","Hey come on, these are your people!").talk("","The man sniffs the air.").talk("ScaryMan","Trasonia... I remember sneaking into this place at night...").talk("ScaryMan","It still smells like... women.").talk("ScaryMan","And? Orc? Is that an orc I smell?").talk("Naknu","Yeah you doofus! Look at that big tall orc over there!").talk("","Naknu points at Ardura who is far away into the distance.").talk("Naknu","Those are the girls! Let's follow them!").talk("ScaryMan","Excellent. Wait a minute!").talk("","The man jumps into a nearby bush.").talk("ScaryMan","Naknu get down! It's the archmage!").talk("","The head archmage walks down the ground floor.").talk("Archmage","...").talk("","The archmage does not see them. She continues walking.").talk("ScaryMan","Phew, that was a close one!").talk("Naknu","Why are you such a baby! I bet you're stronger than her!").talk("ScaryMan","Hey leave me alone! Let's head toward the girls!").talk("","Naknu and the man walk toward the dorms.").completeQuest("magic","MeetElfGang"),t.addBranch("ariettaQuestMeetArietta").equipClothes("Natasha","CrossDressNatasha").equipClothes("Esxea","JanitorEsxea").talk("Natasha","This is so weird!").talk("Queen","Let's make sure no one sees Natasha like this until Arietta walks by.").talk("","The girls huddle around Natasha.").talk("Esxea","Step aside! Janitor coming through!","Angry").talk("","Esxea forces the elves to keep a distance from the girls.").talk("","The girls see Arietta and her friends walking in their direction.").talk("Queen","That was quick! Let's hide!").talk("","The girls jump into some nearby bushes. Esxea whistles and walks towards the library.").talk("Natasha","Oh goodness...","Sad").talk("Arietta","I don't know girls, I think I'll stay in tonight.").talk("Sabrina","You've been staying in quite a bit lately...").talk("Arietta","Well you know!").talk("Daisy","Is that a boy up ahead?").talk("","The girls get closer to Natasha.").talk("Sabrina","Excuse me. Wrong school bub!").talk("Natasha","Oh sorry about that, haha-ahem.").talk("","Natasha tries her best to have a deep voice.").talk("Arietta","Yeah, dumb mistake kid. Let me show you the way out.").talk("Arietta","I'll catch you two tomorrow?").talk("Daisy","...","Unamused").talk("Sabrina","Yeah I guess.","Unamused").talk("","Sabrina and Daisy walk towards the dorms.").talk("","Arietta walks towards the exit with Natasha.").talk("Arietta","So what's your name?").talk("Natasha","My name? Nnnaa- Nathan?","Sad").talk("Arietta","Nathan? Cute.").talk("Natasha","You think so?").talk("","Arietta laughs.").talk("Arietta","Yeah I guess. You're kind of cute.").talk("","Arietta bumps her shoulder against Natasha.").talk("Suki","Did you guys see that!!","Surprise").talk("Queen","Ssshhh!","Angry").talk("Natasha","Oh thanks. You are too...","Blush").talk("Arietta","Really? What do you like about me?","Seduce").talk("Natasha","Hah- ahh uhhh...").talk("","Natasha turns and looks at Arietta. She tries her hardest not to look at her breasts.").talk("Arietta","I know, I know, they're big huh?","Seduce").talk("","Natasha gulps.").talk("Arietta","You elf boys are so easy to fire up.").talk("","Arietta laughs.").talk("Natasha","Do you mind If I touch them?","Blush").talk("","Arietta gasps.").talk("Arietta","Wow straight to the point huh? What a naughty boy!").talk("Natasha","Sorry...","Sad").talk("Arietta","Fine, maybe I'll let you give them a squeeze. Let's go to your place?","Seduce").talk("Natasha","Um... can't we do it here?").talk("Arietta","You're such a bad boy! Doing it right here in front of all these people!","Seduce").talk("Natasha","We can go to the janitor's closet or something?").talk("Arietta","How exciting. You're not afraid of getting caught are you?").talk("Arietta","Thinking about it makes me so hot!","Seduce").talk("Natasha","I can sneak my way there, let's meet in 10?").talk("Arietta","Yes please! I can't wait!","Seduce").talk("","Arietta happily skips away.").talk("","The girls run to Natasha.").talk("Natasha","I think I did it!","Happy").talk("Suki","No way, that was amazing! Do you remember when she bumped into your shoulder? I knew she was easy-!").talk("Queen","Okay, hold on! Janitor's closet, right?").talk("Natasha","Yup!").talk("Scarlett","By god, this plan is actually working?","Surprise").talk("Queen","Now we just have to trust Esxea to bring the archmage to the janitor's closet!").talk("","The girl's faces quickly become upset.").talk("Queen","Aw come on, she can do it!").talk("Queen","Let's get Natasha to the janitor's closet!").equipClothes("Esxea","DefaultEsxea").equipClothes("Natasha","DefaultNatasha").completeQuest("ariettaQuest","MeetArietta")})(),(()=>{let t=GAME.dialogue.addDialogueTree("TrasoniaLibrary");t.addBranch("root",!0).QuestPicker("TrasoniaLibrary");t.addBranch("magicFindNatasha").talk("","Queen walks into the library.").talk("Queen","This place is louder than I expected.").talk("","The elves are scrummaging through books. Queen walks up to one.").talk("Queen","Hey what's up!").talk("Natasha","Ah!","Surprise").talk("Natasha","Oh my.").talk("","The elf raises her glasses.").talk("Natasha","You're not an elf.").talk("","The elf inspects Queen's body. She tries not to stare at Queen's chest for too long.").talk("Queen","Nope. Where am I?").talk("Natasha","The library.").talk("Queen","I figured that, but what is this elf place?").talk("Natasha","Oh. This is Trasonia, a school of witchcraft.").talk("Queen","Oh my gosh, you elves do magic?","Surprise").talk("Natasha","We do.").talk("Queen","Cool, what are you doing right now?").talk("","The elf looks down at her book and quickly closes it.").talk("Natasha","Oh haha, that was nothing. What's your name anyways?").talk("Queen","Queen. I heard there were elves around here so I came by.").talk("Natasha","Nice to meet you. I'm Natasha.").talk("Queen","I don't see any men around here. I was hoping to find some.").talk("Natasha","Haha, there's no men here silly! This is an all female school.","Happy").talk("Queen","Well that's unfortunate. I wanted to take their money.","Sad").talk("Queen","I mean, I wanted to offer them my services.").talk("Natasha","Yeah sorry, no men here. What's services do you offer?").talk("Queen","My body. My friends and I run a brothel.").talk("","Natasha inspects Queen's body again, with envy.").talk("Natasha","Are you saying you have sex with men every day?","Sad").talk("Queen","It's more like, they have sex with me. I just pretend like I'm helping. Haha!","Happy").talk("Natasha","Yeah haha...","Happy").talk("Natasha","I bet that's fun...","Sad").talk("Queen","Hey you seem pretty nice, how about you show me around this giant school?").talk("Natasha","Cool, you want to hang out with me?","Happy").talk("Queen","Sure why not!").talk("","Natasha grabs her book.").talk("Natasha","Let me show you my next classroom!").completeQuest("magic","FindNatasha"),t.addBranch("ariettaQuestFindArchMage").equipClothes("Esxea","JanitorEsxea").talk("","Esxea walks around Trasonia").talk("Esxea","Step aside ladies. Big clean up on aisle 6!").talk("Esxea","Hey wait! Does anyone know where the archmage is?!","Sad").talk("","The elves ignore Esxea.").talk("Esxea","Ugh, this disguise is just too good, they don't care about me!","Angry").talk("","Esxea makes her way into the library. She looks up at the endless staircase.").talk("Esxea","Oh... what if she's up there?","Sad").talk("","A nearby elf accidentally spills her drink.").talk("",'"Dang-it! Mrs. Janitor can you help me clean this up?"').talk("Esxea","Uh oh! You did an oopsie! No worries, I can fix this.").talk("","Esxea crawls on the ground and licks the floor clean.").talk("",'"What in the world?!"').talk("","The elf girl screams and runs away.").talk("Esxea","What happened?","Sad").talk("Archmage","Excuse me. What is the meaning of this?","EyesOpen").talk("Esxea","Wow, you're so tall and pretty!","Happy").talk("Archmage","...").talk("Esxea","Sorry, I'm looking for the archmage...","Sad").talk("Archmage","That would be I...").talk("Esxea","Oh my gosh! I found her!","Happy").talk("Esxea","The janitor's...").talk("Esxea","The janitor's closet...","Sad").talk("Archmage","The janitor's closet?","EyesOpen").talk("Esxea","The pipes are in the closet.").talk("Esxea","The water pipes in the closet have exploded. Yes.").talk("Archmage","Oh that's no good.","EyesOpen").talk("Esxea","Yes. One giant explosion. Kaboom! Water everywhere!").talk("Archmage","Nothing a little repair magic can't fix... Can you show me?").talk("Esxea","Oh yeah! The janitor's closet which is... uhhh...","Sad").talk("Archmage","Which is in the hallway, yes?").talk("Esxea","Oh yeah absolutely! The one in the hallway!").talk("Archmage","Let's not waste time.").equipClothes("Esxea","DefaultEsxea").completeQuest("ariettaQuest","FindArchMage"),t.addBranch("getBooksLibrary").setNaked("Suki",!1).talk("","Suki walks into the library.").talk("Suki","So far so good...").talk("Suki","I am nothing but a mere elf.").talk("Suki","Elf elf elf.").talk("","Suki keeps walking around the library.").talk("Suki","I am an elf.").talk("Suki","Ah yes! The anatomy section!").talk("","Suki picks up a book.").talk("Suki","Body enhancement spells volume one.").talk("Suki","Don't mind if I do!").talk("","Suki keeps browsing the anatomy section.").talk("Suki","Now where are the big fat tits spells at?").talk("","Two girls walk past the hallway Suki is in.").talk("Daisy","Sabrina, look!").talk("Sabrina","Hmm?").talk("","Daisy and Sabrina look at Suki and then quickly hide.").talk("Daisy","Is that who I think that is?").talk("Sabrina","The pink hair bitch that came on herself?").talk("Sabrina","I wonder what she's doing here...").talk("","Suki opens a book.").talk("Suki","Ah yes, a spell book for increasing male libido. Maybe those boys can finally start lasting as long as me.").talk("","Suki holds onto the book.").talk("Daisy","Eh, she's grabbing a bunch of anatomy books.").talk("Sabrina","Fine. Let's find out what she's doing.").talk("Sabrina","You know what to do.").talk("","Daisy and Sabrina walk away.").talk("Suki","I can't believe no one is checking these books out! This is a gold mine!").talk("Suki","Too bad I can't hold them all. I'll bring a bag next time.").talk("","Suki walks towards the front door.").talk("Suki","Ah shoot, I can't check these books out. I don't have an ID!").talk("","Suki puts her books down on a nearby table.").talk("","She walks towards the front counter.").talk("Suki","Hi! Excuse me. Someone threw up in the anatomy section!").talk("","The librarian looks surprised.").talk("Suki","I know, I know... not the best books to read after lunch! Ha ha!","Happy").talk("","The librarian gets up and walks to the anatomy section.").talk("","Suki quickly grabs her books and runs out the front door.").talk("Suki","Haha! This was too easy!","Happy").Fade().talk("","Two girls sneak up on Suki as she is walking away from the library.").talk("Daisy","Hey!").talk("Suki","Ah!","Surprise").talk("Sabrina","What's up, slut.").talk("","Sabrina pushes Suki down.").talk("Suki","What the?!","Sad").talk("","Sabrina steps on Suki's stomach.").talk("Suki","Oh yes, hurt me more!").talk("","Sabrina pushes down on Suki's stomach.").talk("Suki","I'm just kidding!","Surprise").talk("Suki","Ow, stop!","Sad").talk("","Sabrina lets go.").playAnimation("SabrinaDaisyIntimidate").setBackground("SabrinaDaisyIntimidate").talk("Daisy","What are you doing here?").talk("Suki","Just grabbing some books!","Sad").talk("Sabrina","That's strange, what does a non-elf need spell books for?").talk("Suki","They're not for me, they're for Natasha.","Sad").talk("Daisy","So Natasha's living with you now?").talk("Daisy","Interesting...").talk("Sabrina","Well? Are we kicking her ass or...?").talk("Suki","Oh come on ladies! I know you're upset we got Arietta in trouble, but-","Sad").talk("","Sabrina points her finger at Suki. A black light shoots at Suki's mouth and shuts it closed.").talk("Suki","MMNNPH!","Surprise").talk("Daisy","I'm not getting expelled just to get revenge for Arietta.").talk("Sabrina","Fine.").Flash().talk("","Sabrina teleports the girls to a nearby secluded patch of grass surrounded by bushes and trees.").talk("Sabrina","There, now no one can see us.").talk("Daisy","No, Sabrina.").talk("","Suki tries to stand up. Sabrina points her finger at Suki. Metal stakes fly out and pin Suki's clothes to the ground.").talk("Suki","MNN!","Surprise").talk("Sabrina","You don't even want to punch her once?").talk("Daisy","No, I don't think so.").talk("","Sabrina summons a set of flying sharp needles and points them towards Suki.").talk("Sabrina","You don't even want me to poke her with all these pointy needles?").talk("Suki","MMMMMM!!!","Surprise").talk("","Suki attempts to break free, but she can't.").talk("Daisy","No, let's get out of here.").setBackground(!1).Flash().talk("","Sabrina sighs. She teleports them back to their original location and removes her spells.").talk("Sabrina","I didn't know it was anti-fun day!").talk("","Sabrina walks away.").talk("","Suki stands up and picks up the books on the ground.").talk("Suki","Thanks for not letting me get killed!","Sad").talk("Daisy","Oh don't worry, she wouldn't have killed ya!").talk("Daisy","She would have just stabbed you til you passed out!").talk("Suki","Oh...","Sad").talk("Daisy","So where does Natasha, er.. where do you guys lives?").talk("Suki","In the town south of orc mountain over there.").talk("","Suki points at the mountains.").talk("Suki","Spoiler, those orcs are pretty horny. I wouldn't go over there if I were you!").talk("Daisy","Haha! Okay thanks!").talk("","Daisy starts to walk away.").talk("Suki","So you're going to let me steal these books from Trasonia?").talk("Daisy","I don't care! See ya!").talk("Suki","Wow... I somehow made it out alive.").talk("","Suki walks home.").Fade().setBackground("EasthollowBackground").talk("Suki","I'm back!").talk("","Suki drops a stack of books on Natasha's bed.").talk("Natasha","Woah! You actually did it!","Surprise").talk("Suki","Yup! It was super easy!").talk("Natasha","Why is there a foot print on your stomach?").talk("Suki","Oh haha-").talk("","Suki wipes the dirt off of her body.").talk("Suki","Don't worry about that.","Sad").talk("Suki","Anyways, check it out!").talk("","Suki pulls out a book with demonic symbols on it.").talk("Natasha","Ahh!","Surprise").talk("Suki","Look at this!").talk("","Natasha opens up the book and points at a picture of a succubus.").talk("Suki","Look at these hot ass demon girls!").talk("Suki","Tell me you can make me look like that!").talk("Natasha","You shouldn't have grabbed this book, Suki!","Angry").talk("Suki","What's wrong?","Sad").talk("Suki","Scared of a little demon girl coming in and eating us?").talk("","Suki picks up Natasha's arm and pretends to bite it.").talk("Natasha","Hey! This isn't fake stuff, okay?!","Angry").talk("Suki","Yeah yeah, look I just wanted to show you these girls, okay?","Sad").talk("Natasha","Yeah okay... I guess they are kind of hot...").talk("Suki","Alright, anyways! Have fun!").talk("","Suki starts to walk out of Natasha's room.").talk("Natasha","Wait!","Sad").talk("Natasha","Keep this one in your room!","Sad").talk("","Natasha hands Suki the demonic book.").talk("Suki","Oh jeez. What a scardey cat.").talk("","Suki grabs the book and walks out.").switchMap("Easthollow").completeQuest("getBooks","Library")})(),(()=>{let t=GAME.dialogue.addDialogueTree("TrasoniaHallway");t.addBranch("root",!0).QuestPicker("TrasoniaHallway");t.addBranch("magicFindArietta").talk("","Suki walks down the hallway of Trasonia. The pillars holding the building up look brand new, despite the cracks in the stone.").talk("","Suki looks inside every room she runs across. On her way to one of the doors, an elf walks out.").talk("Arietta","Uh, excuse me.").talk("","The elf looks at Suki, confused.").talk("Suki","Holy knockers!","Surprise").talk("","Suki stares at the elf's chest.").talk("Arietta","Ew.","Unamused").talk("Suki","Hey, I have a friend with some pretty big knockers too, maybe you two could be friends!","Happy").talk("Arietta","Yeah, I'll pass.","Unamused").talk("Arietta","You're not an elf, what are you doing here?").talk("Suki","I don't know, just hanging out!").talk("Arietta","Hah...").talk("","The elf rolls her eyes.").talk("Suki","Where's the elf boys at anyways?").talk("Arietta","You really don't know anything about this place do you?","Bitchy").talk("Suki","Um, no?","Sad").talk("","The elf points a finger at Suki. A flash of light blinds Suki.").Flash().talk("Suki","Ah!","Surprise").talk("Suki","I can't see!","Surprise").talk("","Suki's vision slowly starts to come back. The elf is gone.").talk("Suki","Huh?","Sad").completeQuest("magic","FindArietta"),t.addBranch("magicVisitAlley").talk("","Queen and Natasha walk down the hallway.").talk("Natasha","So this is where all the classrooms are. They're pretty big!").talk("","Suki comes running down the hallway.").talk("Natasha","Ah!","Surprise").talk("Suki","This place is crazy! There's elves doing magic and shit!","Happy").talk("Suki","No cute boys in sight yet, but I'm looking!").talk("Natasha","Another human?").talk("Queen","That's Suki. I came here with a group of friends.").talk("Suki","Hey check it out! You made a friend! I tried doing that too, but I don't think she liked me.").talk("Suki","What's your name?").talk("Natasha","Natasha...").talk("","Natasha looks at Suki's petite body, questioning her sex appeal.").talk("Natasha","Do you also work at the brothel?","Sad").talk("Suki","Heck yeah, employee of the month!","Happy").talk("Suki","We don't have an employee of the month, but I'm preeeeeeeeeetty sure it would be me!").talk("Queen","Yeah, I won't lie, she's pretty good.").talk("Natasha","Really? I figured you would have an easier time, you know, attracting guys...","Sad").talk("","Natasha sneaks a look at Queen's chest.").talk("Queen","Suki, this is an all girls school. We won't be able to find any clients here.","Sad").talk("Suki","Aw what! This place sucks!","Angry").talk("","The girls hear a commotion coming from the ground floor.").talk("Natasha","Huh?","Surprise").talk("","Natasha looks down the hallway.").talk("Natasha","Uh oh, looks like one of those orcs came by to start some trouble.").talk("Queen","Ugh, that orc is also with us. Let's go stop her.").talk("Natasha","You have orc friends too?").talk("Queen","Yeah, I'll introduce you to all of us if you want.").talk("Natasha","Sure!","Happy").completeQuest("magic","VisitAlley"),t.addBranch("ariettaQuestBustArietta").equipClothes("Natasha","CrossDressNatasha",!0).equipClothes("Esxea","JanitorEsxea",!0).setClothesStyle("Natasha","Default").talk("","The girls make it to the janitor's closet.").talk("Queen","Okay, Arietta isn't here yet. Quick, get in the closet and wait for her!").talk("Natasha","Okay are you guys going to be here?","Sad").talk("Queen","Yeah we'll be here! Hiding behind the pillars over there!").talk("Natasha","Okay...").talk("","The girls run and hide behind the giant pillars holding the building up.").talk("","Natasha walks into the janitor's closet and closes the door.").talk("Natasha","Oh wow, this is a little spooky being in here by myself!","Sad").talk("Natasha","Well, I better give myself a penis while I wait!").talk("","Natasha charges up her magic.").talk("Natasha","Hah- I wonder how much I should do?").talk("","Natasha charges her magic longer than she thought she needed to. She points her finger at her crotch and shoots a beam of light at it.").talk("Natasha","Oh deary, I forgot how good this felt.","Blush").talk("","Natasha's crotch starts to grow. She strokes it while she waits.").talk("Natasha","Oh god, I hope she comes quick. My cock is going to explode out of my pants.","Blush").Fade(500).talk("","Outside, Arietta walks to the janitor's closet.").talk("Suki","There she is!").talk("Queen","Shhh!","Angry").talk("","Arietta looks around and then slowly opens the door.").talk("Arietta","Nathan?").talk("","Arietta walks inside and closes the door. She looks down at Natasha who is sitting on the ground.").playAnimation("AriettaSeduce").setClothesStyle("Natasha","NoPantsFuta").talk("Natasha","Hey, uhh sorry!").talk("Arietta","Oh my god, did I do that to you?").talk("Arietta","You must have been thinking about me and my hot body! Sorry about that!","Seduce").talk("","Arietta laughs and then licks her lips.").talk("Natasha","Yeah, I guess I got a little too excited about this.").talk("Arietta","I suppose I shouldn't keep you waiting.").talk("","Arietta seductively walks towards Natasha. She leans over Natasha and arches her back. Arietta's breasts dangle above her.").talk("Arietta","Go ahead and touch them!","Seduce").talk("","Natasha reaches up and grips one of Arietta's breasts.").talk("Natasha","(Are these really fake? They feel so real!)","Blush").talk("Arietta","They feel good, huh?","Seduce").talk("","Arietta reaches one arm down towards Natasha's cock and grabs it gently.").talk("","Natasha's body quickly jolts up when Arietta touches her.").talk("Arietta","Haha, you're so sensitive! Just relax!").talk("","Arietta takes off her clothes.").talk("Arietta","How do I look?","Seduce-Naked").talk("Natasha","Y-y- you l-look-","Surprise").talk("Arietta","I know!","Seduce-Naked").talk("","Arietta slowly squats down in front of Natasha.").talk("Arietta","Oh I can't wait to have your big fat cock inside of me!","Seduce-Naked").talk("","Arietta slides the tip of Natasha's penis inside of her.").talk("Natasha","(I can't believe I'm having sex with Arietta!)","Blush").talk("Arietta","Oh it's so big I just want to slide-!","Seduce-Naked").talk("","Arietta slides all the way down on Natasha's cock. They moan at the same time.").talk("Arietta","You slid in so easily! Maybe we were meant for each other.","Seduce-Naked").talk("","Natasha can't resist, she grabs Arietta's ass and bounces it up and down on her cock.").talk("Arietta","You're such a naughty boy! Using my body as you please!","Seduce-Naked").talk("Natasha","(Oh my god I can't cum! I can't cum!)","Blush").talk("Natasha","(If I cum I'll lose my cock and our plan will fail!)","Blush").talk("Arietta","You're fucking me so good!","Seduce-Naked").talk("","Arietta leans in to Natasha, purposely putting her breasts on Natasha's face.").talk("Natasha","(Her giant tits are right in front of me, but I can't cum!)").talk("","Natasha latches onto one of Arietta's nipples and sucks on it tightly.").talk("Arietta","Yes! You're so good at this!","Seduce-Naked").Fade().talk("","Meanwhile, outside the janitor's closet.").talk("Scarlett","They've been in there for a while. Where's Esxea at?","Angry").talk("Queen","I don't know, hopefully she gets here soon.","Sad").talk("Archmage","Do you even know where you're going?","EyesOpen").talk("Esxea","Oh yeah! Absolutely!","Happy").talk("","Esxea walks into a wall.").talk("Esxea","Oopsie!").talk("Queen","Hey! Esxea actually did it!","Surprise").talk("Archmage","The janitor's closet is right up ahead. Let's go this way!","EyesOpen").Fade().talk("","Inside the janitor's closet.").talk("Natasha","I can't stop cumming!","Blush").talk("","Arietta bounces on Natasha's cock. Cum flows out of her pussy.").talk("Arietta","You're like a fountain!","Neutral-Naked").talk("","The janitor's closet door opens.").talk("Esxea","Yup, here it is!").talk("","The archmage walks into the janitor's closet.").talk("Archmage","Good heavens!","Surprise").talk("Archmage","What is going on here?!","EyesOpen").talk("Arietta","No! The archmage?! What are you doing here?!","Sad-Naked").talk("Archmage","Arietta...").talk("Arietta","I can explain!!!","Sad-Naked").talk("","The archmage slams her staff on the ground. A gust of air blasts through the room.").talk("","Natasha's cock disappears.").setClothesStyle("Natasha",!1).equipClothes("Natasha","DefaultNatasha").setNaked("Natasha",!0).talk("Natasha","Uh oh... magic dispel...","Sad").talk("Arietta","What?! Natasha?! You stupid- ARGH!","Sad-Naked-SmallBoobs").talk("Archmage","I think you two know what I'm about to say...","Angry").talk("Arietta","No, no, no!!!","Sad-Naked-SmallBoobs").talk("","Arietta looks down at her small breasts. She looks around and tries to hide them.").talk("Natasha","So they are fake?","Sad").talk("","Arietta puts her arm around her breasts and runs out of the janitor's closet.").talk("Archmage","Natasha, I'll give you a few days to pack your bags.").talk("Archmage","And if you run into Arietta, tell her the same.").talk("Natasha","...","Sad").talk("Archmage","And you girls.").talk("","The archmage's staff starts to glow. Queen and the girls start to float towards the archmage.").talk("Suki","Woah! I'm flying, I'm flying!!","Happy").talk("","The archmage drops them in front of her.").talk("Suki","Ow...","Sad").talk("Archmage","I don't know what is going on here, but you are all banned from Trasonia.").talk("Queen","Ah, well... I can't say I didn't see that coming...","Sad").talk("Queen","Sorry Natasha!").talk("Archmage","Let me show you the way out.","EyesOpen").talk("","The archmage taps her staff on the ground.").Flash().talk("","After a bright flash of light, the girls are at the entrance of the school.").equipClothes("Natasha","DefaultNatasha").equipClothes("Esxea","DefaultEsxea").talk("Queen","Woah, is the archmage really powerful enough to teleport us places?").talk("Natasha","She's really good... I wanted to be like her, when I got older...","Sad").talk("Queen","So is your magic career over?","Sad").talk("Natasha","I think so... my parents are going to kill me!","Sad").talk("Queen","...","Sad").talk("Suki","Ahem-").talk("","Suki nudges Queen.").talk("Queen","Natasha, what if you move in with us and don't tell your parents you got expelled?").talk("Natasha","I can't lie to my parents!","Sad").talk("Suki","Oh come on Natasha. Are you going to tell your mom you railed Arietta?").talk("Suki","Look, you can still study magic. I'll steal some books for you!","Happy").talk("Queen","Yeah! We can have Suki steal any books you need to keep learning!","Happy").talk("Natasha","...","Sad").talk("Natasha","Do I get to work in your brothel too?").talk("Queen","Do you want to?").talk("Natasha","Hah, uhh... yeah I want to have sex with a guy.").talk("Natasha","I mean another guy, or guys, or yeah I've had sex before, so-","Sad").talk("Scarlett","Natasha are you a virgin?","Sad").talk("Natasha","Uhhh...","Sad").talk("Suki","Don't worry! Give me a penis again, and I'll be your first!").talk("Natasha","Wow really?!","Happy").talk("Natasha","I mean, no need to. I know my way around a dick, believe me!").talk("Queen","Alright Natasha. We'll add another room to our house and come back to get you!").talk("Natasha","Okay, I'll try to buy as much time as I can over here!").talk("Queen","Great. See you soon Natasha!","Happy").Fade().setBackground("BlackBackground").talk("","Somewhere, in a castle far away...").talk("ScaryMan","It seems as though making monsters is tougher than I thought...").talk("ScaryMan","Naknu!").talk("ScaryMan","Wait, he's not here...").talk("ScaryMan","Argh! I think I'll cheat and...").talk("","The man waves his staff around. A red portal starts to open up.").talk("ScaryMan","and use this forbidden spell to get some help from the underworld!").talk("","The man sticks his head into the portal.").talk("ScaryMan","Oh it... it sure is dark in here...").talk("ScaryMan","Well here goes nothing!").talk("","The man jumps into the portal. It closes behind him.").Fade().patreonPopUp().completeQuest("ariettaQuest","BustArietta")})(),(()=>{let t=GAME.dialogue.addDialogueTree("TrasoniaDorms");t.addBranch("root",!0).QuestPicker("TrasoniaDorms");t.addBranch("magicFindDaisy").talk("","Esxea walks towards the dorms. The elves point at her as she walks by, with smiles on their faces.").talk("Esxea","Hello!").talk("","The elves keep walking past her, they're happy to see a goblin in Trasonia.").talk("Esxea","Hello hello!","Happy").talk("Esxea","Wow this place sure is packed!").talk("Daisy","Oh a goblin! How cute!").talk("Esxea","Oh wow an elf is talking to me!").talk("Daisy","Are you lost?").talk("Esxea","Nope!").talk("","Esxea looks around.").talk("Esxea","Uh... well I don't know where I am, but my friends are somewhere back there.","Sad").talk("Daisy","You're at the dorms right now. There's not much going on here.").talk("Esxea","Oh.").talk("Esxea","Do you want to meet my friends?").talk("Daisy","Yeah sure!").talk("Esxea","Cool! They're over there!").talk("","Esxea points in a direction.").talk("Esxea","I think...","Sad").completeQuest("magic","FindDaisy"),t.addBranch("magicFuta").talk("","The girls make it to Natasha's dorm. She lets them in.").talk("Natasha","Sorry, it's a little messy.").talk("","Natasha's dorm is filled with open books and unwashed vials.").talk("","Suki walks over to a table and looks at the books.").talk("Suki","Cool, all of these books are about body enhancement!").talk("Natasha","Haha...").talk("","Natasha's face turns red. She wants to close those books, but knows it's too late to hide them.").talk("Suki","Alright Natasha. Hit me with everything in this book!").talk("Queen","Suki, you can't change your whole body. People like you the way you are right now.").talk("Suki","Yeah, but imagine if I was as tall as Ardura and had tits as big as Scarlett's!").talk("Natasha","Like I said, I'm not very good. I think I just got lucky earlier...").talk("Natasha","I have been practicing the boob spell more than the others.").talk("Scarlett","I'd like to chime in and say that this is cheating! The ones born with such great assets should be rewarded for it!").talk("","Scarlett pushes up her breasts.").talk("Suki","Yeah yeah yeah, Natasha what else do you got for us?").talk("","Suki flips the pages of a book.").talk("Suki","What about this? An extra horny spell?").talk("Natasha","Oh that one was a little fun...").talk("Suki","Oh you've already used it before? Perfect, hit me with it at full power please!").talk("Queen","Suki, we're at a guests house, you shouldn't become super horny here.","Sad").talk("Natasha","It's okay, you can... pleasure yourself... in the restroom or something.").talk("","Natasha walks over to the book.").talk("Suki","Okay and afterwards you have to teach me how to do it myself!").talk("","Natasha laughs.").talk("Natasha","Humans can't use magic!").talk("Suki","...","Sad").talk("Suki","Okay, there has to be a spell in here to make me an elf right?").talk("","Natasha keeps laughing while reading the book.").talk("Natasha","Okay are you ready?").talk("Scarlett","Oh jeez, she's going through with it.","Sad").talk("Ardura","Let's be real. Suki's horny levels are already way too high for this spell to do anything.").talk("Suki","Full power please!").talk("","Natasha reads the book while pointing her finger at Suki. She waves her finger around.").talk("Suki","Wow, I can't wait! Full power!","Happy").talk("","Natasha tries to ignore Suki, but her words make Natasha try harder.").talk("Suki","Like whatever you're doing, do it three times!").talk("Queen","Suki leave her alone, she's doing it.").talk("Natasha","I'll try!").talk("","Natasha looks at Suki's excited face, it makes her want to try harder.").talk("","Natasha starts to glow yellow.").talk("Suki","Yeah! Here it comes!").talk("Natasha","You want full power right?","Sad").talk("Suki","Yeah yeah!!","Happy").talk("","Natasha squints her eyes. The yellow aura around her glows brighter.").talk("Scarlett","Oh this is starting to scare me...","Sad").talk("Ardura","Everything scares you.").talk("Scarlett","Well everyone is scared of you!","Angry").talk("Ardura","...","Sad").talk("","Natasha closes her eyes. The yellow aura is still growing.").talk("Queen","I think that's enough power Natasha, I don't want you to hurt yourself.","Sad").talk("","Natasha drops the book and points both fingers at Suki. The yellow aura concentrates into her fingers and shoot out at Suki.").talk("","Suki gets hit by a lightning bolt of energy.").talk("","The lightning bolt of energy hits Suki and spreads to all of the other girls, hitting them as well.").talk("Natasha","Uh oh, was that too much?","Sad").talk("","The girls glow yellow for a short amount of time, but then it fades away.").talk("Suki","Woah!","Blush").talk("","Suki takes off her clothes. She tries to rub her clit, but is has become too sensitive.").setNaked("Suki",!0).talk("Natasha","You guys, I think...","Sad").talk("Scarlett","Is it hot in here or what?","Surprise").talk("","Scarlett rubs her hand against her neck.").talk("Queen","Natasha, I'm starting to feel a little strange...","Sad").talk("","Natasha gulps.").talk("Natasha","Sorry, I think I over did it!","Sad").talk("","The girl's feel a sudden sexual pulse of energy. They immediately remove their clothing.").setNaked(["Queen","Esxea","Scarlett","Ardura","Natasha"],!0).talk("Scarlett","Oh great, I didn't want to be a part of this!","Blush").talk("","Another wave of sexual energy pulses from the girls.").talk("","The girls fall to their knees.").talk("Suki","This is a little too strong, even for me!","Blush").talk("","A huge wave of sexual energy pulses from the girl's bodies.").talk("","Suki juts her hips forward. Her pussy disappears and grows into a fully erect cock.").setFuta(["Queen","Suki","Esxea","Scarlett","Ardura","Natasha"],!0).talk("Suki","What the fuck?!","Blush").talk("","The other girl's feel a sudden rush to their crotches. Their pussies also become transformed into fully erect cocks.").talk("Scarlett","Oh my god you gave us all dicks!","Surprise").talk("","Suki grabs her cock and strokes it.").talk("Suki","Oh fuck this is real! And it feels great!","Blush").talk("Queen","Natasha you have to change us back to normal!","Surprise").talk("","Natasha grips her cock tightly.").talk("Natasha","The horny spell only wears off if you cum!","Blush").talk("","The girls stroke their cocks. The spell is too strong for them to resist the pleasure.").talk("Scarlett","So this is what it's like to be a boy? No wonder they're always horny!","Blush").talk("","Suki looks up at Esxea.").talk("Suki","Esxea let me fuck your tight little goblin ass please!","Blush").talk("Esxea","Okay!").talk("","Suki puts Esxea on her hands and knees and pushes her cock into Esxea's asshole.").talk("Suki","Oh fuck you guys have to try this!","Blush").talk("Ardura","Let me try!").talk("","Ardura bends over Suki and puts her massive cock into Suki's asshole.").talk("Suki","Oh fuck me!","Blush").talk("Ardura","Your asshole's too tight!","Blush").talk("Suki","No your cock's just too big! Push it in!","Blush").talk("","Ardura pushes her cock in deeper. Suki screams with pleasure.").talk("","Scarlett stands next to Suki, her cock pointed at Suki's face.").talk("Scarlett","Ahem... if you don't mind please...","Blush").talk("","Suki doesn't hesitate to suck on Scarlett's cock. Scarlett grabs on to Suki's hair.").talk("Queen","I better cum quick. I need to make sure we get home safely.","Blush").talk("","Queen lays down near Esxea.").talk("Queen","Esxea, I'm going to need you to give me the best blowjob possible okay?","Blush").talk("Esxea","Okay!","Happy").talk("","Queen brings Esxea's head down to her crotch. Esxea puts Queen's cock in her mouth and swirls her tongue around.").talk("","Natasha, being the only one not having sex, walks behind Scarlett.").talk("Natasha","Hi, do you mind if I?","Blush").talk("Scarlett","Just today, go ahead.","Blush").talk("","Natasha grips Scarlett's breasts. She's mesmerized by their size.").talk("Scarlett","Are you going to fuck me?","Blush").talk("Natasha","Oh yeah sorry...","Blush").talk("","Natasha spreads Scarlett's ass cheeks and pushes her cock in.").talk("","Natasha hugs Scarlett, fucking her ass and groping her breasts.").Fade().talk("ScaryMan","I smell them. In here.").talk("","Naknu and the man are standing outside Natasha's dorms.").talk("Naknu","Yup! I hear some girls inside. It has to be them!").talk("ScaryMan","Finally. This is it Naknu. If you're right, these are the girls I've been looking for my whole life!").talk("Naknu","Oh absolutely!").talk("","The man points his finger at Natasha's door, it unlocks itself.").talk("ScaryMan","Here we go...").talk("","Naknu opens the door and jumps in.").talk("","The man follows in after. They walk in and see the girls.").talk("ScaryMan","What the?").talk("","The man sees all of the girls having sex with each other.").talk("ScaryMan","What are they doing?").talk("","The girls are too horny to notice Naknu and the man.").talk("ScaryMan","Those girls have cocks!").talk("Naknu","WHAT THE!").talk("Ardura","I'm going to blow my load all over Suki!","Blush").talk("","The man grabs Naknu by the neck.").talk("ScaryMan","What kind of sick joke is this? These girls have cocks!").talk("","Naknu can't speak.").talk("ScaryMan","I can't have sex with these girls if they have cocks!").talk("Naknu","Nnnnngh~").talk("","The man lets go of Naknu.").talk("Naknu","They don't, I swear!").talk("","The man walks out of the dorms. Naknu follows.").talk("ScaryMan","You have wasted too much of my time Naknu. You are fired.").talk("Naknu","I swear these girls are great! I don't know why they have cocks!").talk("ScaryMan","Cocks don't come out of no where Naknu.").talk("ScaryMan","I'm heading back to the castle. I suggest you don't follow.").talk("Naknu","So it's like that huh? After all the girls I brought you?").talk("Naknu","How are you going to find some now?").talk("ScaryMan","I'll find a way.").talk("Naknu","Pathetic. Fine, I'm out of here!").talk("","Naknu and the man part ways.").Fade().cumOn(["Queen","Suki","Esxea","Scarlett","Ardura","Natasha"],"Futa",1).talk("","The girls finish having sex with each other. They lay on the ground, panting.").talk("Queen","I think we're done, but I still have an erect cock...").talk("Scarlett","I think I came twice...").talk("Suki","Is it just me, or is anybody else ready for another round?","Blush").talk("Ardura","Not me. I felt like my cock was going to explode inside your tight asshole.").talk("Esxea","That was fun!","Happy").talk("Natasha","Thanks for... you know...").talk("","Natasha looks at Scarlett and then looks down.").talk("Scarlett","Right. Now about these cocks-").talk("","As Scarlett is talking, the girl's cock fade away, back into their regular body.").setFuta(["Queen","Esxea","Scarlett","Ardura","Natasha"],!1).talk("Scarlett","Oh!","Surprise").talk("Queen","Thank god...").talk("Suki","Hey what the heck!","Blush").talk("Suki","I'm still horny!","Blush").talk("","Suki jumps onto Natasha's bed and strokes herself.").playAnimation("SukiFutaNoCum").talk("","Natasha's door creeks open.").talk("Arietta","Oh my god girls, look at this!").talk("Sabrina","Looks like a sex party to me.").talk("Daisy","Yeah it is... this is a bannable offense.").talk("Arietta","How disgusting. I can't believe Natasha is having sex with all of the weird girls!").talk("Natasha","Hey! How did you get in?","Sad").talk("Arietta","Door was open, and I heard some loud noises. Just wanted to make sure you were doing okay that's all!").talk("","Sabrina notices Suki stroking her cock.").talk("Sabrina","Ew! What is she doing?!").talk("Arietta","Body morphing spells? You know those are forbidden, right Natasha? That's two strikes. I'm telling the archmage.").talk("Suki","Oh it's the big boob elf! Just in time!").Flash().playAnimation("SukiFutaCum").cumOn("Suki","Throat",1).cumOn("Suki","Pussy",1).cumOn("Suki","Tits",1).talk("Arietta","Ew she just shot her load onto herself!").talk("Arietta","I'm out of here. Bye!").talk("","The elves leave.").talk("Natasha","...","Sad").talk("Natasha","Yeah maybe this was a mistake...","Sad").setFuta("Suki",!1).talk("Queen","...","Sad").talk("Queen","Sorry if we got you in trouble...","Sad").talk("Natasha","That's okay... we were just having fun...","Sad").talk("","Natasha gets up and starts to put her books away.").talk("Queen","Ladies, we should probably get going.","Sad").talk("Suki","Sorry Natasha!").talk("","Suki gets up and hugs Natasha.").talk("","The girls put on their clothes and walk out of Natasha's dorm.").setNaked(["Queen","Suki","Esxea","Scarlett","Ardura","Natasha"],!1).Fade().talk("Scarlett","Well, I feel bad.","Sad").talk("Queen","Yeah, we might have overstepped our boundaries here.","Sad").talk("","An imp jumps in from a nearby bush.").talk("Scarlett","Ah!","Surprise").talk("Naknu","Hey ladies!").talk("Queen","This imp looks awfully familiar.").talk("Naknu","Heard you girls got one of the elves in trouble!").talk("Naknu","How about I help you fix that?").talk("Suki","How are you going to help, little guy?").talk("Naknu","Having sex at Trasonia is a big no-no! Your little friend is in big trouble if the archmage finds out!").talk("Queen","Ugh, we really did ruin her life huh?","Sad").talk("","Naknu whispers.").talk("Naknu","I have some secret intel on the big breasted one.").talk("Ardura","Why is this little guy telling us this?","Angry").talk("Naknu","Look, I'm just trying to help! Let's just say her breasts don't always look like that!").talk("Queen","You're saying her boobs are fake? I thought that was forbidden here.").talk("Naknu","All I'm saying is, she's trying to impress the male elves by using her magic.").talk("Naknu","I've seen her visit the male school at night.").talk("Suki","Can we get that bitch in trouble?").talk("Scarlett","I knew it. Nobody could top my perfect bosom without cheating!","Happy").talk("Naknu","Imagine if the archmage ran into Arietta having sex with a male elf at Trasonia! Instant expulsion.").talk("Suki","How are we going to sneak a hot male elf into the school?").talk("Naknu","Hey, I don't think I can help you there, but good luck!").talk("Queen","Wait, who are you?").talk("Naknu","Naknu. Consider me a friend.").talk("Naknu","I'll be going now.").talk("Suki","Okay, see ya little guy!").talk("","Naknu bounces back into the bushes and runs away.").talk("Queen","Ladies. I think I know how to save Natasha from being expelled!").talk("Queen","Let's come back here tomorrow and talk to Natasha about it.").Fade().switchMap("Easthollow").completeQuest("magic","Futa"),t.addBranch("ariettaQuestStart").talk("","The girls walk up to Natasha's dorm.").talk("","Queen knocks on the door.").talk("","Queen hears footsteps inside.").talk("Queen","Pssst Natasha, it's Queen!").talk("","The footsteps get closer.").talk("","Natasha opens the door.").talk("Natasha","Hey you guys came back!").talk("Queen","We're here to help you not get expelled from Trasonia.").talk("Natasha","What? But Arietta probably already told the archmage.","Sad").talk("Suki","We're here to bust that Arietta girl!").talk("Suki","Rumor has it, her tits are fake!","Happy").talk("Natasha","What really?","Sad").talk("Suki","Yeah! A weird little imp told us that!").talk("Queen","Some imp told us that Arietta sneaks around and has sex with the male elves at night. Have you ever heard of that?").talk("Natasha","No, but it sounds like something she would be interested in.").talk("Queen","Well if he's correct, all we need to do is have a boy convince her to have sex at Trasonia.").talk("Natasha","I don't know... how are we going to find an elf boy?","Sad").talk("","Queen looks at Natasha's body.").talk("Queen","Why don't we dress up Natasha as a boy?").talk("Suki","Oh wow a cross dressing sabotage! I can help you look like a hot guy!").talk("Natasha","Hey why do I have to do it?!","Angry").talk("Queen","You can give yourself a penis!").talk("Queen","Look, convince Arietta to have sex with you in the janitor's closet.").talk("Queen","When you're in there, we'll bring the archmage to you and bam! Busted!","Happy").talk("Natasha","Oh... this plan doesn't sound so easy...","Sad").talk("Suki","Come on it's worth a shot!").talk("Suki","It beats being expelled!").talk("Natasha","...","Sad").talk("Natasha","So I just dress up as a boy and talk to Arietta?").talk("","Suki puts her arm around Natasha.").talk("Suki","I'll teach you how to seduce that slut!").talk("Suki","Step #1 play it cool!").talk("Queen","If our intel is correct, she should fall for you easily. We'll know as soon as she talks to you.").talk("Queen","Convince her to meet you in the janitor's closet.").talk("Suki","If it makes you feel any better, this isn't the first time Queen convinced someone to meet in the janitor's closet!").talk("Natasha","Okay I'll try...").talk("Queen","Ladies, we need to get Natasha some boy clothes. Let's go to the clothes shop, Cassie should be able to help us.").completeQuest("ariettaQuest","Start"),t.addBranch("ariettaQuestStartPlan").talk("","The girls enter Natasha's dorm.").talk("Suki","Check it out!").talk("","Suki drops a pile of clothes in front of Natasha.").talk("Natasha","Oh cool! So boys wear these huh?").talk("","Natasha grabs the pile of clothes and inhales deeply.").talk("Suki","Oh yeah! Come on let's put them on you!").talk("","Suki drags Natasha into the bathroom with her.").talk("Ardura","Queen. How do you suppose this plan works out? We can probably get Arietta to go to the janitor's closet but-").talk("Queen","But how do we get the archmage right?").talk("Ardura","Yes.").talk("Queen","Excellent question.","Happy").talk("","Queen pulls out an outfit hiding in Suki's pile of clothes.").talk("Queen","Esxea, put this on please!").talk("","Queen throws the outfit at Esxea. She quickly undresses and puts it on.").equipClothes("Esxea","JanitorEsxea",!0).talk("Esxea","Ta-da!","Happy").talk("","Esxea puts her hands on her hips and strikes a pose.").talk("Scarlett","A janitor?").talk("Queen","Esxea will go find the archmage and pretend there is a leak in the janitor's closet.").talk("Esxea","Oh wow I'm going to do that?!","Surprise").talk("Ardura","An interesting disguise. I hope this works Queen.").talk("Esxea","Here, let me practice!").talk("","Esxea clears her throat.").talk("Esxea","Good evening! The bathrooms are broken!").talk("Queen","Esxea there are no bathrooms in the janitor's closet.").talk("","The girls hear some rambling in the bathroom.").setNaked("Natasha",!0).talk("Natasha","It doesn't fit!","Sad").talk("Suki","Sure it does!").talk("","The girls hear clothes being ripped.").talk("Esxea","Let me try again!").talk("Esxea","My liege! The janitor's closet has no bathrooms!").talk("","Scarlett slaps her palm on her forehead.").talk("Queen","Esxea you just have to tell her that a water pipe broke in the janitor's closet.").talk("Esxea","Oh...","Surprise").talk("","The bathroom door opens.").talk("","(I'm scared!)").talk("Suki","Get out there!").talk("","Suki pushes Natasha out.").equipClothes("Natasha","CrossDressNatasha",!0).talk("Natasha","...").talk("Scarlett","Good lord!","Surprise").talk("Suki","Pretty hot huh!","Happy").talk("","Suki puts her hands on Natasha's chest.").talk("Suki","Flattened her boobs using an undershirt! But...").talk("","Suki rubs Natasha's breasts.").talk("Suki","Still risky. Don't let Arietta touch your chest!").talk("Natasha","...","Blush").talk("Queen","You look great! A questionable shirt, but I think it will do!","Happy").talk("Queen","It's getting late, should we head over to the ground floor?").talk("Natasha","... yeah I guess I'm ready...").talk("Suki","Hey lookin' good Esxea!").talk("Esxea","!!!","Happy").talk("","The girls walk out of the dorms.").equipClothes("Esxea","DefaultEsxea").equipClothes("Natasha","DefaultNatasha").completeQuest("ariettaQuest","StartPlan"),t.addBranch("ariettaQuestRecruitNatasha").talk("","Queen knocks on Natasha's door.").talk("Queen","Psst! It's Queen!").talk("","Natasha opens the door.").talk("Queen","Hey we're ready for you!").talk("Natasha","Oh my gosh wow! I can't wait!").popUp("Congratulations!\nNatasha has been recruited into Queen's Brothel!").switchMap("Easthollow").completeQuest("ariettaQuest","End")})(),(()=>{let t=GAME.dialogue.addDialogueTree("HellThrone");t.addBranch("root",!0).QuestPicker("HellThrone");(()=>{t.addBranch("lilithQuestStart").equipClothes("Suki","SukibusSuki").talk("","Lilith runs up to Suki and pinches her cheeks.").talk("Lilith","I'm so glad you came back! My wittle Suki-wooky!","Happy").talk("Suki","Mom, stop!","Angry").talk("Lilith","I'm also glad everyone else showed up!").talk("","Lilith walks the girls to the playground.").talk("Queen","So, what's the succubus training like?").talk("Lilith","There's going to be a lot of pain and torture!","Happy").talk("","Lilith walks up to a minotaur, chained to the wall.").talk("Natasha","Pain and torture?","Sad").talk("","Lilith stabs her fingernails into the minotaur.").talk("Lilith","For the men of course. Did you think we were going to hurt ourselves?","Sad").talk("Lilith","Never in a million years would I let some dumb boy hurt me.").talk("Lilith","You should have seen the guy that showed up last night!","Happy").talk("","Lilith laughs by herself.").talk("Lilith","Anyways...").talk("Scarlett","Must you always stab the guys before you fuck them or..?","Sad").talk("Lilith","Oh!","Surprise").talk("Lilith","No, but they like it.").talk("","Lilith lets go of the minotaur.").talk("Minotaur","Hello Lilith! Please do it again!").talk("Lilith","I think I broke them a long time, but now they keep coming back for more.","Sad").talk("Lilith","Whoops!").talk("Scarlett","I, for one, will join this time. I'm trying to be open minded about this demon world.").talk("Scarlett","Lilith, if anyone unexpected touches me, I'm expecting you to kill them immediately.","Angry").talk("Lilith","Don't worry, you're safe with me.").talk("Lilith","Well, ladies. I have 6 minotaurs lined up here. Go ahead and stand in front of one.").talk("","Suki runs up to the closest one.").talk("Suki","Do I stab him with my horns?").talk("Lilith","You do not stab him with your horns.","Sad").talk("Minotaur","Please stab me with your horns!").talk("Lilith","Suki, don't listen-").talk("","Suki rams her horns into the minotaur, her horns barely sink into his skin.").talk("Lilith","...","Sad").talk("Minotaur","Yeah!!!").talk("","Esxea headbutts a minotaur's cock.").talk("","The minotaur groans.").talk("Esxea","Why doesn't he like it when I do it?","Sad").talk("Lilith","Let's try something easy first, go ahead and call the man in front of you a bad name.").talk("Suki","What? We're just yelling at them?","Surprise").talk("Lilith","Suki, you're doing great! I'm just taking it slow for the other girls.").talk("","Lilith tries her best to fake a smile.").talk("Suki","Alright you stupid minotaur, prepare to meet your doom!").talk("Queen","I don't understand this. If we be mean to him, he won't come back.").talk("Lilith","Queen, you need to make them understand that you are special. A rare treat. Not another whore.").talk("Scarlett","Now, I don't want to toot my own horn, but I think I can handle this lesson.").talk("Scarlett","Listen here, trash. You're helping me get through this training only. No funny business.","Angry").talk("","Scarlett grips the minotaur's neck tightly.").talk("Lilith","Excellent!","Happy").talk("","Esxea jumps up and tries to reach the man's neck.").talk("Esxea","Not fair! I can't choke him!","Sad").talk("Lilith","Sorry, little one. Let me help you.","Sad").talk("","Lilith moves the chained minotaur down so that he is on his knees.").talk("Esxea","There we go!","Happy").talk("","Esxea headbutts the minotaur's head. He groans again.").talk("","Natasha ignores Lilith, she can't stop staring at the minotaur's massive cock.").talk("Ardura","I'm with Scarlett, it's easy to be mean to boys.").talk("Lilith","I suppose some of you are better than others.").talk("","Queen catches Lilith's eyes quickly locking onto hers before moving away.").talk("Suki","Come on, let's fuck him already!").talk("Lilith","How about we put him in his place first?").talk("","Lilith summons black whips for all the girls. They float in front of the girls.").talk("Scarlett","A whip? Don't mind if I do.","Happy").talk("","Scarlett grabs the whip tightly and cocks her hand back.").talk("Scarlett","Take this you stupid demon!","Angry").talk("","The whip clashes against his chest, leaving red marks instantly.").talk("Minotaur","Please, do it again!").talk("Suki","Aw, toys? I guess these are cool too.","Surprise").talk("","Suki whips the minotaur in front of her.").talk("","Queen gently grabs the whip. She watches the other girls whip their minotaurs.").talk("Scarlett","This ones for my stupid dad who wouldn't let me leave the castle!","Angry").talk("","Scarlett viciously whips the minotaur. The minotaur is aroused, but also concerned about Scarlett.").talk("Scarlett","And this ones for that brainless goblin that came in my hair, even after I specifically asked him not to!","Angry").talk("Lilith","Is everything okay?").talk("","Lilith stands next to Queen.").talk("Queen","Oh, yeah. Just observing the whip. It's um...","Sad").talk("Queen","Good leather! Ten out of ten.","Happy").talk("","Queen smiles and waits for Lilith to walk away.").talk("Suki","Alright, I'm bored! What's next?").talk("Suki","I hope we get to punish him with our vaginas next!").talk("","Lilith lowers the minotaurs down and lays them down on the ground.").talk("Lilith","Fine, fine. Let's speed it up a bit.").talk("Lilith","Go ahead and get comfortable on the minotaur's cock.").talk("","Suki turns around and sits down on the minotaur's cock. She turns around and looks at his face.").talk("Suki","Goes in pretty easy now, huh!").popUp("Submissive clients give back stamina each time a girl fucks them. Try fucking them quickly to gain stamina and cum speed!").Function((()=>new Promise((t=>{let e=new BattleClient("",25,[new BattleClientTypeSubmissive],"Pussy",15e3,"ClientBorderE1"),i=new Battle(["Suki"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).playAnimation("SukibusRiding").setBackground("SukibusRiding").talk("Lilith","Perfect! Everyone take notes!","Happy").talk("Suki","Wow, I feel so energized!").talk("Lilith","Dominating a man fills you with energy!").talk("Suki","Yeah, I don't feel tired at all!").setBackground(!1).talk("","Scarlett whips the minotaur again. She looks around and sees that all of the girls are on top of the men.").talk("Scarlett","Oh, whoops. Got a little carried away there.").talk("Scarlett","Is this the part where we fuck them? How boring.","Sad").talk("","Scarlett, unenthusiastically sits on the minotaur's cock.").Function((()=>new Promise((t=>{let e=new BattleClient("",25,[new BattleClientTypeSubmissive],"Pussy",15e3,"ClientBorderE1"),i=new Battle(["Scarlett"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).talk("Scarlett","Wait a minute, this is kind of fun.","Surprise").talk("","Scarlett leans forward, the minotaur's cock plops out of her pussy and throbs against her ass.").talk("Scarlett","He can't do anything at all!").talk("Scarlett","So, I guess he'll have to cum without fucking me then!").talk("","Scarlett smiles and watches the minotaur's upset face.").talk("Lilith","Good, good. Looks like you girls are learning.").talk("","Lilith watches Natasha squirming on the minotaur's cock. She's enjoying herself too much.").talk("","Queen rides the minotaur's cock. She keeps an eye on Lilith, pretending to enjoy it more when Lilith walks by.").Function((()=>new Promise((t=>{let e=new BattleClient("",15,[new BattleClientTypePassive],"Pussy",1e4,"ClientBorderE1"),i=new Battle(["Queen"]);i.addClient(e),GAME.battle.startBattle(i).then((e=>{t(e)}))})))).talk("Lilith","Queen!").talk("Lilith","How's it going? Do you feel it yet?").talk("Queen","Oh. Oh yeah! I feel so powerful!").talk("Lilith","Really...").talk("Queen","Yeah! I could do this all day!","Happy").talk("Lilith","Suki. Why is your friend lying to me.","Sad").talk("Suki","What?! Queen? She would never!").talk("Lilith","The other girls seem to be enjoying this training, why are you so hesitant?","Angry").talk("Queen","I'm not! Look, I'm doing everything you're asking!","Sad").talk("Suki","Trust me mom, Queen knows how to ride a cock!").talk("Lilith","Hm...","Angry").talk("","Lilith walks away.").talk("Suki","Hey buddy, mind if I stab ya?").talk("Minotaur","No one in the entire world would dislike a proper stabbing from the disciple of Queen Lilith-!").talk("","Suki pierces her fingernails into the man's chest.").talk("Minotaur","GAH!").talk("Lilith","Good choice, Suki.").talk("Lilith","Ladies, let's get more violent. Boys love it when you make them bleed!").talk("Ardura","I don't have pointy fingernails like Suki.","Sad").talk("Lilith","Maybe try choking!").talk("Ardura","Now that, I can do!").talk("","Esxea bends forward and tries to bite on the minotaur's chest.").talk("Esxea","This is too hard.","Sad").talk("Lilith","Oh, you keep trying little one!").talk("","Queen watches Suki rip into the minotaur. Suki gains pleasure from the man's pain.").talk("Suki","Oh I think my pussy is getting a little dry from all this fucking.").talk("Suki","Let me just...").talk("","Suki claws into the man's chest with both of her hands. He cums inside of her instantly.").talk("Suki","There we go!","Happy").talk("Minotaur","Please do that again!").talk("Suki","Oh yeah? Want me to do it again?").talk("Minotaur","Yes, please!").talk("","Suki's fingers dig deeper into the man's chest.").talk("Suki","Yeah? How much do you want it?").talk("","The minotaur gulps. Blood gushes out of his chest.").talk("Minotaur","Please make me cum again!").talk("Suki","I can't hear you!").talk("","Queen watches Suki. Suki looks down at the man's chest and licks her lips.").talk("Minotaur","I want to cum inside of you again!").talk("","Suki wipes her bloody fingers on the minotaur's chest and then begins to dig into his skin again.").talk("Suki","How long until you're scared for your life?").talk("","The minotaur looks down at his chest. Suki creates new holes in him.").talk("Queen","Suki.","Sad").talk("","Queen tries to whisper to Suki, without getting Lilith's attention.").talk("Suki","Come on, aren't you scared of me yet?","Surprise").talk("","Suki is too focused, she can't hear Queen.").talk("Queen","Suki!","Sad").talk("","Suki digs into the minotaur some more.").talk("","Queen watches Suki torture the man. Queen bites her lip, she puts her hand on the whip beside her.").talk("Queen","(Why isn't Lilith stopping her this time?! This man's going to bleed to death!)","Sad").talk("Queen","Suki!!","Sad").talk("","Suki twists her fingers in the man's body.").talk("","Queen picks up the whip and swings it at Suki.").Flash().talk("Suki","Huh?!","Surprise").talk("Suki","Ow!","Surprise").talk("","The sound of the whip cracking gets all of the girl's attention.").talk("Lilith","Hm?","Sad").talk("","Lilith sees Suki holding her arm and a whip in Queen's hand. She flies as fast as she can to Suki.").talk("Lilith","Suki!","Sad").talk("Suki","I'm fine...","Surprise").talk("","Lilith's head quickly twists around and faces behind her. Queen gets startled from the un-humanly movement, she drops the whip.").talk("","Lilith's body follows her head. She slowly inches towards Queen.").talk("Lilith","Queen...","Angry").talk("","Queen puts her hands over her face.").talk("Queen","I'm sorry, I'm sorry!","Sad").talk("","Queen can feel Lilith's face in front of her. She's too afraid to open her eyes.").talk("Queen","Please don't hurt me!","Sad").talk("Queen","Suki was just being really mean!","Sad").talk("Queen","And I didn't know what to do because you weren't stopping her!","Sad").talk("Queen","And no one else was noticing!","Sad").talk("Queen","And there was so much blood!","Sad").talk("Queen","And it was scary!","Sad").talk("","Queen feels Lilith's fingers on her shoulders.").talk("Queen","Ah!!","Sad").talk("","Suki pulls on Lilith's tail.").talk("Suki","Calm down mom!").talk("","Lilith's head boils. She tries to restrain herself in front of Suki.").talk("Lilith","Queen, you've proven that you are a failure!","Angry").talk("","Queen takes her hands off of her face and looks up at Lilith.").talk("Lilith","I don't know how you've managed to run a brothel with such little dominance!","Angry").talk("Queen","I'm sorry...","Sad").talk("Lilith","Suki, are you okay?","Sad").talk("","Lilith opens her arms, going in for a hug.").talk("Suki","Yeah... I'm fine.","Surprise").talk("","Suki opens her arms, reciprocating the hug.").talk("","Lilith stabs her finger nails into Suki's back.").talk("","Suki's eyes roll back, her demon powers start to leave her body.").equipClothes("Suki","DefaultSuki").setNaked("Suki",!0).talk("Queen","Hey!","Sad").talk("Suki","What are you doing?!","Surprise").talk("","Lilith finishes extracting Suki's powers. She pulls her nails out of Suki's body.").talk("Lilith","I'm afraid your powers are no more.","Sad").talk("Suki","What was that for?! How did you take my powers away?!","Angry").talk("Lilith","They're still inside you, I just sealed them away.").talk("Suki","Why would you do that?","Sad").talk("","Suki's eyes start to tear up.").talk("Lilith","Look what you did Queen.").talk("Queen","What?!","Sad").talk("","Queen looks at Lilith and then at Suki. Suki tries to hide her crying face.").talk("Queen","Give her back her powers!","Angry").talk("Lilith","Or what?").talk("Queen","Or...","Sad").talk("","Queen tries to think of something that would intimidate Lilith.").talk("Queen","...","Angry").talk("Lilith","Queen, you hurt your friend's feelings.").talk("Queen","No, I didn't! You took away her powers!","Angry").talk("Lilith","Suki, do you want your powers back?").talk("Suki","...","Sad").talk("Suki","Yeah...","Sad").talk("Ardura","Stop bullying Queen!","Angry").talk("","Esxea walks up to Suki and gives her a hug.").talk("Lilith","Queen, I'm giving you one chance to win Suki over.").talk("Lilith","Tomorrow, you girls will come back and prove you're capable of keeping my daughter.","Angry").talk("Suki","Huh?","Sad").talk("Queen","You can't steal Suki from us!","Sad").talk("Lilith","I don't think Lucifer would mind me stealing my own daughter from the human world.").talk("Queen","...","Sad").talk("Lilith","Now, now. Get out.").talk("","Lilith rips open a portal in front of the girls.").talk("Lilith","I'll see you tomorrow Suki!","Happy").talk("","Suki dishearteningly walks into the portal.").talk("Lilith","Bye, bye!").talk("Queen","...","Angry").talk("","The girls walk into the portal.").Fade().setBackground("EasthollowBackground").talk("Queen","Suki!","Sad").talk("","Suki walks into the house and ignores Queen.").talk("Queen","I-","Sad").talk("Scarlett","Oh, I don't know what to say anymore Queen.","Sad").talk("Scarlett","I think Suki is a goner.","Sad").talk("Ardura","I don't know how we're going to please the demon woman.","Sad").talk("Queen","I'll figure it out.","Sad").talk("Queen","I always figure things out, right?","Happy").talk("","Scarlett and Ardura walk inside.").talk("Queen","...","Sad").switchMap("Easthollow").Fade().completeQuest("lilithQuest","Start");let e=t.addBranch("lilithQuestEnd").talk("Lilith","Are you girls ready to show your worth?").popUp("Are you ready for the boss battle?",!0).ifLastAnswer(!0,"startBossBattle").addBranch("startBossBattle").talk("Lilith","Great. I may have invited a few friends for this. Hope you don't mind.").talk("","Lilith walks the girls to the playground, revealing over a hundred minotaurs.").talk("Queen","What the fuck?","Angry").talk("Lilith","What's wrong? Can't do it?").talk("Queen","No, we can do it.","Sad").talk("","Suki looks down and slowly walks to the minotaurs.").talk("Scarlett","Queen, I know I'm good at dominating men, but...","Surprise").talk("Natasha","Wow, that's a lot of cock!","Surprise").talk("Natasha","Is it getting hot in here, or..?","Blush").talk("Lilith","I'll give you thirty minutes.").talk("Queen","Thirty minutes?!","Angry").talk("","The girls walk up to the minotaurs.").bossBattle("Minotaurs","Easy").ifLastAnswer(!0,"winBossBattle").ifLastAnswer(!1,"loseBossBattle"),i=e.addBranch("winBossBattle").Fade().equipClothes("Suki","DefaultSuki").setNaked(["Queen","Suki","Esxea","Scarlett","Ardura","Natasha"],!0).talk("","Queen looks around. The girls look exhausted.").talk("Scarlett","Queen, I think I need a break...","Sad").talk("Queen","I-","Sad").talk("","Natasha spits out a glob of cum.").talk("Natasha","This stops tasting good after a while...","Sad").talk("Lilith","You have two minutes left.").talk("","The girls have barely put a dent into the room of minotaurs.").talk("Queen","You're cheating!","Angry").talk("Queen","How many guys are there?!","Angry").talk("","Queen viciously jerks a minotaur off until he cums.").talk("","Queen looks at Suki. Suki is unenthusiastically fucking the minotaur.").talk("Lilith","2 minutes and Suki's mine.").talk("Queen","Alright.","Angry").talk("Queen","Fuck you, Lilith!","Angry").talk("Queen","Suki's staying with me!","Angry").talk("","Queen bends over in front of a minotaur. She opens her mouth wide and wraps her lips around his cock.").talk("","Queen grips the minotaur's cock tightly and slowly slides her head back.").talk("Minotaur","Oh my gosh, it's so tight!").Flash().talk("","The minotaur cums into Queen's mouth. Queen pushes her body back up and spits the cum onto the minotaur.").talk("","Queen walks to the next minotaur to do the same.").talk("Scarlett","Queen just made that guy cum in 5 seconds!","Surprise").talk("Lilith","Hmm...","Angry").Function((()=>new Promise((t=>{GAME.girl.getGirl("Queen").gainStamina(3,!1);let e=new Battle(["Queen"],"Easy");e.addClients([new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Throat",2e4,"ClientBorderE1"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Throat",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Throat",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20)],"Throat",2e4,"ClientBorderE4"),new BattleClient("",40,[new BattleClientTypeSubordinate(20),new BattleClientTypeCummer],"Throat",2e4,"ClientBorderE1"),new BattleClient("",40,[new BattleClientTypeSubordinate(20),new BattleClientTypeCummer],"Throat",2e4,"ClientBorderE2"),new BattleClient("",40,[new BattleClientTypeSubordinate(20),new BattleClientTypeCummer],"Throat",2e4,"ClientBorderE3"),new BattleClient("",40,[new BattleClientTypeSubordinate(20),new BattleClientTypeCummer],"Throat",2e4,"ClientBorderE4")]),GAME.battle.startBattle(e).then((e=>{t(e)}))})))).ifLastAnswer(!0,"finishFinalBattle").ifLastAnswer(!1,"loseFinalBattle");i.addBranch("finishFinalBattle").talk("Lilith","(Queen is sucking off these minotaurs so quickly!)","Sad").talk("Scarlett","Queen, there's too many, you can't fuck all of them in time!","Surprise").talk("","Suki stops fucking the minotaur and looks at Queen.").talk("Queen","I don't care! I'm saving Suki!","Angry").talk("","Queen grabs the next minotaur's cock tightly.").talk("Queen","You know what to do!","Angry").talk("","The minotaur cums immediately. Queen walks to the next one.").talk("","Suki watches Queen and finally lets out a smile.").talk("Suki","Yeah! Go Queen!","Happy").talk("Esxea","Hey! Suki is back!","Happy").talk("Lilith","Huh?","Sad").talk("","Suki starts to ride a minotaur's cock faster.").talk("","Queen walks to every minotaur, making them cum instantly with her blowjobs.").talk("Ardura","Queen is cleaning house!","Surprise").talk("Suki","Hey Queen, save some for me!","Happy").talk("","Suki slams her pelvis down on the minotaur. He cums inside her.").talk("","Suki runs up to another minotaur and jumps on top of him.").talk("Suki","Lilith's daughter here! If you cum for me, maybe I'll kiss ya!","Happy").talk("","The minotaur's eyes widen. He cums immediately.").talk("","Suki jumps off of the minotaur and runs to the next one.").talk("Suki","Sorry! Maybe next time! Muah!","Happy").talk("Lilith","Times up!","Angry").talk("","Queen and Suki ignore Lilith. They continue making the minotaurs cum.").talk("Suki","Hey Queen, stop wasting all the cum!").talk("","A minotaur cums into Suki's mouth. She forces his mouth open and spits in it.").talk("Queen","Hahaha! You're too evil!","Happy").talk("Lilith","I said times up!","Angry").talk("Queen","Hey Suki, these demon boys are so easy!","Happy").talk("Suki","Tell me about it! You can make them cum by doing anything!","Happy").talk("","Lilith stomps her foot.").talk("Scarlett","I'm not sure what's going on, but Queen and Suki seem be having a great time!","Surprise").talk("Scarlett","It makes me want to go join them!","Surprise").talk("Lilith","No ones joining them!","Angry").talk("","Lilith flies towards Queen. Queen hears Lilith's wings flap in the distance, she braces herself.").talk("Lilith","I said time was up!","Angry").talk("Suki","We were just having fun, mom!","Angry").talk("Queen","I don't care about your stupid demon powers, I'm taking Suki back!","Angry").talk("","Lilith puts her fingers on Queen's face.").playAnimation("LilithQueen").setBackground("LilithQueen").talk("Lilith","I think you won.").talk("Queen","I won?","Sad").talk("Lilith","Queen, you have a good heart.").talk("Lilith","I'm glad you and Suki are friends.").talk("Queen","Stop being weird, what do you want from me?","Sad").talk("Lilith","I'm not lying.","Surprise").setBackground(!1).talk("","Lilith turns around and places her hand on Suki.").talk("Lilith","Look, I'll give Suki her powers back.","Surprise").talk("","Lilith grips Suki's shoulder. Her fingernails dig into Suki.").equipClothes("Suki","SukibusSuki").talk("Suki","Hey!").talk("","Suki puts her hand on her head and feels her horns.").talk("Suki","I'm a succubus again!").talk("Lilith","Queen, I've never seen a human suck so many cocks that quickly!","Surprise").talk("Queen","Yeah, yeah. Sorry, I don't think we can be friends after this.","Sad").talk("Lilith","Oh...","Sad").talk("Scarlett","Queen! I think it'd be a good idea if we stay friends with the lady that can kill us all!","Surprise").talk("Lilith","I shouldn't be surprised. Sorry for being so harsh on you.","Sad").talk("Lilith","I promise I'll make it up to you?","Sad").talk("Queen","I'd like to take Suki and go.","Angry").talk("Lilith","I-","Sad").talk("Suki","Wow mom, you really hurt Queen's feelings!").talk("Lilith","Promise you'll visit me again, Suki?","Sad").talk("Suki","Sure! If Queen lets me!").talk("Lilith","...","Sad").talk("","Lilith opens a portal for the girls.").talk("Lilith","Til next time...","Sad").talk("","Suki hugs Lilith and then runs into the portal.").talk("","Lilith slowly walks away from the girls. The girls walk into the portal.").equipClothes("Suki","DefaultSuki").Fade().setBackground("EasthollowBackground").talk("","The portal vanishes and turns into the demonic book.").talk("Queen","Suki, let's not open that portal up for a while...").talk("Suki","Sure, it was fun, but my mom can wait!").talk("","Suki hugs Queen.").talk("Ardura","Queen, you have once again proven to be a great leader.").talk("Esxea","That was hard! I kept punching the guys, but none of them were cumming!","Sad").talk("Scarlett","You have single-handedly saved Suki, and made a demon mad.","Surprise").talk("Scarlett","You are the coolest girl I have ever met!").talk("Natasha","I think I drank too much cum...","Sad").talk("","Natasha puts her hand on her stomach.").talk("Queen","Lets go inside. I think we all deserve a break...","Happy").talk("Scarlett","Good idea!","Happy").Fade().switchMap("Easthollow").completeQuest("lilithQuest","End").patreonPopUp(!0),i.addBranch("loseFinalBattle").Fade().setBackground("EasthollowBackground").talk("","Queen abruptly wakes up.").talk("Queen","Huh?!","Surprise").talk("Queen","Oh, it was just a dream...","Sad").switchMap("Easthollow"),e.addBranch("loseBossBattle").Fade().setBackground("EasthollowBackground").talk("","Queen abruptly wakes up.").talk("Queen","Huh?!","Surprise").talk("Queen","Oh, it was just a dream...","Sad").switchMap("Easthollow")})()})()},Gameplay.prototype.updateGame=function(){return new Promise(((t,e)=>{try{!function t(e,i){for(let a in e)!1===i.hasOwnProperty(a)&&(i[a]=e[a]),e.hasOwnProperty(a)&&"object"==typeof e[a]&&t(e[a],i[a])}(gameInfo,gameData),GAME._initDailies(),GAME.initMenus(),GAME.map._initMapConditions(),GAME.quest._initQuests(),GAME.initDialogue(),GAME.dialogue._initNames(),GAME.girl._initGirls(),GAME.girl._initCumLayers(),GAME.clothes._initClothes(),GAME.clothes._initClothesMapConditions(),GAME.animation._initAnimations(),GAME.animation._initGallery(),GAME.boss._initBosses(),GAME.QBsound._initSounds();for(let t in MODS)MODS[t].init();let e=GAME.girl.getGirls();for(let t of e)!1===GAME.clothes.getClothes(gameData.girl[t].Clothes)&&(console.log(gameData.girl[t].Clothes+" not found"),gameData.girl[t].Clothes="Default"+t);"SukibusSuki"===GAME.girl.getGirl("Suki").getClothes().getID()&&GAME.girl.getGirl("Suki").equipClothes("DefaultSuki"),gameData.version=VERSION,t()}catch(t){console.error(t),e(t)}}))},Gameplay.prototype.patreonPopUp=function(t){return new Promise((e=>{game.scene.start("PatreonPopUp",{pauseAllScenes:!0,endOfGame:t}),game.scene.getScene("PatreonPopUp").events.once("shutdown",((t,i)=>{e()}))}))},Gameplay.prototype.showMapName=function(t){game.scene.getScene("HUD").showMapName(t)},Gameplay.prototype.popUpMessage=function(t,e){game.scene.getScene("HUD").popUpMessage(t,e)},Gameplay.prototype.save=function(){game.scene.getScene("HUD").save()},Gameplay.prototype.getGold=function(){return gameData.gold},Gameplay.prototype.addGold=function(t){gameData.gold+=t,globalEvents.emit("addGold",t)},Gameplay.prototype.removeGold=function(t){gameData.gold-=t,globalEvents.emit("removeGold",t)},Gameplay.prototype.unlockBody=function(t){gameData.body[t]=!0},Gameplay.prototype.getDate=function(){let t=gameData.day%30,e=gameData.day/30%12+1,i=gameData.day/30/12+1;return Math.floor(e)+"/"+t+"/"+Math.floor(i)},Gameplay.prototype.getDay=function(){return gameData.day},Gameplay.prototype.getLevel=function(t){let e;if(t>=LEVELS[MAX_LEVEL])return MAX_LEVEL;for(e=0;e<LEVELS.length&&!(LEVELS[e+1]>t);e++);return e},Gameplay.prototype.getExp=function(t){let e=0;for(let i=1;i<t;i++)e+=Math.floor(i+300*Math.pow(2,i/5));return Math.floor(e/4)},Gameplay.prototype.getUpgradePayment=function(){switch(gameData.houseUpgrades){case 0:return 300;case 1:return 1e3;case 2:return 2e3;case 3:return 4e3;case 4:return 6e3;default:return!1}},Gameplay.prototype.upgradeHouse=function(){return new Promise((t=>{!1!==GAME.getUpgradePayment()&&gameData.gold>=GAME.getUpgradePayment()?(GAME.removeGold(GAME.getUpgradePayment()),gameData.houseCapacity+=1,gameData.houseUpgrades+=1,globalEvents.emit("refresh"),t(!0)):t(!1)}))},Gameplay.prototype.checkMax=function(){return GAME.girl.getUnlocked().length>=gameData.houseCapacity},Gameplay.prototype.notify=function(t){game.scene.getScene("HUD").notification(t)},Gameplay.prototype.initMenus=function(){GAME.menu.addMenu("house",(function(){let t=this.menu;t.create(0,0,"HouseBackground").setOrigin(0);let e=GAME.girl.getGirlContainer(this,GAME.girl.currentGirl,!0).setPosition(960,1080);t.add(e),this.add.image(505,70,"houseIcon").setOrigin(0),this.add.bitmapText(595,94,"crimson",GAME.girl.getUnlocked().length+"/"+gameData.houseCapacity,42).setOrigin(0,.5);let i=this.add.bitmapText(960,1070,"crimson","",64,1).setOrigin(.5,1);t.add(i);let a=this.add.bitmapText(20,700,"crimson","",34);t.add(a);let n=this.add.bitmapText(1600,50,"crimson","Stats",64,0);t.add(n);let s={};for(let e in skills)s[skills[e]]=new GAME.levelProgressBar(this,1600,120+138*e,GAME.girl.currentGirl,skills[e]),t.add(s[skills[e]].container);let r=t=>{(t=t||{}).girl=t.girl||GAME.girl.currentGirl,t.clothes=t.clothes||gameData.girl[t.girl].Clothes;let r=t.girl;t.clothes;e.setGirl(r);for(let t in s)s[t].updateBar(r,t);a.setText(r+" - "+GAME.girl.getGirl(r).getMoralDescription()+"\nAge: "+GAME.girl.getGirl(r).getAge()+"\nHeight: "+GAME.girl.getGirl(r).getHeight()+"\nClients made cum: "+GAME.girl.getGirl(r).getGuysFucked().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"\nUltimate:\n"+GAME.girl.getGirl(r).getUltimateDescription()),i.setText("Level: "+GAME.girl.getGirl(r).getLevel()),GAME.girl.getGirl(r).availablePoints()>0?n.setText("Stats ("+GAME.girl.getGirl(r).availablePoints()+")"):n.setText("Stats")},o=t=>{let e=t.clothes,i=GAME.clothes.getClothes(e);GAME.clothes.getClothes(i.Girl.getClothes().id).id===i.id?i.Girl.setNaked(!i.Girl.isNaked()):(i.Girl.equipClothes(i.id),r())};r(),game.scene.start("GirlContainer",{x:20,y:70}),game.scene.start("ClothesContainer",{shop:"house",x:20,y:390}),globalEvents.on("switchGirl",r),globalEvents.on("selectClothes",o),globalEvents.on("statUp",r);let l=()=>{game.scene.stop("GirlContainer"),game.scene.stop("ClothesContainer"),globalEvents.off("switchGirl",r),globalEvents.off("selectClothes",o),globalEvents.off("statUp",r)};t.create(1740,1060,"gallery").setOrigin(1,1).button().on("pointerup",(()=>{l(),this.switchMenu("gallery")})),GAME.quest.isComplete("hornyBoris","End")&&t.create(1900,1060,"bosses").setOrigin(1,1).button().on("pointerup",(()=>{l(),this.switchMenu("bosses")})),t.create(340,1060,"sleep").setOrigin(0,1).button().on("pointerup",(()=>{GAME.popUpBoard("Do you want to go to sleep?",!0).then((t=>{!0===t&&(l(),this.newDay=!0,this.closeMenu())}))})),t.create(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{l(),this.closeMenu()}))})),GAME.menu.addMenu("gallery",(function(){let t=this.menu;t.create(0,0,"HouseBackground").setOrigin(0),t.add(this.add.bitmapText(960,980,"crimson","Animations are a work in progress. Consider supporting for more art!",52,1).setOrigin(.5,0)),game.scene.start("Gallery"),t.create(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{game.scene.stop("Gallery"),this.switchMenu("house")}))})),GAME.menu.addMenu("bosses",(function(){let t=this.menu;t.create(0,0,"HouseBackground").setOrigin(0),t.create(0,0,"bossMenuOutline").setOrigin(0);let e=null,i=this.add.image(180,1060,setDifficulty).setOrigin(0,1).button().on("pointerup",(()=>{let t=["Easy"],a=t.indexOf(setDifficulty);setDifficulty=a>=0&&a<t.length-1?t[a+1]:"Easy",i.setTexture(setDifficulty),globalEvents.emit("changeDifficulty",{boss:e})}));t.add(i),t.create(895,1060,"fuck").setOrigin(0,1).button().on("pointerup",(()=>{e&&(!0===gameData.bossToday?GAME.popUpBoard("The girls are too tired from fucking a boss today. Try again tomorrow!"):GAME.popUpBoard("Are you ready to fuck this boss?",!0).then((t=>{if(!0===t){o();let t=GAME.boss.getBoss(e);GAME.boss.startBossBattle(t.getID(),setDifficulty).then((e=>{!0===e&&GAME.boss.giveRewards(t.getID(),setDifficulty),this.switchMenu("bosses")}))}})))}));let a=this.add.bitmapText(905,70,"crimson","Rewards",48);t.add(a);let n=this.add.container();t.add(n);let s=()=>{if(!e)return null;n.removeAll(!0);let t=GAME.boss.getBoss(e).getRewards(setDifficulty),i=0;if(t.hasOwnProperty("Clothes")){for(let e in t.Clothes){let a=GAME.clothes.getClothes(t.Clothes[e]);if(!1===a.isUnlocked()&&!0===a.Girl.isUnlocked()){let t=this.add.image(923+160*i,898,a.id).setOrigin(0,1);n.add(t),i+=1}}let e=this.add.bitmapText(905,526,"crimson","Boss will drop one of these:",48);n.add(e)}},r=t=>{e=t.boss,s()};game.scene.start("BossMenu"),globalEvents.on("selectBoss",r),globalEvents.on("changeDifficulty",s);let o=()=>{game.scene.stop("BossMenu"),globalEvents.off("selectBoss",r),globalEvents.off("changeDifficulty",s)};t.create(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{o(),this.switchMenu("house")}))})),GAME.menu.addMenu("brothel",(function(){if(!0===gameData.brothelToday)return GAME.popUpBoard("There are no more clients today. Go to sleep and try again tomorrow!").then((()=>{this.closeMenu()})),null;if(!1===GAME.quest.getQuest("townFuckQuest","Start").getStatus())return GAME.popUpBoard("Nobody knows about Queen's brothel yet. Try finding some clients in town.").then((()=>{this.closeMenu()})),null;if(GAME.girl.getUnlocked(!0).length<=0)GAME.popUpBoard("All of the girls are too tired to fuck. Go to sleep and try again tomorrow!").then((()=>{this.closeMenu()}));else{gameData.brothelToday=!0;let t=GAME.battle.getClientPack(),e=new Battle(GAME.girl.getUnlocked(),"Easy").addClients(t);GAME.battle.startBattle(e).then((()=>{this.closeMenu()}))}})),GAME.menu.addMenu("townClothesShop",(function(){let t=this.menu;t.create(0,0,"WoodBackground").setOrigin(0,0),t.add(this.add.bitmapText(20,70,"crimson","Clothes",48));let e=GAME.girl.getGirlContainer(this,GAME.girl.currentGirl).setPosition(960,1080).setVisible(!1);t.add(e);let i=this.add.image(95,490.5,"buy").button().on("pointerup",(()=>{n&&(GAME.getGold()>=GAME.clothes.getClothes(n).getCost()?(GAME.clothes.getClothes(n).buy(),n=null,s()):GAME.notify("You don't have enough gold!"))}));t.add(i);let a=this.add.bitmapText(20,550,"crimson","",32).setMaxWidth(300);t.add(a);let n=null,s=t=>{(t=t||{}).clothes=t.clothes||n;let s=t.clothes;if(s){let t=GAME.clothes.getClothes(s);t.Girl.setNaked(!1),e.setVisible(!0),e.setGirl(t.Girl.id),e.setClothes(s),a.setText(t.getCost().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" gold\n"+t.getName()+"\n"+t.getDescription()),i.setVisible(!0)}else e.setVisible(!1),a.setText(""),i.setVisible(!1)},r=t=>{n=t.clothes,s(t)};game.scene.start("ClothesContainer",{shop:!0,x:20,y:120}),globalEvents.on("switchClothes",s),globalEvents.on("selectClothes",r);let o=()=>{game.scene.stop("ClothesContainer"),globalEvents.off("switchClothes",s),globalEvents.off("selectClothes",r)};t.create(180,1060,"StyleClothes").setOrigin(0,1).button().on("pointerup",(()=>{o(),this.switchMenu("StyleClothes")})),t.create(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{o(),this.closeMenu()}))})),GAME.menu.addMenu("StyleClothes",(function(){let t=this.menu;t.create(0,0,"WoodBackground").setOrigin(0,0);let e=GAME.girl.getGirlContainer(this,GAME.girl.currentGirl).setPosition(960,1080);t.add(e);let i=t=>{(t=t||{}).girl=t.girl||GAME.girl.currentGirl;let i=t.girl;e.setGirl(i)},a=t=>{let e=t.clothes,a=GAME.clothes.getClothes(e).getGirl(),n=a.getClothes();a.setNaked(!1),n!==e&&(a.equipClothes(e),i())},n=t=>{GAME.clothes.getClothes(t.clothesID).getGirl().setNaked(!1),GAME.clothes.getClothes(t.clothesID).setStyle(t.styleID)};i(),game.scene.start("GirlContainer",{x:20,y:70}),game.scene.start("ClothesContainer",{shop:"house",x:20,y:390}),game.scene.start("ClothesStyles",{x:1400,y:70}),globalEvents.on("switchGirl",i),globalEvents.on("selectClothes",a),globalEvents.on("selectStyle",n);t.create(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{game.scene.stop("GirlContainer"),game.scene.stop("ClothesContainer"),game.scene.stop("ClothesStyles"),globalEvents.off("switchGirl",i),globalEvents.off("selectClothes",a),globalEvents.off("selectStyle",n),this.switchMenu("townClothesShop")}))}))},Gameplay.prototype.numQuests=function(){return GAME.getActiveQuests().length},Gameplay.prototype.levelProgressBar=function(t,e,i,a,n){let s=t.add.container(),r=t.add.image(e,i,n).setOrigin(0).setName("partIcon").setInteractive().on("pointerover",(()=>{o.setVisible(!0)})).on("pointerout",(()=>{o.setVisible(!1)}));s.add(r);let o=t.add.bitmapText(e,i,"crimson",n,52,1).setOrigin(.5).setVisible(!1);Phaser.Display.Align.In.Center(o,r),s.add(o);let l=t.add.bitmapText(e+160,i-5,"crimson",GAME.girl.getGirl(a).getStat(n),64).setInteractive().on("pointerover",(()=>{l.setText(GAME.girl[l.girl].getStat(l.type,!1)+" + "+(GAME.girl[l.girl].getStat(l.type)-GAME.girl[l.girl].getStat(l.type,!1)))})).on("pointerout",(()=>{l.setText(GAME.girl[l.girl].getStat(l.type))}));s.add(l);let h=t.add.image(e+165,i+55,"north").setScale(.45).setOrigin(0).button().on("pointerup",(()=>{GAME.girl[l.girl].statUp(l.type)}));s.add(h),GAME.girl.getGirl(a).availablePoints()>0?h.setVisible(!0):h.setVisible(!1),this.updateBar=function(t,e){t=t||l.girl,e=e||l.type,r.setTexture(e);GAME.girl.getGirl(t).getStat(e,!1);l.setText(GAME.girl.getGirl(t).getStat(e)),l.girl=t,l.type=e,o.setText(e),GAME.girl.getGirl(t).getStat(e)>GAME.girl.getGirl(t).getStat(e,!1)?l.setFont("crimsongreen"):l.setFont("crimson"),GAME.girl.getGirl(t).availablePoints()>0?h.setVisible(!0):h.setVisible(!1)},this.updateBar(a,n),globalEvents.on("statUp",this.updateBar),globalEvents.on("refreshGirls",this.updateBar),s.on(Phaser.GameObjects.Events.DESTROY,(()=>{globalEvents.off("statUp",this.updateBar),globalEvents.off("refreshGirls",this.updateBar)})),this.container=s},Gameplay.prototype.Sigmoid=function(t,e,i,a){i=i||-10,a=a||5;let n=(1+t)/(1+t+(1+e));return 1/(1+Math.pow(Math.E,n*i+a))},Gameplay.prototype.getAllQuests=function(){let t=[];t.push(GAME.quest.getAllQuests());for(let e in MODS)t.push(MODS[e].quest.getAllQuests());return t},Gameplay.prototype.getActiveQuests=function(t){let e=[],i=GAME.quest.getActiveQuests();for(let t in i)e.push(i[t]);for(let t in MODS){let i=MODS[t].quest.getActiveQuests();for(let t in i)e.push(i[t])}if(t)for(let i=e.length-1;i>=0;i--)e[i].mapKey!==t&&e.splice(i,1);return e},Gameplay.prototype.getQuest=function(t,e,i){i=i||"QB";let a=GAME.quest;return"QB"!==i&&(a=MODS[i].quest),a.getQuest(t,e)},Gameplay.prototype.getSubquestName=function(t){return"QB"===t.modID?GAME.quest.getQuest(t.questID).questName:MODS[t.modID].quest.getQuest(t.questID).questName},Gameplay.prototype.getSubquestByDialogue=function(t){let e=GAME.getActiveQuests();for(let i in e)if(e[i].hasOwnProperty("dialogueKey")&&e[i].dialogueKey===t)return e[i];return!1},Gameplay.prototype.debug=function(){return new Promise((t=>{!1===game.scene.getScene("Debug").sys.isActive()?(game.scene.start("Debug",{pauseAllScenes:!0}),game.scene.getScene("Debug").events.once("shutdown",t)):t()}))};class Debug{create(){this.scene.bringToTop(),this.add.image(0,0,"HouseBackground").setOrigin(0);let t="Queen",e=this.add.container(),i=GAME.girl.getGirls();for(let n in i)e.add(this.add.image(20+160*n,70,i[n]+"Avatar").setOrigin(0).setName(i[n]).button().on("pointerup",(()=>{t=i[n],a.setText("Level: "+GAME.girl[t].getLevel()),e.iterate((e=>{e.name!==t?e.setAlpha(.5):e.setAlpha(1)}))})));e.iterate((e=>{e.name!==t?e.setAlpha(.5):e.setAlpha(1)})),this.add.image(20,330,"north").setOrigin(0).button().on("pointerup",(()=>{GAME.girl[t].getLevel()<MAX_LEVEL&&(gameData.girl[t].EXP=LEVELS[GAME.girl[t].getLevel()+1],a.setText("Level: "+GAME.girl[t].getLevel()),gameData.girl[t].Stats={Throat:0,Pussy:0,Tits:0,Anal:0})}));let a=this.add.bitmapText(110,510,"crimson","Level: "+GAME.girl[t].getLevel(),42,1).setOrigin(.5,0);this.add.image(20,570,"south").setOrigin(0).button().on("pointerup",(()=>{gameData.girl[t].EXP=LEVELS[GAME.girl[t].getLevel()-1],a.setText("Level: "+GAME.girl[t].getLevel()),gameData.girl[t].Stats={Throat:0,Pussy:0,Tits:0,Anal:0}})),this.add.sprite(320,525,"goldspin").play("gold").button().on("pointerup",(()=>{GAME.addGold(500)})),this.add.image(20,1060,"exit").setOrigin(0,1).button().on("pointerup",(()=>{this.closeMenu()}))}closeMenu(){this.scene.stop()}}class PaperPopUp{init(t){this.title="",this.bodyElement=t.bodyElement}create(){this.menu=this.add.container(),this.background=this.add.image(0,1180,"Paper").setOrigin(0),this.menu.add(this.background),this.dom,this.selectedMod=!1,this.openMenu(),this.scene.bringToTop()}closeMenu(){this.tweens.add({targets:this.menu,y:1180,ease:"Sine.easeOut",duration:400,onComplete:()=>{this.scene.stop()}})}openMenu(){this.tweens.add({targets:this.background,y:-100,ease:"Sine.easeOut",duration:500,onComplete:()=>{let t=$("<div>",{class:"container-fluid"}).css("width","1140px").css("height","900px").css("overflow-y","auto");this.menu.add(this.add.bitmapText(960,120,"crimsonbrown",this.title,64,1).setOrigin(.5));let e=$(this.bodyElement);t.append(e),this.menu.add(this.add.dom(406,210,t.get(0)).setOrigin(0));let i=$("<div>",{class:"btn btn-lg btn-danger"}).html("Exit").on("click",(()=>{this.closeMenu()}));this.menu.add(this.add.dom(195,980,i.get(0)).setScale(1.5))}})}}class PatreonPopUp extends PaperPopUp{init(t){this.title="Enjoying the Game?";let e=$("<div>",{class:"text-center"});if(!0===t.endOfGame){let t=$("<p>").css("font-size","2rem").text("This is the end of version 0.10.2.");e.append(t)}let i=$("<p>").css("font-size","2rem").text("If you are enjoying the game please consider supporting on Patreon!\n\nAll money goes towards more art!");if(e.append(i),game.cache.json.get("version")){let t=$("<p>").css("font-size","2rem").text("Your version: 0.10.2");e.append(t);let i=$("<p>").css("font-size","2rem").text("Latest Patreon version: "+game.cache.json.get("version").versionPatreon);e.append(i)}e.append($(this.textures.get("patreonMap").getSourceImage(),{class:"img-fluid"}).click((()=>{updateAnalytics("marketing","patreonOnPopUp"),window.open("https://patreon.com/dpmaker/")}))),this.bodyElement=e}}class Mod{constructor(t){this.id=t,this.name=t,this.silent=!1,this.assets=[],MODS[t]=this,this.menu=Gameplay.prototype.menu,this.quest=Gameplay.prototype.quest,this.girl=Gameplay.prototype.girl,this.dialogue=Gameplay.prototype.dialogue,this.map=Gameplay.prototype.map,this.clothes=Gameplay.prototype.clothes,this.animation=Gameplay.prototype.animation,this.battle=Gameplay.prototype.battle,this.boss=Gameplay.prototype.boss,this.QBsound=Gameplay.prototype.sound,this.BattleClient=BattleClient,this.Battle=Battle,this.fade=Gameplay.prototype.fade,this.cumFlash=Gameplay.prototype.cumFlash,this.getGold=Gameplay.prototype.getGold,this.addGold=Gameplay.prototype.addGold,this.removeGold=Gameplay.prototype.removeGold,this.save=Gameplay.prototype.save,this.notify=Gameplay.prototype.notify,this.getDate=Gameplay.prototype.getDate,this.getDay=Gameplay.prototype.getDay,this.Sigmoid=Gameplay.prototype.Sigmoid}setName(t){return this.name=t,this}getName(){return this.name}boot(){}init(){}newDay(){}getOtherMod(t){if(MODS.hasOwnProperty(t))return MODS[t];throw"Mod "+t+" is not booted or does not exist."}loadImage(t,e){this.assets.push({key:t,location:e})}}